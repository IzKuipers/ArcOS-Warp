var lh=Object.defineProperty;var oh=(r,e,t)=>e in r?lh(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var he=(r,e,t)=>(oh(r,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function O(){}function Rt(r,e){for(const t in e)r[t]=e[t];return r}function Gd(r){return r()}function go(){return Object.create(null)}function ke(r){r.forEach(Gd)}function at(r){return typeof r=="function"}function N(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let dr;function de(r,e){return r===e?!0:(dr||(dr=document.createElement("a")),dr.href=e,r===dr.href)}function ah(r){return Object.keys(r).length===0}function Vt(r,...e){if(r==null){for(const n of e)n(void 0);return O}const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function G(r){let e;return Vt(r,t=>e=t)(),e}function K(r,e,t){r.$$.on_destroy.push(Vt(e,t))}function ze(r,e,t,n){if(r){const i=Kd(r,e,t,n);return r[0](i)}}function Kd(r,e,t,n){return r[1]&&n?Rt(t.ctx.slice(),r[1](n(e))):t.ctx}function je(r,e,t,n){if(r[2]&&n){const i=r[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],l=Math.max(e.dirty.length,i.length);for(let o=0;o<l;o+=1)s[o]=e.dirty[o]|i[o];return s}return e.dirty|i}return e.dirty}function He(r,e,t,n,i,s){if(i){const l=Kd(e,t,n,s);r.p(l,i)}}function Qe(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function ch(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function Ao(r,e){const t={};e=new Set(e);for(const n in r)!e.has(n)&&n[0]!=="$"&&(t[n]=r[n]);return t}function Ee(r,e,t){return r.set(t),e}const uh=typeof window<"u";let fh=uh?r=>requestAnimationFrame(r):O;const dh=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function p(r,e){r.appendChild(e)}function S(r,e,t){r.insertBefore(e,t||null)}function y(r){r.parentNode&&r.parentNode.removeChild(r)}function me(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function g(r){return document.createElement(r)}function ph(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function F(r){return document.createTextNode(r)}function T(){return F(" ")}function ae(){return F("")}function P(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function h(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function mh(r){return Array.from(r.childNodes)}function W(r,e){e=""+e,r.data!==e&&(r.data=e)}function ge(r,e){r.value=e??""}function Se(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function Tn(r,e,t){for(let n=0;n<r.options.length;n+=1){const i=r.options[n];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function Vr(r){const e=r.querySelector(":checked");return e&&e.__value}function U(r,e,t){r.classList.toggle(e,!!t)}function hh(r,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:n})}class Vd{constructor(e=!1){he(this,"is_svg",!1);he(this,"e");he(this,"n");he(this,"t");he(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=ph(t.nodeName):this.e=g(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)S(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(y)}}function Be(r,e){return new r(e)}let Fi;function Bi(r){Fi=r}function qr(){if(!Fi)throw new Error("Function called outside component initialization");return Fi}function ve(r){qr().$$.on_mount.push(r)}function gh(){const r=qr();return(e,t,{cancelable:n=!1}={})=>{const i=r.$$.callbacks[e];if(i){const s=hh(e,t,{cancelable:n});return i.slice().forEach(l=>{l.call(r,s)}),!s.defaultPrevented}return!0}}function Ah(r,e){return qr().$$.context.set(r,e),e}function bh(r){return qr().$$.context.get(r)}const pi=[],we=[];let mi=[];const Ms=[],_h=Promise.resolve();let Fs=!1;function wh(){Fs||(Fs=!0,_h.then(qd))}function En(r){mi.push(r)}function $e(r){Ms.push(r)}const Cs=new Set;let fi=0;function qd(){if(fi!==0)return;const r=Fi;do{try{for(;fi<pi.length;){const e=pi[fi];fi++,Bi(e),vh(e.$$)}}catch(e){throw pi.length=0,fi=0,e}for(Bi(null),pi.length=0,fi=0;we.length;)we.pop()();for(let e=0;e<mi.length;e+=1){const t=mi[e];Cs.has(t)||(Cs.add(t),t())}mi.length=0}while(pi.length);for(;Ms.length;)Ms.pop()();Fs=!1,Cs.clear(),Bi(r)}function vh(r){if(r.fragment!==null){r.update(),ke(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(En)}}function kh(r){const e=[],t=[];mi.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),mi=e}const wr=new Set;let Pn;function q(){Pn={r:0,c:[],p:Pn}}function Y(){Pn.r||ke(Pn.c),Pn=Pn.p}function w(r,e){r&&r.i&&(wr.delete(r),r.i(e))}function C(r,e,t,n){if(r&&r.o){if(wr.has(r))return;wr.add(r),Pn.c.push(()=>{wr.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function x(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Jt(r,e){const t={},n={},i={$$scope:1};let s=r.length;for(;s--;){const l=r[s],o=e[s];if(o){for(const a in l)a in o||(n[a]=1);for(const a in o)i[a]||(t[a]=o[a],i[a]=1);r[s]=o}else for(const a in l)i[a]=1}for(const l in n)l in t||(t[l]=void 0);return t}function Zt(r){return typeof r=="object"&&r!==null?r:{}}function Ce(r,e,t){const n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function M(r){r&&r.c()}function D(r,e,t){const{fragment:n,after_update:i}=r.$$;n&&n.m(e,t),En(()=>{const s=r.$$.on_mount.map(Gd).filter(at);r.$$.on_destroy?r.$$.on_destroy.push(...s):ke(s),r.$$.on_mount=[]}),i.forEach(En)}function B(r,e){const t=r.$$;t.fragment!==null&&(kh(t.after_update),ke(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function yh(r,e){r.$$.dirty[0]===-1&&(pi.push(r),wh(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function z(r,e,t,n,i,s,l=null,o=[-1]){const a=Fi;Bi(r);const c=r.$$={fragment:null,ctx:[],props:s,update:O,not_equal:i,bound:go(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:go(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};l&&l(c.root);let u=!1;if(c.ctx=t?t(r,e.props||{},(f,d,...m)=>{const b=m.length?m[0]:d;return c.ctx&&i(c.ctx[f],c.ctx[f]=b)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](b),u&&yh(r,f)),d}):[],c.update(),u=!0,ke(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const f=mh(e.target);c.fragment&&c.fragment.l(f),f.forEach(y)}else c.fragment&&c.fragment.c();e.intro&&w(r.$$.fragment),D(r,e.target,e.anchor),qd()}Bi(a)}class j{constructor(){he(this,"$$");he(this,"$$set")}$destroy(){B(this,1),this.$destroy=O}$on(e,t){if(!at(t))return O;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!ah(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Sh="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Sh);const di=[];function pe(r,e=O){let t;const n=new Set;function i(o){if(N(r,o)&&(r=o,t)){const a=!di.length;for(const c of n)c[1](),di.push(c,r);if(a){for(let c=0;c<di.length;c+=2)di[c][0](di[c+1]);di.length=0}}}function s(o){i(o(r))}function l(o,a=O){const c=[o,a];return n.add(c),n.size===1&&(t=e(i,s)||O),o(r),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:l}}var $h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ch(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Yd={exports:{}};(function(r,e){(function(t,n){r.exports=n()})($h,function(){var t=1e3,n=6e4,i=36e5,s="millisecond",l="second",o="minute",a="hour",c="day",u="week",f="month",d="quarter",m="year",b="date",A="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(le){var ie=["th","st","nd","rd"],X=le%100;return"["+le+(ie[(X-20)%10]||ie[X]||ie[0])+"]"}},$=function(le,ie,X){var re=String(le);return!re||re.length>=ie?le:""+Array(ie+1-re.length).join(X)+le},E={s:$,z:function(le){var ie=-le.utcOffset(),X=Math.abs(ie),re=Math.floor(X/60),V=X%60;return(ie<=0?"+":"-")+$(re,2,"0")+":"+$(V,2,"0")},m:function le(ie,X){if(ie.date()<X.date())return-le(X,ie);var re=12*(X.year()-ie.year())+(X.month()-ie.month()),V=ie.clone().add(re,f),oe=X-V<0,fe=ie.clone().add(re+(oe?-1:1),f);return+(-(re+(X-V)/(oe?V-fe:fe-V))||0)},a:function(le){return le<0?Math.ceil(le)||0:Math.floor(le)},p:function(le){return{M:f,y:m,w:u,d:c,D:b,h:a,m:o,s:l,ms:s,Q:d}[le]||String(le||"").toLowerCase().replace(/s$/,"")},u:function(le){return le===void 0}},I="en",L={};L[I]=v;var R="$isDayjsObject",H=function(le){return le instanceof Ae||!(!le||!le[R])},Q=function le(ie,X,re){var V;if(!ie)return I;if(typeof ie=="string"){var oe=ie.toLowerCase();L[oe]&&(V=oe),X&&(L[oe]=X,V=oe);var fe=ie.split("-");if(!V&&fe.length>1)return le(fe[0])}else{var ye=ie.name;L[ye]=ie,V=ye}return!re&&V&&(I=V),V||!re&&I},ee=function(le,ie){if(H(le))return le.clone();var X=typeof ie=="object"?ie:{};return X.date=le,X.args=arguments,new Ae(X)},J=E;J.l=Q,J.i=H,J.w=function(le,ie){return ee(le,{locale:ie.$L,utc:ie.$u,x:ie.$x,$offset:ie.$offset})};var Ae=function(){function le(X){this.$L=Q(X.locale,null,!0),this.parse(X),this.$x=this.$x||X.x||{},this[R]=!0}var ie=le.prototype;return ie.parse=function(X){this.$d=function(re){var V=re.date,oe=re.utc;if(V===null)return new Date(NaN);if(J.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var fe=V.match(_);if(fe){var ye=fe[2]-1||0,_e=(fe[7]||"0").substring(0,3);return oe?new Date(Date.UTC(fe[1],ye,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,_e)):new Date(fe[1],ye,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,_e)}}return new Date(V)}(X),this.init()},ie.init=function(){var X=this.$d;this.$y=X.getFullYear(),this.$M=X.getMonth(),this.$D=X.getDate(),this.$W=X.getDay(),this.$H=X.getHours(),this.$m=X.getMinutes(),this.$s=X.getSeconds(),this.$ms=X.getMilliseconds()},ie.$utils=function(){return J},ie.isValid=function(){return this.$d.toString()!==A},ie.isSame=function(X,re){var V=ee(X);return this.startOf(re)<=V&&V<=this.endOf(re)},ie.isAfter=function(X,re){return ee(X)<this.startOf(re)},ie.isBefore=function(X,re){return this.endOf(re)<ee(X)},ie.$g=function(X,re,V){return J.u(X)?this[re]:this.set(V,X)},ie.unix=function(){return Math.floor(this.valueOf()/1e3)},ie.valueOf=function(){return this.$d.getTime()},ie.startOf=function(X,re){var V=this,oe=!!J.u(re)||re,fe=J.p(X),ye=function(Ct,ot){var Pt=J.w(V.$u?Date.UTC(V.$y,ot,Ct):new Date(V.$y,ot,Ct),V);return oe?Pt:Pt.endOf(c)},_e=function(Ct,ot){return J.w(V.toDate()[Ct].apply(V.toDate("s"),(oe?[0,0,0,0]:[23,59,59,999]).slice(ot)),V)},Ie=this.$W,Le=this.$M,Me=this.$D,We="set"+(this.$u?"UTC":"");switch(fe){case m:return oe?ye(1,0):ye(31,11);case f:return oe?ye(1,Le):ye(0,Le+1);case u:var nt=this.$locale().weekStart||0,vn=(Ie<nt?Ie+7:Ie)-nt;return ye(oe?Me-vn:Me+(6-vn),Le);case c:case b:return _e(We+"Hours",0);case a:return _e(We+"Minutes",1);case o:return _e(We+"Seconds",2);case l:return _e(We+"Milliseconds",3);default:return this.clone()}},ie.endOf=function(X){return this.startOf(X,!1)},ie.$set=function(X,re){var V,oe=J.p(X),fe="set"+(this.$u?"UTC":""),ye=(V={},V[c]=fe+"Date",V[b]=fe+"Date",V[f]=fe+"Month",V[m]=fe+"FullYear",V[a]=fe+"Hours",V[o]=fe+"Minutes",V[l]=fe+"Seconds",V[s]=fe+"Milliseconds",V)[oe],_e=oe===c?this.$D+(re-this.$W):re;if(oe===f||oe===m){var Ie=this.clone().set(b,1);Ie.$d[ye](_e),Ie.init(),this.$d=Ie.set(b,Math.min(this.$D,Ie.daysInMonth())).$d}else ye&&this.$d[ye](_e);return this.init(),this},ie.set=function(X,re){return this.clone().$set(X,re)},ie.get=function(X){return this[J.p(X)]()},ie.add=function(X,re){var V,oe=this;X=Number(X);var fe=J.p(re),ye=function(Le){var Me=ee(oe);return J.w(Me.date(Me.date()+Math.round(Le*X)),oe)};if(fe===f)return this.set(f,this.$M+X);if(fe===m)return this.set(m,this.$y+X);if(fe===c)return ye(1);if(fe===u)return ye(7);var _e=(V={},V[o]=n,V[a]=i,V[l]=t,V)[fe]||1,Ie=this.$d.getTime()+X*_e;return J.w(Ie,this)},ie.subtract=function(X,re){return this.add(-1*X,re)},ie.format=function(X){var re=this,V=this.$locale();if(!this.isValid())return V.invalidDate||A;var oe=X||"YYYY-MM-DDTHH:mm:ssZ",fe=J.z(this),ye=this.$H,_e=this.$m,Ie=this.$M,Le=V.weekdays,Me=V.months,We=V.meridiem,nt=function(ot,Pt,kn,dn){return ot&&(ot[Pt]||ot(re,oe))||kn[Pt].slice(0,dn)},vn=function(ot){return J.s(ye%12||12,ot,"0")},Ct=We||function(ot,Pt,kn){var dn=ot<12?"AM":"PM";return kn?dn.toLowerCase():dn};return oe.replace(k,function(ot,Pt){return Pt||function(kn){switch(kn){case"YY":return String(re.$y).slice(-2);case"YYYY":return J.s(re.$y,4,"0");case"M":return Ie+1;case"MM":return J.s(Ie+1,2,"0");case"MMM":return nt(V.monthsShort,Ie,Me,3);case"MMMM":return nt(Me,Ie);case"D":return re.$D;case"DD":return J.s(re.$D,2,"0");case"d":return String(re.$W);case"dd":return nt(V.weekdaysMin,re.$W,Le,2);case"ddd":return nt(V.weekdaysShort,re.$W,Le,3);case"dddd":return Le[re.$W];case"H":return String(ye);case"HH":return J.s(ye,2,"0");case"h":return vn(1);case"hh":return vn(2);case"a":return Ct(ye,_e,!0);case"A":return Ct(ye,_e,!1);case"m":return String(_e);case"mm":return J.s(_e,2,"0");case"s":return String(re.$s);case"ss":return J.s(re.$s,2,"0");case"SSS":return J.s(re.$ms,3,"0");case"Z":return fe}return null}(ot)||fe.replace(":","")})},ie.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ie.diff=function(X,re,V){var oe,fe=this,ye=J.p(re),_e=ee(X),Ie=(_e.utcOffset()-this.utcOffset())*n,Le=this-_e,Me=function(){return J.m(fe,_e)};switch(ye){case m:oe=Me()/12;break;case f:oe=Me();break;case d:oe=Me()/3;break;case u:oe=(Le-Ie)/6048e5;break;case c:oe=(Le-Ie)/864e5;break;case a:oe=Le/i;break;case o:oe=Le/n;break;case l:oe=Le/t;break;default:oe=Le}return V?oe:J.a(oe)},ie.daysInMonth=function(){return this.endOf(f).$D},ie.$locale=function(){return L[this.$L]},ie.locale=function(X,re){if(!X)return this.$L;var V=this.clone(),oe=Q(X,re,!0);return oe&&(V.$L=oe),V},ie.clone=function(){return J.w(this.$d,this)},ie.toDate=function(){return new Date(this.valueOf())},ie.toJSON=function(){return this.isValid()?this.toISOString():null},ie.toISOString=function(){return this.$d.toISOString()},ie.toString=function(){return this.$d.toUTCString()},le}(),ce=Ae.prototype;return ee.prototype=ce,[["$ms",s],["$s",l],["$m",o],["$H",a],["$W",c],["$M",f],["$y",m],["$D",b]].forEach(function(le){ce[le[1]]=function(ie){return this.$g(ie,le[0],le[1])}}),ee.extend=function(le,ie){return le.$i||(le(ie,Ae,ee),le.$i=!0),ee},ee.locale=Q,ee.isDayjs=H,ee.unix=function(le){return ee(1e3*le)},ee.en=L[I],ee.Ls=L,ee.p={},ee})})(Yd);var Th=Yd.exports;const zt=Ch(Th);var se=(r=>(r[r.info=0]="info",r[r.warn=1]="warn",r[r.error=2]="error",r[r.critical=3]="critical",r))(se||{});const Jd={info:{capt:"INFO"},warn:{capt:"WARN"},error:{capt:"ERRR"},critical:{capt:"CRIT"}};var Ps=function(r,e){return Ps=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Ps(r,e)};function ht(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}Ps(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Us=function(){return Us=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Us.apply(this,arguments)};function dt(r,e,t,n){return new(t||(t=Promise))(function(i,s){function l(c){try{a(n.next(c))}catch(u){s(u)}}function o(c){try{a(n.throw(c))}catch(u){s(u)}}function a(c){c.done?i(c.value):function(f){return f instanceof t?f:new t(function(d){d(f)})}(c.value).then(l,o)}a((n=n.apply(r,e||[])).next())})}function pt(r,e){var t,n,i,s,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(a){return function(c){return function(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(l=0)),l;)try{if(t=1,n&&(i=2&f[0]?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,i&&(f=[2&f[0],i.value]),f[0]){case 0:case 1:i=f;break;case 4:return l.label++,{value:f[1],done:!1};case 5:l.label++,n=f[1],f=[0];continue;case 7:f=l.ops.pop(),l.trys.pop();continue;default:if(i=l.trys,!((i=i.length>0&&i[i.length-1])||f[0]!==6&&f[0]!==2)){l=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){l.label=f[1];break}if(f[0]===6&&l.label<i[1]){l.label=i[1],i=f;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(f);break}i[2]&&l.ops.pop(),l.trys.pop();continue}f=e.call(r,l)}catch(d){f=[6,d],n=0}finally{t=i=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([a,c])}}}var Zd,Sn=function(r){function e(t){var n,i,s,l,o=this;return(o=r.call(this,"ClientResponseError")||this).url="",o.status=0,o.response={},o.isAbort=!1,o.originalError=null,Object.setPrototypeOf(o,e.prototype),t!==null&&typeof t=="object"&&(o.url=typeof t.url=="string"?t.url:"",o.status=typeof t.status=="number"?t.status:0,o.isAbort=!!t.isAbort,o.originalError=t.originalError,t.response!==null&&typeof t.response=="object"?o.response=t.response:t.data!==null&&typeof t.data=="object"?o.response=t.data:o.response={}),o.originalError||t instanceof e||(o.originalError=t),typeof DOMException<"u"&&t instanceof DOMException&&(o.isAbort=!0),o.name="ClientResponseError "+o.status,o.message=(n=o.response)===null||n===void 0?void 0:n.message,o.message||(o.isAbort?o.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((l=(s=(i=o.originalError)===null||i===void 0?void 0:i.cause)===null||s===void 0?void 0:s.message)===null||l===void 0)&&l.includes("ECONNREFUSED ::1")?o.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":o.message="Something went wrong while processing your request."),o}return ht(e,r),Object.defineProperty(e.prototype,"data",{get:function(){return this.response},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return Us({},this)},e}(Error),pr=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function bo(r,e,t){var n=Object.assign({},t||{}),i=n.encode||Ih;if(!pr.test(r))throw new TypeError("argument name is invalid");var s=i(e);if(s&&!pr.test(s))throw new TypeError("argument val is invalid");var l=r+"="+s;if(n.maxAge!=null){var o=n.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(o)}if(n.domain){if(!pr.test(n.domain))throw new TypeError("option domain is invalid");l+="; Domain="+n.domain}if(n.path){if(!pr.test(n.path))throw new TypeError("option path is invalid");l+="; Path="+n.path}if(n.expires){if(!function(c){return Object.prototype.toString.call(c)==="[object Date]"||c instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");l+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(l+="; HttpOnly"),n.secure&&(l+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l}function Eh(r){return r.indexOf("%")!==-1?decodeURIComponent(r):r}function Ih(r){return encodeURIComponent(r)}function Xd(r){if(r)try{var e=decodeURIComponent(Zd(r.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function Oh(r,e){e===void 0&&(e=0);var t=Xd(r);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}Zd=typeof atob=="function"?atob:function(r){var e=String(r).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,n,i=0,s=0,l="";n=e.charAt(s++);~n&&(t=i%4?64*t+n:n,i++%4)?l+=String.fromCharCode(255&t>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return l};var Wi=function(){function r(e){e===void 0&&(e={}),this.$load(e||{})}return r.prototype.load=function(e){return this.$load(e)},r.prototype.$load=function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var i=n[t],s=i[0],l=i[1];this[s]=l}this.id=e.id!==void 0?e.id:"",this.created=e.created!==void 0?e.created:"",this.updated=e.updated!==void 0?e.updated:""},Object.defineProperty(r.prototype,"$isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),r.prototype.clone=function(){return this.$clone()},r.prototype.$clone=function(){var e=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(e)},r.prototype.export=function(){return this.$export()},r.prototype.$export=function(){return typeof structuredClone=="function"?structuredClone(this):Object.assign({},this)},r}(),Ir=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.$load=function(t){r.prototype.$load.call(this,t),this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.collectionName=typeof t.collectionName=="string"?t.collectionName:"",this._loadExpand(t.expand)},e.prototype._loadExpand=function(t){for(var n in t=t||{},this.expand={},t)Array.isArray(t[n])?this.expand[n]=t[n].map(function(i){return new e(i||{})}):this.expand[n]=new e(t[n]||{})},e}(Wi),pl=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.$load=function(t){r.prototype.$load.call(this,t),this.avatar=typeof t.avatar=="number"?t.avatar:0,this.email=typeof t.email=="string"?t.email:""},e}(Wi),_o="pb_auth",Rh=function(){function r(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(r.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isValid",{get:function(){return!Oh(this.token)},enumerable:!1,configurable:!0}),r.prototype.save=function(e,t){this.baseToken=e||"",this.baseModel=t!==null&&typeof t=="object"?t.collectionId!==void 0?new Ir(t):new pl(t):null,this.triggerChange()},r.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},r.prototype.loadFromCookie=function(e,t){t===void 0&&(t=_o);var n=function(l,o){var a={};if(typeof l!="string")return a;for(var c=Object.assign({},o||{}).decode||Eh,u=0;u<l.length;){var f=l.indexOf("=",u);if(f===-1)break;var d=l.indexOf(";",u);if(d===-1)d=l.length;else if(d<f){u=l.lastIndexOf(";",f-1)+1;continue}var m=l.slice(u,f).trim();if(a[m]===void 0){var b=l.slice(f+1,d).trim();b.charCodeAt(0)===34&&(b=b.slice(1,-1));try{a[m]=c(b)}catch{a[m]=b}}u=d+1}return a}(e||"")[t]||"",i={};try{(typeof(i=JSON.parse(n))===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.model||null)},r.prototype.exportToCookie=function(e,t){var n,i,s;t===void 0&&(t=_o);var l={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},o=Xd(this.token);o!=null&&o.exp?l.expires=new Date(1e3*o.exp):l.expires=new Date("1970-01-01"),e=Object.assign({},l,e);var a={token:this.token,model:((n=this.model)===null||n===void 0?void 0:n.export())||null},c=bo(t,JSON.stringify(a),e),u=typeof Blob<"u"?new Blob([c]).size:c.length;return a.model&&u>4096&&(a.model={id:(i=a==null?void 0:a.model)===null||i===void 0?void 0:i.id,email:(s=a==null?void 0:a.model)===null||s===void 0?void 0:s.email},this.model instanceof Ir&&(a.model.username=this.model.username,a.model.verified=this.model.verified,a.model.collectionId=this.model.collectionId),c=bo(t,JSON.stringify(a),e)),c},r.prototype.onChange=function(e,t){var n=this;return t===void 0&&(t=!1),this._onChangeCallbacks.push(e),t&&e(this.token,this.model),function(){for(var i=n._onChangeCallbacks.length-1;i>=0;i--)if(n._onChangeCallbacks[i]==e)return delete n._onChangeCallbacks[i],void n._onChangeCallbacks.splice(i,1)}},r.prototype.triggerChange=function(){for(var e=0,t=this._onChangeCallbacks;e<t.length;e++){var n=t[e];n&&n(this.token,this.model)}},r}(),Lh=function(r){function e(t){t===void 0&&(t="pocketbase_auth");var n=r.call(this)||this;return n.storageFallback={},n.storageKey=t,n}return ht(e,r),Object.defineProperty(e.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){var t,n=this._storageGet(this.storageKey)||{};return n===null||typeof n!="object"||n.model===null||typeof n.model!="object"?null:((t=n.model)===null||t===void 0?void 0:t.collectionId)===void 0?new pl(n.model):new Ir(n.model)},enumerable:!1,configurable:!0}),e.prototype.save=function(t,n){this._storageSet(this.storageKey,{token:t,model:n}),r.prototype.save.call(this,t,n)},e.prototype.clear=function(){this._storageRemove(this.storageKey),r.prototype.clear.call(this)},e.prototype._storageGet=function(t){if(typeof window<"u"&&(window!=null&&window.localStorage)){var n=window.localStorage.getItem(t)||"";try{return JSON.parse(n)}catch{return n}}return this.storageFallback[t]},e.prototype._storageSet=function(t,n){if(typeof window<"u"&&(window!=null&&window.localStorage)){var i=n;typeof n!="string"&&(i=JSON.stringify(n)),window.localStorage.setItem(t,i)}else this.storageFallback[t]=n},e.prototype._storageRemove=function(t){var n;typeof window<"u"&&(window!=null&&window.localStorage)&&((n=window.localStorage)===null||n===void 0||n.removeItem(t)),delete this.storageFallback[t]},e}(Rh),Jn=function(e){this.client=e},Dh=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.getAll=function(t){return t===void 0&&(t={}),this.client.send("/api/settings",{method:"GET",params:t}).then(function(n){return n||{}})},e.prototype.update=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),this.client.send("/api/settings",{method:"PATCH",params:n,body:t}).then(function(i){return i||{}})},e.prototype.testS3=function(t,n){t===void 0&&(t="storage"),n===void 0&&(n={});var i={filesystem:t};return this.client.send("/api/settings/test/s3",{method:"POST",params:n,body:i}).then(function(){return!0})},e.prototype.testEmail=function(t,n,i){i===void 0&&(i={});var s={email:t,template:n};return this.client.send("/api/settings/test/email",{method:"POST",params:i,body:s}).then(function(){return!0})},e.prototype.generateAppleClientSecret=function(t,n,i,s,l,o,a){return o===void 0&&(o={}),a===void 0&&(a={}),o=Object.assign({clientId:t,teamId:n,keyId:i,privateKey:s,duration:l},o),this.client.send("/api/settings/apple/generate-client-secret",{method:"POST",params:a,body:o})},e}(Jn),xd=function(e,t,n,i,s){this.page=e>0?e:1,this.perPage=t>=0?t:0,this.totalItems=n>=0?n:0,this.totalPages=i>=0?i:0,this.items=s||[]},ml=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.getFullList=function(t,n){if(typeof t=="number")return this._getFullList(this.baseCrudPath,t,n);var i=Object.assign({},t,n);return this._getFullList(this.baseCrudPath,i.batch||200,i)},e.prototype.getList=function(t,n,i){return t===void 0&&(t=1),n===void 0&&(n=30),i===void 0&&(i={}),this._getList(this.baseCrudPath,t,n,i)},e.prototype.getFirstListItem=function(t,n){return n===void 0&&(n={}),this._getFirstListItem(this.baseCrudPath,t,n)},e.prototype.getOne=function(t,n){return n===void 0&&(n={}),this._getOne(this.baseCrudPath,t,n)},e.prototype.create=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),this._create(this.baseCrudPath,t,n)},e.prototype.update=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),this._update(this.baseCrudPath,t,n,i)},e.prototype.delete=function(t,n){return n===void 0&&(n={}),this._delete(this.baseCrudPath,t,n)},e}(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype._getFullList=function(t,n,i){var s=this;n===void 0&&(n=200),i===void 0&&(i={});var l=[],o=function(a){return dt(s,void 0,void 0,function(){return pt(this,function(c){return[2,this._getList(t,a,n||200,i).then(function(u){var f=u,d=f.items,m=f.totalItems;return l=l.concat(d),d.length&&m>l.length?o(a+1):l})]})})};return o(1)},e.prototype._getList=function(t,n,i,s){var l=this;return n===void 0&&(n=1),i===void 0&&(i=30),s===void 0&&(s={}),s=Object.assign({page:n,perPage:i},s),this.client.send(t,{method:"GET",params:s}).then(function(o){var a=[];if(o!=null&&o.items){o.items=o.items||[];for(var c=0,u=o.items;c<u.length;c++){var f=u[c];a.push(l.decode(f))}}return new xd((o==null?void 0:o.page)||1,(o==null?void 0:o.perPage)||0,(o==null?void 0:o.totalItems)||0,(o==null?void 0:o.totalPages)||0,a)})},e.prototype._getOne=function(t,n,i){var s=this;return i===void 0&&(i={}),this.client.send(t+"/"+encodeURIComponent(n),{method:"GET",params:i}).then(function(l){return s.decode(l)})},e.prototype._getFirstListItem=function(t,n,i){return i===void 0&&(i={}),i=Object.assign({filter:n,$cancelKey:"one_by_filter_"+t+"_"+n},i),this._getList(t,1,1,i).then(function(s){var l;if(!(!((l=s==null?void 0:s.items)===null||l===void 0)&&l.length))throw new Sn({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return s.items[0]})},e.prototype._create=function(t,n,i){var s=this;return n===void 0&&(n={}),i===void 0&&(i={}),this.client.send(t,{method:"POST",params:i,body:n}).then(function(l){return s.decode(l)})},e.prototype._update=function(t,n,i,s){var l=this;return i===void 0&&(i={}),s===void 0&&(s={}),this.client.send(t+"/"+encodeURIComponent(n),{method:"PATCH",params:s,body:i}).then(function(o){return l.decode(o)})},e.prototype._delete=function(t,n,i){return i===void 0&&(i={}),this.client.send(t+"/"+encodeURIComponent(n),{method:"DELETE",params:i}).then(function(){return!0})},e}(Jn)),Bh=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.decode=function(t){return new pl(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),e.prototype.update=function(t,n,i){var s=this;return n===void 0&&(n={}),i===void 0&&(i={}),r.prototype.update.call(this,t,n,i).then(function(l){var o,a;return s.client.authStore.model&&((o=s.client.authStore.model)===null||o===void 0?void 0:o.collectionId)===void 0&&((a=s.client.authStore.model)===null||a===void 0?void 0:a.id)===(l==null?void 0:l.id)&&s.client.authStore.save(s.client.authStore.token,l),l})},e.prototype.delete=function(t,n){var i=this;return n===void 0&&(n={}),r.prototype.delete.call(this,t,n).then(function(s){var l,o;return s&&i.client.authStore.model&&((l=i.client.authStore.model)===null||l===void 0?void 0:l.collectionId)===void 0&&((o=i.client.authStore.model)===null||o===void 0?void 0:o.id)===t&&i.client.authStore.clear(),s})},e.prototype.authResponse=function(t){var n=this.decode((t==null?void 0:t.admin)||{});return t!=null&&t.token&&(t!=null&&t.admin)&&this.client.authStore.save(t.token,n),Object.assign({},t,{token:(t==null?void 0:t.token)||"",admin:n})},e.prototype.authWithPassword=function(t,n,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({identity:t,password:n},i),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:s,body:i}).then(this.authResponse.bind(this))},e.prototype.authRefresh=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:n,body:t}).then(this.authResponse.bind(this))},e.prototype.requestPasswordReset=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({email:t},n),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmPasswordReset=function(t,n,i,s,l){return s===void 0&&(s={}),l===void 0&&(l={}),s=Object.assign({token:t,password:n,passwordConfirm:i},s),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:l,body:s}).then(function(){return!0})},e}(ml),Mh=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.$load=function(t){r.prototype.$load.call(this,t),this.recordId=typeof t.recordId=="string"?t.recordId:"",this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.provider=typeof t.provider=="string"?t.provider:"",this.providerId=typeof t.providerId=="string"?t.providerId:""},e}(Wi),Fh=function(r){function e(t,n){var i=r.call(this,t)||this;return i.collectionIdOrName=n,i}return ht(e,r),e.prototype.decode=function(t){return new Ir(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),e.prototype.subscribeOne=function(t,n){return dt(this,void 0,void 0,function(){return pt(this,function(i){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,n)]})})},e.prototype.subscribe=function(t,n){return dt(this,void 0,void 0,function(){var i;return pt(this,function(s){if(typeof t=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,t)];if(!n)throw new Error("Missing subscription callback.");if(t==="")throw new Error("Missing topic.");return i=this.collectionIdOrName,t!=="*"&&(i+="/"+t),[2,this.client.realtime.subscribe(i,n)]})})},e.prototype.unsubscribe=function(t){return dt(this,void 0,void 0,function(){return pt(this,function(n){return t==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:t?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},e.prototype.getFullList=function(t,n){if(typeof t=="number")return r.prototype.getFullList.call(this,t,n);var i=Object.assign({},t,n);return r.prototype.getFullList.call(this,i)},e.prototype.getList=function(t,n,i){return t===void 0&&(t=1),n===void 0&&(n=30),i===void 0&&(i={}),r.prototype.getList.call(this,t,n,i)},e.prototype.getFirstListItem=function(t,n){return n===void 0&&(n={}),r.prototype.getFirstListItem.call(this,t,n)},e.prototype.getOne=function(t,n){return n===void 0&&(n={}),r.prototype.getOne.call(this,t,n)},e.prototype.create=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),r.prototype.create.call(this,t,n)},e.prototype.update=function(t,n,i){var s=this;return n===void 0&&(n={}),i===void 0&&(i={}),r.prototype.update.call(this,t,n,i).then(function(l){var o,a,c;return((o=s.client.authStore.model)===null||o===void 0?void 0:o.id)!==(l==null?void 0:l.id)||((a=s.client.authStore.model)===null||a===void 0?void 0:a.collectionId)!==s.collectionIdOrName&&((c=s.client.authStore.model)===null||c===void 0?void 0:c.collectionName)!==s.collectionIdOrName||s.client.authStore.save(s.client.authStore.token,l),l})},e.prototype.delete=function(t,n){var i=this;return n===void 0&&(n={}),r.prototype.delete.call(this,t,n).then(function(s){var l,o,a;return!s||((l=i.client.authStore.model)===null||l===void 0?void 0:l.id)!==t||((o=i.client.authStore.model)===null||o===void 0?void 0:o.collectionId)!==i.collectionIdOrName&&((a=i.client.authStore.model)===null||a===void 0?void 0:a.collectionName)!==i.collectionIdOrName||i.client.authStore.clear(),s})},e.prototype.authResponse=function(t){var n=this.decode((t==null?void 0:t.record)||{});return this.client.authStore.save(t==null?void 0:t.token,n),Object.assign({},t,{token:(t==null?void 0:t.token)||"",record:n})},e.prototype.listAuthMethods=function(t){return t===void 0&&(t={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:t}).then(function(n){return Object.assign({},n,{usernamePassword:!!(n!=null&&n.usernamePassword),emailPassword:!!(n!=null&&n.emailPassword),authProviders:Array.isArray(n==null?void 0:n.authProviders)?n==null?void 0:n.authProviders:[]})})},e.prototype.authWithPassword=function(t,n,i,s){var l=this;return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({identity:t,password:n},i),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:s,body:i}).then(function(o){return l.authResponse(o)})},e.prototype.authWithOAuth2Code=function(t,n,i,s,l,o,a){var c=this;return l===void 0&&(l={}),o===void 0&&(o={}),a===void 0&&(a={}),o=Object.assign({provider:t,code:n,codeVerifier:i,redirectUrl:s,createData:l},o),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:a,body:o}).then(function(u){return c.authResponse(u)})},e.prototype.authWithOAuth2=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return dt(this,void 0,void 0,function(){var i,s,l,o,a=this;return pt(this,function(c){switch(c.label){case 0:return t.length>1||typeof(t==null?void 0:t[0])=="string"?(console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),[2,this.authWithOAuth2Code((t==null?void 0:t[0])||"",(t==null?void 0:t[1])||"",(t==null?void 0:t[2])||"",(t==null?void 0:t[3])||"",(t==null?void 0:t[4])||{},(t==null?void 0:t[5])||{},(t==null?void 0:t[6])||{})]):(i=(t==null?void 0:t[0])||{},[4,this.listAuthMethods()]);case 1:if(s=c.sent(),!(l=s.authProviders.find(function(u){return u.name===i.provider})))throw new Sn(new Error('Missing or invalid provider "'.concat(i.provider,'".')));return o=this.client.buildUrl("/api/oauth2-redirect"),[2,new Promise(function(u,f){return dt(a,void 0,void 0,function(){var d,m,b,A,_,k=this;return pt(this,function(v){switch(v.label){case 0:return v.trys.push([0,3,,4]),[4,this.client.realtime.subscribe("@oauth2",function($){return dt(k,void 0,void 0,function(){var E,I,L;return pt(this,function(R){switch(R.label){case 0:E=this.client.realtime.clientId,R.label=1;case 1:if(R.trys.push([1,3,,4]),d(),!$.state||E!==$.state)throw new Error("State parameters don't match.");return[4,this.authWithOAuth2Code(l.name,$.code,l.codeVerifier,o,i.createData,i.body,i.query)];case 2:return I=R.sent(),u(I),[3,4];case 3:return L=R.sent(),f(new Sn(L)),[3,4];case 4:return[2]}})})})];case 1:return d=v.sent(),m={state:this.client.realtime.clientId},!((_=i.scopes)===null||_===void 0)&&_.length&&(m.scope=i.scopes.join(" ")),b=this._replaceQueryParams(l.authUrl+o,m),[4,i.urlCallback?i.urlCallback(b):this._defaultUrlCallback(b)];case 2:return v.sent(),[3,4];case 3:return A=v.sent(),f(new Sn(A)),[3,4];case 4:return[2]}})})})]}})})},e.prototype.authRefresh=function(t,n){var i=this;return t===void 0&&(t={}),n===void 0&&(n={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:n,body:t}).then(function(s){return i.authResponse(s)})},e.prototype.requestPasswordReset=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({email:t},n),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmPasswordReset=function(t,n,i,s,l){return s===void 0&&(s={}),l===void 0&&(l={}),s=Object.assign({token:t,password:n,passwordConfirm:i},s),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:l,body:s}).then(function(){return!0})},e.prototype.requestVerification=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({email:t},n),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmVerification=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({token:t},n),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.requestEmailChange=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({newEmail:t},n),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmEmailChange=function(t,n,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({token:t,password:n},i),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:s,body:i}).then(function(){return!0})},e.prototype.listExternalAuths=function(t,n){return n===void 0&&(n={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",{method:"GET",params:n}).then(function(i){var s=[];if(Array.isArray(i))for(var l=0,o=i;l<o.length;l++){var a=o[l];s.push(new Mh(a))}return s})},e.prototype.unlinkExternalAuth=function(t,n,i){return i===void 0&&(i={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(n),{method:"DELETE",params:i}).then(function(){return!0})},e.prototype._replaceQueryParams=function(t,n){n===void 0&&(n={});var i=t,s="";t.indexOf("?")>=0&&(i=t.substring(0,t.indexOf("?")),s=t.substring(t.indexOf("?")+1));for(var l={},o=0,a=s.split("&");o<a.length;o++){var c=a[o];if(c!=""){var u=c.split("=");l[decodeURIComponent(u[0].replace(/\+/g," "))]=decodeURIComponent((u[1]||"").replace(/\+/g," "))}}for(var f in n)n.hasOwnProperty(f)&&(n[f]==null?delete l[f]:l[f]=n[f]);for(var f in s="",l)l.hasOwnProperty(f)&&(s!=""&&(s+="&"),s+=encodeURIComponent(f.replace(/%20/g,"+"))+"="+encodeURIComponent(l[f].replace(/%20/g,"+")));return s!=""?i+"?"+s:i},e.prototype._defaultUrlCallback=function(t){if(typeof window>"u"||!(window!=null&&window.open))throw new Sn(new Error("Not in a browser context - please pass a custom urlCallback function."));var n=1024,i=768,s=window.innerWidth,l=window.innerHeight,o=s/2-(n=n>s?s:n)/2,a=l/2-(i=i>l?l:i)/2;window.open(t,"oauth2-popup","width="+n+",height="+i+",top="+a+",left="+o+",resizable,menubar=no")},e}(ml),Ph=function(e){e===void 0&&(e={}),this.id=e.id!==void 0?e.id:"",this.name=e.name!==void 0?e.name:"",this.type=e.type!==void 0?e.type:"text",this.system=!!e.system,this.required=!!e.required,this.options=typeof e.options=="object"&&e.options!==null?e.options:{}},Uh=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.$load=function(t){r.prototype.$load.call(this,t),this.system=!!t.system,this.name=typeof t.name=="string"?t.name:"",this.type=typeof t.type=="string"?t.type:"base",this.options=t.options!==void 0&&t.options!==null?t.options:{},this.indexes=Array.isArray(t.indexes)?t.indexes:[],this.listRule=typeof t.listRule=="string"?t.listRule:null,this.viewRule=typeof t.viewRule=="string"?t.viewRule:null,this.createRule=typeof t.createRule=="string"?t.createRule:null,this.updateRule=typeof t.updateRule=="string"?t.updateRule:null,this.deleteRule=typeof t.deleteRule=="string"?t.deleteRule:null,t.schema=Array.isArray(t.schema)?t.schema:[],this.schema=[];for(var n=0,i=t.schema;n<i.length;n++){var s=i[n];this.schema.push(new Ph(s))}},Object.defineProperty(e.prototype,"isBase",{get:function(){return this.$isBase},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAuth",{get:function(){return this.$isAuth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isView",{get:function(){return this.$isView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$isView",{get:function(){return this.type==="view"},enumerable:!1,configurable:!0}),e}(Wi),Nh=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.decode=function(t){return new Uh(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),e.prototype.import=function(t,n,i){return n===void 0&&(n=!1),i===void 0&&(i={}),dt(this,void 0,void 0,function(){return pt(this,function(s){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:i,body:{collections:t,deleteMissing:n}}).then(function(){return!0})]})})},e}(ml),wo=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.$load=function(t){r.prototype.$load.call(this,t),t.remoteIp=t.remoteIp||t.ip,this.url=typeof t.url=="string"?t.url:"",this.method=typeof t.method=="string"?t.method:"GET",this.status=typeof t.status=="number"?t.status:200,this.auth=typeof t.auth=="string"?t.auth:"guest",this.remoteIp=typeof t.remoteIp=="string"?t.remoteIp:"",this.userIp=typeof t.userIp=="string"?t.userIp:"",this.referer=typeof t.referer=="string"?t.referer:"",this.userAgent=typeof t.userAgent=="string"?t.userAgent:"",this.meta=typeof t.meta=="object"&&t.meta!==null?t.meta:{}},e}(Wi),zh=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.getRequestsList=function(t,n,i){return t===void 0&&(t=1),n===void 0&&(n=30),i===void 0&&(i={}),i=Object.assign({page:t,perPage:n},i),this.client.send("/api/logs/requests",{method:"GET",params:i}).then(function(s){var l=[];if(s!=null&&s.items){s.items=(s==null?void 0:s.items)||[];for(var o=0,a=s.items;o<a.length;o++){var c=a[o];l.push(new wo(c))}}return new xd((s==null?void 0:s.page)||1,(s==null?void 0:s.perPage)||0,(s==null?void 0:s.totalItems)||0,(s==null?void 0:s.totalPages)||0,l)})},e.prototype.getRequest=function(t,n){return n===void 0&&(n={}),this.client.send("/api/logs/requests/"+encodeURIComponent(t),{method:"GET",params:n}).then(function(i){return new wo(i)})},e.prototype.getRequestsStats=function(t){return t===void 0&&(t={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:t}).then(function(n){return n})},e}(Jn),jh=function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.clientId="",t.eventSource=null,t.subscriptions={},t.lastSentTopics=[],t.maxConnectTimeout=15e3,t.reconnectAttempts=0,t.maxReconnectAttempts=1/0,t.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],t.pendingConnects=[],t}return ht(e,r),Object.defineProperty(e.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(t,n){var i;return dt(this,void 0,void 0,function(){var s,l=this;return pt(this,function(o){switch(o.label){case 0:if(!t)throw new Error("topic must be set.");return s=function(a){var c,u=a;try{c=JSON.parse(u==null?void 0:u.data)}catch{}n(c||{})},this.subscriptions[t]||(this.subscriptions[t]=[]),this.subscriptions[t].push(s),this.isConnected?[3,2]:[4,this.connect()];case 1:return o.sent(),[3,5];case 2:return this.subscriptions[t].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return o.sent(),[3,5];case 4:(i=this.eventSource)===null||i===void 0||i.addEventListener(t,s),o.label=5;case 5:return[2,function(){return dt(l,void 0,void 0,function(){return pt(this,function(a){return[2,this.unsubscribeByTopicAndListener(t,s)]})})}]}})})},e.prototype.unsubscribe=function(t){var n;return dt(this,void 0,void 0,function(){var i,s,l;return pt(this,function(o){switch(o.label){case 0:if(!this.hasSubscriptionListeners(t))return[2];if(t){for(i=0,s=this.subscriptions[t];i<s.length;i++)l=s[i],(n=this.eventSource)===null||n===void 0||n.removeEventListener(t,l);delete this.subscriptions[t]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:o.sent(),o.label=3;case 3:return[2]}})})},e.prototype.unsubscribeByPrefix=function(t){var n;return dt(this,void 0,void 0,function(){var i,s,l,o,a;return pt(this,function(c){switch(c.label){case 0:for(s in i=!1,this.subscriptions)if(s.startsWith(t)){for(i=!0,l=0,o=this.subscriptions[s];l<o.length;l++)a=o[l],(n=this.eventSource)===null||n===void 0||n.removeEventListener(s,a);delete this.subscriptions[s]}return i?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return c.sent(),[3,3];case 2:this.disconnect(),c.label=3;case 3:return[2]}})})},e.prototype.unsubscribeByTopicAndListener=function(t,n){var i;return dt(this,void 0,void 0,function(){var s,l;return pt(this,function(o){switch(o.label){case 0:if(!Array.isArray(this.subscriptions[t])||!this.subscriptions[t].length)return[2];for(s=!1,l=this.subscriptions[t].length-1;l>=0;l--)this.subscriptions[t][l]===n&&(s=!0,delete this.subscriptions[t][l],this.subscriptions[t].splice(l,1),(i=this.eventSource)===null||i===void 0||i.removeEventListener(t,n));return s?(this.subscriptions[t].length||delete this.subscriptions[t],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:o.sent(),o.label=3;case 3:return[2]}})})},e.prototype.hasSubscriptionListeners=function(t){var n,i;if(this.subscriptions=this.subscriptions||{},t)return!!(!((n=this.subscriptions[t])===null||n===void 0)&&n.length);for(var s in this.subscriptions)if(!((i=this.subscriptions[s])===null||i===void 0)&&i.length)return!0;return!1},e.prototype.submitSubscriptions=function(){return dt(this,void 0,void 0,function(){return pt(this,function(t){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:this.getSubscriptionsCancelKey()}}).catch(function(n){if(!(n!=null&&n.isAbort))throw n})]):[2]})})},e.prototype.getSubscriptionsCancelKey=function(){return"realtime_"+this.clientId},e.prototype.getNonEmptySubscriptionTopics=function(){var t=[];for(var n in this.subscriptions)this.subscriptions[n].length&&t.push(n);return t},e.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.removeAllSubscriptionListeners(),this.subscriptions)for(var n=0,i=this.subscriptions[t];n<i.length;n++){var s=i[n];this.eventSource.addEventListener(t,s)}},e.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.subscriptions)for(var n=0,i=this.subscriptions[t];n<i.length;n++){var s=i[n];this.eventSource.removeEventListener(t,s)}},e.prototype.connect=function(){return dt(this,void 0,void 0,function(){var t=this;return pt(this,function(n){return this.reconnectAttempts>0?[2]:[2,new Promise(function(i,s){t.pendingConnects.push({resolve:i,reject:s}),t.pendingConnects.length>1||t.initConnect()})]})})},e.prototype.initConnect=function(){var t=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){t.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(n){t.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(n){var i=n;t.clientId=i==null?void 0:i.lastEventId,t.submitSubscriptions().then(function(){return dt(t,void 0,void 0,function(){var s;return pt(this,function(l){switch(l.label){case 0:s=3,l.label=1;case 1:return this.hasUnsentSubscriptions()&&s>0?(s--,[4,this.submitSubscriptions()]):[3,3];case 2:return l.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var s=0,l=t.pendingConnects;s<l.length;s++)l[s].resolve();t.pendingConnects=[],t.reconnectAttempts=0,clearTimeout(t.reconnectTimeoutId),clearTimeout(t.connectTimeoutId)}).catch(function(s){t.clientId="",t.connectErrorHandler(s)})})},e.prototype.hasUnsentSubscriptions=function(){var t=this.getNonEmptySubscriptionTopics();if(t.length!=this.lastSentTopics.length)return!0;for(var n=0,i=t;n<i.length;n++){var s=i[n];if(!this.lastSentTopics.includes(s))return!0}return!1},e.prototype.connectErrorHandler=function(t){var n=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var i=0,s=this.pendingConnects;i<s.length;i++)s[i].reject(new Sn(t));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);var l=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){n.initConnect()},l)},e.prototype.disconnect=function(t){var n;if(t===void 0&&(t=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(n=this.eventSource)===null||n===void 0||n.close(),this.eventSource=null,this.clientId="",!t){this.reconnectAttempts=0;for(var i=0,s=this.pendingConnects;i<s.length;i++)s[i].resolve();this.pendingConnects=[]}},e}(Jn),Hh=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.check=function(t){return t===void 0&&(t={}),this.client.send("/api/health",{method:"GET",params:t})},e}(Jn),Qh=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.getUrl=function(t,n,i){i===void 0&&(i={});var s=[];s.push("api"),s.push("files"),s.push(encodeURIComponent(t.collectionId||t.collectionName)),s.push(encodeURIComponent(t.id)),s.push(encodeURIComponent(n));var l=this.client.buildUrl(s.join("/"));if(Object.keys(i).length){var o=new URLSearchParams(i);l+=(l.includes("?")?"&":"?")+o}return l},e.prototype.getToken=function(t){return t===void 0&&(t={}),this.client.send("/api/files/token",{method:"POST",params:t}).then(function(n){return(n==null?void 0:n.token)||""})},e}(Jn),Wh=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.getFullList=function(t){return t===void 0&&(t={}),this.client.send("/api/backups",{method:"GET",params:t})},e.prototype.create=function(t,n){n===void 0&&(n={});var i={name:t};return this.client.send("/api/backups",{method:"POST",params:n,body:i}).then(function(){return!0})},e.prototype.delete=function(t,n){return n===void 0&&(n={}),this.client.send("/api/backups/".concat(encodeURIComponent(t)),{method:"DELETE",params:n}).then(function(){return!0})},e.prototype.restore=function(t,n){return n===void 0&&(n={}),this.client.send("/api/backups/".concat(encodeURIComponent(t),"/restore"),{method:"POST",params:n}).then(function(){return!0})},e.prototype.getDownloadUrl=function(t,n){return this.client.buildUrl("/api/backups/".concat(encodeURIComponent(n),"?token=").concat(encodeURIComponent(t)))},e}(Jn),Gh=function(){function r(e,t,n){e===void 0&&(e="/"),n===void 0&&(n="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=n,this.authStore=t||new Lh,this.admins=new Bh(this),this.collections=new Nh(this),this.files=new Qh(this),this.logs=new zh(this),this.settings=new Dh(this),this.realtime=new jh(this),this.health=new Hh(this),this.backups=new Wh(this)}return r.prototype.collection=function(e){return this.recordServices[e]||(this.recordServices[e]=new Fh(this,e)),this.recordServices[e]},r.prototype.autoCancellation=function(e){return this.enableAutoCancellation=!!e,this},r.prototype.cancelRequest=function(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this},r.prototype.cancelAllRequests=function(){for(var e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this},r.prototype.send=function(e,t){var n,i,s,l,o,a,c,u;return dt(this,void 0,void 0,function(){var f,d,m,b,A,_,k,v,$,E=this;return pt(this,function(I){switch(I.label){case 0:return f=Object.assign({method:"GET"},t),this.isFormData(f.body)||(f.body&&typeof f.body!="string"&&(f.body=JSON.stringify(f.body)),((n=f==null?void 0:f.headers)===null||n===void 0?void 0:n["Content-Type"])===void 0&&(f.headers=Object.assign({},f.headers,{"Content-Type":"application/json"}))),((i=f==null?void 0:f.headers)===null||i===void 0?void 0:i["Accept-Language"])===void 0&&(f.headers=Object.assign({},f.headers,{"Accept-Language":this.lang})),!((s=this.authStore)===null||s===void 0)&&s.token&&((l=f==null?void 0:f.headers)===null||l===void 0?void 0:l.Authorization)===void 0&&(f.headers=Object.assign({},f.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((o=f.params)===null||o===void 0?void 0:o.$autoCancel)!==!1&&(d=((a=f.params)===null||a===void 0?void 0:a.$cancelKey)||(f.method||"GET")+e,this.cancelRequest(d),m=new AbortController,this.cancelControllers[d]=m,f.signal=m.signal),(c=f.params)===null||c===void 0||delete c.$autoCancel,(u=f.params)===null||u===void 0||delete u.$cancelKey,b=this.buildUrl(e),f.params!==void 0&&((A=this.serializeQueryParams(f.params))&&(b+=(b.includes("?")?"&":"?")+A),delete f.params),this.beforeSend?(v=(k=Object).assign,$=[{}],[4,this.beforeSend(b,f)]):[3,2];case 1:(_=v.apply(k,$.concat([I.sent()]))).url!==void 0||_.options!==void 0?(b=_.url||b,f=_.options||f):Object.keys(_).length&&(f=_,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.")),I.label=2;case 2:return[2,fetch(b,f).then(function(L){return dt(E,void 0,void 0,function(){var R;return pt(this,function(H){switch(H.label){case 0:R={},H.label=1;case 1:return H.trys.push([1,3,,4]),[4,L.json()];case 2:return R=H.sent(),[3,4];case 3:return H.sent(),[3,4];case 4:return this.afterSend?[4,this.afterSend(L,R)]:[3,6];case 5:R=H.sent(),H.label=6;case 6:if(L.status>=400)throw new Sn({url:L.url,status:L.status,data:R});return[2,R]}})})}).catch(function(L){throw new Sn(L)})]}})})},r.prototype.getFileUrl=function(e,t,n){return n===void 0&&(n={}),this.files.getUrl(e,t,n)},r.prototype.buildUrl=function(e){var t,n=this.baseUrl;return typeof window>"u"||!window.location||n.startsWith("https://")||n.startsWith("http://")||(n=!((t=window.location.origin)===null||t===void 0)&&t.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(n+=window.location.pathname||"/",n+=n.endsWith("/")?"":"/"),n+=this.baseUrl),e&&(n+=n.endsWith("/")?"":"/",n+=e.startsWith("/")?e.substring(1):e),n},r.prototype.isFormData=function(e){return e&&(e.constructor.name==="FormData"||typeof FormData<"u"&&e instanceof FormData)},r.prototype.serializeQueryParams=function(e){var t=[];for(var n in e)if(e[n]!==null){var i=e[n],s=encodeURIComponent(n);if(Array.isArray(i))for(var l=0,o=i;l<o.length;l++){var a=o[l];t.push(s+"="+encodeURIComponent(a))}else i instanceof Date?t.push(s+"="+encodeURIComponent(i.toISOString())):typeof i!==null&&typeof i=="object"?t.push(s+"="+encodeURIComponent(JSON.stringify(i))):t.push(s+"="+encodeURIComponent(i))}return t.join("&")},r}();const Gi=""+new URL("bugreports-744772f4.svg",import.meta.url).href;function $t(){if(Z("api/server.ts: getServer","Getting current server (arcos-current-server)",se.info),!localStorage.getItem("arcos-current-server")){Z("api/server.ts: getServer","arcos-current-server does not exist, falling back to remembered servers",se.warn);const e=Zn();return e.length?(localStorage.setItem("arcos-current-server",e[e.length-1]),e[e.length-1]):(Z("api/server.ts: getServer","Fallback failed: no servers to select from",se.error),null)}return localStorage.getItem("arcos-current-server")}function Zn(){return Z("api/server.ts: getAllServers","Retrieving all servers from arcos-servers",se.info),localStorage.getItem("arcos-servers")?JSON.parse(localStorage.getItem("arcos-servers")):[]}function hl(r,e=!0){Z("api/server.ts: addServer",`Adding server ${r} to arcos-servers`,se.info);const t=Zn();t.includes(r)||t.push(r),localStorage.setItem("arcos-servers",JSON.stringify(t)),e&&localStorage.setItem("arcos-current-server",r)}function Kh(){Z("api/server.ts: migrateToMulti","Migrating single-API localStorage state to multi-API",se.info);const r=localStorage.getItem("arcos-server");r&&(hl(r),localStorage.removeItem("arcos-server"))}const Nt=pe(!1);function Vh(){const r=!G(Nt);Nt.set(r)}const ne=pe(),Fe=pe(),rt=pe();function qh(){ne.subscribe(r=>{if(r){const e=r;let t="";e.sh.taskbar.docked&&(t+="tbdocked "),e.sh.anim||(t+="noani "),e.sh.noGlass&&(t+="noglass "),e.sh.window.bigtb&&(t+="bigtitlebars "),e.sh.desktop.sharp&&(t+="sharp "),e.sh.taskbar.isLauncher&&(t+="is-launcher "),e.sh.taskbar.docked&&(t+="tb-docked "),eh.set(t)}})}function gl(r){let e="?";const t=Object.entries(r);for(let n=0;n<t.length;n++)e+=`${t[n][0]}=${t[n][1]}&`;return e}const Ge=pe(null),ep=pe(null);async function xe(r,e,t,n,i,s,l){const o=Ki(i),a={headers:{Authorization:n?`Bearer ${n}`:`Basic ${o}`},body:s,method:s?"post":"get"},c=!i&&!n,u=gl({...t,ac:G(ep)});let f;try{f=await fetch(`${r}/${e}${u}`,c?{body:s}:a)}catch{return{}}const d=f.status,m=await f.text();if(!f.ok&&n&&!"200|304".includes(`${f.status}`)&&G(fn).name=="Desktop")return{statusCode:d};if(!l)try{return{...JSON.parse(m),statusCode:d}}catch{return{statusCode:d}}return{statusCode:d}}function Ki(r){return r?btoa(`${r.username}:${r.password}`):""}async function Yh(r,e,t,n){if(Z("ts/api/cred.ts: changePassword",`Attempting to change password for user ${r}`,se.info),t!=n)return!1;const s=(await xe(G(Ge),"user/changepswd",{new:btoa(t)},null,{username:r,password:e})).statusCode==200,l=localStorage.getItem("arcos-remembered-token");return!l||!s?(Z("ts/api/cred.ts: changePassword","Password change failed: not valid or no remembered token",se.error),s):atob(l).split(":")[0]!=r?(Z("ts/api/cred.ts: changePassword","Password change failed: the username does not match the current user",se.error),s):(localStorage.setItem("arcos-remembered-token",btoa(`${r}:${t}`)),s)}async function Jh(r,e){if(Z("ts/api/cred.ts: changeUsername",`Attempting to change the username for user ${r}`,se.info),G(Fe)!=r)return Z("ts/api/cred.ts: changeUsername","Username change failed: the old username does not match the current user",se.error),!1;const n=(await xe(G(Ge),"user/rename",{newname:btoa(e)},G(rt))).statusCode==200;if(Fe.set(e),!n)return Z("ts/api/cred.ts: changeUsername","Username change failed: the API did not permit the username change",se.error),!1;const i=localStorage.getItem("arcos-remembered-token");return i?atob(i).split(":")[0]!=r?(Z("ts/api/cred.ts: changeUsername","Could not update remembered token: the token's ",se.warn),!1):(localStorage.setItem("arcos-remembered-token",btoa(`${e}:${atob(i).split(":")[1]}`)),n):(Z("ts/api/cred.ts: changeUsername","Could not update remembered token: it doesn't exist",se.warn),!1)}async function Yr(){Z("ts/api/cred.ts: logoffToken","Discontinuing token if present",se.info);const r=G(rt),e=G(Ge);if(!(!r||!e))return await xe(e,"logoff",{},r)}const hi=pe();function Al(r,e){Z("ts/bugrep.ts: InvalidStateBugrep",`${r}: ${e}`,se.info),hi.set([!0,{icon:"broken_image",title:"Broken page",message:"ArcOS tried to open a page or location that doesn't exist.<br>This session can't continue. You can choose to restart.",button:{action:()=>ft("boot"),caption:"Restart"},source:r,details:`applyState for ${r}: Can't apply a non-existent state '${e}'.`}])}const jn={files:[],directories:[],name:"",scopedPath:""},wn=""+new URL("error-3c4c2c86.svg",import.meta.url).href;async function Kt(r="./"){Z("fs/directory.ts: getDirectory",`Requesting directory contents of "${r}" from ArcAPI`,se.info);const e=G(Ge);if(!e)return!1;const t=await xe(e,"fs/dir/get",{path:r?btoa(r):null},G(rt));return!t||!t.valid?!1:t.data}async function Vi(r){Z("fs/directory.ts: createDirectory",`Creating ${r}`);const e=G(Ge);return e?(await xe(e,"fs/dir/create",{path:btoa(r)},G(rt))).valid:!1}const Zh=""+new URL("Error-35b4aff9.wav",import.meta.url).href,Xh=""+new URL("Warning-ab00a839.wav",import.meta.url).href,xh=""+new URL("Info-ccd624fe.wav",import.meta.url).href,eg=""+new URL("Notification-2d6e0e95.wav",import.meta.url).href,tg=""+new URL("logon-aa2b9d46.wav",import.meta.url).href,ng=""+new URL("logoff-62e8a4e4.wav",import.meta.url).href,ig=""+new URL("click-loud-74bfb009.wav",import.meta.url).href,rg=""+new URL("mwomp-71d2eb2a.mp3",import.meta.url).href,sg={"arcos.dialog.error":Zh,"arcos.dialog.warning":Xh,"arcos.dialog.info":xh,"arcos.notification":eg,"arcos.system.logon":tg,"arcos.system.logoff":ng,"arcos.click":ig,"arcos.mwomp":rg};class lg{constructor(e){he(this,"store",{});he(this,"_bus",{});if(!e){Z("SoundBus","Can't create SoundBus without valid store.",se.error);return}this.store=e}playSound(e){if(!this.store[e])return!1;Z("SoundBus.playSound",`Playing sound ${e} from store`);const t=document.createElement("audio");t.muted=!0,t.src=this.store[e],t.volume=1;try{t.play(),setTimeout(()=>{t.muted=!1},10)}catch{return Z("SoundBus.playSound",`Can't play ${e}: User didn't interact with the page first`,se.error),!1}return this._bus[e]||(this._bus[e]=[]),this._bus[e].push(t),t.onended=()=>delete this._bus[e],!0}stopSound(e){if(Z("SoundBus.stopSound",`Stopping ${e}`),!this._bus[e])return!1;const t=this._bus[e];for(let n=0;n<t.length;n++)t[n].src=null,t[n].currentTime=-1,t[n].pause();return!0}getStore(){return Object.entries(this.store)}loadExternal(e,t=!1){const n=`${Math.floor(Math.random()*1e9)}`;this.store[n]=e,t&&this.playSound(n)}}const Ft=new lg(sg);function Xe(r,e){Z("errorlogic/overlay.ts",`Creating error "${r.title}" for parent ${e}`,se.info);const t=G(ue);for(let n=0;n<t.length;n++){const i=t[n];if(i.id==e)return i.errorOverlays||(i.errorOverlays=[]),i.errorOverlays.push({...r,id:`${Math.floor(Math.random()*1e9)}`}),ue.set(t),Ft.playSound("arcos.dialog.info"),!0}return!1}function tp(r,e){const t=G(ue);for(let n=0;n<t.length;n++){const i=t[n];if(i.id!=e||!i.errorOverlays)continue;const s=i.errorOverlays;for(let l=0;l<s.length;l++)if(s[l].id==r)return s.splice(l,1),ue.set(t),!0}return!1}function Je(r,e){const t=G(ue);for(let n=0;n<t.length;n++)if(t[n].id==e){if(!t[n].overlays||!t[n].overlays[r])return!1;t[n].overlays[r].show=!0}ue.set(t)}function Ye(r,e){const t=G(ue);for(let n=0;n<t.length;n++)if(t[n].id==e){if(!t[n].overlays||!t[n].overlays[r])return!1;t[n].overlays[r].show=!1}ue.set(t)}const ki=""+new URL("clear-675017c3.svg",import.meta.url).href;async function bl(r){Z("fs/file.ts: deleteItem",`Deleting item "${r}" from ArcFS`,se.info);const e=G(Ge);return e?(await xe(e,"fs/rm",{path:btoa(r)},G(rt),null,null,!0)).valid!=!1:!1}let vt=pe("./"),Lt=pe(jn),Ve=pe(null),pn=pe(null),Jr=pe(null),_l=pe(null),Ns=pe(!1),Or=pe(!1),np=pe(0),In=pe(null),Rr=pe(null);Ns.subscribe(r=>{r&&(Xe({title:"Open cancelled",message:"The opening procedure was cancelled by the user.",buttons:[{caption:"OK",action(){}}],image:wn},"FileManager"),Ns.set(!1))});class og{async refresh(e=!0){Z("FileBrowser: refresh","Refreshing current directory contents",se.info),Or.set(!0),e&&(Lt.set(jn),Ve.set(null));const t=G(vt),n=await Kt(t);Lt.set(n||{...jn,scopedPath:t}),Or.set(!1)}async goToDirectory(e){Z("FileBrowser: goToDirectory",`Navigating to "${e}"`),Ve.set(null),vt.set(e),Ft.playSound("arcos.click"),await this.refresh()}async deleteItem(e,t){Jr.set(e),Je("deletingItem","FileManager"),await bl(t)||Xe({title:"Unable to delete item",message:"ArcAPI was not able to delete the item from the file system. A permission error may have occured. Please try again later.",buttons:[{caption:"OK",action(){}}],image:ki},"FileManager"),Ve.set(null),tt.refresh(),setTimeout(()=>{Ye("deletingItem","FileManager")},100)}}const tt=new og,gi=pe([]),qt=pe([]),mn=pe(null),Ai=pe(null),Pi=pe(null),On=pe(!1);async function wl(){const r=G(Ge);if(!r)return[];const e=await xe(r,"messages/list",{},G(rt));return e.valid?e.data:[]}async function vl(r){const e=G(Ge);if(!e)return!1;const t=await xe(e,"messages/get",{id:btoa(r)},G(rt));return t.valid?t.data:!1}function ip(r){return!!G(ue).filter(t=>t&&t.id==r).length}function jt(r){const e=Ue(r);return e?e.opened:!1}function rp(r){return!!G(ue).filter(t=>t&&t.id==r&&t.state.windowState.min).length}function bi(r){return!!G(ue).filter(t=>t&&t.id==r&&t.disabled).length}function Ht(r){return G(ne).sh.showHiddenApps&&!r.disabled&&!r.core?!0:!r.disabled&&!r.info.hidden&&!r.info.custom}const ag=""+new URL("bugreports-744772f4.svg",import.meta.url).href,ct=r=>new Promise(e=>setTimeout(e,r)),ut="5.0.9",sp=1,Mt=pe(!1);Mt.subscribe(async r=>{r&&(await ct(1e4),Mt.set(!1))});function qi(r,e,t,n,...i){Z("errorlogic/main.ts: errorMessage",`Generating "${r}"`,se.info);const s={title:r,message:e,opened:!1,buttons:i,id:Math.floor(Math.random()*1e10),image:t,parentId:n},l=G(gi);l.push(s),gi.set(l),ug(s)}function lp(r){Z("errorlogic/main.ts: closeError",`Closing error ${r}`);const e=G(qt);for(let t=0;t<e.length;t++)e[t].id==`error_${r}`&&(e[t].opened=!1,setTimeout(()=>{e.splice(t,1),qt.set(e)},500));qt.set(e)}function cg(r){Z("errorlogic/main.ts: openError",`Opening error ${r}`);const e=G(qt);for(let t=0;t<e.length;t++)e[t].id==`error_${r}`&&(e[t].opened=!0);qt.set(e)}function ug(r){Z("errorlogic/main.ts: createErrorAppData",`Generating error appData for ${r.title}`,se.info);const e={info:{name:r.title,description:"ArcOS.Desktop.ErrorLogicwindow",builtin:!0,version:ut,author:"Generated by ArcOS",icon:r.image||ag},size:{w:NaN,h:NaN},pos:{x:60,y:60},minSize:{w:200,h:NaN},maxSize:{w:600,h:NaN},controls:{min:!1,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:null,glass:!1,id:`error_${r.id}`,opened:!1,parentId:r.parentId},t=G(qt);t.push(e),qt.set(t),setTimeout(()=>{cg(r.id);const n=document.querySelector(`window#${e.id}`);if(!n)return Z("ErrorLogic: createErrorAppData",`Can't bring window ${e.id} to front, no associated element could be found.`,se.error);Ke.set(G(Ke)+1),n.style.zIndex=`${G(Ke)}`},5)}const Hn=pe(null),on=pe({});let vo;function yi(r){if(bi("ArcShell")){qi(r.title,r.message,r.image,null,{caption:"OK",action(){}},...r.buttons);return}clearTimeout(vo);const e=`${Math.floor(Math.random()*1e9)}`,t=G(on);return t[e]=r,on.set(t),setTimeout(()=>{Hn.set(e)},100),r.timeout&&(vo=setTimeout(()=>{Hn.set(null)},r.timeout)),e}function op(){Hn.set(null)}function kl(r){const e=G(on);delete e[r],on.set(e)}async function ap(){Z("applogic/close.ts: closeAllProgressively","Closing entire WindowStore");const r=G(ue);for(let e=0;e<r.length;e++)At(r[e].id),await ct(50)}function Zr(){ap(),Yr(),Zm.set(!0)}function Qn(r=!1){ap(),r&&(localStorage.removeItem("arcos-remembered-token"),Yr()),Xm.set(!0)}const ko="UserLogic: UserData watch";let cp;function fg(r){if(r){if(clearTimeout(cp),Xr.set(!0),G(Fe)){const e=mg(r);yo(),e||(Z(ko,"Commit failed, setter returned false",se.error),G(hi)||dg());return}yo(),Z(ko,"Not committing, no username",se.warn)}}function yo(){cp=setTimeout(()=>{Xr.set(!1)},1500)}function dg(){hi.set([!0,{icon:"person_off",title:"User data commit failed",message:"The user data could not be saved. This happens if the<br>user data is altered while ArcOS is running.",details:"UserLogic: UserData watch: setter returned false",button:{action:()=>{ft("fts")},caption:"Reset"}}])}const Xr=pe(!1);async function Yi(){Z("userlogic/main.ts: getUsers","Getting users");const r=G(Ge);if(!r)return[];const e=await xe(r,"users/get",{},null,null);let t={};const n=e.data;for(let i=0;i<n.length;i++)t[n[i].username]=n[i];return t}async function pg(){Z("userlogic/main.ts: deleteUsers","Delete users");const r=G(Ge),e=G(rt);r&&(xe(r,"user/delete",{},e),G(fn).name=="Desktop"&&Qn())}async function mg(r){const e=G(Ge);if(!e)return!1;(await xe(e,"user/properties/update",{},G(rt),null,JSON.stringify(r))).valid&&Z("userlogic/main.ts: setUserdata","Userdata committed to API",se.info)}ne.subscribe(fg);const Qt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAgMAAACJFjxpAAAADFBMVEXFxcX////p6enW1tbAmiBwAAAFiElEQVR4AezAgQAAAACAoP2pF6kAAAAAAAAAAAAAAIDbu2MkvY0jiuMWWQoUmI50BB+BgRTpCAz4G6C8CJDrC3AEXGKPoMTlYA/gAJfwETawI8cuBs5Nk2KtvfiLW+gLfK9m+r3X82G653+JP/zjF8afP1S//y+An4/i51//AsB4aH+/QPD6EQAY/zwZwN8BAP50bh786KP4+VT+3fs4/noigEc+jnHeJrzxX+NWMDDh4g8+EXcnLcC9T8U5S/CdT8bcUeBEIrwBOiI8ki7Ba5+NrePgWUy89/nYyxQ8Iw3f+pWY4h1gb3eAW7sDTPEOsLc7wK1TIeDuDB+I/OA1QOUHv/dFsZQkhKkh4QlEfOULYz2nGj2/Nn1LmwR/86VxlCoAW6kCsHRGANx1RgCMo5Qh2EsZgrXNQZZShp5Liv7Il8eIc5C91EHY2hxk6bwYmNscZIReDBwtCdhbErC1JGBpScBcOgFMLQsZMQs5Whayd+UQsLYsZGlZyNyykKllISNmIUfAwifw8NXvTojAjGFrdYi11SGWVoeYWx1i6lmQCiEjFkKOVgjZ+xxIhZCtFULWHkCqxCw9gNQKmP9vNHzipdEPrRcxtVbAeDkAvve0iM2QozVD9hfjhp4YP/UrkJYDbD2AtBxgfSkAvvHEeNcDSAsilgtAWxIy91J8AXgZAJ5e33+4tuACcAG4AFwALgBXRXQB6AFcB5MXAuA6nl9/0Vx/011/1V5/1/dfTPJvRtdnu/zL6beeFO/7r+fXBYbrEkt/j+i6ytXfpuvvE/ZXOnsA/a3a/l5xf7O6v1t+Xe/vOyz6HpO8yyboM8o7rfJes77bru83THk48p7TvOs27zvOO6/73vO++z7l4cgnMPQzKPopHC0N9noSSz6LJp/Gk88jyicy5TOp6qlc+VyyfDJbPpuuns6XzyfMJzTmMyrrKZ35nNJ8Ums+q7af1tvPK+4nNodEnPKp3fnc8npyez67/qVP7+/fL8hfcMjfsOhf8cjfMclfcnn9+BkOnLECP8Q58OYeyJ40eoyF6Ee/En/JHlP6mIlRVXprF4BxtAvArV0AxtEuALd2ARhHuwDc2gVgHPX/hFv9fMBddjIGeKg/WCxlCsI46u+Ga5mCcJd+sIG9UkGAW32ZbApFAHhod4Bb3eo04h3god0BbiUHYApVCNjbHeBW+QDAXT4a7qg7r7e214057vg0QhkEHkoSwq0kIdydXw4/Q3H8hjYJ3vL0WConBJhCHQaOToeBrU0BljYFmEoVgHGUKgAPnREAt84IgLuqFgAYSUEOAHszDwuAtSkHAZhLGYIpdCLgKGUIHtocZG1zkLmUIRhxDnJU1RDA1uYga5uDzKUOwhTnIEfnxcDe5iBrcyQAYGlzkKkUYhhxDrKXQgxbSwLWUohhbknA1JKAEZOAvSUBW0sC1pYEzC0JmFoSMMJyCDhaFrK3JGDtyiFgaVnI3LKQqWUhI2YhR8tC9paFrC0LWVoWMrcsZGpZyIhZyNGykL2rSIGtlQHWVgZYWhlgbmWAqZUBRiwDHK0MsLcywNbKAGsOoNUhllaHmFsdYmp1iBHrEEerQ+w5gFYI2VodYm11iKXVIeYcQCuETK0QMmIh5MgBtELI3gohWyuErDmAVolZWiFkzgG0SszUKjGjfj6gVmKOVonZcwCtFbB9HQC+ozWDbz1bvGu9iKW1AuYcQOtFTLEX1GbIaFegN0OOHEBrhuw5gNYM2XIArRuz5gDacoB3bTnAEktxXQ4wfw0AvveM8b4tiJjSJOwLIsbXsAKeNeKCiOO3D+AVbUl0AfjGs8ZPbUnIdgFoa1LWC0BblfMuB9AeC1j6gqQE0J9LmC8AOYD2ZMb7i4bt2ZTpWoHfPoB7Tj2fXzT8N1X41vkq/QHOAAAAAElFTkSuQmCC",hg=""+new URL("1-ce0ed19a.png",import.meta.url).href,gg=""+new URL("10-a17f4986.png",import.meta.url).href,Ag=""+new URL("11-0772df5b.png",import.meta.url).href,bg=""+new URL("12-e9d77a32.png",import.meta.url).href,_g=""+new URL("13-0dcda114.png",import.meta.url).href,wg="data:image/png;base64,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",vg="data:image/png;base64,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",kg="data:image/png;base64,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",yg=""+new URL("17-662a7167.png",import.meta.url).href,Sg=""+new URL("18-240e69f8.png",import.meta.url).href,$g=""+new URL("19-42714701.png",import.meta.url).href,Cg=""+new URL("2-73afb162.png",import.meta.url).href,Tg="data:image/png;base64,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",Eg=""+new URL("21-6ad724fd.png",import.meta.url).href,Ig="data:image/png;base64,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",Og="data:image/png;base64,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",Rg="data:image/png;base64,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",Lg="data:image/png;base64,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",Dg="data:image/png;base64,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",Bg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAIAAABt+uBvAAAFHUlEQVR42u3cA5zrShvH8a7x8tq2bdu2bdu2bdu2bSOdam3v1sr8bp9r34NumvTM//McrIpvMMlgffhN/V0ZAgNkgAyQATJABsgAGSBTBsgAGSADZIAMkAEyQKbcClRJcCpUPf4KVA0GSCD8VahGeg6g50DaNyfxDv2n0bUzIzfRvDSB/0hNoUCWj9Y1Gb6G3qPJ9WDHyIQB8kPkegGijxN7htF7CE495QFF5qN1dUbvBtBJsPljdP5Hr4FzGDiXyLxTBpDlI/B/Ys/JO88P8s+x0Vl0jt5Dfzw9lTlQ06J070vaz0RF50l+KAddywplDRT4D9En0Bl0lkmIzsm53CpXIFVF0yLEnmWSo9Py4z2HoOrLEah1DTJKWqvJTCZMaLZyBOrYAnuUyU/qEzo2J/Cv8gLq2JrYC8UB0hnyA3Rsg1U+QNUMX08Rkx+hcwdUTVkAqWraNmDsQXSOYkWnyQTpPQp/lfeBQrOQ9jMeGbkNVedxIFUt95zJDyh+8iRelyY/0OhZIMtH2/pkQthxxinZFrlH8+4eJKdSO8b4JfWltI+B/3gRqEJ04i9hRxm/SJM/ROcuWJ4DUrWM3IEDsWN07Y6q8RSQqqF9Y6KPQZ7xjs5Ik993IqraO0DhueXc7GTG7kc1eARI1UivTepTnItN4i16DyfwHy8AtW9GJiJNu8PJdUhvnOV+oK490SmcT9qic3sC/3UzUCVduxJ/WXYf56OzchPbvQ+Wa4FUg9yUljA6SfcBqFpXAqlaOfvEnga7dEBZafL7T0eM3AYUWUjujNyQ6OME/u0yIFVD66qkv6b00STfldHawP9cA2T56NhWdh87gUuS66V5GSzX7EFyatRZ3JNMkM6dCfzfBUCqiu69iL+CTuKe6Cx2lJ6DsUoP9G9puVwYnZGbD1VbUiBVT8eWxJ4HjdsiTX6YgfNQ9aUDal6SbAdoXJv4i3LzUSKgSlqWJ23h5iTfRzr2/1MKoLZ1RcdO8k954dOPjrvjxhPuvKmIVXjAwsNOeJPvNNCP1z72GBOQ4++40bfByr6NVytiFR6w8LBMSJLvEpnPcSBVJz3BE3ZvUdjg8pY2W7OIVXjAwsMyIbGjjD1McBpngZoWk9MzeAAIZOQyNJOzQMHpiD4KtgeAdJbBiwj821mg8BxEn/AEkCQ/QPtGWI4BWT7aN8GOeuQQs0m8S9PiDh9iUzN4CTrlkUPsUlSDw61YAyO3gvbGIZb2E57VWaDAv2WsTidBux0o/a3MzFZ1jgJJhWdn9F4vAFkluFCUCvxfxjPB1UB2XMZ4I/OXAkjVSFdZ7Dl00rVAch6ILIC/snQdZt17ozOuBLIRoAd+bL9KBtS6mqyCy4TAdheQDJCdIh0ype60r5QBlv4zXLQH6Qzk5f4rOC2WS4Z9Wlcn+pQsENTJ0gMl3pTu+rZ1ijKLungzEgONMi0oEybbTLYdSR70eALd/MsyKTQ6TfwFGbzsO0FoLDdOXqihZUWZGD1wDrk+WW6abUUnTrjlBN/GqxcbaPUTbj5OOsNA+hWiT8r/m5eUw0o1uH4KXnAqYQpOLXN0ew844YolfZsUU0dqk7VOuGJRmhen9whpyIP/JzQj/kpPLmY5/tK5fRutXXhLRazCAxYeFuXD8vxiFt8td860xhFLrn3UEkWswgPefOdMqLJYDpX6unL08+qiV+Fhy2hBnSp6uW5JpvnlJqYMkAEyQAbIABkgA2SATBkgA2SADJABMkAGyACZ+g5eG3xTXD3mYQAAAABJRU5ErkJggg==",Mg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAIAAABt+uBvAAALQklEQVR42uzWA3crQRQA4Pfrn2qbR81xbLM2Ytt2ptPYdu56x/db/iL/QwMutOWM7fYO+YhJC1N0HCD+QbdX9oyDhjzk4uIjKVlK0p9Slb+IuZH0f4pxeljDZ2/FSX9/0vEWH8cMHOQlleviJWVjyC49pL811QNKES6WsjIkZz6cohe9Il9VLS/J/SKnr6UHj25GgC4AqC2Q9MILQAA0VKCgUghAbYFUAARAAARAfQOtA1AdELseyPcp6RbICndQR6BzAAIgAOoLSMtnb9cARfXcjkCszcSsAgmPg+MBCqkFswxEAKC2QHcEGwB1D9T2PwiAmgIx1lO+DwAaCpAXgLoAkpz7AAiAAAiAhg8UM3J4++EyED6Om9gAVALyknIuyhdTRV3O4lzqckbJUuKUSkUAwrkpO92sePykqy2Kh7SdjlMWEUjF+WoOVIqnsl1coL+1QO+S5iJNgc4ACIC6AvJSkI+Kt4WDuQMyM4VH3+SbBXAbyRKGj/keM8MxY1gyhJmZ4djMzBhmZjPLgjAzM4NZHDmcGLffv5rKbWmtbPIotuSqv1yj0Ux25nNPT3ev818AApSSDCoMoNlDacEo2hpPugJ0it5qoLFpXg0CKEcGlPvvAwKdU0vIrw25P08dn+LV41WaNYQqczmz5rSqRACUTPvXmoGmNQECHRhLdBeeS6enSPYU5/Jsfa9fcl1fpiwPqlahtn8g3bRuRgMiJjzCdPIAO32tBhDczdF51P8XoNPY7XXO/QVyeaah1y9I9jR5fwEjAouayk2GY4e0h4/eKdmGKc4G6OqOs8IU9hdQF3bZANqWQN1f4Vyfuz/hk7oBf2B2xBvUuH9QSbrVbfPbZnI6QBYlwsLN8+/BfcCO8PNghhF7w1e2FvRLwYJAB+rw1AMLss0/nAwQxJnV2kNHERBvXXgX3+Lvw1j/w3wQxDdAKsuT0XFuQEJ1Gck6/5UFH4Vti28xGA5I9Xyd3WKtCBBZIDSUZMolUw4aIkZwNw/ioNEsDmJ0WgkgJjUZ0qhqDlXNJf1ye5H0OrgkJtbZ+gBp55Mxm8wFpJ1LZoU0hVYJyLCKtPNIu4B0Sx6TRaNZVWdQtBJAkJKMmWRMJ3Px49Dhrqk2KqbNmRl4t6qQLGJAu5HHOhsg5mugx6FjVm0qni7v3u3TjvId62ZRtc2sBuO6k4ryLQvuGU8cJIsTAGJFDKOCtPn4ifYjMeFkhYV9+8+P2/zzkzapyT5NByAFQemj0cQ8essGhLVKAQILBDXFwRTfgwLaUWw3KvCj8iz0S1nZdc3yReFvfdbuHx+3CQ7+WuSJbCq2DgFox9JbDBCMX7zbK2kU05W6vMjiQP4nAuVQOZ1f2ZRRg0mpv5B5t7LAcDHzB8/xb3zSFhaUkuTDSZqbIwPCgZo5mOTPCJkEhDaU2JP0BSK/A688cPiAb78fO3zMkPfadHjj07afdXLZrmE+yPkAwdccX0CDfgPDYeloff/fk/xpxoj6/pz2z8CYH21t14Y58m5dcaaY64H5vP15+6io7+8Jt5gacjhAylrtRkQliiTCzWLjNREcK0Oo8wuNnV+u7/e7hp4/q+/zKwaIl+uzlO1J19f9COj47sUTpoyEybz7RYf323TEFTY1xffalWx2EvnYUr+aDKvRcChAFiVSdtT6UBvD/3azWS42jwzL7bm6/n+4823Hhp4/tzloLs9Q+vcCICuj6yW5ezbOyV4bp8hOOn9oea1BIfgp3VLSLbZqiYMBYiuDKbG2zRHbN516/5Rzex51QlTFUFEl2YMj1v1V5KUYYycguM5L7HcQhSPRhdC4pnQkQFJhYVUehbkwHwRMtcPf4NxfYjVD8v1SfNlLi+W6kGGtA1qQBCPUDL9+z3pzPdPY7TWSWW+0CW/AQ0vTsZrSOkgILJHomvPRcCJAjNHppXytZ+KbNPDXNP6fNG0Abjf0S03RF9KBmZTjRRnf4yQ+sDVI5XSA2IZNxVSaQRdXU0kG2o+gc3EVJfWmvj/DTQdfjqo++XxBe6eTxRkBiR0wL7VUnlGeTRGu8OU2VWr2nuPYfLJonBSQRcVZ1LfL8yvOpJWfXnuzLI9jOJr6naJA6vwio2MjMErth9DcAQAprdLMaMD7vMc8Yve0hUXZSYgD5d26deraddS4oRmrYm6W54sZmRSU0AP5GgICJChiQDCiK2lsijQgtsLmAaRObdySZNwZf2XL1Gs6AKp+NKBavWLurKCPO8hYDgGh8X7bjnGxHncqUJ8XOJIun4I6ci7P3R/7Qd3AP9kAgk0hazm3/JGAtk03YXmbk0yqVO5JAwKdE1Hrb/lNqPXufz3I4/bm1Wx7UqpWI9v8Qu6K3ArlizYubm3d3JFkIRH9sF2nwsxEmw3Dfyf2sg8IFjT+DbqaLglIdX/rshtB32F5N/0mHYveAkZPDhCMdkdCyV3fEeQpI08X8pBT9ADaO1saUL2hGKWvv334Jaxm3KQRx3YtPntgmYfXBPBC59ffjUFxQ6AMH6QKpa4vczhfkIw/a5zbC8QsaMYgEHwYGjIrafdMiuyHhWF5WORt37HbEiuVTxLQoZi9DV49rI935eXhQuF9aHMyfOfDXhMjF09K9B4xdsj4ySN2rp/N0ogTe5ZM/nr0iLFDQ0K/uVGah7k21bX47qDD4m9kcLVD/kadnqYp79Cpxfafgk4sYGMihfYmD7Y2yKXeq9f+uKPK5rAgOVYgMArsTnkhVGH/XShnVt6pLMC1das8r95YzDobTcpb5fnovF2R32hWind7NY1/uTro16gEcF1e4vr/ikJkdGTuQ+mU51B2EAV0E+jwkgsW9GR9kKbGe4CYkbc7zZ9MJ5eR3cvbYq9cz3okLOL4Qr5aUuhPe6chp7MzkvWcWEJzJ5GXm4hOjc/gY9GbnqAPEhg1wPnd8xlmw4hhiupPqhj8PoWd/zfiQ0qbXEwMtyybiqPgdGzRQHKY+ZGYHarUxuYKFLmDsQdu+U0UM2KmNHMc7ZpB2oL/EpNUSb8qn3ZOp+lj8LimdG76TTkQexiLbOZIelfCJWNgMOfpBncoxuTfleZNBiY4pv8Wk+iQwjx3TKO5E8mvaxM0LpynuyEwbGfCFWVLSDWwiE1J166ELa7z7stMSYwJe5g2mj8Fp1ewP9iwn4VJQ2FTMP30clJE0NRR5NelCRpIXuvd73LYsk3J1YxO8wNijDQptYdjdlX7fyc2JaYfXMjLlcJ607xJpIikQ/OpJJPfrVkJz8LEEDAWQg8GYNjVTDo4n4rCac5EXOGMe1M0eHS1vwdCEHVKHaPTQgAJmLYkGS6Fr7B6bhfIjjWBFBq4iaMH8gckzZe3rK0pfJx5eAEdXcQLDXzckkLFkZTmAygIRDGFgbaHxgWCP74YvhqJhYCmpQFijHC77Y6/UBYys8ZnENYtOnQCKR4WZP3WpzPvrQK6U2APXmjgo4+7lYjcCgVic0XCdJf7PkNKQ2fDFeLRjE6LBCQ+cXV74s+WhM676zsKLhM7ERnUw6gxSY9k3PHP3vEdczVswe7488KZaumAxNZUvz2x4kxkvikwEFGl1T3JpGFJQ8F0/CM13gNxb56OLER8LFiNowESMEHrk+/sjj93NjJXFxSNwL/eu7fVrGSMF0MmEutnYzC4zrv3bd9x2qCYM5F5OMLrU+4KtR6HBiQitS6lBo4cqSN+/1dD5+uConDv3PEdCz9S4zMQVgahgY/gaPH3ANCroQtORyowBeUnTUqNmIuzABKRYpvkwGtD8q1NSZatSfrtiWUI7SA08BGd+AoDMEyYwvSvduigBAAACAFY/9Z3CXyLDJZg20Gh7OWLuiAECRIkSJAgQYLGCBIkSJAgQYI4CBD5MYF/GSMAAAAASUVORK5CYII=",Fg="data:image/png;base64,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",Pg=""+new URL("3-f0871c58.png",import.meta.url).href,Ug=""+new URL("4-61f6a6d6.png",import.meta.url).href,Ng=""+new URL("5-17c42ca6.png",import.meta.url).href,zg=""+new URL("6-ae5f3eff.png",import.meta.url).href,jg=""+new URL("7-8a53975d.png",import.meta.url).href,Hg=""+new URL("8-0ff7188c.png",import.meta.url).href,Qg=""+new URL("9-fdbbb4a2.png",import.meta.url).href,up={pfp1:hg,pfp2:Cg,pfp3:Pg,pfp4:Ug,pfp5:Ng,pfp6:zg,pfp7:jg,pfp8:Hg,pfp9:Qg,pfp10:gg,pfp11:Ag,pfp12:bg,pfp13:_g,pfp14:wg,pfp15:vg,pfp16:kg,pfp17:yg,pfp18:Sg,pfp19:$g,pfp20:Tg,pfp21:Eg,pfp22:Ig,pfp23:Og,pfp24:Rg,pfp25:Lg,pfp26:Dg,pfp27:Bg,pfp28:Mg,pfp29:Fg,def:Qt};function hn(r){return typeof r=="number"?up[`pfp${r}`]||Qt:r.toString()}async function Wg(r){const e=G(ne);e.acc.profilePicture=r,ne.set(e)}const mr={};async function gn(r){if(!G(Ge))return Qt;if(mr[r])return hn(mr[r]);const t=await Yi();return t[r]?(mr[r]=hn(t[r].acc.profilePicture),mr[r]):Qt}function Gg(r){let e,t;return{c(){e=g("div"),h(e,"class",t="pfprenderer "+r[2]+" pfp svelte-11jeot8"),Se(e,"background-image","url('"+r[0]+"')"),Se(e,"height",r[1]+"px")},m(n,i){S(n,e,i)},p(n,[i]){i&4&&t!==(t="pfprenderer "+n[2]+" pfp svelte-11jeot8")&&h(e,"class",t),i&1&&Se(e,"background-image","url('"+n[0]+"')"),i&2&&Se(e,"height",n[1]+"px")},i:O,o:O,d(n){n&&y(e)}}}function Kg(r,e,t){let{src:n}=e,{height:i}=e,{className:s=""}=e;return r.$$set=l=>{"src"in l&&t(0,n=l.src),"height"in l&&t(1,i=l.height),"className"in l&&t(2,s=l.className)},[n,i,s]}let gt=class extends j{constructor(e){super(),z(this,e,Kg,Gg,N,{src:0,height:1,className:2})}};const Vg=""+new URL("spinner-14f81f00.svg",import.meta.url).href;function qg(r){let e,t;return{c(){e=g("img"),de(e.src,t=Vg)||h(e,"src",t),h(e,"alt","spinner"),Se(e,"height",r[0]+"px"),h(e,"class","spinner-svg")},m(n,i){S(n,e,i)},p(n,[i]){i&1&&Se(e,"height",n[0]+"px")},i:O,o:O,d(n){n&&y(e)}}}function Yg(r,e,t){let{height:n}=e;return r.$$set=i=>{"height"in i&&t(0,n=i.height)},[n]}class en extends j{constructor(e){super(),z(this,e,Yg,qg,N,{height:0})}}const fp=""+new URL("systemIcon-393c5507.svg",import.meta.url).href,Jg=""+new URL("devIcon-567f5f60.svg",import.meta.url).href,Zg=""+new URL("unstIcon-118758aa.png",import.meta.url).href,Xg=""+new URL("adminIcon-11dc6ee1.png",import.meta.url).href,xg=""+new URL("siegeIcon-bce24d4a.png",import.meta.url).href,e1=""+new URL("rc-d6342559.png",import.meta.url).href,t1={release:fp,development:Jg,unstable:Zg,admin:Xg,siege:xg,rc:e1};let Rn="release";async function n1(){Z("ts/branding.ts: getMode","Attempting to retrieve mode from /mode",se.info);try{Rn=(await(await fetch("./mode")).text()).trim()}catch{Rn="release"}}const tn=r=>t1[r||Rn]||fp;function So(r){let e,t,n,i,s,l,o,a,c,u,f,d;return t=new gt({props:{src:r[2],height:151}}),a=new en({props:{height:23}}),{c(){e=g("div"),M(t.$$.fragment),n=T(),i=g("h1"),s=F(r[1]),l=T(),o=g("h3"),M(a.$$.fragment),c=F(" "),u=g("span"),f=F(r[0]),h(e,"class","userlogin show")},m(m,b){S(m,e,b),D(t,e,null),p(e,n),p(e,i),p(i,s),p(e,l),p(e,o),D(a,o,null),p(o,c),p(o,u),p(u,f),d=!0},p(m,b){const A={};b&4&&(A.src=m[2]),t.$set(A),(!d||b&2)&&W(s,m[1]),(!d||b&1)&&W(f,m[0])},i(m){d||(w(t.$$.fragment,m),w(a.$$.fragment,m),d=!0)},o(m){C(t.$$.fragment,m),C(a.$$.fragment,m),d=!1},d(m){m&&y(e),B(t),B(a)}}}function i1(r){let e,t,n=r[2]&&So(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[2]?n?(n.p(i,s),s&4&&w(n,1)):(n=So(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function r1(r,e,t){let n,i;K(r,Fe,c=>t(4,n=c)),K(r,Tt,c=>t(5,i=c));let{caption:s}=e,{username:l=""}=e,o="",a="";return ve(async()=>{t(1,o=i||n||l),t(2,a=await gn(o)),a==Qt&&t(2,a=tn())}),r.$$set=c=>{"caption"in c&&t(0,s=c.caption),"username"in c&&t(3,l=c.username)},[s,o,a,l]}let Si=class extends j{constructor(e){super(),z(this,e,r1,i1,N,{caption:0,username:3})}};function s1(r){let e,t;return e=new Si({props:{caption:"Welcome"}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}class l1 extends j{constructor(e){super(),z(this,e,null,s1,N,{})}}function dp(){Fe.set(void 0),Tt.set(void 0),on.set({}),gi.set([])}function o1(r){let e,t;return e=new Si({props:{caption:"Goodbye",username:r[0]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,[i]){const s={};i&1&&(s.username=n[0]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function a1(r,e,t){let n;return K(r,Fe,i=>t(0,n=i)),ve(()=>{setTimeout(()=>{dp(),Et("selector")},2e3)}),[n]}class c1 extends j{constructor(e){super(),z(this,e,a1,o1,N,{})}}function u1(r){let e,t;return e=new Si({props:{caption:"Restarting"}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function f1(r){return setTimeout(()=>{location.reload()},2e3),[]}let d1=class extends j{constructor(e){super(),z(this,e,f1,u1,N,{})}};function $o(r){let e,t,n,i,s,l,o,a;return t=new gt({props:{src:r[2],height:76}}),{c(){e=g("button"),M(t.$$.fragment),n=T(),i=g("p"),s=F(r[1]),h(i,"class","username"),h(e,"class","user"),U(e,"drop",r[1]=="space")},m(c,u){S(c,e,u),D(t,e,null),p(e,n),p(e,i),p(i,s),l=!0,o||(a=P(e,"click",r[3]),o=!0)},p(c,u){const f={};u&4&&(f.src=c[2]),t.$set(f),(!l||u&2)&&W(s,c[1]),(!l||u&2)&&U(e,"drop",c[1]=="space")},i(c){l||(w(t.$$.fragment,c),l=!0)},o(c){C(t.$$.fragment,c),l=!1},d(c){c&&y(e),B(t),o=!1,a()}}}function p1(r){let e,t,n=r[0].acc.enabled&&$o(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0].acc.enabled?n?(n.p(i,s),s&1&&w(n,1)):(n=$o(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function m1(r,e,t){let n="",{data:i}=e,{name:s}=e;function l(){Tt.set(s),Et("todesktop")}return ve(()=>{t(2,n=hn(i.acc.profilePicture))}),r.$$set=o=>{"data"in o&&t(0,i=o.data),"name"in o&&t(1,s=o.name)},[i,s,n,l]}let h1=class extends j{constructor(e){super(),z(this,e,m1,p1,N,{data:0,name:1})}};function Co(r,e,t){const n=r.slice();return n[1]=e[t],n}function To(r){let e,t,n=x(Object.keys(r[0])),i=[];for(let l=0;l<n.length;l+=1)i[l]=Eo(Co(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ae()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&1){n=x(Object.keys(l[0]));let a;for(a=0;a<n.length;a+=1){const c=Co(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Eo(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Eo(r){let e,t;return e=new h1({props:{data:r[0][r[1]],name:r[1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.data=n[0][n[1]]),i&1&&(s.name=n[1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function g1(r){let e,t,n=r[0]&&To(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=To(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function A1(r,e,t){let n;return ve(async()=>{t(0,n=await Yi())}),[n]}class b1 extends j{constructor(e){super(),z(this,e,A1,g1,N,{})}}function _1(r){let e,t,n;return{c(){e=g("button"),e.textContent="Create Account",h(e,"class","createacc")},m(i,s){S(i,e,s),t||(n=P(e,"click",r[0]),t=!0)},p:O,i:O,o:O,d(i){i&&y(e),t=!1,n()}}}function w1(r){return[()=>Et("newapiuser")]}let v1=class extends j{constructor(e){super(),z(this,e,w1,_1,N,{})}};function k1(r){let e,t,n,i,s;return t=new b1({}),i=new v1({}),{c(){e=g("div"),M(t.$$.fragment),n=T(),M(i.$$.fragment),h(e,"class","user-selector")},m(l,o){S(l,e,o),D(t,e,null),p(e,n),D(i,e,null),s=!0},p:O,i(l){s||(w(t.$$.fragment,l),w(i.$$.fragment,l),s=!0)},o(l){C(t.$$.fragment,l),C(i.$$.fragment,l),s=!1},d(l){l&&y(e),B(t),B(i)}}}let y1=class extends j{constructor(e){super(),z(this,e,null,k1,N,{})}};function S1(r){let e,t;return e=new Si({props:{caption:"Shutting down"}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function $1(r){return ve(()=>{setTimeout(()=>{dp(),ft("turnedoff")},2e3)}),[]}let C1=class extends j{constructor(e){super(),z(this,e,$1,S1,N,{})}};function T1(r){let e,t,n,i,s,l,o,a;return{c(){e=g("form"),t=g("input"),n=T(),i=g("button"),s=F("arrow_forward_ios"),t.autofocus=!0,h(t,"type","password"),h(t,"placeholder","Password"),U(t,"wrongpswd",r[0]),h(i,"class","material-icons-round"),i.disabled=l=!r[1]},m(c,u){S(c,e,u),p(e,t),ge(t,r[1]),S(c,n,u),S(c,i,u),p(i,s),t.focus(),o||(a=[P(t,"input",r[6]),P(t,"input",r[7]),P(e,"submit",r[2]),P(i,"click",r[3])],o=!0)},p(c,[u]){u&2&&t.value!==c[1]&&ge(t,c[1]),u&1&&U(t,"wrongpswd",c[0]),u&2&&l!==(l=!c[1])&&(i.disabled=l)},i:O,o:O,d(c){c&&(y(e),y(n),y(i)),o=!1,ke(a)}}}function E1(r,e,t){let n;K(r,Tt,d=>t(8,n=d));let{authenticating:i}=e,s,{wrongpswd:l=!1}=e,{pfp:o=""}=e;ve(async()=>{n||Et("selector"),t(5,o=await gn(n))});function a(d){return d.preventDefault(),c(),!1}async function c(){t(4,i=!0);const d=await xr(Ki({username:n,password:s}));if(!d){t(4,i=!1),t(0,l=!0);return}localStorage.setItem("arcos-remembered-token",btoa(`${n}:${s}`)),ne.set(d),Fe.set(n),ft("desktop")}function u(){s=this.value,t(1,s)}const f=()=>t(0,l=!1);return r.$$set=d=>{"authenticating"in d&&t(4,i=d.authenticating),"wrongpswd"in d&&t(0,l=d.wrongpswd),"pfp"in d&&t(5,o=d.pfp)},[l,s,a,c,i,o,u,f]}class I1 extends j{constructor(e){super(),z(this,e,E1,T1,N,{authenticating:4,wrongpswd:0,pfp:5})}}function Io(r){let e,t,n,i,s;return e=new gt({props:{src:r[1],height:151}}),{c(){M(e.$$.fragment),t=T(),n=g("h1"),i=F(r[3])},m(l,o){D(e,l,o),S(l,t,o),S(l,n,o),p(n,i),s=!0},p(l,o){const a={};o&2&&(a.src=l[1]),e.$set(a),(!s||o&8)&&W(i,l[3])},i(l){s||(w(e.$$.fragment,l),s=!0)},o(l){C(e.$$.fragment,l),s=!1},d(l){l&&(y(t),y(n)),B(e,l)}}}function O1(r){let e;return{c(){e=g("p"),e.textContent="The password is incorrect. Try again.",h(e,"class","error")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}function R1(r){let e,t,n,i,s,l;function o(f){r[5](f)}function a(f){r[6](f)}function c(f){r[7](f)}let u={};return r[0]!==void 0&&(u.authenticating=r[0]),r[1]!==void 0&&(u.pfp=r[1]),r[2]!==void 0&&(u.wrongpswd=r[2]),t=new I1({props:u}),we.push(()=>Ce(t,"authenticating",o)),we.push(()=>Ce(t,"pfp",a)),we.push(()=>Ce(t,"wrongpswd",c)),{c(){e=g("div"),M(t.$$.fragment),h(e,"class","field"),U(e,"hidden",r[0])},m(f,d){S(f,e,d),D(t,e,null),l=!0},p(f,d){const m={};!n&&d&1&&(n=!0,m.authenticating=f[0],$e(()=>n=!1)),!i&&d&2&&(i=!0,m.pfp=f[1],$e(()=>i=!1)),!s&&d&4&&(s=!0,m.wrongpswd=f[2],$e(()=>s=!1)),t.$set(m),(!l||d&1)&&U(e,"hidden",f[0])},i(f){l||(w(t.$$.fragment,f),l=!0)},o(f){C(t.$$.fragment,f),l=!1},d(f){f&&y(e),B(t)}}}function L1(r){let e,t;return e=new Si({props:{caption:"Welcome"}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function D1(r){let e,t=r[2]?"Okay":"Cancel",n,i,s;return{c(){e=g("button"),n=F(t),h(e,"class","switchuser"),h(e,"type","button")},m(l,o){S(l,e,o),p(e,n),i||(s=P(e,"click",r[4]),i=!0)},p(l,o){o&4&&t!==(t=l[2]?"Okay":"Cancel")&&W(n,t)},i:O,o:O,d(l){l&&y(e),i=!1,s()}}}function B1(r){let e,t,n,i,s,l,o,a,c=!r[0]&&Io(r);const u=[R1,O1],f=[];function d(_,k){return _[2]?1:0}n=d(r),i=f[n]=u[n](r);const m=[D1,L1],b=[];function A(_,k){return _[0]?1:0}return l=A(r),o=b[l]=m[l](r),{c(){c&&c.c(),e=T(),t=g("div"),i.c(),s=T(),o.c(),h(t,"class","cloudlogin")},m(_,k){c&&c.m(_,k),S(_,e,k),S(_,t,k),f[n].m(t,null),p(t,s),b[l].m(t,null),a=!0},p(_,[k]){_[0]?c&&(q(),C(c,1,1,()=>{c=null}),Y()):c?(c.p(_,k),k&1&&w(c,1)):(c=Io(_),c.c(),w(c,1),c.m(e.parentNode,e));let v=n;n=d(_),n===v?f[n].p(_,k):(q(),C(f[v],1,1,()=>{f[v]=null}),Y(),i=f[n],i?i.p(_,k):(i=f[n]=u[n](_),i.c()),w(i,1),i.m(t,s));let $=l;l=A(_),l===$?b[l].p(_,k):(q(),C(b[$],1,1,()=>{b[$]=null}),Y(),o=b[l],o?o.p(_,k):(o=b[l]=m[l](_),o.c()),w(o,1),o.m(t,null))},i(_){a||(w(c),w(i),w(o),a=!0)},o(_){C(c),C(i),C(o),a=!1},d(_){_&&(y(e),y(t)),c&&c.d(_),f[n].d(),b[l].d()}}}function M1(r,e,t){let n;K(r,Tt,f=>t(3,n=f));let{authenticating:i=!1}=e,s,l=!1;async function o(){if(l)return t(2,l=!1);Tt.set(void 0),Et("selector")}function a(f){i=f,t(0,i)}function c(f){s=f,t(1,s)}function u(f){l=f,t(2,l)}return r.$$set=f=>{"authenticating"in f&&t(0,i=f.authenticating)},[i,s,l,n,o,a,c,u]}class F1 extends j{constructor(e){super(),z(this,e,M1,B1,N,{authenticating:0})}}function P1(r){let e,t,n,i;function s(o){r[2](o)}let l={};return r[0]!==void 0&&(l.authenticating=r[0]),t=new F1({props:l}),we.push(()=>Ce(t,"authenticating",s)),{c(){e=g("div"),M(t.$$.fragment),h(e,"class","userlogin"),U(e,"show",r[1])},m(o,a){S(o,e,a),D(t,e,null),i=!0},p(o,[a]){const c={};!n&&a&1&&(n=!0,c.authenticating=o[0],$e(()=>n=!1)),t.$set(c),(!i||a&2)&&U(e,"show",o[1])},i(o){i||(w(t.$$.fragment,o),i=!0)},o(o){C(t.$$.fragment,o),i=!1},d(o){o&&y(e),B(t)}}}function U1(r,e,t){let n=!1,i=!1;ve(async()=>{setTimeout(()=>{t(1,i=!0)},10)});function s(l){n=l,t(0,n)}return[n,i,s]}class N1 extends j{constructor(e){super(),z(this,e,U1,P1,N,{})}}function z1(r){let e,t,n;return{c(){e=g("button"),e.textContent="Cancel",h(e,"class","switchuser"),U(e,"show",r[0])},m(i,s){S(i,e,s),t||(n=P(e,"click",r[1]),t=!0)},p(i,[s]){s&1&&U(e,"show",i[0])},i:O,o:O,d(i){i&&y(e),t=!1,n()}}}function j1(r,e,t){let{show:n}=e;const i=()=>Et("selector");return r.$$set=s=>{"show"in s&&t(0,n=s.show)},[n,i]}let H1=class extends j{constructor(e){super(),z(this,e,j1,z1,N,{show:0})}};function Q1(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k,v,$,E,I;return e=new gt({props:{src:Qt,height:151}}),{c(){M(e.$$.fragment),t=T(),n=g("h1"),n.textContent="New user",i=T(),s=g("form"),l=g("input"),o=T(),a=g("input"),u=T(),f=g("div"),d=g("form"),m=g("input"),A=T(),_=g("button"),k=F("arrow_forward_ios"),h(l,"type","text"),h(l,"placeholder","Username"),h(l,"class","block"),l.disabled=r[0],h(a,"type","password"),h(a,"placeholder","Password"),h(a,"class","block"),a.disabled=c=r[0]||!r[1],h(m,"type","password"),h(m,"placeholder","Confirm Password"),h(m,"class","block"),m.disabled=b=r[0]||!r[1],_.disabled=v=r[0]||!r[1]||!r[2]||r[2]!=r[3],h(_,"class","createbutton material-icons-round"),h(_,"type","button"),h(f,"class","input-wrapper")},m(L,R){D(e,L,R),S(L,t,R),S(L,n,R),S(L,i,R),S(L,s,R),p(s,l),ge(l,r[1]),S(L,o,R),S(L,a,R),ge(a,r[2]),S(L,u,R),S(L,f,R),p(f,d),p(d,m),ge(m,r[3]),p(f,A),p(f,_),p(_,k),$=!0,E||(I=[P(l,"input",r[6]),P(s,"submit",r[4]),P(a,"input",r[7]),P(m,"input",r[8]),P(d,"submit",r[4]),P(_,"click",r[4])],E=!0)},p(L,[R]){(!$||R&1)&&(l.disabled=L[0]),R&2&&l.value!==L[1]&&ge(l,L[1]),(!$||R&3&&c!==(c=L[0]||!L[1]))&&(a.disabled=c),R&4&&a.value!==L[2]&&ge(a,L[2]),(!$||R&3&&b!==(b=L[0]||!L[1]))&&(m.disabled=b),R&8&&m.value!==L[3]&&ge(m,L[3]),(!$||R&15&&v!==(v=L[0]||!L[1]||!L[2]||L[2]!=L[3]))&&(_.disabled=v)},i(L){$||(w(e.$$.fragment,L),$=!0)},o(L){C(e.$$.fragment,L),$=!1},d(L){L&&(y(t),y(n),y(i),y(s),y(o),y(a),y(u),y(f)),B(e,L),E=!1,ke(I)}}}function W1(r,e,t){let n;K(r,Ge,m=>t(9,n=m));let{loading:i}=e,{username:s}=e,{password:l}=e,o,{errored:a=!1}=e;async function c(m){if(m&&m.preventDefault(),l!=o||!s||!l||i)return!1;Tt.set(s),Mt.set(!1),t(0,i=!0),await xe(n,"user/create",{},null,{username:s,password:l});const b=await xr(Ki({username:s,password:l}));return b?(ne.set(b),Fe.set(s),ft("desktop"),!1):(Mt.set(!1),t(5,a=!0),t(0,i=!1))}function u(){s=this.value,t(1,s)}function f(){l=this.value,t(2,l)}function d(){o=this.value,t(3,o)}return r.$$set=m=>{"loading"in m&&t(0,i=m.loading),"username"in m&&t(1,s=m.username),"password"in m&&t(2,l=m.password),"errored"in m&&t(5,a=m.errored)},[i,s,l,o,c,a,u,f,d]}class G1 extends j{constructor(e){super(),z(this,e,W1,Q1,N,{loading:0,username:1,password:2,errored:5})}}function K1(r){let e,t;return e=new Si({props:{caption:"Welcome"}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function V1(r){let e,t,n,i;const s=[Y1,q1],l=[];function o(a,c){return a[4]?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=ae()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,c){let u=e;e=o(a),e===u?l[e].p(a,c):(q(),C(l[u],1,1,()=>{l[u]=null}),Y(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function q1(r){let e,t,n,i,s,l;function o(d){r[5](d)}function a(d){r[6](d)}function c(d){r[7](d)}function u(d){r[8](d)}let f={};return r[2]!==void 0&&(f.loading=r[2]),r[0]!==void 0&&(f.username=r[0]),r[1]!==void 0&&(f.password=r[1]),r[4]!==void 0&&(f.errored=r[4]),e=new G1({props:f}),we.push(()=>Ce(e,"loading",o)),we.push(()=>Ce(e,"username",a)),we.push(()=>Ce(e,"password",c)),we.push(()=>Ce(e,"errored",u)),{c(){M(e.$$.fragment)},m(d,m){D(e,d,m),l=!0},p(d,m){const b={};!t&&m&4&&(t=!0,b.loading=d[2],$e(()=>t=!1)),!n&&m&1&&(n=!0,b.username=d[0],$e(()=>n=!1)),!i&&m&2&&(i=!0,b.password=d[1],$e(()=>i=!1)),!s&&m&16&&(s=!0,b.errored=d[4],$e(()=>s=!1)),e.$set(b)},i(d){l||(w(e.$$.fragment,d),l=!0)},o(d){C(e.$$.fragment,d),l=!1},d(d){B(e,d)}}}function Y1(r){let e,t,n;return{c(){e=g("h1"),e.textContent="Oh no",t=T(),n=g("p"),n.textContent=`Sorry! Couldn't create your account... It may already exist. Please try
        again or contact your server administrator.`},m(i,s){S(i,e,s),S(i,t,s),S(i,n,s)},p:O,i:O,o:O,d(i){i&&(y(e),y(t),y(n))}}}function Oo(r){let e,t;return e=new H1({props:{show:r[3]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&8&&(s.show=n[3]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function J1(r){let e,t,n,i,s;const l=[V1,K1],o=[];function a(u,f){return u[2]?1:0}t=a(r),n=o[t]=l[t](r);let c=!r[2]&&Oo(r);return{c(){e=g("div"),n.c(),i=T(),c&&c.c(),h(e,"class","userlogin newuser"),U(e,"errored",r[4]),U(e,"show",r[3]),U(e,"loading",r[2])},m(u,f){S(u,e,f),o[t].m(e,null),p(e,i),c&&c.m(e,null),s=!0},p(u,[f]){let d=t;t=a(u),t===d?o[t].p(u,f):(q(),C(o[d],1,1,()=>{o[d]=null}),Y(),n=o[t],n?n.p(u,f):(n=o[t]=l[t](u),n.c()),w(n,1),n.m(e,i)),u[2]?c&&(q(),C(c,1,1,()=>{c=null}),Y()):c?(c.p(u,f),f&4&&w(c,1)):(c=Oo(u),c.c(),w(c,1),c.m(e,null)),(!s||f&16)&&U(e,"errored",u[4]),(!s||f&8)&&U(e,"show",u[3]),(!s||f&4)&&U(e,"loading",u[2])},i(u){s||(w(n),w(c),s=!0)},o(u){C(n),C(c),s=!1},d(u){u&&y(e),o[t].d(),c&&c.d()}}}function Z1(r,e,t){let n="",i="",s=!1,l=!1,o=!1;ve(()=>{setTimeout(()=>{t(3,l=!0)})});function a(d){s=d,t(2,s)}function c(d){n=d,t(0,n)}function u(d){i=d,t(1,i)}function f(d){o=d,t(4,o)}return[n,i,s,l,o,a,c,u,f]}class X1 extends j{constructor(e){super(),z(this,e,Z1,J1,N,{})}}const Ro=new Map([["selector",{name:"User Selector",content:y1,attribs:{topbar:!0,darken:!1},key:"selector"}],["todesktop",{name:"Login Redirector -> Desktop",content:N1,attribs:{topbar:!1,darken:!0},key:"todesktop"}],["logoff",{name:"Desktop -> Logoff -> User Selector",content:c1,attribs:{topbar:!1,darken:!0},key:"logoff"}],["shutdown",{name:"Desktop -> Logoff -> End",content:C1,attribs:{topbar:!1,darken:!0},key:"shutdown"}],["restart",{name:"Desktop -> Logoff -> Boot",content:d1,attribs:{topbar:!1,darken:!0},key:"restart"}],["newapiuser",{name:"New User",content:X1,attribs:{topbar:!1,darken:!0},key:"newapiuser"}],["autologin",{name:"Auto Login",content:l1,attribs:{topbar:!1,darken:!0},key:"autologin"}]]),$i=pe(),Tt=pe();function Et(r){if(Ro.has(r)){Z("login/main.ts: applyLoginState",`Applying state ${r}`,se.info);const e=Ro.get(r);$i.set(e);return}Al("Login",r)}async function x1(){const r=await Yi(),e=localStorage.getItem("arcos-remembered-token"),t=G($i),n=G(Ge);if(setTimeout(()=>{if(t||Et(e?"autologin":"selector"),!Object.keys(r).length&&!e){n?Et("newapiuser"):ft("fts");return}},100),e&&(!t||t.key!="shutdown"&&t.key!="restart")){const i=await xr(e),s=atob(e).split(":")[0];if(!i){Et("selector"),localStorage.removeItem("arcos-remembered-token");return}Tt.set(s),ne.set(i),Fe.set(s),setTimeout(()=>{ft("desktop")},2e3)}}async function xr(r){Z("ts/api/getter.ts: loginUsingCreds","Authenticating using <token>",se.info);let[e,t]=atob(r).split(":");const n=G(Ge);Tt.set(e);let i=await xe(G(Ge),"auth",{},null,{username:e,password:t});return!i.valid||(rt.set(i.data.token),Fe.set(e),i=await xe(n,"user/properties",{},G(rt),null),!i.valid)?!1:i}async function Lo(){Z("ts/api/getter.ts: rememberedLogin","Attempting login using arcos-remembered-token",se.warn);const r=localStorage.getItem("arcos-remembered-token");if(!r)return!1;const[e,t]=atob(r).split(":"),n=await xr(Ki({username:e,password:t}));return n?(ne.set(n),Fe.set(e),!0):!1}function es(r){Z("ArcTerm",`getSwitches: parsing argv with ${r.length} items...`,se.info);let e={},t="";const n="--";for(let i=0;i<r.length;i++)if(r[i].startsWith(n)){const s=r[i].replace(n,"");t=s==t?t:s,e[t]||(e[t]="")}else t&&(e[t]+=`${r[i]} `);for(const i in e)e[i]=e[i].trim();return e}function An(r,e){Z("ArcTerm",`switchExists: ${e}`);const t=es(r);for(const n in t)if(n==e)return!0;return!1}const eA={keyword:"applist",exec(r,e,t){const n=An(e,"open")?ti():G(ue);nA(t);for(let i=0;i<n.length;i++)tA(t,n[i])},help(r){r.std.writeColor("Example: [applist] --open","blue")},description:"List all- or opened ArcOS apps.",syntax:"([opened?])"};function tA(r,e){const t=e.id.padEnd(30," "),n=e.info.name.padEnd(30," "),i=e.info.version;r.std.writeColor(`${n}[${t}]${i}`,"gray")}function nA(r){const e="Name".padEnd(30," "),t="ID".padEnd(30," "),i=`${e}${t}Version`;r.std.writeColor(`[${i}]`,"yellow"),r.std.writeSeparator(i.length)}const iA=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];function mt(r){let e=0,t=r;for(;t>=1024&&++e;)t=t/1024;return t.toFixed(t<10&&e>0?1:0)+" "+iA[e]}let Lr;async function rA(){try{Lr=(await(await fetch("./desktop")).text()).includes("desktop")?"desktop":"browser"}catch{Lr="browser"}}const Ui=()=>Lr=="desktop";function sA(){return{cores:navigator.hardwareConcurrency||4}}const lA=/(intel|nvidia|sis|amd|apple|powervr)\W? (.+)/i,oA=/(((?:radeon|adreno|geforce|mali).+))/i,aA=/ ?(\(.+?\)| direct3d.+| opengl.+|\/.+$| gpu$)/gi;function cA(){const r={supported:"WebGLRenderingContext"in globalThis,active:!1,vendor:void 0,model:void 0},e=document.createElement("canvas"),t=e.getContext("webgl2")||e.getContext("webgl")||e.getContext("experimental-webgl");if(!t)return r;r.active=!0;const n=t.getExtension("WEBGL_debug_renderer_info");r.vendor=t.getParameter(n.UNMASKED_VENDOR_WEBGL);const i=t.getParameter(n.UNMASKED_RENDERER_WEBGL)??"",s=i.match(lA),l=i.match(oA);return s&&(r.vendor=s[1]),r.model=l?l[1]:i,r.model=r.model.replace(aA,""),r}function uA(){return{kb:(navigator.deviceMemory||1)*1024**3}}const fA={downlink:0,effectiveType:"0G",rtt:0,saveData:!1,online:!1};function dA(){const r=navigator.connection;return r||fA}function pp(){return{gpu:cA(),cpu:sA(),mem:uA(),net:dA()}}const zs="red,orange,yellow,green,aqua,blue,purple".split(","),pA={keyword:"arcfetch",async exec(r,e,t){t.std.writeLine(`
`),await gA(t),t.std.writeLine(""),hA(t)},description:"Show system information"};async function mA(r){const e=pp(),t=Ui();return Object.entries({Server:`${$t()} @ rev ${sp}`,Username:G(Fe),Processor:`${e.cpu.cores} cores`,GPU:`${e.gpu.vendor} ${e.gpu.model}`,Memory:`~ ${mt(e.mem.kb)}`,Mode:(t?"Desktop":"Browser")+` (state ${G(fn).key})`,Reference:r.referenceId})}function hA(r){r.std.write(`
                            `);for(let e=0;e<zs.length;e++)r.std.writeColor("[██ ]",zs[e],"white",!0)}async function gA(r){const e=await mA(r),t=["        ","    _   ","   /_\\  ","  / _ \\ "," /_/ \\_\\","        ","        "];for(let n=0;n<t.length;n++)r.std.writeColor(`  [${t[n]}]    `,"blue","white",!0),e[n]&&r.std.writeColor(`[${e[n][0].padEnd(12," ")}]: ${e[n][1]}`,"purple","white",!0),r.std.writeLine("")}function mp(r,e){return function(){return r.apply(e,arguments)}}const{toString:AA}=Object.prototype,{getPrototypeOf:yl}=Object,{iterator:ts,toStringTag:hp}=Symbol,ns=(r=>e=>{const t=AA.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),nn=r=>(r=r.toLowerCase(),e=>ns(e)===r),is=r=>e=>typeof e===r,{isArray:Ci}=Array,Ni=is("undefined");function bA(r){return r!==null&&!Ni(r)&&r.constructor!==null&&!Ni(r.constructor)&&It(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const gp=nn("ArrayBuffer");function _A(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&gp(r.buffer),e}const wA=is("string"),It=is("function"),Ap=is("number"),rs=r=>r!==null&&typeof r=="object",vA=r=>r===!0||r===!1,vr=r=>{if(ns(r)!=="object")return!1;const e=yl(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(hp in r)&&!(ts in r)},kA=nn("Date"),yA=nn("File"),SA=nn("Blob"),$A=nn("FileList"),CA=r=>rs(r)&&It(r.pipe),TA=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||It(r.append)&&((e=ns(r))==="formdata"||e==="object"&&It(r.toString)&&r.toString()==="[object FormData]"))},EA=nn("URLSearchParams"),[IA,OA,RA,LA]=["ReadableStream","Request","Response","Headers"].map(nn),DA=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ji(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),Ci(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{const s=t?Object.getOwnPropertyNames(r):Object.keys(r),l=s.length;let o;for(n=0;n<l;n++)o=s[n],e.call(null,r[o],o,r)}}function bp(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const Un=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),_p=r=>!Ni(r)&&r!==Un;function js(){const{caseless:r}=_p(this)&&this||{},e={},t=(n,i)=>{const s=r&&bp(e,i)||i;vr(e[s])&&vr(n)?e[s]=js(e[s],n):vr(n)?e[s]=js({},n):Ci(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Ji(arguments[n],t);return e}const BA=(r,e,t,{allOwnKeys:n}={})=>(Ji(e,(i,s)=>{t&&It(i)?r[s]=mp(i,t):r[s]=i},{allOwnKeys:n}),r),MA=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),FA=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},PA=(r,e,t,n)=>{let i,s,l;const o={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),s=i.length;s-- >0;)l=i[s],(!n||n(l,r,e))&&!o[l]&&(e[l]=r[l],o[l]=!0);r=t!==!1&&yl(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},UA=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},NA=r=>{if(!r)return null;if(Ci(r))return r;let e=r.length;if(!Ap(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},zA=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&yl(Uint8Array)),jA=(r,e)=>{const n=(r&&r[ts]).call(r);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(r,s[0],s[1])}},HA=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},QA=nn("HTMLFormElement"),WA=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),Do=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),GA=nn("RegExp"),wp=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Ji(t,(i,s)=>{let l;(l=e(i,s,r))!==!1&&(n[s]=l||i)}),Object.defineProperties(r,n)},KA=r=>{wp(r,(e,t)=>{if(It(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(It(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},VA=(r,e)=>{const t={},n=i=>{i.forEach(s=>{t[s]=!0})};return Ci(r)?n(r):n(String(r).split(e)),t},qA=()=>{},YA=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function JA(r){return!!(r&&It(r.append)&&r[hp]==="FormData"&&r[ts])}const ZA=r=>{const e=new Array(10),t=(n,i)=>{if(rs(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=Ci(n)?[]:{};return Ji(n,(l,o)=>{const a=t(l,i+1);!Ni(a)&&(s[o]=a)}),e[i]=void 0,s}}return n};return t(r,0)},XA=nn("AsyncFunction"),xA=r=>r&&(rs(r)||It(r))&&It(r.then)&&It(r.catch),vp=((r,e)=>r?setImmediate:e?((t,n)=>(Un.addEventListener("message",({source:i,data:s})=>{i===Un&&s===t&&n.length&&n.shift()()},!1),i=>{n.push(i),Un.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",It(Un.postMessage)),e0=typeof queueMicrotask<"u"?queueMicrotask.bind(Un):typeof process<"u"&&process.nextTick||vp,t0=r=>r!=null&&It(r[ts]),te={isArray:Ci,isArrayBuffer:gp,isBuffer:bA,isFormData:TA,isArrayBufferView:_A,isString:wA,isNumber:Ap,isBoolean:vA,isObject:rs,isPlainObject:vr,isReadableStream:IA,isRequest:OA,isResponse:RA,isHeaders:LA,isUndefined:Ni,isDate:kA,isFile:yA,isBlob:SA,isRegExp:GA,isFunction:It,isStream:CA,isURLSearchParams:EA,isTypedArray:zA,isFileList:$A,forEach:Ji,merge:js,extend:BA,trim:DA,stripBOM:MA,inherits:FA,toFlatObject:PA,kindOf:ns,kindOfTest:nn,endsWith:UA,toArray:NA,forEachEntry:jA,matchAll:HA,isHTMLForm:QA,hasOwnProperty:Do,hasOwnProp:Do,reduceDescriptors:wp,freezeMethods:KA,toObjectSet:VA,toCamelCase:WA,noop:qA,toFiniteNumber:YA,findKey:bp,global:Un,isContextDefined:_p,isSpecCompliantForm:JA,toJSONObject:ZA,isAsyncFn:XA,isThenable:xA,setImmediate:vp,asap:e0,isIterable:t0};function De(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}te.inherits(De,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:te.toJSONObject(this.config),code:this.code,status:this.status}}});const kp=De.prototype,yp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{yp[r]={value:r}});Object.defineProperties(De,yp);Object.defineProperty(kp,"isAxiosError",{value:!0});De.from=(r,e,t,n,i,s)=>{const l=Object.create(kp);return te.toFlatObject(r,l,function(a){return a!==Error.prototype},o=>o!=="isAxiosError"),De.call(l,r.message,e,t,n,i),l.cause=r,l.name=r.name,s&&Object.assign(l,s),l};const n0=null;function Hs(r){return te.isPlainObject(r)||te.isArray(r)}function Sp(r){return te.endsWith(r,"[]")?r.slice(0,-2):r}function Bo(r,e,t){return r?r.concat(e).map(function(i,s){return i=Sp(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function i0(r){return te.isArray(r)&&!r.some(Hs)}const r0=te.toFlatObject(te,{},null,function(e){return/^is[A-Z]/.test(e)});function ss(r,e,t){if(!te.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=te.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,_){return!te.isUndefined(_[A])});const n=t.metaTokens,i=t.visitor||u,s=t.dots,l=t.indexes,a=(t.Blob||typeof Blob<"u"&&Blob)&&te.isSpecCompliantForm(e);if(!te.isFunction(i))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(te.isDate(b))return b.toISOString();if(!a&&te.isBlob(b))throw new De("Blob is not supported. Use a Buffer instead.");return te.isArrayBuffer(b)||te.isTypedArray(b)?a&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function u(b,A,_){let k=b;if(b&&!_&&typeof b=="object"){if(te.endsWith(A,"{}"))A=n?A:A.slice(0,-2),b=JSON.stringify(b);else if(te.isArray(b)&&i0(b)||(te.isFileList(b)||te.endsWith(A,"[]"))&&(k=te.toArray(b)))return A=Sp(A),k.forEach(function($,E){!(te.isUndefined($)||$===null)&&e.append(l===!0?Bo([A],E,s):l===null?A:A+"[]",c($))}),!1}return Hs(b)?!0:(e.append(Bo(_,A,s),c(b)),!1)}const f=[],d=Object.assign(r0,{defaultVisitor:u,convertValue:c,isVisitable:Hs});function m(b,A){if(!te.isUndefined(b)){if(f.indexOf(b)!==-1)throw Error("Circular reference detected in "+A.join("."));f.push(b),te.forEach(b,function(k,v){(!(te.isUndefined(k)||k===null)&&i.call(e,k,te.isString(v)?v.trim():v,A,d))===!0&&m(k,A?A.concat(v):[v])}),f.pop()}}if(!te.isObject(r))throw new TypeError("data must be an object");return m(r),e}function Mo(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Sl(r,e){this._pairs=[],r&&ss(r,this,e)}const $p=Sl.prototype;$p.append=function(e,t){this._pairs.push([e,t])};$p.toString=function(e){const t=e?function(n){return e.call(this,n,Mo)}:Mo;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function s0(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Cp(r,e,t){if(!e)return r;const n=t&&t.encode||s0;te.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=te.isURLSearchParams(e)?e.toString():new Sl(e,t).toString(n),s){const l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}class l0{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){te.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Fo=l0,Tp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},o0=typeof URLSearchParams<"u"?URLSearchParams:Sl,a0=typeof FormData<"u"?FormData:null,c0=typeof Blob<"u"?Blob:null,u0={isBrowser:!0,classes:{URLSearchParams:o0,FormData:a0,Blob:c0},protocols:["http","https","file","blob","url","data"]},$l=typeof window<"u"&&typeof document<"u",Qs=typeof navigator=="object"&&navigator||void 0,f0=$l&&(!Qs||["ReactNative","NativeScript","NS"].indexOf(Qs.product)<0),d0=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),p0=$l&&window.location.href||"http://localhost",m0=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$l,hasStandardBrowserEnv:f0,hasStandardBrowserWebWorkerEnv:d0,navigator:Qs,origin:p0},Symbol.toStringTag,{value:"Module"})),wt={...m0,...u0};function h0(r,e){return ss(r,new wt.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,s){return wt.isNode&&te.isBuffer(t)?(this.append(n,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function g0(r){return te.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function A0(r){const e={},t=Object.keys(r);let n;const i=t.length;let s;for(n=0;n<i;n++)s=t[n],e[s]=r[s];return e}function Ep(r){function e(t,n,i,s){let l=t[s++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),a=s>=t.length;return l=!l&&te.isArray(i)?i.length:l,a?(te.hasOwnProp(i,l)?i[l]=[i[l],n]:i[l]=n,!o):((!i[l]||!te.isObject(i[l]))&&(i[l]=[]),e(t,n,i[l],s)&&te.isArray(i[l])&&(i[l]=A0(i[l])),!o)}if(te.isFormData(r)&&te.isFunction(r.entries)){const t={};return te.forEachEntry(r,(n,i)=>{e(g0(n),i,t,0)}),t}return null}function b0(r,e,t){if(te.isString(r))try{return(e||JSON.parse)(r),te.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const Cl={transitional:Tp,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,s=te.isObject(e);if(s&&te.isHTMLForm(e)&&(e=new FormData(e)),te.isFormData(e))return i?JSON.stringify(Ep(e)):e;if(te.isArrayBuffer(e)||te.isBuffer(e)||te.isStream(e)||te.isFile(e)||te.isBlob(e)||te.isReadableStream(e))return e;if(te.isArrayBufferView(e))return e.buffer;if(te.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return h0(e,this.formSerializer).toString();if((o=te.isFileList(e))||n.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return ss(o?{"files[]":e}:e,a&&new a,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),b0(e)):e}],transformResponse:[function(e){const t=this.transitional||Cl.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(te.isResponse(e)||te.isReadableStream(e))return e;if(e&&te.isString(e)&&(n&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(l)throw o.name==="SyntaxError"?De.from(o,De.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wt.classes.FormData,Blob:wt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};te.forEach(["delete","get","head","post","put","patch"],r=>{Cl.headers[r]={}});const Tl=Cl,_0=te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),w0=r=>{const e={};let t,n,i;return r&&r.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),n=l.substring(i+1).trim(),!(!t||e[t]&&_0[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},Po=Symbol("internals");function Oi(r){return r&&String(r).trim().toLowerCase()}function kr(r){return r===!1||r==null?r:te.isArray(r)?r.map(kr):String(r)}function v0(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const k0=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Ts(r,e,t,n,i){if(te.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!te.isString(e)){if(te.isString(n))return e.indexOf(n)!==-1;if(te.isRegExp(n))return n.test(e)}}function y0(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function S0(r,e){const t=te.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,s,l){return this[n].call(this,e,i,s,l)},configurable:!0})})}class ls{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function s(o,a,c){const u=Oi(a);if(!u)throw new Error("header name must be a non-empty string");const f=te.findKey(i,u);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||a]=kr(o))}const l=(o,a)=>te.forEach(o,(c,u)=>s(c,u,a));if(te.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(te.isString(e)&&(e=e.trim())&&!k0(e))l(w0(e),t);else if(te.isObject(e)&&te.isIterable(e)){let o={},a,c;for(const u of e){if(!te.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(a=o[c])?te.isArray(a)?[...a,u[1]]:[a,u[1]]:u[1]}l(o,t)}else e!=null&&s(t,e,n);return this}get(e,t){if(e=Oi(e),e){const n=te.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return v0(i);if(te.isFunction(t))return t.call(this,i,n);if(te.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Oi(e),e){const n=te.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Ts(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function s(l){if(l=Oi(l),l){const o=te.findKey(n,l);o&&(!t||Ts(n,n[o],o,t))&&(delete n[o],i=!0)}}return te.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const s=t[n];(!e||Ts(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,n={};return te.forEach(this,(i,s)=>{const l=te.findKey(n,s);if(l){t[l]=kr(i),delete t[s];return}const o=e?y0(s):String(s).trim();o!==s&&delete t[s],t[o]=kr(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return te.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&te.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[Po]=this[Po]={accessors:{}}).accessors,i=this.prototype;function s(l){const o=Oi(l);n[o]||(S0(i,l),n[o]=!0)}return te.isArray(e)?e.forEach(s):s(e),this}}ls.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);te.reduceDescriptors(ls.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});te.freezeMethods(ls);const Yt=ls;function Es(r,e){const t=this||Tl,n=e||t,i=Yt.from(n.headers);let s=n.data;return te.forEach(r,function(o){s=o.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Ip(r){return!!(r&&r.__CANCEL__)}function Ti(r,e,t){De.call(this,r??"canceled",De.ERR_CANCELED,e,t),this.name="CanceledError"}te.inherits(Ti,De,{__CANCEL__:!0});function Op(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new De("Request failed with status code "+t.status,[De.ERR_BAD_REQUEST,De.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function $0(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function C0(r,e){r=r||10;const t=new Array(r),n=new Array(r);let i=0,s=0,l;return e=e!==void 0?e:1e3,function(a){const c=Date.now(),u=n[s];l||(l=c),t[i]=a,n[i]=c;let f=s,d=0;for(;f!==i;)d+=t[f++],f=f%r;if(i=(i+1)%r,i===s&&(s=(s+1)%r),c-l<e)return;const m=u&&c-u;return m?Math.round(d*1e3/m):void 0}}function T0(r,e){let t=0,n=1e3/e,i,s;const l=(c,u=Date.now())=>{t=u,i=null,s&&(clearTimeout(s),s=null),r.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-t;f>=n?l(c,u):(i=c,s||(s=setTimeout(()=>{s=null,l(i)},n-f)))},()=>i&&l(i)]}const Dr=(r,e,t=3)=>{let n=0;const i=C0(50,250);return T0(s=>{const l=s.loaded,o=s.lengthComputable?s.total:void 0,a=l-n,c=i(a),u=l<=o;n=l;const f={loaded:l,total:o,progress:o?l/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&u?(o-l)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};r(f)},t)},Uo=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},No=r=>(...e)=>te.asap(()=>r(...e)),E0=wt.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,wt.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(wt.origin),wt.navigator&&/(msie|trident)/i.test(wt.navigator.userAgent)):()=>!0,I0=wt.hasStandardBrowserEnv?{write(r,e,t,n,i,s){const l=[r+"="+encodeURIComponent(e)];te.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),te.isString(n)&&l.push("path="+n),te.isString(i)&&l.push("domain="+i),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function O0(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function R0(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function Rp(r,e,t){let n=!O0(e);return r&&(n||t==!1)?R0(r,e):e}const zo=r=>r instanceof Yt?{...r}:r;function Wn(r,e){e=e||{};const t={};function n(c,u,f,d){return te.isPlainObject(c)&&te.isPlainObject(u)?te.merge.call({caseless:d},c,u):te.isPlainObject(u)?te.merge({},u):te.isArray(u)?u.slice():u}function i(c,u,f,d){if(te.isUndefined(u)){if(!te.isUndefined(c))return n(void 0,c,f,d)}else return n(c,u,f,d)}function s(c,u){if(!te.isUndefined(u))return n(void 0,u)}function l(c,u){if(te.isUndefined(u)){if(!te.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function o(c,u,f){if(f in e)return n(c,u);if(f in r)return n(void 0,c)}const a={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(c,u,f)=>i(zo(c),zo(u),f,!0)};return te.forEach(Object.keys(Object.assign({},r,e)),function(u){const f=a[u]||i,d=f(r[u],e[u],u);te.isUndefined(d)&&f!==o||(t[u]=d)}),t}const Lp=r=>{const e=Wn({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:l,auth:o}=e;e.headers=l=Yt.from(l),e.url=Cp(Rp(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let a;if(te.isFormData(t)){if(wt.hasStandardBrowserEnv||wt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((a=l.getContentType())!==!1){const[c,...u]=a?a.split(";").map(f=>f.trim()).filter(Boolean):[];l.setContentType([c||"multipart/form-data",...u].join("; "))}}if(wt.hasStandardBrowserEnv&&(n&&te.isFunction(n)&&(n=n(e)),n||n!==!1&&E0(e.url))){const c=i&&s&&I0.read(s);c&&l.set(i,c)}return e},L0=typeof XMLHttpRequest<"u",D0=L0&&function(r){return new Promise(function(t,n){const i=Lp(r);let s=i.data;const l=Yt.from(i.headers).normalize();let{responseType:o,onUploadProgress:a,onDownloadProgress:c}=i,u,f,d,m,b;function A(){m&&m(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function k(){if(!_)return;const $=Yt.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),I={data:!o||o==="text"||o==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:$,config:r,request:_};Op(function(R){t(R),A()},function(R){n(R),A()},I),_=null}"onloadend"in _?_.onloadend=k:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(k)},_.onabort=function(){_&&(n(new De("Request aborted",De.ECONNABORTED,r,_)),_=null)},_.onerror=function(){n(new De("Network Error",De.ERR_NETWORK,r,_)),_=null},_.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const I=i.transitional||Tp;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),n(new De(E,I.clarifyTimeoutError?De.ETIMEDOUT:De.ECONNABORTED,r,_)),_=null},s===void 0&&l.setContentType(null),"setRequestHeader"in _&&te.forEach(l.toJSON(),function(E,I){_.setRequestHeader(I,E)}),te.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),o&&o!=="json"&&(_.responseType=i.responseType),c&&([d,b]=Dr(c,!0),_.addEventListener("progress",d)),a&&_.upload&&([f,m]=Dr(a),_.upload.addEventListener("progress",f),_.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(u=$=>{_&&(n(!$||$.type?new Ti(null,r,_):$),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=$0(i.url);if(v&&wt.protocols.indexOf(v)===-1){n(new De("Unsupported protocol "+v+":",De.ERR_BAD_REQUEST,r));return}_.send(s||null)})},B0=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,i;const s=function(c){if(!i){i=!0,o();const u=c instanceof Error?c:this.reason;n.abort(u instanceof De?u:new Ti(u instanceof Error?u.message:u))}};let l=e&&setTimeout(()=>{l=null,s(new De(`timeout ${e} of ms exceeded`,De.ETIMEDOUT))},e);const o=()=>{r&&(l&&clearTimeout(l),l=null,r.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),r=null)};r.forEach(c=>c.addEventListener("abort",s));const{signal:a}=n;return a.unsubscribe=()=>te.asap(o),a}},M0=B0,F0=function*(r,e){let t=r.byteLength;if(!e||t<e){yield r;return}let n=0,i;for(;n<t;)i=n+e,yield r.slice(n,i),n=i},P0=async function*(r,e){for await(const t of U0(r))yield*F0(t,e)},U0=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},jo=(r,e,t,n)=>{const i=P0(r,e);let s=0,l,o=a=>{l||(l=!0,n&&n(a))};return new ReadableStream({async pull(a){try{const{done:c,value:u}=await i.next();if(c){o(),a.close();return}let f=u.byteLength;if(t){let d=s+=f;t(d)}a.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(a){return o(a),i.return()}},{highWaterMark:2})},os=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Dp=os&&typeof ReadableStream=="function",N0=os&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),Bp=(r,...e)=>{try{return!!r(...e)}catch{return!1}},z0=Dp&&Bp(()=>{let r=!1;const e=new Request(wt.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),Ho=64*1024,Ws=Dp&&Bp(()=>te.isReadableStream(new Response("").body)),Br={stream:Ws&&(r=>r.body)};os&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Br[e]&&(Br[e]=te.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new De(`Response type '${e}' is not supported`,De.ERR_NOT_SUPPORT,n)})})})(new Response);const j0=async r=>{if(r==null)return 0;if(te.isBlob(r))return r.size;if(te.isSpecCompliantForm(r))return(await new Request(wt.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(te.isArrayBufferView(r)||te.isArrayBuffer(r))return r.byteLength;if(te.isURLSearchParams(r)&&(r=r+""),te.isString(r))return(await N0(r)).byteLength},H0=async(r,e)=>{const t=te.toFiniteNumber(r.getContentLength());return t??j0(e)},Q0=os&&(async r=>{let{url:e,method:t,data:n,signal:i,cancelToken:s,timeout:l,onDownloadProgress:o,onUploadProgress:a,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:d}=Lp(r);c=c?(c+"").toLowerCase():"text";let m=M0([i,s&&s.toAbortSignal()],l),b;const A=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let _;try{if(a&&z0&&t!=="get"&&t!=="head"&&(_=await H0(u,n))!==0){let I=new Request(e,{method:"POST",body:n,duplex:"half"}),L;if(te.isFormData(n)&&(L=I.headers.get("content-type"))&&u.setContentType(L),I.body){const[R,H]=Uo(_,Dr(No(a)));n=jo(I.body,Ho,R,H)}}te.isString(f)||(f=f?"include":"omit");const k="credentials"in Request.prototype;b=new Request(e,{...d,signal:m,method:t.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:k?f:void 0});let v=await fetch(b);const $=Ws&&(c==="stream"||c==="response");if(Ws&&(o||$&&A)){const I={};["status","statusText","headers"].forEach(Q=>{I[Q]=v[Q]});const L=te.toFiniteNumber(v.headers.get("content-length")),[R,H]=o&&Uo(L,Dr(No(o),!0))||[];v=new Response(jo(v.body,Ho,R,()=>{H&&H(),A&&A()}),I)}c=c||"text";let E=await Br[te.findKey(Br,c)||"text"](v,r);return!$&&A&&A(),await new Promise((I,L)=>{Op(I,L,{data:E,headers:Yt.from(v.headers),status:v.status,statusText:v.statusText,config:r,request:b})})}catch(k){throw A&&A(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new De("Network Error",De.ERR_NETWORK,r,b),{cause:k.cause||k}):De.from(k,k&&k.code,r,b)}}),Gs={http:n0,xhr:D0,fetch:Q0};te.forEach(Gs,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const Qo=r=>`- ${r}`,W0=r=>te.isFunction(r)||r===null||r===!1,Mp={getAdapter:r=>{r=te.isArray(r)?r:[r];const{length:e}=r;let t,n;const i={};for(let s=0;s<e;s++){t=r[s];let l;if(n=t,!W0(t)&&(n=Gs[(l=String(t)).toLowerCase()],n===void 0))throw new De(`Unknown adapter '${l}'`);if(n)break;i[l||"#"+s]=n}if(!n){const s=Object.entries(i).map(([o,a])=>`adapter ${o} `+(a===!1?"is not supported by the environment":"is not available in the build"));let l=e?s.length>1?`since :
`+s.map(Qo).join(`
`):" "+Qo(s[0]):"as no adapter specified";throw new De("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Gs};function Is(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Ti(null,r)}function Wo(r){return Is(r),r.headers=Yt.from(r.headers),r.data=Es.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Mp.getAdapter(r.adapter||Tl.adapter)(r).then(function(n){return Is(r),n.data=Es.call(r,r.transformResponse,n),n.headers=Yt.from(n.headers),n},function(n){return Ip(n)||(Is(r),n&&n.response&&(n.response.data=Es.call(r,r.transformResponse,n.response),n.response.headers=Yt.from(n.response.headers))),Promise.reject(n)})}const Fp="1.9.0",as={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{as[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const Go={};as.transitional=function(e,t,n){function i(s,l){return"[Axios v"+Fp+"] Transitional option '"+s+"'"+l+(n?". "+n:"")}return(s,l,o)=>{if(e===!1)throw new De(i(l," has been removed"+(t?" in "+t:"")),De.ERR_DEPRECATED);return t&&!Go[l]&&(Go[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,l,o):!0}};as.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function G0(r,e,t){if(typeof r!="object")throw new De("options must be an object",De.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let i=n.length;for(;i-- >0;){const s=n[i],l=e[s];if(l){const o=r[s],a=o===void 0||l(o,s,r);if(a!==!0)throw new De("option "+s+" must be "+a,De.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new De("Unknown option "+s,De.ERR_BAD_OPTION)}}const yr={assertOptions:G0,validators:as},sn=yr.validators;class Mr{constructor(e){this.defaults=e||{},this.interceptors={request:new Fo,response:new Fo}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Wn(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:s}=t;n!==void 0&&yr.assertOptions(n,{silentJSONParsing:sn.transitional(sn.boolean),forcedJSONParsing:sn.transitional(sn.boolean),clarifyTimeoutError:sn.transitional(sn.boolean)},!1),i!=null&&(te.isFunction(i)?t.paramsSerializer={serialize:i}:yr.assertOptions(i,{encode:sn.function,serialize:sn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),yr.assertOptions(t,{baseUrl:sn.spelling("baseURL"),withXsrfToken:sn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=s&&te.merge(s.common,s[t.method]);s&&te.forEach(["delete","get","head","post","put","patch","common"],b=>{delete s[b]}),t.headers=Yt.concat(l,s);const o=[];let a=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(t)===!1||(a=a&&A.synchronous,o.unshift(A.fulfilled,A.rejected))});const c=[];this.interceptors.response.forEach(function(A){c.push(A.fulfilled,A.rejected)});let u,f=0,d;if(!a){const b=[Wo.bind(this),void 0];for(b.unshift.apply(b,o),b.push.apply(b,c),d=b.length,u=Promise.resolve(t);f<d;)u=u.then(b[f++],b[f++]);return u}d=o.length;let m=t;for(f=0;f<d;){const b=o[f++],A=o[f++];try{m=b(m)}catch(_){A.call(this,_);break}}try{u=Wo.call(this,m)}catch(b){return Promise.reject(b)}for(f=0,d=c.length;f<d;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=Wn(this.defaults,e);const t=Rp(e.baseURL,e.url,e.allowAbsoluteUrls);return Cp(t,e.params,e.paramsSerializer)}}te.forEach(["delete","get","head","options"],function(e){Mr.prototype[e]=function(t,n){return this.request(Wn(n||{},{method:e,url:t,data:(n||{}).data}))}});te.forEach(["post","put","patch"],function(e){function t(n){return function(s,l,o){return this.request(Wn(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Mr.prototype[e]=t(),Mr.prototype[e+"Form"]=t(!0)});const Sr=Mr;class El{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const l=new Promise(o=>{n.subscribe(o),s=o}).then(i);return l.cancel=function(){n.unsubscribe(s)},l},e(function(s,l,o){n.reason||(n.reason=new Ti(s,l,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new El(function(i){e=i}),cancel:e}}}const K0=El;function V0(r){return function(t){return r.apply(null,t)}}function q0(r){return te.isObject(r)&&r.isAxiosError===!0}const Ks={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ks).forEach(([r,e])=>{Ks[e]=r});const Y0=Ks;function Pp(r){const e=new Sr(r),t=mp(Sr.prototype.request,e);return te.extend(t,Sr.prototype,e,{allOwnKeys:!0}),te.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Pp(Wn(r,i))},t}const lt=Pp(Tl);lt.Axios=Sr;lt.CanceledError=Ti;lt.CancelToken=K0;lt.isCancel=Ip;lt.VERSION=Fp;lt.toFormData=ss;lt.AxiosError=De;lt.Cancel=lt.CanceledError;lt.all=function(e){return Promise.all(e)};lt.spread=V0;lt.isAxiosError=q0;lt.mergeConfig=Wn;lt.AxiosHeaders=Yt;lt.formToJSON=r=>Ep(te.isHTMLForm(r)?new FormData(r):r);lt.getAdapter=Mp.getAdapter;lt.HttpStatusCode=Y0;lt.default=lt;const J0=lt;function Up(r,e){Z("api/authcode.ts: setAuthcode",`Adding authcode to ${r}`,se.info);let t=localStorage.getItem("arcos-authcodes");t||(t="{}"),t=JSON.parse(t),t[r]=e,localStorage.setItem("arcos-authcodes",JSON.stringify(t))}function Ei(r){Z("api/authcode.ts: getAuthcode",`Getting authcode for ${r}`,se.info);let e=localStorage.getItem("arcos-authcodes");return e||(e="{}"),e=JSON.parse(e),e[r]}const $r=pe(!1);async function cn(r){Z("fs/file.ts: readFile",`Requesting file contents of "${r}" from ArcAPI`,se.info);const e=G(Ge),t=Ei($t());if(!e)return!1;const n={headers:{Authorization:`Bearer ${G(rt)}`}},i=new AbortController,s=gl({ac:t,path:btoa(r)});try{let l=await fetch(`${e}/fs/file/get${s}`,{...n,signal:i.signal});if($r.set(!1),$r.subscribe(a=>{a&&(Z("fs/file.ts: readFile",`Aborting readFile for "${r}" as requested by the user...`,se.error),i.abort(),Ns.set(!0),$r.set(!1))}),l.status!=200)return!1;const o=await l.blob();return l=null,await o.arrayBuffer()}catch{return!1}}async function un(r,e){Z("fs/directory.ts: writeFile",`Creating ${r}`);const t=G(Ge),n=Ei($t());if(!t)return!1;const i=gl({path:btoa(r),ac:n});return(await J0.post(`${t}/fs/file/write${i}`,e,{headers:{Authorization:`Bearer ${G(rt)}`},onUploadProgress(l){const o=l.loaded/l.total*100;np.set(o)}})).status==200}const Np=""+new URL("apppoker-d7ed29fe.svg",import.meta.url).href,Vs=""+new URL("loadtheme-61b4520f.svg",import.meta.url).href,Z0=""+new URL("openinnew-33fae09f.svg",import.meta.url).href,X0=""+new URL("pdfopener-7ec41537.svg",import.meta.url).href,Ko=["anim","noGlass","sharp","theme","wallpaper","accent","docked","taskbarCentered","taskbarLabels","taskbarPosition","taskbarColored","smallStart","titleButtons","titlebarLarge","titlebarLeft"];function zp(r){const e=G(ne);e.sh.anim=r.anim,e.sh.noGlass=r.noGlass,e.sh.desktop.sharp=r.sharp,e.sh.desktop.theme=r.theme,e.sh.desktop.wallpaper=r.wallpaper,e.sh.desktop.accent=r.accent,e.sh.taskbar.docked=r.docked,e.sh.taskbar.centered=r.taskbarCentered,e.sh.taskbar.labels=r.taskbarLabels,e.sh.taskbar.pos=r.taskbarPosition,e.sh.start.small=r.smallStart,e.sh.window.buttons=r.titleButtons,e.sh.window.bigtb=r.titlebarLarge,e.sh.window.lefttb=r.titlebarLeft,e.sh.taskbar.colored=r.taskbarColored,e.sh.window.centertb=!!r.titlebarCentered,e.sh.taskbar.isLauncher=!!r.isLauncher,ne.set(e)}function x0(r){const e=`${Math.floor(Math.random()*1e6)}`,t=G(ne),n={version:"1.0.0",name:r,author:G(Fe),anim:t.sh.anim,noGlass:t.sh.noGlass,sharp:t.sh.desktop.sharp,theme:t.sh.desktop.theme,wallpaper:t.sh.desktop.wallpaper,accent:t.sh.desktop.accent,docked:t.sh.taskbar.docked,taskbarCentered:t.sh.taskbar.centered,taskbarLabels:t.sh.taskbar.labels,taskbarPosition:t.sh.taskbar.pos,smallStart:t.sh.start.small,titleButtons:t.sh.window.buttons,titlebarLarge:t.sh.window.bigtb,titlebarLeft:t.sh.window.lefttb,taskbarColored:t.sh.taskbar.colored,titlebarCentered:t.sh.taskbar.centered,isLauncher:t.sh.taskbar.isLauncher};t.sh.userThemes||(t.sh.userThemes={}),t.sh.userThemes[e]=n,ne.set(t)}function eb(r){const e=G(ne);return!e.sh.userThemes||!e.sh.userThemes[r]?!1:(delete e.sh.userThemes[r],ne.set(e),!0)}function tb(r){const e=Object.keys(r);for(let t=0;t<Ko.length;t++)if(!e.includes(Ko[t]))return!1;return!0}const cs=""+new URL("apps-5c65dab6.svg",import.meta.url).href;function nb(r){let e,t,n,i,s,l,o,a,c=r[1].name+"",u,f,d,m=r[1].description+"",b,A,_;return{c(){e=g("button"),t=g("div"),n=g("img"),l=T(),o=g("div"),a=g("div"),u=F(c),f=T(),d=g("div"),b=F(m),de(n.src,i=r[1].icon)||h(n,"src",i),h(n,"alt",s=r[1].name),h(t,"class","icon"),h(a,"class","name"),h(d,"class","description"),h(e,"class","option loader"),U(e,"selected",r[0]==r[1].name)},m(k,v){S(k,e,v),p(e,t),p(t,n),p(e,l),p(e,o),p(o,a),p(a,u),p(o,f),p(o,d),p(d,b),A||(_=[P(e,"click",r[2]),P(e,"dblclick",r[3])],A=!0)},p(k,[v]){v&2&&!de(n.src,i=k[1].icon)&&h(n,"src",i),v&2&&s!==(s=k[1].name)&&h(n,"alt",s),v&2&&c!==(c=k[1].name+"")&&W(u,c),v&2&&m!==(m=k[1].description+"")&&W(b,m),v&3&&U(e,"selected",k[0]==k[1].name)},i:O,o:O,d(k){k&&y(e),A=!1,ke(_)}}}function ib(r,e,t){let{loader:n}=e,{file:i}=e,{selected:s=""}=e,{loaderOptions:l}=e,{options:o}=e;function a(){t(0,s=n.name)}function c(){n.loader(i),At("OpenWithApp"),t(4,l=[]),t(5,o=[])}return r.$$set=u=>{"loader"in u&&t(1,n=u.loader),"file"in u&&t(6,i=u.file),"selected"in u&&t(0,s=u.selected),"loaderOptions"in u&&t(4,l=u.loaderOptions),"options"in u&&t(5,o=u.options)},[s,n,a,c,l,o,i]}class rb extends j{constructor(e){super(),z(this,e,ib,nb,N,{loader:1,file:6,selected:0,loaderOptions:4,options:5})}}function sb(r){let e,t,n,i,s,l,o,a,c=r[1].info.name+"",u,f,d,m=r[1].info.description+"",b,A,_,k=r[1].id+"",v,$,E;return{c(){e=g("button"),t=g("div"),n=g("img"),l=T(),o=g("div"),a=g("div"),u=F(c),f=T(),d=g("div"),b=F(m),A=T(),_=g("div"),v=F(k),de(n.src,i=r[1].info.icon)||h(n,"src",i),h(n,"alt",s=r[1].info.name),h(t,"class","icon"),h(a,"class","name"),h(d,"class","description"),h(_,"class","id"),h(e,"class","option"),U(e,"selected",r[0]==r[1].id)},m(I,L){S(I,e,L),p(e,t),p(t,n),p(e,l),p(e,o),p(o,a),p(a,u),p(o,f),p(o,d),p(d,b),p(e,A),p(e,_),p(_,v),$||(E=[P(e,"click",r[2]),P(e,"dblclick",r[3])],$=!0)},p(I,[L]){L&2&&!de(n.src,i=I[1].info.icon)&&h(n,"src",i),L&2&&s!==(s=I[1].info.name)&&h(n,"alt",s),L&2&&c!==(c=I[1].info.name+"")&&W(u,c),L&2&&m!==(m=I[1].info.description+"")&&W(b,m),L&2&&k!==(k=I[1].id+"")&&W(v,k),L&3&&U(e,"selected",I[0]==I[1].id)},i:O,o:O,d(I){I&&y(e),$=!1,ke(E)}}}function lb(r,e,t){let{app:n}=e,{file:i}=e,{selected:s=""}=e,{loaderOptions:l}=e,{options:o}=e;function a(){t(0,s=n.id)}function c(){ms(n.id,i,i.anymime),setTimeout(()=>{$n.set(null)},1e3),At("OpenWithApp"),t(4,l=[]),t(5,o=[])}return r.$$set=u=>{"app"in u&&t(1,n=u.app),"file"in u&&t(6,i=u.file),"selected"in u&&t(0,s=u.selected),"loaderOptions"in u&&t(4,l=u.loaderOptions),"options"in u&&t(5,o=u.options)},[s,n,a,c,l,o,i]}let ob=class extends j{constructor(e){super(),z(this,e,lb,sb,N,{app:1,file:6,selected:0,loaderOptions:4,options:5})}};function Vo(r,e,t){const n=r.slice();return n[13]=e[t],n}function qo(r,e,t){const n=r.slice();return n[16]=e[t],n}function Yo(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k,v,$,E,I,L,R,H=x(r[0]),Q=[];for(let X=0;X<H.length;X+=1)Q[X]=Jo(qo(r,H,X));const ee=X=>C(Q[X],1,1,()=>{Q[X]=null});let J=!r[0].length&&Zo(),Ae=x(r[1]),ce=[];for(let X=0;X<Ae.length;X+=1)ce[X]=Xo(Vo(r,Ae,X));const le=X=>C(ce[X],1,1,()=>{ce[X]=null});let ie=!r[1].length&&xo();return{c(){e=g("div"),t=g("p"),n=F("Select an item to open "),i=F(r[3]),s=T(),l=g("div"),o=g("p"),o.textContent="Apps",a=T();for(let X=0;X<Q.length;X+=1)Q[X].c();c=T(),J&&J.c(),u=T(),f=g("p"),f.textContent="Handlers",d=T();for(let X=0;X<ce.length;X+=1)ce[X].c();m=T(),ie&&ie.c(),b=T(),A=g("div"),_=g("button"),k=F("Open"),$=T(),E=g("button"),E.textContent="Cancel",h(t,"class","title"),h(o,"class","category"),h(f,"class","category"),h(l,"class","options"),_.disabled=v=!r[2],h(A,"class","actions"),h(e,"class","content")},m(X,re){S(X,e,re),p(e,t),p(t,n),p(t,i),p(e,s),p(e,l),p(l,o),p(l,a);for(let V=0;V<Q.length;V+=1)Q[V]&&Q[V].m(l,null);p(l,c),J&&J.m(l,null),p(l,u),p(l,f),p(l,d);for(let V=0;V<ce.length;V+=1)ce[V]&&ce[V].m(l,null);p(l,m),ie&&ie.m(l,null),p(e,b),p(e,A),p(A,_),p(_,k),p(A,$),p(A,E),I=!0,L||(R=[P(_,"click",r[5]),P(E,"click",r[6])],L=!0)},p(X,re){if((!I||re&8)&&W(i,X[3]),re&23){H=x(X[0]);let V;for(V=0;V<H.length;V+=1){const oe=qo(X,H,V);Q[V]?(Q[V].p(oe,re),w(Q[V],1)):(Q[V]=Jo(oe),Q[V].c(),w(Q[V],1),Q[V].m(l,c))}for(q(),V=H.length;V<Q.length;V+=1)ee(V);Y()}if(X[0].length?J&&(J.d(1),J=null):J||(J=Zo(),J.c(),J.m(l,u)),re&23){Ae=x(X[1]);let V;for(V=0;V<Ae.length;V+=1){const oe=Vo(X,Ae,V);ce[V]?(ce[V].p(oe,re),w(ce[V],1)):(ce[V]=Xo(oe),ce[V].c(),w(ce[V],1),ce[V].m(l,m))}for(q(),V=Ae.length;V<ce.length;V+=1)le(V);Y()}X[1].length?ie&&(ie.d(1),ie=null):ie||(ie=xo(),ie.c(),ie.m(l,null)),(!I||re&4&&v!==(v=!X[2]))&&(_.disabled=v)},i(X){if(!I){for(let re=0;re<H.length;re+=1)w(Q[re]);for(let re=0;re<Ae.length;re+=1)w(ce[re]);I=!0}},o(X){Q=Q.filter(Boolean);for(let re=0;re<Q.length;re+=1)C(Q[re]);ce=ce.filter(Boolean);for(let re=0;re<ce.length;re+=1)C(ce[re]);I=!1},d(X){X&&y(e),me(Q,X),J&&J.d(),me(ce,X),ie&&ie.d(),L=!1,ke(R)}}}function Jo(r){let e,t,n,i,s;function l(u){r[7](u)}function o(u){r[8](u)}function a(u){r[9](u)}let c={file:r[4],app:r[16]};return r[1]!==void 0&&(c.loaderOptions=r[1]),r[0]!==void 0&&(c.options=r[0]),r[2]!==void 0&&(c.selected=r[2]),e=new ob({props:c}),we.push(()=>Ce(e,"loaderOptions",l)),we.push(()=>Ce(e,"options",o)),we.push(()=>Ce(e,"selected",a)),{c(){M(e.$$.fragment)},m(u,f){D(e,u,f),s=!0},p(u,f){const d={};f&16&&(d.file=u[4]),f&1&&(d.app=u[16]),!t&&f&2&&(t=!0,d.loaderOptions=u[1],$e(()=>t=!1)),!n&&f&1&&(n=!0,d.options=u[0],$e(()=>n=!1)),!i&&f&4&&(i=!0,d.selected=u[2],$e(()=>i=!1)),e.$set(d)},i(u){s||(w(e.$$.fragment,u),s=!0)},o(u){C(e.$$.fragment,u),s=!1},d(u){B(e,u)}}}function Zo(r){let e;return{c(){e=g("p"),e.textContent="No apps found",h(e,"class","noitems")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function Xo(r){let e,t,n,i,s;function l(u){r[10](u)}function o(u){r[11](u)}function a(u){r[12](u)}let c={loader:r[13],file:r[4]};return r[1]!==void 0&&(c.loaderOptions=r[1]),r[0]!==void 0&&(c.options=r[0]),r[2]!==void 0&&(c.selected=r[2]),e=new rb({props:c}),we.push(()=>Ce(e,"loaderOptions",l)),we.push(()=>Ce(e,"options",o)),we.push(()=>Ce(e,"selected",a)),{c(){M(e.$$.fragment)},m(u,f){D(e,u,f),s=!0},p(u,f){const d={};f&2&&(d.loader=u[13]),f&16&&(d.file=u[4]),!t&&f&2&&(t=!0,d.loaderOptions=u[1],$e(()=>t=!1)),!n&&f&1&&(n=!0,d.options=u[0],$e(()=>n=!1)),!i&&f&4&&(i=!0,d.selected=u[2],$e(()=>i=!1)),e.$set(d)},i(u){s||(w(e.$$.fragment,u),s=!0)},o(u){C(e.$$.fragment,u),s=!1},d(u){B(e,u)}}}function xo(r){let e;return{c(){e=g("p"),e.textContent="No handlers found",h(e,"class","noitems")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function ab(r){let e,t,n=r[4]&&Yo(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[4]?n?(n.p(i,s),s&16&&w(n,1)):(n=Yo(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function cb(r,e,t){let n;K(r,$n,_=>t(4,n=_));let i=[],s=[],l="",o="";$n.subscribe(_=>{if(!_)return t(3,o="file");t(3,o=_.name),t(0,i=[]),t(1,s=[]);let k=[];_.anymime?k=cL():k=Mm(_.mime);for(let $=0;$<k.length;$++)i.push(Ue(k[$]));t(2,l="");const v=Object.entries(Vl);for(let $=0;$<v.length;$++){const I=v[$][1];for(let L=0;L<I.extensions.length;L++)o.endsWith(I.extensions[L])&&s.push(I);I.extensions.length||s.push(I)}});function a(){const _=Ue(l);if(_)ms(_.id,n,n.anymime);else for(let k=0;k<s.length;k++)s[k].name==l&&s[k].loader(n),Ee($n,n=null,n);setTimeout(()=>{$n.set(null)},1e3),c()}function c(){xt.set(!1),At("OpenWithApp")}function u(_){s=_,t(1,s)}function f(_){i=_,t(0,i)}function d(_){l=_,t(2,l)}function m(_){s=_,t(1,s)}function b(_){i=_,t(0,i)}function A(_){l=_,t(2,l)}return[i,s,l,o,n,a,c,u,f,d,m,b,A]}class ub extends j{constructor(e){super(),z(this,e,cb,ab,N,{})}}const fb={info:{name:"Open With",description:"Open a file with an app",builtin:!0,version:"1.0.0",author:"Izaak Kuipers",hidden:!0,icon:cs},size:{w:450,h:550},pos:{x:30,y:40},minSize:{w:450,h:550},maxSize:{w:450,h:550},controls:{min:!1,max:!1,cls:!1},state:{headless:!0,resizable:!1,windowState:{min:!1,max:!1,fll:!0}},content:ub,glass:!0,events:{close(){$n.set(null)}}},$n=pe(null),db=""+new URL("testapp-fd93573e.svg",import.meta.url).href;const pb=""+new URL("unknown-41ebe866.svg",import.meta.url).href;function mb(r,e){Z("icon.ts: hotSwapAppIcon",`Changing app icon for ${e} to ${r}`,se.info);const t=G(ue);for(let n=0;n<t.length;n++)t[n].id==e&&(qs[e]||(qs[e]=`${yt(t[n])}`),t[n].info.icon=r);ue.set(t)}function Wt(r){return qs[r]}function yt(r){return r.info.builtin?r.info.icon:pb}const qs={};function ea(r){let e,t,n,i,s,l,o,a,c=r[0].info.name+"",u,f,d,m=r[0].info.description+"",b,A,_,k,v,$,E,I,L,R,H,Q,ee=(r[0].size.w||bt)+"",J,Ae,ce=(r[0].size.h||bt)+"",le,ie,X,re,V,oe,fe=(r[0].minSize.w||bt)+"",ye,_e,Ie=(r[0].minSize.h||bt)+"",Le,Me,We,nt,vn,Ct,ot=(r[0].maxSize.w||bt)+"",Pt,kn,dn=(r[0].maxSize.h||bt)+"",As,Jl,Zl,Xl,ni,bs,xl,ii,tr=(r[0].pos.x||bt)+"",_s,eo,nr=(r[0].pos.y||bt)+"",ws,to,ri,vs,no,ir,rr=r[0].core+"",ks,io,si,ys,ro,sr,yn,li,so,lr,lo,oi,oo,or,ao,ai,co,ar,uo,ci,Ss,fo,cr,ui,po,ur,$s,mo;function ho(Ne,Ze){return Ne[0].parentId?gb:hb}let fr=ho(r),rn=fr(r);return{c(){e=g("div"),t=g("div"),n=g("img"),l=T(),o=g("div"),a=g("p"),u=F(c),f=T(),d=g("p"),b=F(m),A=T(),rn.c(),_=T(),k=g("div"),v=g("input"),E=T(),I=g("div"),L=g("div"),R=g("div"),R.textContent="Size:",H=T(),Q=g("div"),J=F(ee),Ae=F("x"),le=F(ce),ie=T(),X=g("div"),re=g("div"),re.textContent="Minimal size:",V=T(),oe=g("div"),ye=F(fe),_e=F("x"),Le=F(Ie),Me=T(),We=g("div"),nt=g("div"),nt.textContent="Maximal size:",vn=T(),Ct=g("div"),Pt=F(ot),kn=F("x"),As=F(dn),Jl=T(),Zl=g("hr"),Xl=T(),ni=g("div"),bs=g("div"),bs.textContent="Start position:",xl=T(),ii=g("div"),_s=F(tr),eo=F("x"),ws=F(nr),to=T(),ri=g("div"),vs=g("div"),vs.textContent="Core Application:",no=T(),ir=g("div"),ks=F(rr),io=T(),si=g("div"),ys=g("div"),ys.textContent="Window controls:",ro=T(),sr=g("div"),yn=g("div"),li=g("button"),so=F("minimize"),lo=T(),oi=g("button"),oo=F("crop_square"),ao=T(),ai=g("button"),co=F("close"),uo=T(),ci=g("div"),Ss=g("div"),Ss.textContent="Actions",fo=T(),cr=g("div"),ui=g("button"),po=F("Open"),de(n.src,i=yt(r[0]))||h(n,"src",i),h(n,"alt",s=r[0].info.name),h(a,"class","appname"),h(d,"class","description"),h(v,"type","checkbox"),h(v,"class","switch"),v.disabled=$=Wr.includes(r[2]),h(k,"class","actions"),h(e,"class","name"),h(Q,"class","value"),h(L,"class","property"),h(oe,"class","value"),h(X,"class","property"),h(Ct,"class","value"),h(We,"class","property"),h(ii,"class","value"),h(ni,"class","property"),h(ir,"class","value"),h(ri,"class","property"),h(li,"class","material-icons-round"),li.disabled=lr=!r[0].controls.min,h(oi,"class","material-icons-round"),oi.disabled=or=!r[0].controls.max,h(ai,"class","material-icons-round"),ai.disabled=ar=!r[0].controls.cls,h(yn,"class","controls"),h(sr,"class","value"),h(si,"class","property"),ui.disabled=ur=r[0].opened||r[0].disabled||r[0].core,h(cr,"class","value"),h(ci,"class","property"),h(I,"class","properties")},m(Ne,Ze){S(Ne,e,Ze),p(e,t),p(t,n),p(e,l),p(e,o),p(o,a),p(a,u),p(o,f),p(o,d),p(d,b),p(d,A),rn.m(d,null),p(e,_),p(e,k),p(k,v),v.checked=r[1],S(Ne,E,Ze),S(Ne,I,Ze),p(I,L),p(L,R),p(L,H),p(L,Q),p(Q,J),p(Q,Ae),p(Q,le),p(I,ie),p(I,X),p(X,re),p(X,V),p(X,oe),p(oe,ye),p(oe,_e),p(oe,Le),p(I,Me),p(I,We),p(We,nt),p(We,vn),p(We,Ct),p(Ct,Pt),p(Ct,kn),p(Ct,As),p(I,Jl),p(I,Zl),p(I,Xl),p(I,ni),p(ni,bs),p(ni,xl),p(ni,ii),p(ii,_s),p(ii,eo),p(ii,ws),p(I,to),p(I,ri),p(ri,vs),p(ri,no),p(ri,ir),p(ir,ks),p(I,io),p(I,si),p(si,ys),p(si,ro),p(si,sr),p(sr,yn),p(yn,li),p(li,so),p(yn,lo),p(yn,oi),p(oi,oo),p(yn,ao),p(yn,ai),p(ai,co),p(I,uo),p(I,ci),p(ci,Ss),p(ci,fo),p(ci,cr),p(cr,ui),p(ui,po),$s||(mo=[P(v,"change",r[4]),P(v,"change",r[3]),P(ui,"click",r[5])],$s=!0)},p(Ne,Ze){Ze&1&&!de(n.src,i=yt(Ne[0]))&&h(n,"src",i),Ze&1&&s!==(s=Ne[0].info.name)&&h(n,"alt",s),Ze&1&&c!==(c=Ne[0].info.name+"")&&W(u,c),Ze&1&&m!==(m=Ne[0].info.description+"")&&W(b,m),fr===(fr=ho(Ne))&&rn?rn.p(Ne,Ze):(rn.d(1),rn=fr(Ne),rn&&(rn.c(),rn.m(d,null))),Ze&4&&$!==($=Wr.includes(Ne[2]))&&(v.disabled=$),Ze&2&&(v.checked=Ne[1]),Ze&1&&ee!==(ee=(Ne[0].size.w||bt)+"")&&W(J,ee),Ze&1&&ce!==(ce=(Ne[0].size.h||bt)+"")&&W(le,ce),Ze&1&&fe!==(fe=(Ne[0].minSize.w||bt)+"")&&W(ye,fe),Ze&1&&Ie!==(Ie=(Ne[0].minSize.h||bt)+"")&&W(Le,Ie),Ze&1&&ot!==(ot=(Ne[0].maxSize.w||bt)+"")&&W(Pt,ot),Ze&1&&dn!==(dn=(Ne[0].maxSize.h||bt)+"")&&W(As,dn),Ze&1&&tr!==(tr=(Ne[0].pos.x||bt)+"")&&W(_s,tr),Ze&1&&nr!==(nr=(Ne[0].pos.y||bt)+"")&&W(ws,nr),Ze&1&&rr!==(rr=Ne[0].core+"")&&W(ks,rr),Ze&1&&lr!==(lr=!Ne[0].controls.min)&&(li.disabled=lr),Ze&1&&or!==(or=!Ne[0].controls.max)&&(oi.disabled=or),Ze&1&&ar!==(ar=!Ne[0].controls.cls)&&(ai.disabled=ar),Ze&1&&ur!==(ur=Ne[0].opened||Ne[0].disabled||Ne[0].core)&&(ui.disabled=ur)},d(Ne){Ne&&(y(e),y(E),y(I)),rn.d(),$s=!1,ke(mo)}}}function hb(r){let e,t=r[0].id+"",n,i;return{c(){e=F("("),n=F(t),i=F(")")},m(s,l){S(s,e,l),S(s,n,l),S(s,i,l)},p(s,l){l&1&&t!==(t=s[0].id+"")&&W(n,t)},d(s){s&&(y(e),y(n),y(i))}}}function gb(r){let e,t=r[0].parentId+"",n,i,s=r[0].id+"",l,o;return{c(){e=F("("),n=F(t),i=F("."),l=F(s),o=F(")")},m(a,c){S(a,e,c),S(a,n,c),S(a,i,c),S(a,l,c),S(a,o,c)},p(a,c){c&1&&t!==(t=a[0].parentId+"")&&W(n,t),c&1&&s!==(s=a[0].id+"")&&W(l,s)},d(a){a&&(y(e),y(n),y(i),y(l),y(o))}}}function Ab(r){let e,t=r[0]&&ea(r);return{c(){t&&t.c(),e=ae()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0]?t?t.p(n,i):(t=ea(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}let bt="(unset)";function bb(r,e,t){let n;K(r,zi,u=>t(2,n=u));let i,s=!0;function l(){s?Bm(n):Dm(n),t(0,i=Ue(n)),i&&t(1,s=!Ue(n).disabled)}zi.subscribe(o),ue.subscribe(o);function o(){n&&(t(0,i=Ue(n)),i&&t(1,s=!Ue(n).disabled))}function a(){s=this.checked,t(1,s)}return[i,s,n,l,a,()=>Pe(n)]}let _b=class extends j{constructor(e){super(),z(this,e,bb,Ab,N,{})}};const wb={info:{name:"Application Info",description:"View information about an application",builtin:!0,version:"1.0.0",author:"Izaak Kuipers",hidden:!0,icon:db},size:{w:500,h:450},pos:{x:30,y:40},minSize:{w:500,h:450},maxSize:{w:500,h:450},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:_b,glass:!1,events:{close(){zi.set(null)}}},zi=pe(null),Il=""+new URL("appmanager-60c1ea43.svg",import.meta.url).href;const vb=[{caption:"Run...",icon:"directions_run",action:()=>{Je("run","AppMan")}}],Gn=pe();function ta(r){let e,t,n,i,s,l,o=r[0].info.name+"",a,c,u,f,d,m,b=r[1]&&na();function A(v,$){return v[0].parentId?yb:kb}let _=A(r),k=_(r);return{c(){e=g("div"),t=g("div"),n=g("img"),s=T(),l=g("div"),a=F(o),c=T(),b&&b.c(),u=T(),f=g("div"),k.c(),de(n.src,i=Wt(r[0].id)||yt(r[0]))||h(n,"src",i),h(n,"alt",""),h(l,"class","appname"),h(f,"class","id"),h(e,"class","appinstance"),U(e,"closed",!r[0].opened),U(e,"selected",r[2]==r[0].id)},m(v,$){S(v,e,$),p(e,t),p(t,n),p(e,s),p(e,l),p(l,a),p(l,c),b&&b.m(l,null),p(e,u),p(e,f),k.m(f,null),d||(m=P(e,"click",r[3]),d=!0)},p(v,$){$&1&&!de(n.src,i=Wt(v[0].id)||yt(v[0]))&&h(n,"src",i),$&1&&o!==(o=v[0].info.name+"")&&W(a,o),v[1]?b||(b=na(),b.c(),b.m(l,null)):b&&(b.d(1),b=null),_===(_=A(v))&&k?k.p(v,$):(k.d(1),k=_(v),k&&(k.c(),k.m(f,null))),$&1&&U(e,"closed",!v[0].opened),$&5&&U(e,"selected",v[2]==v[0].id)},d(v){v&&y(e),b&&b.d(),k.d(),d=!1,m()}}}function na(r){let e;return{c(){e=F("(Dialog)")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function kb(r){let e=r[0].id+"",t;return{c(){t=F(e)},m(n,i){S(n,t,i)},p(n,i){i&1&&e!==(e=n[0].id+"")&&W(t,e)},d(n){n&&y(t)}}}function yb(r){let e=r[0].parentId+"",t,n,i=r[0].id+"",s;return{c(){t=F(e),n=F("."),s=F(i)},m(l,o){S(l,t,o),S(l,n,o),S(l,s,o)},p(l,o){o&1&&e!==(e=l[0].parentId+"")&&W(t,e),o&1&&i!==(i=l[0].id+"")&&W(s,i)},d(l){l&&(y(t),y(n),y(s))}}}function Sb(r){let e=r[0]&&(!bi(r[0].id)&&jt(r[0].id)||r[1]),t,n=e&&ta(r);return{c(){n&&n.c(),t=ae()},m(i,s){n&&n.m(i,s),S(i,t,s)},p(i,[s]){s&3&&(e=i[0]&&(!bi(i[0].id)&&jt(i[0].id)||i[1])),e?n?n.p(i,s):(n=ta(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:O,o:O,d(i){i&&y(t),n&&n.d(i)}}}function $b(r,e,t){let n;K(r,Gn,o=>t(2,n=o));let{app:i}=e,{error:s=!1}=e;function l(){Ee(Gn,n=i.id,n)}return r.$$set=o=>{"app"in o&&t(0,i=o.app),"error"in o&&t(1,s=o.error)},[i,s,n,l]}let Cb=class extends j{constructor(e){super(),z(this,e,$b,Sb,N,{app:0,error:1})}};const jp=""+new URL("default-fc91861d.svg",import.meta.url).href;function ia(r){let e,t,n,i,s=r[1].info.name+"",l,o,a,c=r[2].id+"",u,f,d;return{c(){e=g("div"),t=g("div"),t.innerHTML=`<img src="${jp}" alt=""/>`,n=T(),i=g("div"),l=F(s),o=T(),a=g("div"),u=F(c),f=F("."),d=F(r[0]),h(i,"class","appname"),h(a,"class","id"),h(e,"class","appinstance"),U(e,"closed",!r[1].show)},m(m,b){S(m,e,b),p(e,t),p(e,n),p(e,i),p(i,l),p(e,o),p(e,a),p(a,u),p(a,f),p(a,d)},p(m,b){b&2&&s!==(s=m[1].info.name+"")&&W(l,s),b&4&&c!==(c=m[2].id+"")&&W(u,c),b&1&&W(d,m[0]),b&2&&U(e,"closed",!m[1].show)},d(m){m&&y(e)}}}function Tb(r){let e,t=r[1]&&jt(r[2].id),n=t&&ia(r);return{c(){e=g("div"),n&&n.c(),h(e,"class","indent")},m(i,s){S(i,e,s),n&&n.m(e,null)},p(i,[s]){s&6&&(t=i[1]&&jt(i[2].id)),t?n?n.p(i,s):(n=ia(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:O,o:O,d(i){i&&y(e),n&&n.d()}}}function Eb(r,e,t){let{id:n}=e,{overlay:i}=e,{parent:s}=e;return r.$$set=l=>{"id"in l&&t(0,n=l.id),"overlay"in l&&t(1,i=l.overlay),"parent"in l&&t(2,s=l.parent)},[n,i,s]}class Ib extends j{constructor(e){super(),z(this,e,Eb,Tb,N,{id:0,overlay:1,parent:2})}}function ra(r,e,t){const n=r.slice();return n[3]=e[t],n}function sa(r,e,t){const n=r.slice();return n[6]=e[t],n}function la(r){let e,t,n,i,s;t=new Cb({props:{app:r[0],error:r[2]}});let l=r[0].children&&oa(r),o=r[0].overlays&&ca(r);return{c(){e=g("div"),M(t.$$.fragment),n=T(),l&&l.c(),i=T(),o&&o.c(),U(e,"indent",!r[1])},m(a,c){S(a,e,c),D(t,e,null),p(e,n),l&&l.m(e,null),p(e,i),o&&o.m(e,null),s=!0},p(a,c){const u={};c&1&&(u.app=a[0]),c&4&&(u.error=a[2]),t.$set(u),a[0].children?l?(l.p(a,c),c&1&&w(l,1)):(l=oa(a),l.c(),w(l,1),l.m(e,i)):l&&(q(),C(l,1,1,()=>{l=null}),Y()),a[0].overlays?o?(o.p(a,c),c&1&&w(o,1)):(o=ca(a),o.c(),w(o,1),o.m(e,null)):o&&(q(),C(o,1,1,()=>{o=null}),Y()),(!s||c&2)&&U(e,"indent",!a[1])},i(a){s||(w(t.$$.fragment,a),w(l),w(o),s=!0)},o(a){C(t.$$.fragment,a),C(l),C(o),s=!1},d(a){a&&y(e),B(t),l&&l.d(),o&&o.d()}}}function oa(r){let e,t,n=x(Object.keys(r[0].children)),i=[];for(let l=0;l<n.length;l+=1)i[l]=aa(sa(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ae()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&1){n=x(Object.keys(l[0].children));let a;for(a=0;a<n.length;a+=1){const c=sa(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=aa(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function aa(r){let e,t;return e=new Ol({props:{window:Ue(r[6])}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.window=Ue(n[6])),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function ca(r){let e,t,n=x(Object.entries(r[0].overlays)),i=[];for(let l=0;l<n.length;l+=1)i[l]=ua(ra(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ae()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&1){n=x(Object.entries(l[0].overlays));let a;for(a=0;a<n.length;a+=1){const c=ra(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=ua(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function ua(r){let e,t;return e=new Ib({props:{overlay:r[3][1],parent:r[0],id:r[3][0]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.overlay=n[3][1]),i&1&&(s.parent=n[0]),i&1&&(s.id=n[3][0]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Ob(r){let e,t,n=r[0]&&la(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=la(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function Rb(r,e,t){let{window:n}=e,{top:i=!1}=e,{error:s=!1}=e;return r.$$set=l=>{"window"in l&&t(0,n=l.window),"top"in l&&t(1,i=l.top),"error"in l&&t(2,s=l.error)},[n,i,s]}let Ol=class extends j{constructor(e){super(),z(this,e,Rb,Ob,N,{window:0,top:1,error:2})}};function fa(r,e,t){const n=r.slice();return n[2]=e[t],n}function da(r,e,t){const n=r.slice();return n[5]=e[t],n}function pa(r){let e,t;return e=new Ol({props:{window:r[5],top:!0}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.window=n[5]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function ma(r){let e,t,n=!r[5].parentId&&pa(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,s){i[5].parentId?n&&(q(),C(n,1,1,()=>{n=null}),Y()):n?(n.p(i,s),s&2&&w(n,1)):(n=pa(i),n.c(),w(n,1),n.m(e.parentNode,e))},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function ha(r){let e,t;return e=new Ol({props:{window:r[2],top:!0,error:!0}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.window=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Lb(r){let e,t,n,i=x(r[1]),s=[];for(let u=0;u<i.length;u+=1)s[u]=ma(da(r,i,u));const l=u=>C(s[u],1,1,()=>{s[u]=null});let o=x(r[0]),a=[];for(let u=0;u<o.length;u+=1)a[u]=ha(fa(r,o,u));const c=u=>C(a[u],1,1,()=>{a[u]=null});return{c(){e=g("div");for(let u=0;u<s.length;u+=1)s[u].c();t=T();for(let u=0;u<a.length;u+=1)a[u].c();h(e,"class","apps")},m(u,f){S(u,e,f);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(e,null);p(e,t);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(e,null);n=!0},p(u,[f]){if(f&2){i=x(u[1]);let d;for(d=0;d<i.length;d+=1){const m=da(u,i,d);s[d]?(s[d].p(m,f),w(s[d],1)):(s[d]=ma(m),s[d].c(),w(s[d],1),s[d].m(e,t))}for(q(),d=i.length;d<s.length;d+=1)l(d);Y()}if(f&1){o=x(u[0]);let d;for(d=0;d<o.length;d+=1){const m=fa(u,o,d);a[d]?(a[d].p(m,f),w(a[d],1)):(a[d]=ha(m),a[d].c(),w(a[d],1),a[d].m(e,null))}for(q(),d=o.length;d<a.length;d+=1)c(d);Y()}},i(u){if(!n){for(let f=0;f<i.length;f+=1)w(s[f]);for(let f=0;f<o.length;f+=1)w(a[f]);n=!0}},o(u){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)C(s[f]);a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)C(a[f]);n=!1},d(u){u&&y(e),me(s,u),me(a,u)}}}function Db(r,e,t){let n;K(r,ue,s=>t(1,n=s));let i=[];return qt.subscribe(s=>{t(0,i=s)}),[i,n]}class Bb extends j{constructor(e){super(),z(this,e,Db,Lb,N,{})}}function ga(r){let e,t,n=Ue(r[0]).snapped?"yes":"no",i;return{c(){e=g("div"),t=F("Snapped: "),i=F(n),h(e,"class","section")},m(s,l){S(s,e,l),p(e,t),p(e,i)},p(s,l){l&1&&n!==(n=Ue(s[0]).snapped?"yes":"no")&&W(i,n)},d(s){s&&y(e)}}}function Mb(r){let e,t,n=r[0]&&!r[0].startsWith("error_"),i,s,l,o=r[1].length+"",a,c,u,f,d=r[2].length+"",m,b,A,_,k=r[3].length+"",v,$=n&&ga(r);return{c(){e=g("div"),t=g("div"),$&&$.c(),i=T(),s=g("div"),l=F("Running: "),a=F(o),c=T(),u=g("div"),f=F("Loaded: "),m=F(d),b=T(),A=g("div"),_=F("Dialogs: "),v=F(k),h(s,"class","section"),h(u,"class","section"),h(A,"class","section"),h(t,"class","right"),h(e,"class","bottombar")},m(E,I){S(E,e,I),p(e,t),$&&$.m(t,null),p(t,i),p(t,s),p(s,l),p(s,a),p(t,c),p(t,u),p(u,f),p(u,m),p(t,b),p(t,A),p(A,_),p(A,v)},p(E,[I]){I&1&&(n=E[0]&&!E[0].startsWith("error_")),n?$?$.p(E,I):($=ga(E),$.c(),$.m(t,i)):$&&($.d(1),$=null),I&2&&o!==(o=E[1].length+"")&&W(a,o),I&4&&d!==(d=E[2].length+"")&&W(m,d),I&8&&k!==(k=E[3].length+"")&&W(v,k)},i:O,o:O,d(E){E&&y(e),$&&$.d()}}}function Fb(r,e,t){let n,i,s,l;return K(r,Gn,o=>t(0,n=o)),K(r,sh,o=>t(1,i=o)),K(r,ue,o=>t(2,s=o)),K(r,qt,o=>t(3,l=o)),[n,i,s,l]}class Pb extends j{constructor(e){super(),z(this,e,Fb,Mb,N,{})}}function Ub(r){let e,t,n=r[0].icon+"",i,s,l,o=r[0].caption+"",a,c,u;return{c(){e=g("button"),t=g("span"),i=F(n),s=T(),l=g("p"),a=F(o),h(t,"class","material-icons-round"),h(l,"class","caption"),h(e,"class","action")},m(f,d){S(f,e,d),p(e,t),p(t,i),p(e,s),p(e,l),p(l,a),c||(u=P(e,"click",function(){at(r[0].action)&&r[0].action.apply(this,arguments)}),c=!0)},p(f,[d]){r=f,d&1&&n!==(n=r[0].icon+"")&&W(i,n),d&1&&o!==(o=r[0].caption+"")&&W(a,o)},i:O,o:O,d(f){f&&y(e),c=!1,u()}}}function Nb(r,e,t){let{action:n}=e;return r.$$set=i=>{"action"in i&&t(0,n=i.action)},[n]}let zb=class extends j{constructor(e){super(),z(this,e,Nb,Ub,N,{action:0})}};function jb(r){let e,t,n,i,s,l,o;return{c(){e=g("button"),t=g("span"),t.textContent="settings",n=T(),i=g("p"),i.textContent="App info",h(t,"class","material-icons-round"),h(i,"class","caption"),h(e,"class","action"),e.disabled=s=!r[0]},m(a,c){S(a,e,c),p(e,t),p(e,n),p(e,i),l||(o=P(e,"click",r[1]),l=!0)},p(a,[c]){c&1&&s!==(s=!a[0])&&(e.disabled=s)},i:O,o:O,d(a){a&&y(e),l=!1,o()}}}function Hb(r,e,t){let n;K(r,Gn,s=>t(0,n=s));function i(){zi.set(n),Pe("AppInfo")}return[n,i]}class Qb extends j{constructor(e){super(),z(this,e,Hb,jb,N,{})}}function Wb(r){let e,t,n,i,s,l,o;return{c(){e=g("button"),t=g("span"),t.textContent="close",n=T(),i=g("p"),i.textContent="Close",h(t,"class","material-icons-round"),h(i,"class","caption"),h(e,"class","action"),e.disabled=s=!r[0]},m(a,c){S(a,e,c),p(e,t),p(e,n),p(e,i),l||(o=P(e,"click",r[1]),l=!0)},p(a,[c]){c&1&&s!==(s=!a[0])&&(e.disabled=s)},i:O,o:O,d(a){a&&y(e),l=!1,o()}}}function Gb(r,e,t){let n;K(r,Gn,s=>t(0,n=s));function i(){At(n),Ee(Gn,n=null,n)}return[n,i]}class Kb extends j{constructor(e){super(),z(this,e,Gb,Wb,N,{})}}function Vb(r){let e,t,n,i,s,l,o;return{c(){e=g("button"),t=g("span"),t.textContent="block",n=T(),i=g("p"),i.textContent="Disable",h(t,"class","material-icons-round"),h(i,"class","caption"),h(e,"class","action"),e.disabled=s=!r[0]},m(a,c){S(a,e,c),p(e,t),p(e,n),p(e,i),l||(o=P(e,"click",r[1]),l=!0)},p(a,[c]){c&1&&s!==(s=!a[0])&&(e.disabled=s)},i:O,o:O,d(a){a&&y(e),l=!1,o()}}}function qb(r,e,t){let n;K(r,Gn,s=>t(0,n=s));function i(){Dm(n)}return[n,i]}class Yb extends j{constructor(e){super(),z(this,e,qb,Vb,N,{})}}function Jb(r,e,t){const n=r.slice();return n[0]=e[t],n}function Zb(r){let e,t;return e=new zb({props:{action:r[0]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Xb(r){let e,t,n,i,s,l,o,a,c,u,f,d,m;n=new Qb({}),o=new Yb({}),c=new Kb({});let b=x(vb),A=[];for(let _=0;_<b.length;_+=1)A[_]=Zb(Jb(r,b,_));return{c(){e=g("div"),t=g("div"),M(n.$$.fragment),i=T(),s=g("div"),l=T(),M(o.$$.fragment),a=T(),M(c.$$.fragment),u=T(),f=g("div"),d=T();for(let _=0;_<A.length;_+=1)A[_].c();h(s,"class","sep"),h(f,"class","sep"),h(t,"class","actions"),h(e,"class","topbar")},m(_,k){S(_,e,k),p(e,t),D(n,t,null),p(t,i),p(t,s),p(t,l),D(o,t,null),p(t,a),D(c,t,null),p(t,u),p(t,f),p(t,d);for(let v=0;v<A.length;v+=1)A[v]&&A[v].m(t,null);m=!0},p:O,i(_){if(!m){w(n.$$.fragment,_),w(o.$$.fragment,_),w(c.$$.fragment,_);for(let k=0;k<b.length;k+=1)w(A[k]);m=!0}},o(_){C(n.$$.fragment,_),C(o.$$.fragment,_),C(c.$$.fragment,_),A=A.filter(Boolean);for(let k=0;k<A.length;k+=1)C(A[k]);m=!1},d(_){_&&y(e),B(n),B(o),B(c),me(A,_)}}}let xb=class extends j{constructor(e){super(),z(this,e,null,Xb,N,{})}};function e_(r){let e,t,n,i,s,l;return e=new xb({}),n=new Bb({}),s=new Pb({}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment),i=T(),M(s.$$.fragment)},m(o,a){D(e,o,a),S(o,t,a),D(n,o,a),S(o,i,a),D(s,o,a),l=!0},p:O,i(o){l||(w(e.$$.fragment,o),w(n.$$.fragment,o),w(s.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),C(n.$$.fragment,o),C(s.$$.fragment,o),l=!1},d(o){o&&(y(t),y(i)),B(e,o),B(n,o),B(s,o)}}}let t_=class extends j{constructor(e){super(),z(this,e,null,e_,N,{})}};function Aa(r,e,t){const n=r.slice();return n[5]=e[t],n}function ba(r){let e,t=r[5].id+"",n,i;return{c(){e=g("option"),n=F(t),e.__value=i=r[5].id,ge(e,e.__value)},m(s,l){S(s,e,l),p(e,n)},p(s,l){l&2&&t!==(t=s[5].id+"")&&W(n,t),l&2&&i!==(i=s[5].id)&&(e.__value=i,ge(e,e.__value))},d(s){s&&y(e)}}}function _a(r){let e=!jt(r[5].id)&&!r[5].info.custom&&!bi(r[5].id),t,n=e&&ba(r);return{c(){n&&n.c(),t=ae()},m(i,s){n&&n.m(i,s),S(i,t,s)},p(i,s){s&2&&(e=!jt(i[5].id)&&!i[5].info.custom&&!bi(i[5].id)),e?n?n.p(i,s):(n=ba(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){i&&y(t),n&&n.d(i)}}}function n_(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k,v,$=x(r[1]),E=[];for(let I=0;I<$.length;I+=1)E[I]=_a(Aa(r,$,I));return{c(){e=g("div"),t=g("img"),i=T(),s=g("div"),l=g("p"),l.textContent="Select the ID of the app you want to run from the following list:",o=T(),a=g("select");for(let I=0;I<E.length;I+=1)E[I].c();c=T(),u=g("div"),f=g("div"),d=g("button"),m=F("Run"),A=T(),_=g("button"),_.textContent="Cancel",de(t.src,n=cs)||h(t,"src",n),h(t,"alt","Run"),h(t,"class","svelte-1pwxzgl"),h(l,"class","caption svelte-1pwxzgl"),h(a,"class","svelte-1pwxzgl"),r[0]===void 0&&En(()=>r[4].call(a)),h(s,"class","inner"),h(e,"class","wrapper svelte-1pwxzgl"),d.disabled=b=!r[0],h(f,"class","inner svelte-1pwxzgl"),h(u,"class","actions svelte-1pwxzgl")},m(I,L){S(I,e,L),p(e,t),p(e,i),p(e,s),p(s,l),p(s,o),p(s,a);for(let R=0;R<E.length;R+=1)E[R]&&E[R].m(a,null);Tn(a,r[0],!0),S(I,c,L),S(I,u,L),p(u,f),p(f,d),p(d,m),p(f,A),p(f,_),k||(v=[P(a,"change",r[4]),P(d,"click",r[2]),P(_,"click",r[3])],k=!0)},p(I,[L]){if(L&2){$=x(I[1]);let R;for(R=0;R<$.length;R+=1){const H=Aa(I,$,R);E[R]?E[R].p(H,L):(E[R]=_a(H),E[R].c(),E[R].m(a,null))}for(;R<E.length;R+=1)E[R].d(1);E.length=$.length}L&3&&Tn(a,I[0]),L&3&&b!==(b=!I[0])&&(d.disabled=b)},i:O,o:O,d(I){I&&(y(e),y(c),y(u)),me(E,I),k=!1,ke(v)}}}function i_(r,e,t){let n;K(r,ue,a=>t(1,n=a));let i;function s(){Pe(i,!0),l()}function l(){Ye("run","AppMan")}function o(){i=Vr(this),t(0,i)}return[i,n,s,l,o]}class r_ extends j{constructor(e){super(),z(this,e,i_,n_,N,{})}}const _i=pe([]);function Rl(r){if(s_(r.identifier))return!1;const e=G(_i);e.push(r),_i.set(e)}function Fr(r){const e=G(_i);for(let t=0;t<e.length;t++)e[t].identifier==r&&e.splice(t,1);_i.set(e)}function s_(r){const e=G(_i);for(let t=0;t<e.length;t++)if(e[t].identifier==r)return!0;return!1}const Hp={info:{name:"Application Manager",description:"Manage Open Apps",builtin:!0,version:"1.5.0",author:"Izaak Kuipers",icon:Il,appGroup:"systemTools"},size:{w:600,h:500},pos:{x:30,y:40},minSize:{w:600,h:500},maxSize:{w:600,h:500},controls:{min:!1,max:!0,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:t_,glass:!0,events:{open(){Rl({image:Hp.info.icon,identifier:"Application Manager",onOpen(){}})},close(){Fr("Application Manager")}},overlays:{run:{info:{name:"Run",author:"ArcOS Team",version:"1.0.0"},size:{w:NaN,h:NaN},show:!1,content:r_}}},us=""+new URL("arcterm-b608c3ab.svg",import.meta.url).href;function l_(r){let e,t,n;return{c(){e=g("div"),h(e,"class","terminal-renderer")},m(i,s){S(i,e,s),r[3](e),t||(n=P(e,"click",r[1]),t=!0)},p:O,i:O,o:O,d(i){i&&y(e),r[3](null),t=!1,n()}}}function o_(r,e,t){let n;K(r,et,c=>t(5,n=c));let{app:i}=e,s,l;ve(()=>{t(2,i.events.close=()=>{s&&(s.dispose(),s=null)},i),t(2,i.events.open=()=>{s||(s=new Um(l,[...Pm,...oD],i,c=>{c.std.clear()})),i.state.windowState.fll&&th(i.id)},i),t(2,i.events.blur=()=>{s&&s.input&&s.input.current&&(s.input.current.disabled=!0)},i),t(2,i.events.focus=()=>{s&&s.input&&s.input.current&&(s.input.current.disabled=!1)},i)});function o(){!s||!s.input||!s.input.current||n!="ArcTerm"||(s.input.current.focus(),l&&l.scrollTo(0,l.scrollHeight))}setInterval(o,10);function a(c){we[c?"unshift":"push"](()=>{l=c,t(0,l)})}return r.$$set=c=>{"app"in c&&t(2,i=c.app)},[l,o,i,a]}let a_=class extends j{constructor(e){super(),z(this,e,o_,l_,N,{app:2})}};const c_={info:{name:"ArcTerm",description:"ArcOS Terminal",builtin:!0,version:"2.0.0",author:"ArcOS Team",icon:us},size:{w:640,h:480},pos:{x:60,y:60},minSize:{w:350,h:250},maxSize:{w:NaN,h:NaN},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:a_,glass:!0,events:{keyboardShortcuts:[{alt:!0,shift:!0,key:"f",action(r){th(r.id)}}]}};const Kn=""+new URL("file-0d0c64f1.svg",import.meta.url).href;function u_(r){let e,t,n,i,s,l,o=(r[0].title||`Report from ${r[0].author}`)+"",a,c,u,f,d=r[0].author+"",m,b,A=(r[0].api||"No API")+"",_,k,v,$,E;return{c(){e=g("div"),t=g("img"),i=T(),s=g("div"),l=g("h1"),a=F(o),c=T(),u=g("p"),f=g("span"),m=F(d),b=F(" - "),_=F(A),k=T(),v=g("button"),v.textContent="chat",de(t.src,n=Kn)||h(t,"src",n),h(t,"alt",""),h(l,"data-contextmenu","report-export"),h(l,"data-id",r[1]),h(f,"class","author"),h(v,"class","material-icons-round show-body"),h(v,"title","View report body"),h(e,"class","header")},m(I,L){S(I,e,L),p(e,t),p(e,i),p(e,s),p(s,l),p(l,a),p(s,c),p(s,u),p(u,f),p(f,m),p(u,b),p(u,_),p(e,k),p(e,v),$||(E=P(v,"click",r[2]),$=!0)},p(I,[L]){L&1&&o!==(o=(I[0].title||`Report from ${I[0].author}`)+"")&&W(a,o),L&2&&h(l,"data-id",I[1]),L&1&&d!==(d=I[0].author+"")&&W(m,d),L&1&&A!==(A=(I[0].api||"No API")+"")&&W(_,A)},i:O,o:O,d(I){I&&y(e),$=!1,E()}}}function f_(r,e,t){let{report:n}=e,{id:i}=e;function s(){Je("bodyView","BugReports")}return r.$$set=l=>{"report"in l&&t(0,n=l.report),"id"in l&&t(1,i=l.id)},[n,i,s]}let d_=class extends j{constructor(e){super(),z(this,e,f_,u_,N,{report:0,id:1})}};function p_(r){let e;return{c(){e=g("div"),e.innerHTML=`<div class="not-found"><img src="${Gi}" alt="Bug Reports"/> <p class="header">No Report Selected</p> <p>There is no report selected or the selected report no longer exists.</p></div>`,h(e,"class","not-found-wrapper")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}let m_=class extends j{constructor(e){super(),z(this,e,null,p_,N,{})}};function h_(r){let e,t,n,i,s=r[0].userdata?"Show Data":"Not Provided",l,o,a,c;return{c(){e=g("div"),t=g("div"),t.innerHTML="<h1>User Data</h1> <p>Your ArcOS Settings</p>",n=T(),i=g("button"),l=F(s),h(t,"class","left"),i.disabled=o=!r[0].userdata,h(e,"class","detail")},m(u,f){S(u,e,f),p(e,t),p(e,n),p(e,i),p(i,l),a||(c=P(i,"click",r[1]),a=!0)},p(u,[f]){f&1&&s!==(s=u[0].userdata?"Show Data":"Not Provided")&&W(l,s),f&1&&o!==(o=!u[0].userdata)&&(i.disabled=o)},i:O,o:O,d(u){u&&y(e),a=!1,c()}}}function g_(r,e,t){let{report:n}=e;function i(){Je("udataExplorer","BugReports")}return r.$$set=s=>{"report"in s&&t(0,n=s.report)},[n,i]}let A_=class extends j{constructor(e){super(),z(this,e,g_,h_,N,{report:0})}};function b_(r){let e,t,n,i,s,l;return{c(){e=g("div"),t=g("div"),t.innerHTML="<h1>System Log</h1> <p>The Log from when it happened</p>",n=T(),i=g("button"),i.textContent="Show Data",h(t,"class","left"),h(e,"class","detail")},m(o,a){S(o,e,a),p(e,t),p(e,n),p(e,i),s||(l=P(i,"click",r[0]),s=!0)},p:O,i:O,o:O,d(o){o&&y(e),s=!1,l()}}}function __(r){function e(){Je("systemLogView","BugReports")}return[e]}let w_=class extends j{constructor(e){super(),z(this,e,__,b_,N,{})}},Os=[];async function Qp(r){const e=await Kr(r);if(!e)return null;let t=[];if(Os.length)t=[...Os];else{if(t=await(await fetch("https://api.github.com/repos/IzK-ArcOS/ArcOS-Reports/issues?per_page=100")).json(),!t.length)return null;Os=[...t]}if(!t.length)return null;for(let n=0;n<t.length;n++)if(t[n].body.includes(`br$${e.issueid}`))return t[n];return null}function v_(r){let e;return{c(){e=g("p"),e.textContent="No GitHub issue has referenced your report yet.",h(e,"class","context none")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}function k_(r){let e,t,n=r[1].user.login+"",i,s,l,o,a,c,u,f,d=r[1].number+"",m,b,A,_=r[0].issueid+"",k,v,$,E;return{c(){e=g("p"),t=F("Good news! Team member "),i=F(n),s=F(" created a"),l=g("br"),o=F(`
      GitHub issue referencing your report.`),a=T(),c=g("p"),u=g("a"),f=F("Issue #"),m=F(d),b=F(` (References
      `),A=g("b"),k=F(_),v=F(")"),h(e,"class","context"),h(c,"class","ref")},m(I,L){S(I,e,L),p(e,t),p(e,i),p(e,s),p(e,l),p(e,o),S(I,a,L),S(I,c,L),p(c,u),p(u,f),p(u,m),p(c,b),p(c,A),p(A,k),p(c,v),$||(E=P(u,"click",r[3]),$=!0)},p(I,L){L&2&&n!==(n=I[1].user.login+"")&&W(i,n),L&2&&d!==(d=I[1].number+"")&&W(m,d),L&1&&_!==(_=I[0].issueid+"")&&W(k,_)},i:O,o:O,d(I){I&&(y(e),y(a),y(c)),$=!1,E()}}}function y_(r){let e,t,n,i,s;return t=new en({props:{height:30}}),{c(){e=g("div"),M(t.$$.fragment),n=T(),i=g("p"),i.textContent="Searching...",h(e,"class","loading")},m(l,o){S(l,e,o),D(t,e,null),p(e,n),p(e,i),s=!0},p:O,i(l){s||(w(t.$$.fragment,l),s=!0)},o(l){C(t.$$.fragment,l),s=!1},d(l){l&&y(e),B(t)}}}function S_(r){let e,t,n,i,s,l;const o=[y_,k_,v_],a=[];function c(u,f){return u[2]?0:u[1]?1:2}return i=c(r),s=a[i]=o[i](r),{c(){e=g("div"),t=g("h1"),t.textContent="GitHub Issue",n=T(),s.c(),h(e,"class","issue-detail")},m(u,f){S(u,e,f),p(e,t),p(e,n),a[i].m(e,null),l=!0},p(u,[f]){let d=i;i=c(u),i===d?a[i].p(u,f):(q(),C(a[d],1,1,()=>{a[d]=null}),Y(),s=a[i],s?s.p(u,f):(s=a[i]=o[i](u),s.c()),w(s,1),s.m(e,null))},i(u){l||(w(s),l=!0)},o(u){C(s),l=!1},d(u){u&&y(e),a[i].d()}}}function $_(r,e,t){let{id:n}=e,{report:i}=e,s,l=!1;ve(o);async function o(){t(2,l=!0);const c=await Qp(n);t(1,s=c),t(2,l=!1)}function a(){window.open(s.html_url,"_blank")}return r.$$set=c=>{"id"in c&&t(4,n=c.id),"report"in c&&t(0,i=c.report)},[i,s,l,a,n]}class C_ extends j{constructor(e){super(),z(this,e,$_,S_,N,{id:4,report:0})}}function T_(r){let e,t,n,i,s,l,o,a,c,u=r[0].version+"",f,d,m,b,A,_,k=(r[0].mode_file||"<unknown>")+"",v,$,E,I,L,R,H=r[0].desktop?"Yes":"No",Q,ee,J,Ae,ce,le,ie=(r[0].useragent||"Not provided")+"",X;return{c(){e=g("div"),t=g("h1"),t.textContent="More Information",n=T(),i=g("p"),i.textContent="Below follows more information about this bug report.",s=T(),l=g("div"),o=g("p"),o.textContent="ArcOS Version",a=T(),c=g("p"),f=F(u),d=T(),m=g("div"),b=g("p"),b.textContent="Mode",A=T(),_=g("p"),v=F(k),$=T(),E=g("div"),I=g("p"),I.textContent="Desktop app",L=T(),R=g("p"),Q=F(H),ee=T(),J=g("div"),Ae=g("p"),Ae.textContent="User Agent",ce=T(),le=g("p"),X=F(ie),h(i,"class","subtitle"),h(o,"class","name"),h(c,"class","value"),h(l,"class","info"),h(b,"class","name"),h(_,"class","value"),h(m,"class","info"),h(I,"class","name"),h(R,"class","value"),h(E,"class","info"),h(Ae,"class","name"),h(le,"class","value"),h(J,"class","info"),h(e,"class","more-info")},m(re,V){S(re,e,V),p(e,t),p(e,n),p(e,i),p(e,s),p(e,l),p(l,o),p(l,a),p(l,c),p(c,f),p(e,d),p(e,m),p(m,b),p(m,A),p(m,_),p(_,v),p(e,$),p(e,E),p(E,I),p(E,L),p(E,R),p(R,Q),p(e,ee),p(e,J),p(J,Ae),p(J,ce),p(J,le),p(le,X)},p(re,[V]){V&1&&u!==(u=re[0].version+"")&&W(f,u),V&1&&k!==(k=(re[0].mode_file||"<unknown>")+"")&&W(v,k),V&1&&H!==(H=re[0].desktop?"Yes":"No")&&W(Q,H),V&1&&ie!==(ie=(re[0].useragent||"Not provided")+"")&&W(X,ie)},i:O,o:O,d(re){re&&y(e)}}}function E_(r,e,t){let{report:n}=e;return r.$$set=i=>{"report"in i&&t(0,n=i.report)},[n]}class I_ extends j{constructor(e){super(),z(this,e,E_,T_,N,{report:0})}}function O_(r){let e,t;return e=new m_({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function R_(r){let e,t,n,i,s,l,o,a,c,u;return e=new d_({props:{report:r[0],id:r[1]}}),n=new A_({props:{report:r[0]}}),s=new w_({}),o=new C_({props:{report:r[0],id:r[1]}}),c=new I_({props:{report:r[0]}}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment),i=T(),M(s.$$.fragment),l=T(),M(o.$$.fragment),a=T(),M(c.$$.fragment)},m(f,d){D(e,f,d),S(f,t,d),D(n,f,d),S(f,i,d),D(s,f,d),S(f,l,d),D(o,f,d),S(f,a,d),D(c,f,d),u=!0},p(f,d){const m={};d&1&&(m.report=f[0]),d&2&&(m.id=f[1]),e.$set(m);const b={};d&1&&(b.report=f[0]),n.$set(b);const A={};d&1&&(A.report=f[0]),d&2&&(A.id=f[1]),o.$set(A);const _={};d&1&&(_.report=f[0]),c.$set(_)},i(f){u||(w(e.$$.fragment,f),w(n.$$.fragment,f),w(s.$$.fragment,f),w(o.$$.fragment,f),w(c.$$.fragment,f),u=!0)},o(f){C(e.$$.fragment,f),C(n.$$.fragment,f),C(s.$$.fragment,f),C(o.$$.fragment,f),C(c.$$.fragment,f),u=!1},d(f){f&&(y(t),y(i),y(l),y(a)),B(e,f),B(n,f),B(s,f),B(o,f),B(c,f)}}}function L_(r){let e,t,n,i;const s=[R_,O_],l=[];function o(a,c){return a[0]?0:1}return t=o(r),n=l[t]=s[t](r),{c(){e=g("div"),n.c(),h(e,"class","content")},m(a,c){S(a,e,c),l[t].m(e,null),i=!0},p(a,[c]){let u=t;t=o(a),t===u?l[t].p(a,c):(q(),C(l[u],1,1,()=>{l[u]=null}),Y(),n=l[t],n?n.p(a,c):(n=l[t]=s[t](a),n.c()),w(n,1),n.m(e,null))},i(a){i||(w(n),i=!0)},o(a){C(n),i=!1},d(a){a&&y(e),l[t].d()}}}function D_(r,e,t){let{runtime:n}=e,i,s;return ve(()=>{n.Selected.subscribe(async l=>{t(0,i=null),l&&(await ct(0),t(0,i=await n.getReport(l)),t(1,s=l))})}),r.$$set=l=>{"runtime"in l&&t(2,n=l.runtime)},[i,s,n]}let B_=class extends j{constructor(e){super(),z(this,e,D_,L_,N,{runtime:2})}};const M_=""+new URL("helpcenter-dc574bdf.svg",import.meta.url).href;function wa(r){let e,t,n;return{c(){e=g("button"),e.textContent="close",h(e,"class","delete material-icons-round"),h(e,"title","Remove Report")},m(i,s){S(i,e,s),t||(n=P(e,"click",r[5]),t=!0)},p:O,d(i){i&&y(e),t=!1,n()}}}function F_(r){let e,t,n,i,s,l=zt(r[0].timestamp).format("D MMM YYYY, HH:mm:ss")+"",o,a,c,u,f=r[2]&&wa(r);return{c(){e=g("button"),t=g("img"),i=T(),s=g("span"),o=F(l),a=T(),f&&f.c(),de(t.src,n=r[3][r[1]])||h(t,"src",n),h(t,"alt",""),h(t,"class","icon"),U(e,"selected",r[2]),U(e,"deleted",r[1]=="deleted")},m(d,m){S(d,e,m),p(e,t),p(e,i),p(e,s),p(s,o),p(e,a),f&&f.m(e,null),c||(u=P(e,"click",r[4]),c=!0)},p(d,[m]){m&2&&!de(t.src,n=d[3][d[1]])&&h(t,"src",n),m&1&&l!==(l=zt(d[0].timestamp).format("D MMM YYYY, HH:mm:ss")+"")&&W(o,l),d[2]?f?f.p(d,m):(f=wa(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null),m&4&&U(e,"selected",d[2]),m&2&&U(e,"deleted",d[1]=="deleted")},i:O,o:O,d(d){d&&y(e),f&&f.d(),c=!1,u()}}}function P_(r,e,t){const n={deleted:ki,issue:M_,report:Kn};let i="report",{runtime:s}=e,{report:l}=e,o=!1;ve(async()=>{if(s.Selected.subscribe(u=>t(2,o=u==l.id)),!await rh(l.id))return t(1,i="deleted");await Qp(l.id)&&t(1,i="issue")});function a(){s.Selected.set(l.id)}function c(){Xe({title:"Remove Report",message:"Are you sure you want to remove this report from your account? It will not be deleted from the Reports server, though nobody outside of the ArcOS Team will have access to the report.",buttons:[{caption:"Keep",action(){}},{caption:"Remove Report",action:()=>{s.deleteReport(l.id)}}],image:Gi},"BugReports")}return r.$$set=u=>{"runtime"in u&&t(6,s=u.runtime),"report"in u&&t(0,l=u.report)},[l,i,o,n,a,c,s]}class U_ extends j{constructor(e){super(),z(this,e,P_,F_,N,{runtime:6,report:0})}}function N_(r){let e,t,n,i,s,l;return{c(){e=g("div"),t=g("button"),t.textContent="autorenew",n=T(),i=g("button"),i.innerHTML='<span class="material-icons-round">add</span> <span>New Bug Report</span>',h(t,"class","refresh material-icons-round"),h(i,"class","new"),h(e,"class","bottom")},m(o,a){S(o,e,a),p(e,t),p(e,n),p(e,i),s||(l=[P(t,"click",r[0]),P(i,"click",r[1])],s=!0)},p:O,i:O,o:O,d(o){o&&y(e),s=!1,ke(l)}}}function z_(r,e,t){let{runtime:n}=e;function i(){n.refreshStore()}function s(){Je("createReport","BugReports")}return r.$$set=l=>{"runtime"in l&&t(2,n=l.runtime)},[i,s,n]}let j_=class extends j{constructor(e){super(),z(this,e,z_,N_,N,{runtime:2})}};function va(r,e,t){const n=r.slice();return n[2]=e[t],n}function ka(r){let e,t;return e=new U_({props:{runtime:r[0],report:r[2]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.runtime=n[0]),i&2&&(s.report=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function H_(r){let e,t,n,i,s,l=x(r[1]),o=[];for(let c=0;c<l.length;c+=1)o[c]=ka(va(r,l,c));const a=c=>C(o[c],1,1,()=>{o[c]=null});return i=new j_({props:{runtime:r[0]}}),{c(){e=g("div"),t=g("div");for(let c=0;c<o.length;c+=1)o[c].c();n=T(),M(i.$$.fragment),h(t,"class","list"),h(e,"class","sidebar")},m(c,u){S(c,e,u),p(e,t);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(t,null);p(e,n),D(i,e,null),s=!0},p(c,[u]){if(u&3){l=x(c[1]);let d;for(d=0;d<l.length;d+=1){const m=va(c,l,d);o[d]?(o[d].p(m,u),w(o[d],1)):(o[d]=ka(m),o[d].c(),w(o[d],1),o[d].m(t,null))}for(q(),d=l.length;d<o.length;d+=1)a(d);Y()}const f={};u&1&&(f.runtime=c[0]),i.$set(f)},i(c){if(!s){for(let u=0;u<l.length;u+=1)w(o[u]);w(i.$$.fragment,c),s=!0}},o(c){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)C(o[u]);C(i.$$.fragment,c),s=!1},d(c){c&&y(e),me(o,c),B(i)}}}function Q_(r,e,t){let{runtime:n}=e,i=[];return ve(()=>{n.Store.subscribe(s=>t(1,i=s))}),r.$$set=s=>{"runtime"in s&&t(0,n=s.runtime)},[n,i]}let W_=class extends j{constructor(e){super(),z(this,e,Q_,H_,N,{runtime:0})}};function G_(r){let e,t,n,i;return e=new W_({props:{runtime:r[0]}}),n=new B_({props:{runtime:r[0]}}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment)},m(s,l){D(e,s,l),S(s,t,l),D(n,s,l),i=!0},p(s,[l]){const o={};l&1&&(o.runtime=s[0]),e.$set(o);const a={};l&1&&(a.runtime=s[0]),n.$set(a)},i(s){i||(w(e.$$.fragment,s),w(n.$$.fragment,s),i=!0)},o(s){C(e.$$.fragment,s),C(n.$$.fragment,s),i=!1},d(s){s&&y(t),B(e,s),B(n,s)}}}function K_(r,e,t){let{runtime:n}=e;return r.$$set=i=>{"runtime"in i&&t(0,n=i.runtime)},[n]}let V_=class extends j{constructor(e){super(),z(this,e,K_,G_,N,{runtime:0})}};function q_(r){let e,t,n;return{c(){e=g("button"),e.textContent="close",h(e,"class","overlay-close material-icons-round")},m(i,s){S(i,e,s),t||(n=P(e,"click",r[0]),t=!0)},p:O,i:O,o:O,d(i){i&&y(e),t=!1,n()}}}function Y_(r,e,t){let{app:n}=e,{id:i}=e;function s(){Ye(i,n.id)}return r.$$set=l=>{"app"in l&&t(1,n=l.app),"id"in l&&t(2,i=l.id)},[s,n,i]}class Xn extends j{constructor(e){super(),z(this,e,Y_,q_,N,{app:1,id:2})}}function ya(r){let e;return{c(){e=g("textarea"),e.value=r[2],h(e,"class","svelte-1ov8mi7")},m(t,n){S(t,e,n)},p(t,n){n&4&&(e.value=t[2])},d(t){t&&y(e)}}}function J_(r){let e,t,n,i=r[2]&&ya(r);return t=new Xn({props:{app:r[0],id:r[1]}}),{c(){i&&i.c(),e=T(),M(t.$$.fragment)},m(s,l){i&&i.m(s,l),S(s,e,l),D(t,s,l),n=!0},p(s,[l]){s[2]?i?i.p(s,l):(i=ya(s),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null);const o={};l&1&&(o.app=s[0]),l&2&&(o.id=s[1]),t.$set(o)},i(s){n||(w(t.$$.fragment,s),n=!0)},o(s){C(t.$$.fragment,s),n=!1},d(s){s&&y(e),i&&i.d(s),B(t,s)}}}function Z_(r,e,t){let{runtime:n}=e,{app:i}=e,{id:s}=e,l="";return n.OpenedReport.subscribe(o=>{o&&t(2,l=`${o.title}
${o.author} - ${o.issueid}

${o.body}`)}),r.$$set=o=>{"runtime"in o&&t(3,n=o.runtime),"app"in o&&t(0,i=o.app),"id"in o&&t(1,s=o.id)},[i,s,l,n]}class X_ extends j{constructor(e){super(),z(this,e,Z_,J_,N,{runtime:3,app:0,id:1})}}function x_(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_;return{c(){e=g("p"),e.textContent=`In order to make bug reports useful for the ArcOS developers, we collect some
  required data that we use to resolve the problem.`,t=T(),n=g("h4"),n.textContent="This data includes:",i=T(),s=g("ul"),l=g("li"),l.textContent="The ArcOS Log (without API and AuthCode);",o=T(),a=g("li"),a.textContent=`The version of ArcOS and its mode (${Rn.toUpperCase()} in this case);`,c=T(),u=g("li"),u.textContent="Your User Agent string;",f=T(),d=g("li"),d.textContent="The frontend URL;",m=T(),b=g("li"),b.textContent="and the development metadata.",A=T(),_=g("p"),_.innerHTML=`By clicking <b>I agree</b> you acknowledge that Bug Reports may include the
  aforementioned
  <b>required</b> data in the report, optionally including the
  <i>ArcAPI hostname</i> and your ArcOS Account preferences.`},m(k,v){S(k,e,v),S(k,t,v),S(k,n,v),S(k,i,v),S(k,s,v),p(s,l),p(s,o),p(s,a),p(s,c),p(s,u),p(s,f),p(s,d),p(s,m),p(s,b),S(k,A,v),S(k,_,v)},p:O,i:O,o:O,d(k){k&&(y(e),y(t),y(n),y(i),y(s),y(A),y(_))}}}class ew extends j{constructor(e){super(),z(this,e,null,x_,N,{})}}function tw(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k,v,$,E,I,L,R,H,Q,ee,J,Ae,ce,le,ie,X,re,V;return{c(){e=g("div"),t=g("h2"),t.textContent="Create Bug Report",n=T(),i=g("p"),i.textContent=`You're submitting a bug report for ArcOS ${ut}.`,s=T(),l=g("div"),o=g("input"),a=T(),c=g("textarea"),u=T(),f=g("div"),d=g("div"),m=g("p"),m.textContent="Include preferences",b=T(),A=g("input"),_=T(),k=g("div"),v=g("p"),v.textContent="Include ArcAPI",$=T(),E=g("input"),I=T(),L=g("div"),R=g("div"),R.textContent=`ArcOS ${ut}-${Rn} - ${Lr}`,H=T(),Q=g("button"),Q.textContent="Data Privacy",ee=T(),J=g("button"),Ae=F("Cancel"),ce=T(),le=g("button"),ie=F("Send Report"),h(t,"class","header"),h(i,"class","subheader"),h(e,"class","overlay-head"),h(o,"type","text"),h(o,"class","title"),h(o,"placeholder","Report Title"),h(c,"class","body"),h(c,"placeholder","Report Body: Provide any particular information about the bug here."),h(l,"class","form"),h(m,"class","caption"),h(A,"type","checkbox"),A.disabled=r[0],h(d,"class","choice"),h(v,"class","caption"),h(E,"type","checkbox"),E.disabled=r[0],h(k,"class","choice"),h(f,"class","choices"),h(R,"class","left"),J.disabled=r[0],le.disabled=X=!r[1].title||r[0],h(L,"class","bottom")},m(oe,fe){S(oe,e,fe),p(e,t),p(e,n),p(e,i),S(oe,s,fe),S(oe,l,fe),p(l,o),ge(o,r[1].title),p(l,a),p(l,c),ge(c,r[1].body),S(oe,u,fe),S(oe,f,fe),p(f,d),p(d,m),p(d,b),p(d,A),A.checked=r[1].includeUserData,p(f,_),p(f,k),p(k,v),p(k,$),p(k,E),E.checked=r[1].includeApi,S(oe,I,fe),S(oe,L,fe),p(L,R),p(L,H),p(L,Q),p(L,ee),p(L,J),p(J,Ae),p(L,ce),p(L,le),p(le,ie),re||(V=[P(o,"input",r[6]),P(c,"input",r[7]),P(A,"change",r[8]),P(E,"change",r[9]),P(Q,"click",r[4]),P(J,"click",r[3]),P(le,"click",r[2])],re=!0)},p(oe,[fe]){fe&2&&o.value!==oe[1].title&&ge(o,oe[1].title),fe&2&&ge(c,oe[1].body),fe&1&&(A.disabled=oe[0]),fe&2&&(A.checked=oe[1].includeUserData),fe&1&&(E.disabled=oe[0]),fe&2&&(E.checked=oe[1].includeApi),fe&1&&(J.disabled=oe[0]),fe&3&&X!==(X=!oe[1].title||oe[0])&&(le.disabled=X)},i:O,o:O,d(oe){oe&&(y(e),y(s),y(l),y(u),y(f),y(I),y(L)),re=!1,ke(V)}}}function nw(r,e,t){let{runtime:n}=e;const i={title:"",body:"",includeApi:!0,includeUserData:!1};let s=!1,l={...i};async function o(){t(0,s=!0);const b=await gs(l);n.refreshStore(),Xe({title:"Report Sent",message:`Thank you! Report ${b} has been sent to the Reports server. Keep in mind that an issue may be created on GitHub referencing your report by an ArcOS team member.`,buttons:[{caption:"Understood",action(){}}]},"BugReports"),a()}function a(){t(1,l={...i}),t(0,s=!1),Ye("createReport","BugReports")}function c(){t(0,s=!0),Xe({title:"Please keep in mind",component:ew,buttons:[{caption:"I agree",action(){t(0,s=!1)}},{caption:"Decline",action:a}]},"BugReports")}function u(){l.title=this.value,t(1,l)}function f(){l.body=this.value,t(1,l)}function d(){l.includeUserData=this.checked,t(1,l)}function m(){l.includeApi=this.checked,t(1,l)}return r.$$set=b=>{"runtime"in b&&t(5,n=b.runtime)},[s,l,o,a,c,n,u,f,d,m]}class iw extends j{constructor(e){super(),z(this,e,nw,tw,N,{runtime:5})}}function Sa(r){let e,t;return{c(){e=g("textarea"),e.readOnly=!0,e.value=t=r[2].log,h(e,"class","svelte-1ov8mi7")},m(n,i){S(n,e,i)},p(n,i){i&4&&t!==(t=n[2].log)&&(e.value=t)},d(n){n&&y(e)}}}function rw(r){let e,t,n,i=r[2]&&r[2].log&&Sa(r);return t=new Xn({props:{app:r[0],id:r[1]}}),{c(){i&&i.c(),e=T(),M(t.$$.fragment)},m(s,l){i&&i.m(s,l),S(s,e,l),D(t,s,l),n=!0},p(s,[l]){s[2]&&s[2].log?i?i.p(s,l):(i=Sa(s),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null);const o={};l&1&&(o.app=s[0]),l&2&&(o.id=s[1]),t.$set(o)},i(s){n||(w(t.$$.fragment,s),n=!0)},o(s){C(t.$$.fragment,s),n=!1},d(s){s&&y(e),i&&i.d(s),B(t,s)}}}function sw(r,e,t){let{runtime:n}=e,{app:i}=e,{id:s}=e,l;return ve(()=>{n&&n.OpenedReport.subscribe(o=>t(2,l=o))}),r.$$set=o=>{"runtime"in o&&t(3,n=o.runtime),"app"in o&&t(0,i=o.app),"id"in o&&t(1,s=o.id)},[i,s,l,n]}class lw extends j{constructor(e){super(),z(this,e,sw,rw,N,{runtime:3,app:0,id:1})}}function $a(r){let e,t,n;return{c(){e=g("div"),t=F(r[1]),h(e,"class","value"),h(e,"data-type",n=typeof r[1]),h(e,"data-value",r[1])},m(i,s){S(i,e,s),p(e,t)},p(i,s){s&2&&W(t,i[1]),s&2&&n!==(n=typeof i[1])&&h(e,"data-type",n),s&2&&h(e,"data-value",i[1])},d(i){i&&y(e)}}}function ow(r){let e,t,n,i,s=typeof r[1]!="object"&&$a(r);return{c(){e=g("div"),t=g("div"),n=F(r[0]),i=T(),s&&s.c(),h(t,"class","key"),h(e,"class","nodeinstance")},m(l,o){S(l,e,o),p(e,t),p(t,n),p(e,i),s&&s.m(e,null)},p(l,[o]){o&1&&W(n,l[0]),typeof l[1]!="object"?s?s.p(l,o):(s=$a(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:O,o:O,d(l){l&&y(e),s&&s.d()}}}function aw(r,e,t){let{key:n}=e,{value:i}=e;return r.$$set=s=>{"key"in s&&t(0,n=s.key),"value"in s&&t(1,i=s.value)},[n,i]}class Wp extends j{constructor(e){super(),z(this,e,aw,ow,N,{key:0,value:1})}}function Ca(r,e,t){const n=r.slice();return n[3]=e[t],n}function Ta(r){let e,t,n=x(Object.entries(r[1])),i=[];for(let l=0;l<n.length;l+=1)i[l]=Ea(Ca(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ae()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&2){n=x(Object.entries(l[1]));let a;for(a=0;a<n.length;a+=1){const c=Ca(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Ea(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Ea(r){let e,t;return e=new Gp({props:{key:r[3][0],value:r[3][1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.key=n[3][0]),i&2&&(s.value=n[3][1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function cw(r){let e,t,n,i;t=new Wp({props:{key:r[0],value:r[1]}});let s=typeof r[1]=="object"&&r[1]&&Ta(r);return{c(){e=g("div"),M(t.$$.fragment),n=T(),s&&s.c(),U(e,"indent",!r[2])},m(l,o){S(l,e,o),D(t,e,null),p(e,n),s&&s.m(e,null),i=!0},p(l,[o]){const a={};o&1&&(a.key=l[0]),o&2&&(a.value=l[1]),t.$set(a),typeof l[1]=="object"&&l[1]?s?(s.p(l,o),o&2&&w(s,1)):(s=Ta(l),s.c(),w(s,1),s.m(e,null)):s&&(q(),C(s,1,1,()=>{s=null}),Y()),(!i||o&4)&&U(e,"indent",!l[2])},i(l){i||(w(t.$$.fragment,l),w(s),i=!0)},o(l){C(t.$$.fragment,l),C(s),i=!1},d(l){l&&y(e),B(t),s&&s.d()}}}function uw(r,e,t){let{key:n}=e,{value:i}=e,{top:s=!1}=e;return r.$$set=l=>{"key"in l&&t(0,n=l.key),"value"in l&&t(1,i=l.value),"top"in l&&t(2,s=l.top)},[n,i,s]}class Gp extends j{constructor(e){super(),z(this,e,uw,cw,N,{key:0,value:1,top:2})}}function Ia(r,e,t){const n=r.slice();return n[1]=e[t],n}function Oa(r){let e,t,n=x(Object.entries(r[0])),i=[];for(let l=0;l<n.length;l+=1)i[l]=Ra(Ia(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","userdata-explorer")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,o){if(o&1){n=x(Object.entries(l[0]));let a;for(a=0;a<n.length;a+=1){const c=Ia(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Ra(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function fw(r){let e,t;return e=new Wp({props:{key:r[1][0],value:r[1][1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.key=n[1][0]),i&1&&(s.value=n[1][1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function dw(r){let e,t;return e=new Gp({props:{key:r[1][0],value:r[1][1],top:!0}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.key=n[1][0]),i&1&&(s.value=n[1][1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Ra(r){let e,t,n,i,s;const l=[dw,fw],o=[];function a(c,u){return typeof c[1][1]=="object"?0:1}return t=a(r),n=o[t]=l[t](r),{c(){e=g("div"),n.c(),i=T(),h(e,"class","toplevel-item")},m(c,u){S(c,e,u),o[t].m(e,null),p(e,i),s=!0},p(c,u){let f=t;t=a(c),t===f?o[t].p(c,u):(q(),C(o[f],1,1,()=>{o[f]=null}),Y(),n=o[t],n?n.p(c,u):(n=o[t]=l[t](c),n.c()),w(n,1),n.m(e,i))},i(c){s||(w(n),s=!0)},o(c){C(n),s=!1},d(c){c&&y(e),o[t].d()}}}function pw(r){let e,t,n=r[0]&&Oa(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=Oa(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function mw(r,e,t){let{data:n}=e;return r.$$set=i=>{"data"in i&&t(0,n=i.data)},[n]}class Kp extends j{constructor(e){super(),z(this,e,mw,pw,N,{data:0})}}function La(r){let e,t;return e=new Kp({props:{data:r[2].userdata}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.data=n[2].userdata),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function hw(r){let e,t,n,i=r[2]&&La(r);return t=new Xn({props:{app:r[0],id:r[1]}}),{c(){i&&i.c(),e=T(),M(t.$$.fragment)},m(s,l){i&&i.m(s,l),S(s,e,l),D(t,s,l),n=!0},p(s,[l]){s[2]?i?(i.p(s,l),l&4&&w(i,1)):(i=La(s),i.c(),w(i,1),i.m(e.parentNode,e)):i&&(q(),C(i,1,1,()=>{i=null}),Y());const o={};l&1&&(o.app=s[0]),l&2&&(o.id=s[1]),t.$set(o)},i(s){n||(w(i),w(t.$$.fragment,s),n=!0)},o(s){C(i),C(t.$$.fragment,s),n=!1},d(s){s&&y(e),i&&i.d(s),B(t,s)}}}function gw(r,e,t){let{runtime:n}=e,{app:i}=e,{id:s}=e,l;return ve(()=>{n&&n.OpenedReport.subscribe(o=>t(2,l=o))}),r.$$set=o=>{"runtime"in o&&t(3,n=o.runtime),"app"in o&&t(0,i=o.app),"id"in o&&t(1,s=o.id)},[i,s,l,n]}class Aw extends j{constructor(e){super(),z(this,e,gw,hw,N,{runtime:3,app:0,id:1})}}function Pr(r,e){Z("applogic/pref.ts: getAppPreference",`Getting ${e} from ${r}...`);const t=G(ne);if(!(!t.appdata||!t.appdata[r]))return t.appdata[r][e]}function Ll(r,e,t){Z("applogic/pref.ts: setAppPreference",`Setting ${e} in ${r}...`);const n=G(ne);return n.appdata?(n.appdata[r]||(n.appdata[r]={}),n.appdata[r][e]=t,ne.set(n),!0):!1}class Vp{constructor(e){he(this,"app");if(!e.id){Z("applogic/runtime/main.ts","Can't create AppRuntime without valid app ID",se.error);return}this.app=e}Log(e,t="<anonymous>",n=se.info){Z(`${this.app.id}Runtime: ${t}`,e,n)}}class bw extends Vp{constructor(t){super(t);he(this,"Selected",pe());he(this,"Store",pe([]));he(this,"OpenedReport",pe(null));this.refreshStore(),this.Selected.subscribe(async n=>{this.OpenedReport.set(await Kr(n))})}getReports(){return this.Log("Getting reports","getReports"),Pr("Reporting","reports")||[]}async getReport(t){return t?(this.Log(`Getting report ${t}`,"getReport"),await rh(t)?await Kr(t):(Xe({title:"Report Deleted!",message:`Report ${t} has been deleted from the reports server and it cannot be accessed. Do you want to delete it from your account?`,buttons:[{caption:"Keep",action(){}},{caption:"Remove Report",action:()=>{this.deleteReport(t)}}],image:Gi},"BugReports"),null)):void 0}deleteReport(t){this.Log(`Deleting local report ${t}...`,"deleteReport",se.warn);const i=this.getReports().filter(l=>l.id!=t);Ll("Reporting","reports",i),this.refreshStore(),G(this.Selected)==t&&(this.Selected.set(null),this.OpenedReport.set(null))}async refreshStore(){this.Log("Refreshing store","refreshStore"),this.Store.set([]),await ct(0),this.Store.set(this.getReports()||[])}}const _w={info:{name:"Bug Reports",description:"View and manage your bug reports",builtin:!0,version:"1.0.0",author:"ArcOS Team",icon:Gi,appGroup:"support"},size:{w:750,h:500},pos:{x:30,y:40},minSize:{w:750,h:500},maxSize:{w:900,h:700},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:V_,glass:!0,runtime:bw,overlays:{udataExplorer:{info:{name:"User Data",version:"1.0.0",author:"ArcOS Team"},content:Aw,size:{w:550,h:400},show:!1},systemLogView:{info:{name:"View System Log",version:"1.0.0",author:"ArcOS Team"},content:lw,size:{w:700,h:450},show:!1},createReport:{info:{name:"Create Report",version:"1.0.0",author:"ArcOS Team"},content:iw,size:{w:550,h:400},show:!1},bodyView:{info:{name:"View Body",version:"1.0.0",author:"ArcOS Team"},content:X_,size:{w:550,h:400},show:!1}}},ww=""+new URL("calculator-a55e0dfc.svg",import.meta.url).href;var vw={isPrime:function(r){for(var e=2;e<r;e++)if(r%e===0)return!1;return r>1},isEven:function(r){return r%2===0},isOdd:function(r){return!this.isEven(r)},format:function(r,e){return r.toFixed(e)/1},dropFirstDigit:function(r){return Number(r.toString().substring(1))},dropLastDigit:function(r){return Number(r.toString().substring(0,r.toString().length-1))},dropDigit:function(r,e){return Number(r.toString().substring(0,e-1).concat(r.toString().substring(e,r)))}},kw={minElement:function(r){return Math.min.apply(null,r)},maxElement:function(r){return Math.max.apply(null,r)},between:function(r,e,t){return e<=r==r<=t}},yw={random:function(){return Math.random()},randomElement:function(r){return r[Math.floor(Math.random()*r.length)]},factorial:function(r){return r*(r-1)}},Sw={ceil:function(r){return Math.ceil(r/10)*10},round:function(r){return Math.round(r)},fround:function(r){return Math.fround(r)},floor:function(r){return Math.floor(r)},sign:function(r){return Math.sign(r)},abs:function(r){return Math.abs(r)},imul:function(r,e){return Math.imul(r,e)},pow:function(r,e){return Math.pow(r,e)},square:function(r){return r*r},cube:function(r){return r*r*r},sqrt:function(r){return Math.sqrt(r)},cbrt:function(r){return Math.cbrt(r)},exp:function(r){return Math.exp(r)},expm1:function(r){return Math.expm1(r)},trunc:function(r){return Math.trunc(r)},greatestCommonDivisor:function r(e,t){var n=e%t;return n===0?t:r(t,n)},log:function(r){return Math.log(r)},log2:function(r){return Math.log2(r)},log10:function(r){return Math.log10(r)},log1p:function(r){return Math.log1p(r)},hypot:function(...r){return Math.hypot(...r)},dCeil:function(r,e){let t=Math.pow(10,e);return console.log("dCeil",r,e,t,Math.ceil(r/t)*t),Math.ceil(r*t)/t},dRound:function(r,e){let t=Math.pow(10,e);return Math.round(r*t)/t},dFloor:function(r,e){let t=Math.pow(10,e);return Math.floor(r*t)/t},dTrunc:function(r,e){let t=Math.pow(10,e);return Math.trunc(r*t)/t}},$w=Object.freeze({PI:Math.PI,E:Math.E,LN10:Math.LN10,LN2:Math.LN2,LOG10E:Math.LOG10E,LOG2E:Math.LOG2E,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,FEET_TO_INCHES_FACTOR:12,FEET_TO_METERS_FACTOR:.3048,FEET_TO_MILES_FACTOR:1/5280,FEET_TO_YARDS_FACTOR:1/3,INCHES_TO_FEET_FACTOR:1/12,INCHES_TO_METERS_FACTOR:.0254,INCHES_TO_MILES_FACTOR:1/63360,INCHES_TO_YARDS_FACTOR:1/36,MILES_TO_FEET_FACTOR:5280,MILES_TO_INCHES_FACTOR:63360,MILES_TO_METERS_FACTOR:1609.344,MILES_TO_YARDS_FACTOR:1760,YARDS_TO_INCHES_FACTOR:36,YARDS_TO_FEET_FACTOR:3,YARDS_TO_METERS_FACTOR:.9144,YARDS_TO_MILES_FACTOR:1/1760,CELSIUS_TO_FAHRENEIT_MUTLIPLIER_FACTOR:9/5,CELSIUS_TO_FAHRENEIT_FACTOR:32}),st=$w,Cw={yardsToFeet:function(r){return r*st.YARDS_TO_FEET_FACTOR},feetToYards:function(r){return r*st.FEET_TO_YARDS_FACTOR},yardsToInches:function(r){return r*st.YARDS_TO_INCHES_FACTOR},inchesToYards:function(r){return st.INCHES_TO_YARDS_FACTOR*r},inchesToMiles:function(r){return st.INCHES_TO_MILES_FACTOR*r},feetToInches:function(r){return st.FEET_TO_INCHES_FACTOR*r},feetToMeters:function(r){return st.FEET_TO_METERS_FACTOR*r},feetToMiles:function(r){return st.FEET_TO_MILES_FACTOR*r},inchesToFeet:function(r){return st.INCHES_TO_FEET_FACTOR*r},inchesToMeters:function(r){return st.INCHES_TO_METERS_FACTOR*r},milesToYards:function(r){return st.MILES_TO_YARDS_FACTOR*r},milesToMeters:function(r){return st.MILES_TO_METERS_FACTOR*r},milesToInches:function(r){return st.MILES_TO_INCHES_FACTOR*r},milesToFeet:function(r){return st.MILES_TO_FEET_FACTOR*r},yardsToMiles:function(r){return st.YARDS_TO_MILES_FACTOR*r},yardsToMeters:function(r){return st.YARDS_TO_METERS_FACTOR*r},toFahrenheit:function(r){return r*st.CELSIUS_TO_FAHRENEIT_MUTLIPLIER_FACTOR+st.CELSIUS_TO_FAHRENEIT_FACTOR},toCelsius:function(r){return(r-st.CELSIUS_TO_FAHRENEIT_FACTOR)/st.CELSIUS_TO_FAHRENEIT_MUTLIPLIER_FACTOR}},Tw={sin:function(r){return Math.sin(r)},cos:function(r){return Math.cos(r)},tan:function(r){return Math.tan(r)},acos:function(r){return Math.acos(r)},asin:function(r){return Math.asin(r)},acosh:function(r){return Math.acosh(r)},atan:function(r){return Math.atan(r)},atan2:function(r,e){return Math.atan2(r,e)}};Object.assign({},vw,kw,yw,Sw,Cw,Tw);class Ew{constructor(){he(this,"Source","Calculator/main.ts:");he(this,"AllowedKeys",["+","-","/","*","7","8","9","**","4","5","6","%","1","2","3","%%C",".","0","00","%%E"]);he(this,"Shortcuts",["0","1","2","3","4","5","6","7","8","9","/","+","-","*"]);he(this,"Overrides",{"*":"x","**":"^","%":"mod"});he(this,"altClasses",["+","-","/","*","**","%","."])}}const Ut=new Ew,Dt=pe("");class Iw{constructor(){he(this,"keys",[]);he(this,"Functions",{"%%C":["C",()=>Dt.set(""),"clear"],"%%E":["=",()=>this.evaluate(),"process"]});this.keys=this.compileKeys(Ut.AllowedKeys,Ut.Overrides)}eval(e){return Function(`'use strict'; return (${e})`)()}compileKeys(e,t){const n=[];for(let i=0;i<e.length;i++){let s=[null,null];s[0]=t[e[i]]||e[i],s[1]=e[i],n.push(s)}return n}evaluate(){if(Z(`${Ut.Source} evaluate`,`Evaluating sum ("${G(Dt)}")`,se.info),!Cn.isValid(G(Dt)))return!1;const e=this.eval(G(Dt));return Dt.set(e),e}isValid(e){if(Z(`${Ut.Source} isValid`,`Verifying input "${e}"...`,se.info),e.startsWith("%%"))return!1;for(let t=0;t<e.length;t++)if(!Ut.AllowedKeys.includes(e[t]))return Z(`${Ut.Source} isValid`,`Input "${e}" not valid.`,se.warn),!1;return!0}generateKeyboardShortcuts(){let e=[];for(let t=0;t<Ut.Shortcuts.length;t++)e.push({key:Ut.Shortcuts[t],action:()=>this.processKey(Ut.Shortcuts[t])});return e}processKey(e){if(Z(`${Ut.Source} processKey`,`Processing key "${e}"`),!this.isValid(e))return!1;const t=`${G(Dt)}${e}0`;if(!this.validate(t))return Z(`${Ut.Source} Calculator/main.ts: processKey`,`Test sum "${t}" is not valid. Aborting.`,se.error),!1;Dt.set(G(Dt)+e)}validate(e){return/(?:(?:^|[-+_*%\/])(?:\s*-?\d+(\.\d+)?(?:[eE][+-]?\d+)?\s*))+$/.test(e)}}const Cn=new Iw;function Ow(r,e,t){const n=r.slice();return n[4]=e[t],n}function Rw(r){let e,t,n;return{c(){e=g("button"),e.textContent=`${Cn.Functions[r[4][1]][0]} `,h(e,"class",Cn.Functions[r[4][1]][2])},m(i,s){S(i,e,s),t||(n=P(e,"click",Cn.Functions[r[4][0]][1]),t=!0)},p(i,s){r=i},d(i){i&&y(e),t=!1,n()}}}function Lw(r){let e,t,n;function i(){return r[1](r[4])}return{c(){e=g("button"),e.textContent=`${r[4][0]} `,U(e,"empty",!r[4][0]),U(e,"alt",Ut.altClasses.includes(r[4][1]))},m(s,l){S(s,e,l),t||(n=P(e,"click",i),t=!0)},p(s,l){r=s},d(s){s&&y(e),t=!1,n()}}}function Dw(r){let e;function t(s,l){return s[4][0].startsWith("%%")?Rw:Lw}let i=t(r)(r);return{c(){i.c(),e=ae()},m(s,l){i.m(s,l),S(s,e,l)},p:O,d(s){s&&y(e),i.d(s)}}}function Bw(r){let e,t,n,i=x(Cn.keys),s=[];for(let l=0;l<i.length;l+=1)s[l]=Dw(Ow(r,i,l));return{c(){e=g("input"),t=T(),n=g("div");for(let l=0;l<s.length;l+=1)s[l].c();h(e,"type","text"),h(e,"class","display"),e.readOnly=!0,e.value=r[0],h(n,"class","keys")},m(l,o){S(l,e,o),S(l,t,o),S(l,n,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(n,null)},p(l,[o]){o&1&&e.value!==l[0]&&(e.value=l[0])},i:O,o:O,d(l){l&&(y(e),y(t),y(n)),me(s,l)}}}function Mw(r,e,t){let n;K(r,Dt,l=>t(2,n=l));let i="";return ve(()=>{Dt.subscribe(l=>{Z("Calculator: CalculatorValue.subscribe",`Value of CalculatorValue<string> changed to "${n}"`,se.info),t(0,i=l||"0")})}),[i,l=>Cn.processKey(l[1])]}class Fw extends j{constructor(e){super(),z(this,e,Mw,Bw,N,{})}}const Pw={info:{name:"Calculator",description:"ArcOS Calculator",builtin:!0,version:"2.0.0",author:"Izaak Kuipers",icon:ww,appGroup:"utilities"},size:{w:340,h:NaN},pos:{x:60,y:60},minSize:{w:340,h:NaN},maxSize:{w:340,h:NaN},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:Fw,glass:!0,events:{close(){Dt.set("")},open(){Dt.set("")},keyboardShortcuts:[...Cn.generateKeyboardShortcuts(),{key:"enter",action:()=>Cn.evaluate()},{key:"escape",action:()=>Dt.set("")}]}},Uw=""+new URL("donut-041054d9.png",import.meta.url).href;let Ri=1,hr=1;function Nw(){const r=[],e=[];Ri+=.07,hr+=.03;let t=Math.cos(Ri),n=Math.sin(Ri),i=Math.cos(hr),s=Math.sin(hr);for(let l=0;l<1760;l++)r[l]=l%80==79?`
`:" ",e[l]=0;for(let l=0;l<6.28;l+=.07){let o=Math.cos(l),a=Math.sin(l);for(let c=0;c<6.28;c+=.02){let u=Math.sin(c),f=Math.cos(c),d=o+2,m=1/(u*d*n+a*t+5),b=u*d*t-a*n,A=0|40+30*m*(f*d*i-b*s),_=0|12+15*m*(f*d*s+b*i),k=A+80*_,v=0|8*((a*n-u*o*t)*i-u*o*n-a*t-f*o*s);_<22&&_>=0&&A>=0&&A<79&&m>e[k]&&(e[k]=m,r[k]=".,-~:;=!*#$@"[v>0?v:0]);const $={o:k,A:Ri,B:hr,N:v,st:a,sA:n,sp:u,ct:o,cA:t,cB:i,cp:f,sB:s,D:m,t:b,h:d,i:c,j:l,x:A,y:_,cycles:(Ri/.07/89.71428571428571).toFixed(2)};qp.set($)}}return r.join("")}const qp=pe();function Da(r,e,t){const n=r.slice();return n[3]=e[t],n}function Ba(r){let e,t=x(Object.entries(r[1])),n=[];for(let i=0;i<t.length;i+=1)n[i]=Ma(Da(r,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=ae()},m(i,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(i,s);S(i,e,s)},p(i,s){if(s&2){t=x(Object.entries(i[1]));let l;for(l=0;l<t.length;l+=1){const o=Da(i,t,l);n[l]?n[l].p(o,s):(n[l]=Ma(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(i){i&&y(e),me(n,i)}}}function zw(r){let e=r[3][1]+"",t;return{c(){t=F(e)},m(n,i){S(n,t,i)},p(n,i){i&2&&e!==(e=n[3][1]+"")&&W(t,e)},d(n){n&&y(t)}}}function jw(r){let e=r[3][1].toFixed(8)+"",t;return{c(){t=F(e)},m(n,i){S(n,t,i)},p(n,i){i&2&&e!==(e=n[3][1].toFixed(8)+"")&&W(t,e)},d(n){n&&y(t)}}}function Ma(r){let e,t,n=r[3][0]+"",i,s,l,o;function a(f,d){return typeof f[3][1]=="number"?jw:zw}let c=a(r),u=c(r);return{c(){e=g("tr"),t=g("td"),i=F(n),s=T(),l=g("td"),u.c(),o=T(),h(t,"class","svelte-u78920"),h(l,"class","svelte-u78920"),h(e,"class","svelte-u78920")},m(f,d){S(f,e,d),p(e,t),p(t,i),p(e,s),p(e,l),u.m(l,null),p(e,o)},p(f,d){d&2&&n!==(n=f[3][0]+"")&&W(i,n),c===(c=a(f))&&u?u.p(f,d):(u.d(1),u=c(f),u&&(u.c(),u.m(l,null)))},d(f){f&&y(e),u.d()}}}function Hw(r){let e,t,n,i,s,l=r[1]&&Ba(r);return{c(){e=g("div"),t=g("pre"),n=F(r[0]),i=T(),s=g("table"),l&&l.c(),h(t,"class","svelte-u78920"),h(s,"class","svelte-u78920"),h(e,"data-contextmenu","donut-target"),h(e,"class","svelte-u78920")},m(o,a){S(o,e,a),p(e,t),p(t,n),p(e,i),p(e,s),l&&l.m(s,null)},p(o,[a]){a&1&&W(n,o[0]),o[1]?l?l.p(o,a):(l=Ba(o),l.c(),l.m(s,null)):l&&(l.d(1),l=null)},i:O,o:O,d(o){o&&y(e),l&&l.d()}}}let Qw=30;function Ww(r,e,t){let n,i;K(r,Li,l=>t(2,n=l)),K(r,qp,l=>t(1,i=l));let s="";return setInterval(()=>{n&&t(0,s=Nw())},1e3/Qw),[s,i]}class Gw extends j{constructor(e){super(),z(this,e,Ww,Hw,N,{})}}const Kw={info:{name:"Donut",description:"A spinning ASCII donut",builtin:!0,version:ut,author:"Andy Sloane (ArcOS port by IzK)",icon:Uw,appGroup:"entertainment"},size:{w:850,h:520},pos:{x:30,y:40},minSize:{w:850,h:520},maxSize:{w:850,h:NaN},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:Gw,glass:!0,events:{open(){Li.set(!0)},close(){Li.set(!1)},blur(){Li.set(!1)},focus(){Li.set(!0)}}},Li=pe(!1);function Vw(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k;return{c(){e=g("p"),e.textContent="Specify the title and message to create an error message:",t=T(),n=g("br"),i=T(),s=g("input"),l=T(),o=g("input"),a=T(),c=g("input"),u=T(),f=g("input"),d=T(),m=g("button"),b=F("Create"),h(s,"placeholder","title"),h(s,"class","fullwidth"),h(o,"placeholder","message"),h(o,"class","fullwidth"),h(c,"placeholder","button caption 1"),h(c,"class","fullwidth"),h(f,"placeholder","button caption 2"),h(f,"class","fullwidth"),m.disabled=A=!r[0]||!r[1]},m(v,$){S(v,e,$),S(v,t,$),S(v,n,$),S(v,i,$),S(v,s,$),ge(s,r[0]),S(v,l,$),S(v,o,$),ge(o,r[1]),S(v,a,$),S(v,c,$),ge(c,r[2]),S(v,u,$),S(v,f,$),ge(f,r[3]),S(v,d,$),S(v,m,$),p(m,b),_||(k=[P(s,"input",r[5]),P(o,"input",r[6]),P(c,"input",r[7]),P(f,"input",r[8]),P(m,"click",r[4])],_=!0)},p(v,[$]){$&1&&s.value!==v[0]&&ge(s,v[0]),$&2&&o.value!==v[1]&&ge(o,v[1]),$&4&&c.value!==v[2]&&ge(c,v[2]),$&8&&f.value!==v[3]&&ge(f,v[3]),$&3&&A!==(A=!v[0]||!v[1])&&(m.disabled=A)},i:O,o:O,d(v){v&&(y(e),y(t),y(n),y(i),y(s),y(l),y(o),y(a),y(c),y(u),y(f),y(d),y(m)),_=!1,ke(k)}}}function qw(r,e,t){let n,i,s,l;function o(){qi(n,i,null,"ErrCre",{caption:s,action:()=>{}},{caption:l,action:()=>{}})}function a(){n=this.value,t(0,n)}function c(){i=this.value,t(1,i)}function u(){s=this.value,t(2,s)}function f(){l=this.value,t(3,l)}return[n,i,s,l,o,a,c,u,f]}let Yw=class extends j{constructor(e){super(),z(this,e,qw,Vw,N,{})}};const Jw={info:{name:"Error Message Summoner",description:"Use for testing only -- error message creator",builtin:!0,version:ut,author:"Izaak Kuipers",icon:wn,hidden:!0},size:{w:300,h:267},pos:{x:30,y:40},minSize:{w:300,h:253},maxSize:{w:300,h:253},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:Yw,glass:!0},Ys=""+new URL("exit-ccaa87b5.svg",import.meta.url).href;function Fa(r){let e,t,n;return{c(){e=g("button"),e.innerHTML='<span class="material-icons-round">terminal</span> <p class="caption">ArcTerm</p>',h(e,"class","option")},m(i,s){S(i,e,s),t||(n=P(e,"click",r[2]),t=!0)},p:O,d(i){i&&y(e),t=!1,n()}}}function Zw(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A=r[0]&&Fa(r);return{c(){e=g("div"),t=g("div"),n=g("h3"),n.textContent="ArcOS",i=T(),s=g("button"),s.innerHTML='<span class="material-icons-round">power_settings_new</span> <p class="caption">Shutdown</p>',l=T(),o=g("button"),o.innerHTML='<span class="material-icons-round">logout</span> <p class="caption">Logoff</p>',a=T(),c=g("button"),c.innerHTML='<span class="material-icons-round">refresh</span> <p class="caption">Restart</p>',u=T(),A&&A.c(),f=T(),d=g("button"),d.textContent="Cancel",h(n,"class","header"),h(s,"class","option"),h(o,"class","option"),h(c,"class","option"),h(d,"class","cancel"),h(t,"class","flex-stop"),h(e,"class","center-flex")},m(_,k){S(_,e,k),p(e,t),p(t,n),p(t,i),p(t,s),p(t,l),p(t,o),p(t,a),p(t,c),p(t,u),A&&A.m(t,null),p(t,f),p(t,d),m||(b=[P(s,"click",Zr),P(o,"click",r[4]),P(c,"click",r[5]),P(d,"click",r[1])],m=!0)},p(_,[k]){_[0]?A?A.p(_,k):(A=Fa(_),A.c(),A.m(t,f)):A&&(A.d(1),A=null)},i:O,o:O,d(_){_&&y(e),A&&A.d(),m=!1,ke(b)}}}function Xw(r,e,t){let n;K(r,Js,c=>t(0,n=c));let{app:i}=e;function s(){xt.set(!1),At(i.id)}function l(){vt.set("./"),Ve.set(null),Lt.set(jn),Jr.set(null),on.set({}),qt.set([]),gi.set([]),ue.set([]),mn.set(null),ft("arcterm")}const o=()=>Qn(!0),a=()=>Qn(!1);return r.$$set=c=>{"app"in c&&t(3,i=c.app)},[n,s,l,i,o,a]}let xw=class extends j{constructor(e){super(),z(this,e,Xw,Zw,N,{app:3})}};const ev={info:{name:"Exit",description:"ArcOS Exit Menu",builtin:!0,version:"2.0.0",author:"Izaak Kuipers",icon:Ys,hidden:!0},size:{w:280,h:50},pos:{x:30,y:40},minSize:{w:280,h:50},maxSize:{w:280,h:50},controls:{min:!1,max:!1,cls:!0},state:{headless:!0,resizable:!1,windowState:{min:!1,max:!1,fll:!0}},content:xw,glass:!0,events:{keyboardShortcuts:[{shift:!0,key:"",action(){Js.set(!0)}}],close(r){Js.set(!1)}}},Js=pe(!1),Yp=""+new URL("filemanager-cb441701.svg",import.meta.url).href;function Jp(r){Z("fs/main.ts: getParentDirectory",`Getting parent of ${r}`,se.info);const e=r.split("/");return r=="./"||!e.length?r:e.length==1?"./":(e.splice(-1),e.join("/"))}function Zp(r){Z("fs/main.ts: closeFile",`Closing file of ${r}`);const e=G(ue);for(let t=0;t<e.length;t++)e[t].id==r&&(e[t].openedFile=null);ue.set(e)}const Xt=""+new URL("folder-f520676e.svg",import.meta.url).href;function tv(r){let e,t,n,i,s,l,o,a=r[0].name+"",c,u,f,d,m,b,A,_,k;return{c(){e=g("button"),t=g("div"),n=g("img"),l=T(),o=g("div"),c=F(a),u=T(),f=g("div"),f.textContent="Folder",d=T(),m=g("div"),m.textContent="-",de(n.src,i=Xt)||h(n,"src",i),h(n,"alt",s=r[0].name),h(t,"class","image"),h(o,"class","name"),h(f,"class","mime"),h(m,"class","size"),h(e,"class","item dir"),h(e,"data-path",b=r[0].scopedPath),h(e,"data-type","dir"),h(e,"data-name",A=r[0].name),h(e,"data-contextmenu","listitem-dir"),U(e,"selected",r[1]==r[0].name),U(e,"cutting",r[2]&&r[2].name==r[0].name)},m(v,$){S(v,e,$),p(e,t),p(t,n),p(e,l),p(e,o),p(o,c),p(e,u),p(e,f),p(e,d),p(e,m),_||(k=[P(e,"click",r[3]),P(e,"dblclick",r[4])],_=!0)},p(v,[$]){$&1&&s!==(s=v[0].name)&&h(n,"alt",s),$&1&&a!==(a=v[0].name+"")&&W(c,a),$&1&&b!==(b=v[0].scopedPath)&&h(e,"data-path",b),$&1&&A!==(A=v[0].name)&&h(e,"data-name",A),$&3&&U(e,"selected",v[1]==v[0].name),$&5&&U(e,"cutting",v[2]&&v[2].name==v[0].name)},i:O,o:O,d(v){v&&y(e),_=!1,ke(k)}}}function nv(r,e,t){let n,i;K(r,Ve,a=>t(1,n=a)),K(r,In,a=>t(2,i=a));let{dir:s}=e;function l(){Ee(Ve,n=s.name,n)}function o(){tt.goToDirectory(s.scopedPath)}return r.$$set=a=>{"dir"in a&&t(0,s=a.dir)},[s,n,i,l,o]}let iv=class extends j{constructor(e){super(),z(this,e,nv,tv,N,{dir:0})}};const rv=""+new URL("application-default-dbaaa566.svg",import.meta.url).href,sv=""+new URL("image-x-generic-0c29fb59.svg",import.meta.url).href,lv=""+new URL("application-svg-944fd245.svg",import.meta.url).href,ov=""+new URL("application-pdf-7a1f0afa.svg",import.meta.url).href,ji=""+new URL("text-plain-19145840.svg",import.meta.url).href,av=""+new URL("application-arcapp-2a8df358.svg",import.meta.url).href,cv=""+new URL("application-json-e04d619a.svg",import.meta.url).href,uv=""+new URL("application-x-compress-98d85b80.svg",import.meta.url).href,Dl=""+new URL("markdownviewer-a03d6bb8.svg",import.meta.url).href,fv=""+new URL("audio-x-generic-73f31c65.svg",import.meta.url).href,Rs=[{extensions:[".png",".jpg",".bmp",".gif",".ico",".webp"],image:sv},{extensions:[".svg"],image:lv},{extensions:[".md"],image:Dl},{extensions:[".app",".ealc",".app.json"],image:av},{extensions:[".pdf"],image:ov},{extensions:[".txt"],image:ji},{extensions:[".json"],image:cv},{extensions:[".zip",".tar",".tar.gz",".7z",".rar"],image:uv},{extensions:[".flac",".mp3",".wav"],image:fv},{extensions:[".arctheme"],image:Vs},{extensions:["arcterm.conf"],image:us}];function an(r){for(let e=0;e<Rs.length;e++){const t=Rs[e].extensions;for(let n=0;n<t.length;n++)if(r.endsWith(t[n]))return Rs[e].image}return rv}async function Xp(r){return Z("fs/convert.ts: partialFileToComplete",`Converting ${r.scopedPath} to ArcFile`,se.info),{name:r.filename,path:r.scopedPath,mime:r.mime,data:await cn(r.scopedPath)}}async function xp(r,e,t){return Z("fs/convert.ts: fileToArcFile",`Converting ${r.name} to ArcFile`,se.info),{name:r.name,path:e,data:await r.arrayBuffer(),mime:t||"ArcOS Uploadable"}}function dv(r){let e,t,n,i,s,l,o,a=r[0].filename+"",c,u,f,d=r[0].mime.split("; ")[0].split("/").join(" - ")+"",m,b,A,_=mt(r[0].size)+"",k,v,$,E,I,L,R,H,Q;return{c(){e=g("button"),t=g("div"),n=g("img"),l=T(),o=g("div"),c=F(a),u=T(),f=g("div"),m=F(d),b=T(),A=g("div"),k=F(_),v=T(),$=g("div"),E=g("button"),E.textContent="launch",de(n.src,i=r[1])||h(n,"src",i),h(n,"alt",s=r[0].filename),h(t,"class","image"),h(o,"class","name"),h(f,"class","mime"),h(A,"class","size"),h(E,"class","material-icons-round"),h($,"class","options"),h(e,"class","item file"),h(e,"title",I=r[0].scopedPath),h(e,"data-path",L=r[0].scopedPath),h(e,"data-type","file"),h(e,"data-name",R=r[0].filename),h(e,"data-contextmenu","listitem-file"),U(e,"selected",r[2]==r[0].filename),U(e,"cutting",r[3]&&r[3].name==r[0].filename)},m(ee,J){S(ee,e,J),p(e,t),p(t,n),p(e,l),p(e,o),p(o,c),p(e,u),p(e,f),p(f,m),p(e,b),p(e,A),p(A,k),p(e,v),p(e,$),p($,E),H||(Q=[P(E,"click",r[6]),P(e,"click",r[4]),P(e,"contextmenu",r[4]),P(e,"dblclick",r[5])],H=!0)},p(ee,[J]){J&2&&!de(n.src,i=ee[1])&&h(n,"src",i),J&1&&s!==(s=ee[0].filename)&&h(n,"alt",s),J&1&&a!==(a=ee[0].filename+"")&&W(c,a),J&1&&d!==(d=ee[0].mime.split("; ")[0].split("/").join(" - ")+"")&&W(m,d),J&1&&_!==(_=mt(ee[0].size)+"")&&W(k,_),J&1&&I!==(I=ee[0].scopedPath)&&h(e,"title",I),J&1&&L!==(L=ee[0].scopedPath)&&h(e,"data-path",L),J&1&&R!==(R=ee[0].filename)&&h(e,"data-name",R),J&5&&U(e,"selected",ee[2]==ee[0].filename),J&9&&U(e,"cutting",ee[3]&&ee[3].name==ee[0].filename)},i:O,o:O,d(ee){ee&&y(e),H=!1,ke(Q)}}}function pv(r,e,t){let n,i,s;K(r,pn,d=>t(7,n=d)),K(r,Ve,d=>t(2,i=d)),K(r,In,d=>t(3,s=d));let{file:l}=e,o=Kn;function a(){Ee(Ve,i=l.filename,i)}async function c(){Ee(pn,n=l,n),Je("openingFile","FileManager");let d=await er(l);if(Ye("openingFile","FileManager"),Ee(pn,n=null,n),d!=!0){const m=d;Xe({title:`Unable to open ${l.filename}`,message:"You don't have an app or handler that can open this type of file.",buttons:[{caption:"Close",action:()=>{d=null}},{caption:"Open With...",action:()=>u(m)}],image:Kn},"FileManager")}d=null}function u(d){ps({...d,anymime:!0})}async function f(){Ee(pn,n=l,n),Je("openingFile","FileManager");const d=await Xp(l);u(d),Ye("openingFile","FileManager"),Ee(pn,n=l,n)}return ve(()=>{t(1,o=an(l.filename))}),Lt.subscribe(()=>{t(1,o=an(l.filename))}),r.$$set=d=>{"file"in d&&t(0,l=d.file)},[l,o,i,s,a,c,f]}let mv=class extends j{constructor(e){super(),z(this,e,pv,dv,N,{file:0})}};function hv(r){let e;return{c(){e=g("button"),e.innerHTML='<div class="image"></div> <div class="name">Name</div> <div class="mime">Type</div> <div class="size">Size</div>',h(e,"class","item head")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}class em extends j{constructor(e){super(),z(this,e,null,hv,N,{})}}function Pa(r,e,t){const n=r.slice();return n[3]=e[t],n}function Ua(r,e,t){const n=r.slice();return n[6]=e[t],n}function gv(r){let e,t,n,i,s,l;t=new em({});let o=x(r[1]),a=[];for(let m=0;m<o.length;m+=1)a[m]=Na(Ua(r,o,m));const c=m=>C(a[m],1,1,()=>{a[m]=null});let u=x(r[0]),f=[];for(let m=0;m<u.length;m+=1)f[m]=za(Pa(r,u,m));const d=m=>C(f[m],1,1,()=>{f[m]=null});return{c(){e=g("div"),M(t.$$.fragment),n=T(),i=g("div");for(let m=0;m<a.length;m+=1)a[m].c();s=T();for(let m=0;m<f.length;m+=1)f[m].c();h(i,"class","items"),h(e,"class","listview")},m(m,b){S(m,e,b),D(t,e,null),p(e,n),p(e,i);for(let A=0;A<a.length;A+=1)a[A]&&a[A].m(i,null);p(i,s);for(let A=0;A<f.length;A+=1)f[A]&&f[A].m(i,null);l=!0},p(m,b){if(b&2){o=x(m[1]);let A;for(A=0;A<o.length;A+=1){const _=Ua(m,o,A);a[A]?(a[A].p(_,b),w(a[A],1)):(a[A]=Na(_),a[A].c(),w(a[A],1),a[A].m(i,s))}for(q(),A=o.length;A<a.length;A+=1)c(A);Y()}if(b&1){u=x(m[0]);let A;for(A=0;A<u.length;A+=1){const _=Pa(m,u,A);f[A]?(f[A].p(_,b),w(f[A],1)):(f[A]=za(_),f[A].c(),w(f[A],1),f[A].m(i,null))}for(q(),A=u.length;A<f.length;A+=1)d(A);Y()}},i(m){if(!l){w(t.$$.fragment,m);for(let b=0;b<o.length;b+=1)w(a[b]);for(let b=0;b<u.length;b+=1)w(f[b]);l=!0}},o(m){C(t.$$.fragment,m),a=a.filter(Boolean);for(let b=0;b<a.length;b+=1)C(a[b]);f=f.filter(Boolean);for(let b=0;b<f.length;b+=1)C(f[b]);l=!1},d(m){m&&y(e),B(t),me(a,m),me(f,m)}}}function Av(r){let e,t,n,i;const s=[_v,bv],l=[];function o(a,c){return a[2]?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=ae()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,c){let u=e;e=o(a),e!==u&&(q(),C(l[u],1,1,()=>{l[u]=null}),Y(),t=l[e],t||(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function Na(r){let e,t;return e=new iv({props:{dir:r[6]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.dir=n[6]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function za(r){let e,t;return e=new mv({props:{file:r[3]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.file=n[3]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function bv(r){let e;return{c(){e=g("div"),e.textContent="This folder is empty.",h(e,"class","nofiles")},m(t,n){S(t,e,n)},i:O,o:O,d(t){t&&y(e)}}}function _v(r){let e,t,n,i,s,l;return n=new en({props:{height:32}}),{c(){e=g("div"),t=g("div"),M(n.$$.fragment),i=T(),s=g("p"),s.textContent="Reading items...",h(s,"class","caption"),h(t,"class","loading-inner"),h(e,"class","loading")},m(o,a){S(o,e,a),p(e,t),D(n,t,null),p(t,i),p(t,s),l=!0},i(o){l||(w(n.$$.fragment,o),l=!0)},o(o){C(n.$$.fragment,o),l=!1},d(o){o&&y(e),B(n)}}}function wv(r){let e,t,n,i;const s=[Av,gv],l=[];function o(a,c){return!a[1].length&&!a[0].length?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=ae()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(q(),C(l[u],1,1,()=>{l[u]=null}),Y(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function vv(r,e,t){let n;K(r,Or,l=>t(2,n=l));let{files:i=[]}=e,{dirs:s=[]}=e;return r.$$set=l=>{"files"in l&&t(0,i=l.files),"dirs"in l&&t(1,s=l.dirs)},[i,s,n]}class kv extends j{constructor(e){super(),z(this,e,vv,wv,N,{files:0,dirs:1})}}function yv(r){let e,t,n,i,s,l,o=r[0].name+"",a,c,u;return{c(){e=g("button"),t=g("img"),s=T(),l=g("p"),a=F(o),de(t.src,n=Xt)||h(t,"src",n),h(t,"alt",i=r[0].name),h(l,"class","name"),h(e,"class","folder"),U(e,"selected",r[1])},m(f,d){S(f,e,d),p(e,t),p(e,s),p(e,l),p(l,a),c||(u=P(e,"click",r[2]),c=!0)},p(f,[d]){d&1&&i!==(i=f[0].name)&&h(t,"alt",i),d&1&&o!==(o=f[0].name+"")&&W(a,o),d&2&&U(e,"selected",f[1])},i:O,o:O,d(f){f&&y(e),c=!1,u()}}}function Sv(r,e,t){let{folder:n}=e,i=!1;async function s(){tt.goToDirectory(n.scopedPath)}return vt.subscribe(l=>{const o=l.replace("./","");t(1,i=o.startsWith(n.name))}),r.$$set=l=>{"folder"in l&&t(0,n=l.folder)},[n,i,s]}class $v extends j{constructor(e){super(),z(this,e,Sv,yv,N,{folder:0})}}const Zs={used:0,max:0,free:0,username:"ArcOS"};async function tm(){const r=G(Fe),e=G(Ge);if(Z("fs/quota.ts: getFSQuota",`Getting FSQuota for ${r}`,se.info),!e||!r)return Zs;const t=await xe(e,"fs/quota",{},G(rt));return t.valid?t.data:Zs}function Cv(r){let e,t,n,i,s,l,o=mt(r[0].used)+"",a,c,u,f,d=mt(r[0].max)+"",m;return{c(){e=g("div"),t=g("div"),n=g("div"),i=T(),s=g("div"),l=g("span"),a=F(o),u=T(),f=g("div"),m=F(d),h(n,"class","inner"),Se(n,"width",r[1]+"%"),h(t,"class","bar"),h(l,"title",c=r[0].used+"B"),U(l,"invalid",r[0].used>r[0].max),h(f,"class","right"),h(s,"class","stat"),h(e,"class","quota-renderer")},m(b,A){S(b,e,A),p(e,t),p(t,n),p(e,i),p(e,s),p(s,l),p(l,a),p(s,u),p(s,f),p(f,m)},p(b,[A]){A&2&&Se(n,"width",b[1]+"%"),A&1&&o!==(o=mt(b[0].used)+"")&&W(a,o),A&1&&c!==(c=b[0].used+"B")&&h(l,"title",c),A&1&&U(l,"invalid",b[0].used>b[0].max),A&1&&d!==(d=mt(b[0].max)+"")&&W(m,d)},i:O,o:O,d(b){b&&y(e)}}}function Tv(r,e,t){let n=Zs,i=0;Lt.subscribe(s);async function s(){t(0,n=await tm()),t(1,i=Math.round(100/n.max*n.used))}return[n,i]}class Ev extends j{constructor(e){super(),z(this,e,Tv,Cv,N,{})}}function ja(r,e,t){const n=r.slice();return n[1]=e[t],n}function Ha(r){let e,t;return e=new $v({props:{folder:r[1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.folder=n[1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Iv(r){let e,t,n,i,s,l=x(r[0]),o=[];for(let c=0;c<l.length;c+=1)o[c]=Ha(ja(r,l,c));const a=c=>C(o[c],1,1,()=>{o[c]=null});return i=new Ev({}),{c(){e=g("div"),t=g("div");for(let c=0;c<o.length;c+=1)o[c].c();n=T(),M(i.$$.fragment),h(t,"class","dirs"),h(e,"class","sidebar")},m(c,u){S(c,e,u),p(e,t);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(t,null);p(e,n),D(i,e,null),s=!0},p(c,[u]){if(u&1){l=x(c[0]);let f;for(f=0;f<l.length;f+=1){const d=ja(c,l,f);o[f]?(o[f].p(d,u),w(o[f],1)):(o[f]=Ha(d),o[f].c(),w(o[f],1),o[f].m(t,null))}for(q(),f=l.length;f<o.length;f+=1)a(f);Y()}},i(c){if(!s){for(let u=0;u<l.length;u+=1)w(o[u]);w(i.$$.fragment,c),s=!0}},o(c){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)C(o[u]);C(i.$$.fragment,c),s=!1},d(c){c&&y(e),me(o,c),B(i)}}}function Ov(r,e,t){let n=[];return Lt.subscribe(async i=>{t(0,n=(await Kt("./")).directories)}),[n]}let Rv=class extends j{constructor(e){super(),z(this,e,Ov,Iv,N,{})}};function Lv(r){let e,t,n,i,s,l,o=r[0].name+"",a,c,u;return{c(){e=g("button"),t=g("img"),s=T(),l=g("p"),a=F(o),de(t.src,n=Xt)||h(t,"src",n),h(t,"alt",i=r[0].name),h(l,"class","name"),h(e,"class","tile dir"),U(e,"selected",r[1]==r[0].name),U(e,"cutting",r[2]&&r[2].name==r[0].name)},m(f,d){S(f,e,d),p(e,t),p(e,s),p(e,l),p(l,a),c||(u=[P(e,"click",r[3]),P(e,"dblclick",r[4])],c=!0)},p(f,[d]){d&1&&i!==(i=f[0].name)&&h(t,"alt",i),d&1&&o!==(o=f[0].name+"")&&W(a,o),d&3&&U(e,"selected",f[1]==f[0].name),d&5&&U(e,"cutting",f[2]&&f[2].name==f[0].name)},i:O,o:O,d(f){f&&y(e),c=!1,ke(u)}}}function Dv(r,e,t){let n,i;K(r,Ve,a=>t(1,n=a)),K(r,In,a=>t(2,i=a));let{dir:s}=e;function l(){Ee(Ve,n=s.name,n)}function o(){tt.goToDirectory(s.scopedPath)}return r.$$set=a=>{"dir"in a&&t(0,s=a.dir)},[s,n,i,l,o]}let Bv=class extends j{constructor(e){super(),z(this,e,Dv,Lv,N,{dir:0})}};function Mv(r){let e,t,n,i,s,l,o=r[0].filename+"",a,c,u,f;return{c(){e=g("button"),t=g("img"),s=T(),l=g("p"),a=F(o),de(t.src,n=r[1])||h(t,"src",n),h(t,"alt",i=r[0].filename),h(l,"class","name"),h(e,"class","tile file"),h(e,"title",c=r[0].scopedPath),U(e,"selected",r[2]==r[0].filename),U(e,"cutting",r[3]&&r[3].name==r[0].filename)},m(d,m){S(d,e,m),p(e,t),p(e,s),p(e,l),p(l,a),u||(f=[P(e,"click",r[4]),P(e,"dblclick",r[5])],u=!0)},p(d,[m]){m&2&&!de(t.src,n=d[1])&&h(t,"src",n),m&1&&i!==(i=d[0].filename)&&h(t,"alt",i),m&1&&o!==(o=d[0].filename+"")&&W(a,o),m&1&&c!==(c=d[0].scopedPath)&&h(e,"title",c),m&5&&U(e,"selected",d[2]==d[0].filename),m&9&&U(e,"cutting",d[3]&&d[3].name==d[0].filename)},i:O,o:O,d(d){d&&y(e),u=!1,ke(f)}}}function Fv(r,e,t){let n,i,s;K(r,pn,f=>t(6,n=f)),K(r,Ve,f=>t(2,i=f)),K(r,In,f=>t(3,s=f));let{file:l}=e,o=Kn;function a(){Ee(Ve,i=l.filename,i)}async function c(){Ee(pn,n=l,n),Je("openingFile","FileManager");let f=await er(l);if(Ye("openingFile","FileManager"),Ee(pn,n=null,n),f!=!0){const d=f;Xe({title:`Unable to open ${l.filename}`,message:"You don't have an app or handler that can open this type of file.",buttons:[{caption:"Close",action:()=>{f=null}},{caption:"Open With...",action:()=>u(d)}],image:Kn},"FileManager")}f=null}function u(f){ps({...f,anymime:!0})}return ve(()=>{t(1,o=an(l.filename))}),Lt.subscribe(()=>t(1,o=an(l.filename))),r.$$set=f=>{"file"in f&&t(0,l=f.file)},[l,o,i,s,a,c]}let Pv=class extends j{constructor(e){super(),z(this,e,Fv,Mv,N,{file:0})}};function Qa(r,e,t){const n=r.slice();return n[3]=e[t],n}function Wa(r,e,t){const n=r.slice();return n[6]=e[t],n}function Uv(r){let e,t,n,i=r[1].length&&Ga(r),s=r[0].length&&Va(r);return{c(){e=g("div"),i&&i.c(),t=T(),s&&s.c(),h(e,"class","tileview")},m(l,o){S(l,e,o),i&&i.m(e,null),p(e,t),s&&s.m(e,null),n=!0},p(l,o){l[1].length?i?(i.p(l,o),o&2&&w(i,1)):(i=Ga(l),i.c(),w(i,1),i.m(e,t)):i&&(q(),C(i,1,1,()=>{i=null}),Y()),l[0].length?s?(s.p(l,o),o&1&&w(s,1)):(s=Va(l),s.c(),w(s,1),s.m(e,null)):s&&(q(),C(s,1,1,()=>{s=null}),Y())},i(l){n||(w(i),w(s),n=!0)},o(l){C(i),C(s),n=!1},d(l){l&&y(e),i&&i.d(),s&&s.d()}}}function Nv(r){let e,t,n,i;const s=[jv,zv],l=[];function o(a,c){return a[2]?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=ae()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,c){let u=e;e=o(a),e!==u&&(q(),C(l[u],1,1,()=>{l[u]=null}),Y(),t=l[e],t||(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function Ga(r){let e,t,n=x(r[1]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Ka(Wa(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","folders")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,o){if(o&2){n=x(l[1]);let a;for(a=0;a<n.length;a+=1){const c=Wa(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Ka(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Ka(r){let e,t;return e=new Bv({props:{dir:r[6]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.dir=n[6]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Va(r){let e,t,n=x(r[0]),i=[];for(let l=0;l<n.length;l+=1)i[l]=qa(Qa(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","files")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,o){if(o&1){n=x(l[0]);let a;for(a=0;a<n.length;a+=1){const c=Qa(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=qa(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function qa(r){let e,t;return e=new Pv({props:{file:r[3]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.file=n[3]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function zv(r){let e;return{c(){e=g("div"),e.textContent="This folder is empty.",h(e,"class","nofiles")},m(t,n){S(t,e,n)},i:O,o:O,d(t){t&&y(e)}}}function jv(r){let e,t,n,i,s,l;return n=new en({props:{height:32}}),{c(){e=g("div"),t=g("div"),M(n.$$.fragment),i=T(),s=g("p"),s.textContent="Reading items...",h(s,"class","caption"),h(t,"class","loading-inner"),h(e,"class","loading")},m(o,a){S(o,e,a),p(e,t),D(n,t,null),p(t,i),p(t,s),l=!0},i(o){l||(w(n.$$.fragment,o),l=!0)},o(o){C(n.$$.fragment,o),l=!1},d(o){o&&y(e),B(n)}}}function Hv(r){let e,t,n,i;const s=[Nv,Uv],l=[];function o(a,c){return!a[1].length&&!a[0].length?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=ae()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(q(),C(l[u],1,1,()=>{l[u]=null}),Y(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function Qv(r,e,t){let n;K(r,Or,l=>t(2,n=l));let{files:i=[]}=e,{dirs:s=[]}=e;return r.$$set=l=>{"files"in l&&t(0,i=l.files),"dirs"in l&&t(1,s=l.dirs)},[i,s,n]}class Wv extends j{constructor(e){super(),z(this,e,Qv,Hv,N,{files:0,dirs:1})}}function Ya(r){let e,t,n,i;return{c(){e=g("button"),t=F(r[0]),h(e,"class","crumb")},m(s,l){S(s,e,l),p(e,t),n||(i=P(e,"click",r[1]),n=!0)},p(s,l){l&1&&W(t,s[0])},d(s){s&&y(e),n=!1,i()}}}function Gv(r){let e,t=r[0]&&r[0]!="."&&Ya(r);return{c(){t&&t.c(),e=ae()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0]&&n[0]!="."?t?t.p(n,i):(t=Ya(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function Kv(r,e,t){let{crumb:n}=e,{path:i}=e;function s(){tt.goToDirectory(i)}return r.$$set=l=>{"crumb"in l&&t(0,n=l.crumb),"path"in l&&t(2,i=l.path)},[n,s,i]}let Vv=class extends j{constructor(e){super(),z(this,e,Kv,Gv,N,{crumb:0,path:2})}};function Ja(r,e,t){const n=r.slice();return n[4]=e[t],n[6]=t,n}function Za(r){let e,t;return e=new Vv({props:{crumb:r[4],path:r[2](r[4],r[6])}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.crumb=n[4]),i&1&&(s.path=n[2](n[4],n[6])),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function qv(r){let e,t,n,i,s,l,o,a,c=x(r[0]),u=[];for(let d=0;d<c.length;d+=1)u[d]=Za(Ja(r,c,d));const f=d=>C(u[d],1,1,()=>{u[d]=null});return{c(){e=g("button"),e.textContent="home",t=T(),n=g("div");for(let d=0;d<u.length;d+=1)u[d].c();i=T(),s=g("button"),s.textContent="refresh",h(e,"class","home material-icons-round"),h(n,"class","addressbar"),h(s,"class","refresh material-icons-round")},m(d,m){S(d,e,m),S(d,t,m),S(d,n,m);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(n,null);S(d,i,m),S(d,s,m),l=!0,o||(a=[P(e,"click",r[1]),P(s,"click",r[3])],o=!0)},p(d,[m]){if(m&5){c=x(d[0]);let b;for(b=0;b<c.length;b+=1){const A=Ja(d,c,b);u[b]?(u[b].p(A,m),w(u[b],1)):(u[b]=Za(A),u[b].c(),w(u[b],1),u[b].m(n,null))}for(q(),b=c.length;b<u.length;b+=1)f(b);Y()}},i(d){if(!l){for(let m=0;m<c.length;m+=1)w(u[m]);l=!0}},o(d){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)C(u[m]);l=!1},d(d){d&&(y(e),y(t),y(n),y(i),y(s)),me(u,d),o=!1,ke(a)}}}function Yv(r,e,t){let n=[];vt.subscribe(o=>{t(0,n=o.split("/"))});function i(){tt.goToDirectory("./")}function s(o,a){let c="";for(let u=0;u<a;u++)c+=`${n[u]}/`;return`${c}${o}`}return[n,i,s,()=>tt.refresh()]}class Jv extends j{constructor(e){super(),z(this,e,Yv,qv,N,{})}}function Zv(r){let e,t,n,i,s;return{c(){e=g("button"),t=F("content_copy"),h(e,"class","material-icons-round copy"),e.disabled=n=!r[0]},m(l,o){S(l,e,o),p(e,t),i||(s=P(e,"click",r[1]),i=!0)},p(l,[o]){o&1&&n!==(n=!l[0])&&(e.disabled=n)},i:O,o:O,d(l){l&&y(e),i=!1,s()}}}function Xv(r,e,t){let n,i;K(r,Ve,l=>t(0,n=l)),K(r,vt,l=>t(2,i=l));function s(){Rr.set({name:n,scopedPath:`${i}/${n}`})}return[n,s]}class xv extends j{constructor(e){super(),z(this,e,Xv,Zv,N,{})}}function ek(r){let e,t,n;return{c(){e=g("button"),e.textContent="add",h(e,"class","material-icons-round create")},m(i,s){S(i,e,s),t||(n=P(e,"click",r[0]),t=!0)},p:O,i:O,o:O,d(i){i&&y(e),t=!1,n()}}}function tk(r){function e(){Je("createFile","FileManager")}return[e]}class nk extends j{constructor(e){super(),z(this,e,tk,ek,N,{})}}function ik(r){let e,t,n,i,s;return{c(){e=g("button"),t=F("content_cut"),h(e,"class","material-icons-round cut"),e.disabled=n=!r[0]},m(l,o){S(l,e,o),p(e,t),i||(s=P(e,"click",r[1]),i=!0)},p(l,[o]){o&1&&n!==(n=!l[0])&&(e.disabled=n)},i:O,o:O,d(l){l&&y(e),i=!1,s()}}}function rk(r,e,t){let n,i;K(r,Ve,l=>t(0,n=l)),K(r,vt,l=>t(2,i=l));function s(){In.set({name:n,scopedPath:`${i}/${n}`})}return[n,s]}class sk extends j{constructor(e){super(),z(this,e,rk,ik,N,{})}}function lk(r){let e,t,n,i,s;return{c(){e=g("button"),t=F("delete"),h(e,"class","material-icons-round"),e.disabled=n=!r[0],h(e,"title","Delete item")},m(l,o){S(l,e,o),p(e,t),i||(s=P(e,"click",r[1]),i=!0)},p(l,[o]){o&1&&n!==(n=!l[0])&&(e.disabled=n)},i:O,o:O,d(l){l&&y(e),i=!1,s()}}}function ok(r,e,t){let n,i;K(r,Ve,o=>t(0,n=o)),K(r,vt,o=>t(2,i=o));function s(){Xe({title:"Delete item?",message:`Are you sure you want to permanently delete ${n}?`,buttons:[{caption:"Delete",action:l},{caption:"Cancel",action(){}}],image:ki},"FileManager")}async function l(){const o=`${i}/${n}`;Jr.set(n),Je("deletingItem","FileManager"),await bl(o)||Xe({title:"Unable to delete item",message:"ArcAPI was not able to delete the item from the file system. A permission error may have occured. Please try again later.",buttons:[{caption:"OK",action(){}}],image:wn},"FileManager"),Ve.set(null),tt.refresh(),setTimeout(()=>{Ye("deletingItem","FileManager")},100)}return[n,s]}class ak extends j{constructor(e){super(),z(this,e,ok,lk,N,{})}}function ck(r){let e,t,n;return{c(){e=g("button"),e.textContent="create_new_folder",h(e,"class","material-icons-round"),h(e,"title","New folder")},m(i,s){S(i,e,s),t||(n=P(e,"click",r[0]),t=!0)},p:O,i:O,o:O,d(i){i&&y(e),t=!1,n()}}}function uk(r){function e(){Je("createFolder","FileManager")}return[e]}class fk extends j{constructor(e){super(),z(this,e,uk,ck,N,{})}}function dk(r){let e,t,n,i,s;return{c(){e=g("button"),t=F("arrow_upward"),h(e,"class","material-icons-round parentdir"),e.disabled=n=r[0]=="./",h(e,"title","Parent folder")},m(l,o){S(l,e,o),p(e,t),i||(s=P(e,"click",r[1]),i=!0)},p(l,[o]){o&1&&n!==(n=l[0]=="./")&&(e.disabled=n)},i:O,o:O,d(l){l&&y(e),i=!1,s()}}}function pk(r,e,t){let n;K(r,vt,s=>t(0,n=s));function i(){tt.goToDirectory(Jp(n))}return[n,i]}class mk extends j{constructor(e){super(),z(this,e,pk,dk,N,{})}}async function hk(r,e){Z("fs/mutate.ts: copyItem",`Copying ${r} to ${e}`,se.info);const t=G(Ge);return t?(await xe(t,"fs/cp",{path:btoa(r),target:btoa(e)},G(rt)),!0):!1}async function nm(r,e){Z("fs/rename.ts: renameItem",`Renaming ${r} to ${e}`,se.info);const t=G(Ge);return t?(await xe(t,"fs/rename",{oldpath:btoa(r),newpath:btoa(e)},G(rt))).valid:!1}function gk(r){let e,t,n,i,s;return{c(){e=g("button"),t=F("content_paste"),h(e,"class","material-icons-round paste"),e.disabled=n=!r[0]&&!r[1]},m(l,o){S(l,e,o),p(e,t),i||(s=P(e,"click",r[2]),i=!0)},p(l,[o]){o&3&&n!==(n=!l[0]&&!l[1])&&(e.disabled=n)},i:O,o:O,d(l){l&&y(e),i=!1,s()}}}function Ak(r,e,t){let n,i,s;K(r,vt,o=>t(3,n=o)),K(r,In,o=>t(0,i=o)),K(r,Rr,o=>t(1,s=o));async function l(){if(s){const o=s.name,a=s.scopedPath;await hk(a,`${n}/${o}`),Rr.set(null)}if(i){const o=i.name,a=i.scopedPath;await nm(a,`${n}/${o}`),In.set(null)}tt.refresh()}return[i,s,l]}class bk extends j{constructor(e){super(),z(this,e,Ak,gk,N,{})}}function _k(r){let e,t,n,i,s;return{c(){e=g("button"),t=F("drive_file_rename_outline"),h(e,"class","material-icons-round"),e.disabled=n=!r[0],h(e,"title","Rename item")},m(l,o){S(l,e,o),p(e,t),i||(s=P(e,"click",r[1]),i=!0)},p(l,[o]){o&1&&n!==(n=!l[0])&&(e.disabled=n)},i:O,o:O,d(l){l&&y(e),i=!1,s()}}}function wk(r,e,t){let n;K(r,Ve,s=>t(0,n=s));function i(){Je("renameItem","FileManager")}return[n,i]}class vk extends j{constructor(e){super(),z(this,e,wk,_k,N,{})}}const Xs=""+new URL("upload-62f3bdf6.svg",import.meta.url).href;function kk(r){let e,t,n,i,s;return{c(){e=g("input"),t=T(),n=g("button"),n.textContent="upload",h(e,"type","file"),h(e,"name","file"),e.multiple=!0,h(e,"class","svelte-nn3gqf"),h(n,"class","material-icons-round"),h(n,"title","Upload file")},m(l,o){S(l,e,o),r[2](e),S(l,t,o),S(l,n,o),i||(s=[P(e,"change",r[1]),P(n,"click",r[3])],i=!0)},p:O,i:O,o:O,d(l){l&&(y(e),y(t),y(n)),r[2](null),i=!1,ke(s)}}}function yk(r,e,t){let n;K(r,vt,c=>t(4,n=c));let i;async function s(){const c=i.files;if(c.length>80)return Xe({title:"Too many files",message:"You are only allowed to upload 80 files at a time to prevent overloading.",buttons:[{caption:"Understood",action(){}}],image:Xs},"FileManager");Je("uploadingFile","FileManager");let u=50;for(let f=0;f<c.length;f++)u+=25,c[f]&&await l(c[f]);setTimeout(()=>{Ye("uploadingFile","FileManager"),tt.refresh()},u+500)}async function l(c){const u=new Blob([new Uint8Array(await c.arrayBuffer())]),f=`${n}/${c.name}`.split("//").join("/"),d=await xp(c,f);_l.set(d),await un(f,u)||yi({title:"File upload failed",message:"The server could not parse the file or it could not be written to the ArcFS",buttons:[],image:Xs})}function o(c){we[c?"unshift":"push"](()=>{i=c,t(0,i)})}return[i,s,o,()=>i.click()]}class Sk extends j{constructor(e){super(),z(this,e,yk,kk,N,{})}}function $k(r){let e,t,n,i,s,l;return{c(){e=g("div"),t=g("button"),t.textContent="format_list_bulleted",n=T(),i=g("button"),i.textContent="grid_view",h(t,"class","material-icons-round"),h(t,"title","List view"),U(t,"selected",!r[0].tiled),h(i,"class","material-icons-round"),h(i,"title","Tile view"),U(i,"selected",r[0].tiled),h(e,"class","group")},m(o,a){S(o,e,a),p(e,t),p(e,n),p(e,i),s||(l=[P(t,"click",r[1](!1)),P(i,"click",r[1](!0))],s=!0)},p(o,[a]){a&1&&U(t,"selected",!o[0].tiled),a&1&&U(i,"selected",o[0].tiled)},i:O,o:O,d(o){o&&y(e),s=!1,ke(l)}}}function Ck(r,e,t){let n;K(r,ne,o=>t(3,n=o));let{appdata:i}=e,{app:s}=e;function l(o){return()=>{t(0,i.tiled=o,i),Ee(ne,n.appdata[s.id]=i,n)}}return r.$$set=o=>{"appdata"in o&&t(0,i=o.appdata),"app"in o&&t(2,s=o.app)},[i,l,s]}class Tk extends j{constructor(e){super(),z(this,e,Ck,$k,N,{appdata:0,app:2})}}function Ek(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k,v,$,E,I,L,R,H,Q,ee,J,Ae,ce,le;t=new mk({}),i=new Jv({}),a=new sk({}),u=new xv({}),d=new bk({}),_=new ak({}),v=new vk({}),I=new fk({}),R=new nk({}),Q=new Sk({});function ie(V){r[2](V)}function X(V){r[3](V)}let re={};return r[0]!==void 0&&(re.appdata=r[0]),r[1]!==void 0&&(re.app=r[1]),J=new Tk({props:re}),we.push(()=>Ce(J,"appdata",ie)),we.push(()=>Ce(J,"app",X)),{c(){e=g("div"),M(t.$$.fragment),n=T(),M(i.$$.fragment),s=T(),l=g("div"),o=g("div"),M(a.$$.fragment),c=T(),M(u.$$.fragment),f=T(),M(d.$$.fragment),m=T(),b=g("div"),A=T(),M(_.$$.fragment),k=T(),M(v.$$.fragment),$=T(),E=g("div"),M(I.$$.fragment),L=T(),M(R.$$.fragment),H=T(),M(Q.$$.fragment),ee=T(),M(J.$$.fragment),h(b,"class","sep"),h(o,"class","group"),h(E,"class","group"),h(l,"class","right"),h(e,"class","topbar")},m(V,oe){S(V,e,oe),D(t,e,null),p(e,n),D(i,e,null),p(e,s),p(e,l),p(l,o),D(a,o,null),p(o,c),D(u,o,null),p(o,f),D(d,o,null),p(o,m),p(o,b),p(o,A),D(_,o,null),p(o,k),D(v,o,null),p(l,$),p(l,E),D(I,E,null),p(E,L),D(R,E,null),p(E,H),D(Q,E,null),p(l,ee),D(J,l,null),le=!0},p(V,[oe]){const fe={};!Ae&&oe&1&&(Ae=!0,fe.appdata=V[0],$e(()=>Ae=!1)),!ce&&oe&2&&(ce=!0,fe.app=V[1],$e(()=>ce=!1)),J.$set(fe)},i(V){le||(w(t.$$.fragment,V),w(i.$$.fragment,V),w(a.$$.fragment,V),w(u.$$.fragment,V),w(d.$$.fragment,V),w(_.$$.fragment,V),w(v.$$.fragment,V),w(I.$$.fragment,V),w(R.$$.fragment,V),w(Q.$$.fragment,V),w(J.$$.fragment,V),le=!0)},o(V){C(t.$$.fragment,V),C(i.$$.fragment,V),C(a.$$.fragment,V),C(u.$$.fragment,V),C(d.$$.fragment,V),C(_.$$.fragment,V),C(v.$$.fragment,V),C(I.$$.fragment,V),C(R.$$.fragment,V),C(Q.$$.fragment,V),C(J.$$.fragment,V),le=!1},d(V){V&&y(e),B(t),B(i),B(a),B(u),B(d),B(_),B(v),B(I),B(R),B(Q),B(J)}}}function Ik(r,e,t){let{appdata:n}=e,{app:i}=e;function s(o){n=o,t(0,n)}function l(o){i=o,t(1,i)}return r.$$set=o=>{"appdata"in o&&t(0,n=o.appdata),"app"in o&&t(1,i=o.app)},[n,i,s,l]}let Ok=class extends j{constructor(e){super(),z(this,e,Ik,Ek,N,{appdata:0,app:1})}};function Xa(r){let e,t,n=(r[1]||"./")+"",i,s,l,o=r[0].name+"",a,c,u,f,d=r[0].files.length+"",m,b,A,_,k=r[0].directories.length+"",v,$;return{c(){e=g("div"),t=g("div"),i=F(n),s=T(),l=g("div"),a=F(o),c=T(),u=g("div"),f=g("div"),m=F(d),b=F(" Files"),A=T(),_=g("div"),v=F(k),$=F(" Folders"),h(t,"class","section"),h(l,"class","section"),h(f,"class","section"),h(_,"class","section"),h(u,"class","right"),h(e,"class","bottom")},m(E,I){S(E,e,I),p(e,t),p(t,i),p(e,s),p(e,l),p(l,a),p(e,c),p(e,u),p(u,f),p(f,m),p(f,b),p(u,A),p(u,_),p(_,v),p(_,$)},p(E,I){I&2&&n!==(n=(E[1]||"./")+"")&&W(i,n),I&1&&o!==(o=E[0].name+"")&&W(a,o),I&1&&d!==(d=E[0].files.length+"")&&W(m,d),I&1&&k!==(k=E[0].directories.length+"")&&W(v,k)},d(E){E&&y(e)}}}function Rk(r){let e,t=r[0]&&Xa(r);return{c(){t&&t.c(),e=ae()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0]?t?t.p(n,i):(t=Xa(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function Lk(r,e,t){let n,i;return K(r,Lt,s=>t(0,n=s)),K(r,vt,s=>t(1,i=s)),[n,i]}let Dk=class extends j{constructor(e){super(),z(this,e,Lk,Rk,N,{})}};function Bk(r){let e,t;return e=new kv({props:{files:r[2],dirs:r[3]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.files=n[2]),i&8&&(s.dirs=n[3]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Mk(r){let e,t;return e=new Wv({props:{files:r[2],dirs:r[3]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.files=n[2]),i&8&&(s.dirs=n[3]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Fk(r){let e,t,n,i,s,l,o,a,c,u,f;function d(k){r[5](k)}let m={app:r[1]};r[0]!==void 0&&(m.appdata=r[0]),e=new Ok({props:m}),we.push(()=>Ce(e,"appdata",d)),i=new Rv({});const b=[Mk,Bk],A=[];function _(k,v){return k[4]?0:1}return o=_(r),a=A[o]=b[o](r),u=new Dk({}),{c(){M(e.$$.fragment),n=T(),M(i.$$.fragment),s=T(),l=g("div"),a.c(),c=T(),M(u.$$.fragment),h(l,"class","content")},m(k,v){D(e,k,v),S(k,n,v),D(i,k,v),S(k,s,v),S(k,l,v),A[o].m(l,null),S(k,c,v),D(u,k,v),f=!0},p(k,[v]){const $={};v&2&&($.app=k[1]),!t&&v&1&&(t=!0,$.appdata=k[0],$e(()=>t=!1)),e.$set($);let E=o;o=_(k),o===E?A[o].p(k,v):(q(),C(A[E],1,1,()=>{A[E]=null}),Y(),a=A[o],a?a.p(k,v):(a=A[o]=b[o](k),a.c()),w(a,1),a.m(l,null))},i(k){f||(w(e.$$.fragment,k),w(i.$$.fragment,k),w(a),w(u.$$.fragment,k),f=!0)},o(k){C(e.$$.fragment,k),C(i.$$.fragment,k),C(a),C(u.$$.fragment,k),f=!1},d(k){k&&(y(n),y(s),y(l),y(c)),B(e,k),B(i,k),A[o].d(),B(u,k)}}}function Pk(r,e,t){let n;K(r,Lt,u=>t(6,n=u));let i=[],s=[],l=!1,{app:o}=e,{appdata:a}=e;ne.subscribe(()=>{t(4,l=a.tiled)}),ve(async()=>{await tt.refresh();const u=n||jn;t(2,i=u.files),t(3,s=u.directories)}),Lt.subscribe(u=>{t(3,s=u.directories),t(2,i=u.files)});function c(u){a=u,t(0,a)}return r.$$set=u=>{"app"in u&&t(1,o=u.app),"appdata"in u&&t(0,a=u.appdata)},[a,o,i,s,l,c]}class Uk extends j{constructor(e){super(),z(this,e,Pk,Fk,N,{app:1,appdata:0})}}const Mi={sep:!0},Nk=["button","div","span","p","h1","h2","h3","h4","h5","img"];function zk(r,e,t){const n=document.querySelectorAll("div.app > div.desktop")[0];if(!n)return;const i=n.offsetWidth,s=n.offsetHeight;let l=r.clientX,o=r.clientY;return l+e>i&&(l=i-e),o+t>s&&(o=s-t),l<0&&(l=0),o<0&&(o=0),[l,o]}function jk(r){const e=r.composedPath();for(let t=0;t<e.length;t++){const n=e[t].tagName;if(!n)continue;const i=e[t].dataset.contextmenu;if(Nk.includes(n.toLowerCase())&&i)return e[t]}return null}function Hk(r,e){const t=Ue(r);if(!t||!t.contextMenu)return!1;const n=Object.entries(t.contextMenu);for(let i=0;i<n.length;i++)if(e.includes(n[i][0]))return n[i][1];return!1}const Qk={"listitem-dir":[{icon:"launch",caption:"Open",action:(r,e)=>{const t=e.path;t&&tt.goToDirectory(t)}},{icon:"drive_file_rename_outline",caption:"Rename",action:(r,e)=>{Ve.set(e.name),Je("renameItem","FileManager")}},{icon:"content_copy",caption:"Copy",action:(r,e)=>{Ve.set(e.name),Rr.set({name:e.name,scopedPath:`${e.path}`})}},{icon:"content_cut",caption:"Cut",action:(r,e)=>{Ve.set(e.name),In.set({name:e.name,scopedPath:`${e.path}`})}}],"listitem-file":[{caption:"Delete",action:(r,e)=>{Xe({title:"Delete item?",message:`Are you sure you want to permanently delete ${e.name}?`,buttons:[{caption:"Delete",action:async()=>{tt.deleteItem(e.name,e.path)}},{caption:"Cancel",action(){}}],image:ki},"FileManager")}}]};function Wk(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k,v;return{c(){e=g("div"),t=g("div"),n=g("img"),s=T(),l=g("div"),o=g("p"),o.textContent="Enter a name for the new file:",a=T(),c=g("input"),u=T(),f=g("div"),d=g("div"),m=g("button"),b=F("Create"),A=T(),_=g("button"),_.textContent="Cancel",de(n.src,i=r[1]||ji)||h(n,"src",i),h(n,"alt",""),h(t,"class","image"),h(c,"type","text"),m.disabled=r[2],h(d,"class","inner"),h(f,"class","actions"),h(e,"class","fb-overlay-mutator-wrapper")},m($,E){S($,e,E),p(e,t),p(t,n),p(e,s),p(e,l),p(l,o),p(l,a),p(l,c),ge(c,r[0]),p(l,u),p(l,f),p(f,d),p(d,m),p(m,b),p(d,A),p(d,_),k||(v=[P(c,"input",r[6]),P(c,"input",r[3]),P(m,"click",r[4]),P(_,"click",r[5])],k=!0)},p($,[E]){E&2&&!de(n.src,i=$[1]||ji)&&h(n,"src",i),E&1&&c.value!==$[0]&&ge(c,$[0]),E&4&&(m.disabled=$[2])},i:O,o:O,d($){$&&y(e),k=!1,ke(v)}}}function Gk(r,e,t){let n,i;K(r,vt,d=>t(7,n=d)),K(r,Lt,d=>t(8,i=d));let s="",l="",o=!1;function a(){const d=i.directories,m=i.files;for(let b=0;b<d.length;b++)if(d[b].name==s)return t(2,o=!0);for(let b=0;b<m.length;b++)if(m[b].filename==s)return t(2,o=!0);t(2,o=!1),t(1,l=an(s)||ji)}async function c(){await un(`${n}/${s}`,new Blob([])),Ve.set(s),u(),tt.refresh()}function u(){Ye("createFile","FileManager"),t(0,s="")}function f(){s=this.value,t(0,s)}return[s,l,o,a,c,u,f]}class Kk extends j{constructor(e){super(),z(this,e,Gk,Wk,N,{})}}function Vk(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_;return{c(){e=g("div"),t=g("div"),t.innerHTML=`<img src="${Xt}" alt=""/>`,n=T(),i=g("div"),s=g("p"),s.textContent="Enter a name for the new folder:",l=T(),o=g("input"),a=T(),c=g("div"),u=g("div"),f=g("button"),d=F("Create"),m=T(),b=g("button"),b.textContent="Cancel",h(t,"class","image"),h(o,"type","text"),f.disabled=r[1],h(u,"class","inner"),h(c,"class","actions"),h(e,"class","fb-overlay-mutator-wrapper")},m(k,v){S(k,e,v),p(e,t),p(e,n),p(e,i),p(i,s),p(i,l),p(i,o),ge(o,r[0]),p(i,a),p(i,c),p(c,u),p(u,f),p(f,d),p(u,m),p(u,b),A||(_=[P(o,"input",r[5]),P(o,"input",r[2]),P(f,"click",r[3]),P(b,"click",r[4])],A=!0)},p(k,[v]){v&1&&o.value!==k[0]&&ge(o,k[0]),v&2&&(f.disabled=k[1])},i:O,o:O,d(k){k&&y(e),A=!1,ke(_)}}}function qk(r,e,t){let n,i;K(r,vt,f=>t(6,n=f)),K(r,Lt,f=>t(7,i=f));let s="",l=!1;function o(){const f=i.directories,d=i.files;for(let m=0;m<f.length;m++)if(f[m].name==s)return t(1,l=!0);for(let m=0;m<d.length;m++)if(d[m].filename==s)return t(1,l=!0);t(1,l=!1)}async function a(){await Vi(`${n}/${s}`),Ve.set(s),c(),tt.refresh()}function c(){Ye("createFolder","FileManager"),t(0,s="")}function u(){s=this.value,t(0,s)}return[s,l,o,a,c,u]}class Yk extends j{constructor(e){super(),z(this,e,qk,Vk,N,{})}}function Jk(r){let e,t,n,i,s,l,o,a,c,u,f;return u=new en({props:{height:30}}),{c(){e=g("div"),t=g("div"),t.innerHTML=`<img src="${ki}" alt=""/>`,n=T(),i=g("div"),s=F("Deleting "),l=F(r[0]),o=F("..."),a=T(),c=g("div"),M(u.$$.fragment),h(t,"class","icon"),h(i,"class","caption"),h(c,"class","spin"),h(e,"class","deletingfile-wrapper")},m(d,m){S(d,e,m),p(e,t),p(e,n),p(e,i),p(i,s),p(i,l),p(i,o),p(e,a),p(e,c),D(u,c,null),f=!0},p(d,[m]){(!f||m&1)&&W(l,d[0])},i(d){f||(w(u.$$.fragment,d),f=!0)},o(d){C(u.$$.fragment,d),f=!1},d(d){d&&y(e),B(u)}}}function Zk(r,e,t){let n;return K(r,Jr,i=>t(0,n=i)),[n]}class Xk extends j{constructor(e){super(),z(this,e,Zk,Jk,N,{})}}const xk=""+new URL("memory-802c404d.svg",import.meta.url).href;function xa(r){let e,t,n,i,s,l=r[0].filename+"",o,a,c,u,f,d,m,b,A,_,k,v=r[0].filename+"",$,E,I,L,R,H,Q=r[0].filename+"",ee,J,Ae,ce,le,ie,X=r[0].mime+"",re,V,oe,fe,ye,_e,Ie=mt(r[0].size)+"",Le,Me;return f=new en({props:{height:30}}),{c(){e=g("div"),t=g("div"),t.innerHTML=`<img src="${xk}" alt=""/>`,n=T(),i=g("div"),s=F("Downloading "),o=F(l),a=F(" to RAM..."),c=T(),u=g("div"),M(f.$$.fragment),d=T(),m=g("table"),b=g("tr"),A=g("td"),A.textContent="Name",_=T(),k=g("td"),$=F(v),E=T(),I=g("tr"),L=g("td"),L.textContent="Path",R=T(),H=g("td"),ee=F(Q),J=T(),Ae=g("tr"),ce=g("td"),ce.textContent="Mimetype",le=T(),ie=g("td"),re=F(X),V=T(),oe=g("tr"),fe=g("td"),fe.textContent="Size",ye=T(),_e=g("td"),Le=F(Ie),h(t,"class","icon"),h(i,"class","caption"),h(u,"class","spin"),h(e,"class","openingfile-wrapper"),h(A,"class","key"),h(L,"class","key"),h(ce,"class","key"),h(fe,"class","key"),h(m,"class","openfile-details")},m(We,nt){S(We,e,nt),p(e,t),p(e,n),p(e,i),p(i,s),p(i,o),p(i,a),p(e,c),p(e,u),D(f,u,null),S(We,d,nt),S(We,m,nt),p(m,b),p(b,A),p(b,_),p(b,k),p(k,$),p(m,E),p(m,I),p(I,L),p(I,R),p(I,H),p(H,ee),p(m,J),p(m,Ae),p(Ae,ce),p(Ae,le),p(Ae,ie),p(ie,re),p(m,V),p(m,oe),p(oe,fe),p(oe,ye),p(oe,_e),p(_e,Le),Me=!0},p(We,nt){(!Me||nt&1)&&l!==(l=We[0].filename+"")&&W(o,l),(!Me||nt&1)&&v!==(v=We[0].filename+"")&&W($,v),(!Me||nt&1)&&Q!==(Q=We[0].filename+"")&&W(ee,Q),(!Me||nt&1)&&X!==(X=We[0].mime+"")&&W(re,X),(!Me||nt&1)&&Ie!==(Ie=mt(We[0].size)+"")&&W(Le,Ie)},i(We){Me||(w(f.$$.fragment,We),Me=!0)},o(We){C(f.$$.fragment,We),Me=!1},d(We){We&&(y(e),y(d),y(m)),B(f)}}}function e2(r){let e,t,n,i,s,l=r[0]&&xa(r);return{c(){l&&l.c(),e=T(),t=g("button"),t.textContent="Cancel",h(t,"class","cancel")},m(o,a){l&&l.m(o,a),S(o,e,a),S(o,t,a),n=!0,i||(s=P(t,"click",r[1]),i=!0)},p(o,[a]){o[0]?l?(l.p(o,a),a&1&&w(l,1)):(l=xa(o),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(q(),C(l,1,1,()=>{l=null}),Y())},i(o){n||(w(l),n=!0)},o(o){C(l),n=!1},d(o){o&&(y(e),y(t)),l&&l.d(o),i=!1,s()}}}function t2(r,e,t){let n;K(r,pn,s=>t(0,n=s));function i(){$r.set(!0),Ye("openingFile","FileManager")}return[n,i]}class n2 extends j{constructor(e){super(),z(this,e,t2,e2,N,{})}}function i2(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k,v,$,E,I,L;return{c(){e=g("div"),t=g("div"),n=g("img"),s=T(),l=g("div"),o=g("p"),a=F("Enter a new name for "),c=F(r[4]),u=F(":"),f=T(),d=g("input"),m=T(),b=g("div"),A=g("div"),_=g("button"),k=F("Rename"),$=T(),E=g("button"),E.textContent="Cancel",de(n.src,i=r[2]?Xt:r[1])||h(n,"src",i),h(n,"alt",""),h(t,"class","image"),h(d,"type","text"),h(d,"placeholder",r[4]),_.disabled=v=r[3]||!r[0],h(A,"class","inner"),h(b,"class","actions"),h(e,"class","fb-overlay-mutator-wrapper")},m(R,H){S(R,e,H),p(e,t),p(t,n),p(e,s),p(e,l),p(l,o),p(o,a),p(o,c),p(o,u),p(l,f),p(l,d),ge(d,r[0]),p(l,m),p(l,b),p(b,A),p(A,_),p(_,k),p(A,$),p(A,E),I||(L=[P(d,"input",r[8]),P(d,"input",r[5]),P(_,"click",r[6]),P(E,"click",r[7])],I=!0)},p(R,[H]){H&6&&!de(n.src,i=R[2]?Xt:R[1])&&h(n,"src",i),H&16&&W(c,R[4]),H&16&&h(d,"placeholder",R[4]),H&1&&d.value!==R[0]&&ge(d,R[0]),H&9&&v!==(v=R[3]||!R[0])&&(_.disabled=v)},i:O,o:O,d(R){R&&y(e),I=!1,ke(L)}}}function r2(r,e,t){let n,i,s;K(r,vt,A=>t(9,n=A)),K(r,Ve,A=>t(4,i=A)),K(r,Lt,A=>t(10,s=A));let l="",o="",a=!1,c=!1;function u(){const A=s.directories,_=s.files;t(2,a=f());for(let k=0;k<A.length;k++)A[k].name==n&&t(2,a=!0);for(let k=0;k<_.length;k++)if(_[k].filename==l)return t(3,c=!0);t(3,c=!1)}Ve.subscribe(A=>{A&&(t(2,a=f()),t(1,o=an(A)))});function f(){const A=s.directories;for(let _=0;_<A.length;_++)if(A[_].name==i)return!0;return!1}async function d(){await nm(`${n}/${i}`,`${n}/${l}`),Ve.set(l),m(),t(0,l=""),tt.refresh()}function m(){Ye("renameItem","FileManager")}function b(){l=this.value,t(0,l)}return[l,o,a,c,i,u,d,m,b]}class s2 extends j{constructor(e){super(),z(this,e,r2,i2,N,{})}}function l2(r){let e,t,n,i;return{c(){e=g("span"),t=g("span"),t.textContent=`${$t()||location.hostname}`,n=T(),i=g("span"),i.textContent="Hover to show ArcAPI",h(t,"class","api svelte-13s49fr"),h(i,"class","place svelte-13s49fr"),h(e,"class","reveal svelte-13s49fr")},m(s,l){S(s,e,l),p(e,t),p(e,n),p(e,i)},p:O,i:O,o:O,d(s){s&&y(e)}}}class Zi extends j{constructor(e){super(),z(this,e,null,l2,N,{})}}function ec(r){let e,t,n,i,s,l=r[0].name+"",o,a,c,u,f,d,m,b,A=r[1].toFixed(0)+"",_,k,v,$,E,I,L,R,H=r[0].path+"",Q,ee,J,Ae,ce,le,ie=r[0].mime+"",X,re,V,oe,fe,ye,_e,Ie;return _e=new Zi({}),{c(){e=g("div"),t=g("div"),t.innerHTML=`<img src="${Xs}" alt=""/>`,n=T(),i=g("div"),s=F("Uploading "),o=F(l),a=F("..."),c=T(),u=g("div"),f=g("div"),d=g("div"),m=T(),b=g("div"),_=F(A),k=F("%"),v=T(),$=g("table"),E=g("tr"),I=g("td"),I.textContent="Path",L=T(),R=g("td"),Q=F(H),ee=T(),J=g("tr"),Ae=g("td"),Ae.textContent="Type",ce=T(),le=g("td"),X=F(ie),re=T(),V=g("tr"),oe=g("td"),oe.textContent="Target",fe=T(),ye=g("td"),M(_e.$$.fragment),h(t,"class","icon"),h(i,"class","caption"),h(e,"class","uploadingfile-wrapper"),h(d,"class","inner"),Se(d,"width",Math.floor(r[1])+"%"),h(f,"class","progress"),h(b,"class","percentage"),h(u,"class","progress-wrapper"),h(I,"class","key"),h(Ae,"class","key"),h(oe,"class","key"),h($,"class","openfile-details")},m(Le,Me){S(Le,e,Me),p(e,t),p(e,n),p(e,i),p(i,s),p(i,o),p(i,a),S(Le,c,Me),S(Le,u,Me),p(u,f),p(f,d),p(u,m),p(u,b),p(b,_),p(b,k),S(Le,v,Me),S(Le,$,Me),p($,E),p(E,I),p(E,L),p(E,R),p(R,Q),p($,ee),p($,J),p(J,Ae),p(J,ce),p(J,le),p(le,X),p($,re),p($,V),p(V,oe),p(V,fe),p(V,ye),D(_e,ye,null),Ie=!0},p(Le,Me){(!Ie||Me&1)&&l!==(l=Le[0].name+"")&&W(o,l),(!Ie||Me&2)&&Se(d,"width",Math.floor(Le[1])+"%"),(!Ie||Me&2)&&A!==(A=Le[1].toFixed(0)+"")&&W(_,A),(!Ie||Me&1)&&H!==(H=Le[0].path+"")&&W(Q,H),(!Ie||Me&1)&&ie!==(ie=Le[0].mime+"")&&W(X,ie)},i(Le){Ie||(w(_e.$$.fragment,Le),Ie=!0)},o(Le){C(_e.$$.fragment,Le),Ie=!1},d(Le){Le&&(y(e),y(c),y(u),y(v),y($)),B(_e)}}}function o2(r){let e,t,n=r[0]&&ec(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=ec(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function a2(r,e,t){let n,i;return K(r,_l,s=>t(0,n=s)),K(r,np,s=>t(1,i=s)),[n,i]}class c2 extends j{constructor(e){super(),z(this,e,a2,o2,N,{})}}const u2={openingFile:{info:{name:"Opening File",version:"1.0.0",author:"ArcOS Team"},content:n2,size:{w:430,h:165},show:!1},deletingItem:{info:{name:"Deleting Item",version:"1.0.0",author:"ArcOS Team"},content:Xk,size:{w:430,h:75},show:!1},createFolder:{info:{name:"Create Folder",version:"1.0.0",author:"ArcOS Team"},content:Yk,size:{w:350,h:115},show:!1},createFile:{info:{name:"Create File",version:"1.0.0",author:"ArcOS Team"},content:Kk,size:{w:350,h:115},show:!1},uploadingFile:{info:{name:"Uploading File",version:"1.0.0",author:"ArcOS Team"},content:c2,size:{w:430,h:175},show:!1},renameItem:{info:{name:"Rename Item",version:"1.0.0",author:"ArcOS Team"},content:s2,size:{w:350,h:115},show:!1}},f2={info:{name:"File Manager",description:"Browse your files",builtin:!0,version:"2.5.1",author:"ArcOS Team",icon:Yp,appGroup:"utilities"},size:{w:700,h:450},pos:{x:30,y:40},minSize:{w:700,h:450},maxSize:{w:1e3,h:600},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:Uk,glass:!0,overlays:u2,contextMenu:Qk},d2=""+new URL("imageviewer-5b7c750b.svg",import.meta.url).href;function tc(r){let e,t,n,i;return{c(){e=g("img"),de(e.src,t=r[1])||h(e,"src",t),h(e,"alt",n=r[0].openedFile.name),h(e,"data-contextmenu","output"),h(e,"data-path",i=r[0].openedFile.path)},m(s,l){S(s,e,l)},p(s,l){l&2&&!de(e.src,t=s[1])&&h(e,"src",t),l&1&&n!==(n=s[0].openedFile.name)&&h(e,"alt",n),l&1&&i!==(i=s[0].openedFile.path)&&h(e,"data-path",i)},d(s){s&&y(e)}}}function p2(r){let e,t=r[0].openedFile&&r[1]&&tc(r);return{c(){t&&t.c(),e=ae()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0].openedFile&&n[1]?t?t.p(n,i):(t=tc(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function m2(r,e,t){let{app:n}=e,i="";return ue.subscribe(()=>{if(!n.openedFile)return t(1,i="");const s=new Blob([new Uint8Array(n.openedFile.data)],{type:n.openedFile.mime});t(1,i=URL.createObjectURL(s))}),r.$$set=s=>{"app"in s&&t(0,n=s.app)},[n,i]}class h2 extends j{constructor(e){super(),z(this,e,m2,p2,N,{app:0})}}const Hi=pe({});function Ur(r,e){const t=G(Hi),n=t[r],i=G(ue);let s=null;for(let l=0;l<i.length;l++)i[l].id==n&&(s=l);return s==null?!1:(i[s].openedFile=e,i[s].events&&i[s].events.openFile&&i[s].events.openFile(i[s]),delete i[s].overlays[r],ue.set(i),delete t[r],Hi.set(t),!0)}function nc(r){return G(Hi)[r]||!1}function g2(r,e){const t=G(Hi);return t[r]?!1:(t[r]=e,Hi.set(t),!0)}function A2(r){let e,t,n,i,s,l,o,a,c;return{c(){e=g("div"),t=g("div"),n=g("button"),n.textContent="Cancel",i=T(),s=g("button"),l=F("Open"),h(n,"class","cancel"),h(s,"class","confirm"),s.disabled=o=!r[5]||!r[4],h(t,"class","buttons"),h(e,"class","bottompane")},m(u,f){S(u,e,f),p(e,t),p(t,n),p(t,i),p(t,s),p(s,l),a||(c=[P(n,"click",r[7]),P(s,"click",r[6])],a=!0)},p(u,[f]){f&48&&o!==(o=!u[5]||!u[4])&&(s.disabled=o)},i:O,o:O,d(u){u&&y(e),a=!1,ke(c)}}}function b2(r,e,t){let n,i=O,s=()=>(i(),i=Vt(v,L=>t(9,n=L)),v),l,o=O,a=()=>(o(),o=Vt(A,L=>t(10,l=L)),A),c,u=O,f=()=>(u(),u=Vt(k,L=>t(4,c=L)),k),d,m=O,b=()=>(m(),m=Vt(_,L=>t(5,d=L)),_);r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>o()),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m());let{currentDir:A}=e;a();let{currentPath:_}=e;b();let{selected:k}=e;f();let{processing:v}=e;s();let{overlay:$}=e;async function E(){Ee(v,n=!0,n);let L;for(let H=0;H<l.files.length;H++)l.files[H].filename==c&&(L=l.files[H]);const R={name:L.filename,path:L.scopedPath,data:await cn(L.scopedPath),mime:L.mime};Ye($.id,nc($.id)),Ur($.id,R),Ee(v,n=!1,n)}function I(){const L=nc($.id),R=Ue(L);Ye($.id,L),Ur($.id,R.openedFile)}return r.$$set=L=>{"currentDir"in L&&a(t(0,A=L.currentDir)),"currentPath"in L&&b(t(1,_=L.currentPath)),"selected"in L&&f(t(2,k=L.selected)),"processing"in L&&s(t(3,v=L.processing)),"overlay"in L&&t(8,$=L.overlay)},[A,_,k,v,c,d,E,I,$]}let _2=class extends j{constructor(e){super(),z(this,e,b2,A2,N,{currentDir:0,currentPath:1,selected:2,processing:3,overlay:8})}};function w2(r){let e,t,n,i,s,l,o,a=r[0].name+"",c,u,f,d,m,b,A;return{c(){e=g("button"),t=g("div"),n=g("img"),l=T(),o=g("div"),c=F(a),u=T(),f=g("div"),f.textContent="Folder",d=T(),m=g("div"),m.textContent="-",de(n.src,i=Xt)||h(n,"src",i),h(n,"alt",s=r[0].name),h(t,"class","image"),h(o,"class","name"),h(f,"class","mime"),h(m,"class","size"),h(e,"class","item dir")},m(_,k){S(_,e,k),p(e,t),p(t,n),p(e,l),p(e,o),p(o,c),p(e,u),p(e,f),p(e,d),p(e,m),b||(A=P(e,"dblclick",r[2]),b=!0)},p(_,[k]){k&1&&s!==(s=_[0].name)&&h(n,"alt",s),k&1&&a!==(a=_[0].name+"")&&W(c,a)},i:O,o:O,d(_){_&&y(e),b=!1,A()}}}function v2(r,e,t){let{dir:n}=e,{setDir:i}=e;const s=()=>i(n.scopedPath);return r.$$set=l=>{"dir"in l&&t(0,n=l.dir),"setDir"in l&&t(1,i=l.setDir)},[n,i,s]}let k2=class extends j{constructor(e){super(),z(this,e,v2,w2,N,{dir:0,setDir:1})}};function y2(r){let e,t,n,i,s,l,o,a=r[2].filename+"",c,u,f,d=r[2].mime.split("; ")[0].split("/").join(" - ")+"",m,b,A,_=mt(r[2].size)+"",k,v,$;return{c(){e=g("button"),t=g("div"),n=g("img"),l=T(),o=g("div"),c=F(a),u=T(),f=g("div"),m=F(d),b=T(),A=g("div"),k=F(_),de(n.src,i=r[3])||h(n,"src",i),h(n,"alt",s=r[2].filename),h(t,"class","image"),h(o,"class","name"),h(f,"class","mime"),h(A,"class","size"),h(e,"class","item file"),U(e,"selected",r[4]==r[2].filename)},m(E,I){S(E,e,I),p(e,t),p(t,n),p(e,l),p(e,o),p(o,c),p(e,u),p(e,f),p(f,m),p(e,b),p(e,A),p(A,k),v||($=[P(e,"dblclick",r[5]),P(e,"click",r[7])],v=!0)},p(E,[I]){I&8&&!de(n.src,i=E[3])&&h(n,"src",i),I&4&&s!==(s=E[2].filename)&&h(n,"alt",s),I&4&&a!==(a=E[2].filename+"")&&W(c,a),I&4&&d!==(d=E[2].mime.split("; ")[0].split("/").join(" - ")+"")&&W(m,d),I&4&&_!==(_=mt(E[2].size)+"")&&W(k,_),I&20&&U(e,"selected",E[4]==E[2].filename)},i:O,o:O,d(E){E&&y(e),v=!1,ke($)}}}function S2(r,e,t){let n,i=O,s=()=>(i(),i=Vt(f,_=>t(8,n=_)),f),l,o=O,a=()=>(o(),o=Vt(u,_=>t(4,l=_)),u);r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>o());let{overlay:c}=e,{selected:u}=e;a();let{processing:f}=e;s();let d="";ve(()=>{t(3,d=an(b.filename))});async function m(){Ee(f,n=!0,n);const _={name:b.filename,path:b.scopedPath,data:await cn(b.scopedPath),mime:b.mime};Ur(c.id,_),Ee(f,n=!1,n)}let{file:b}=e;const A=()=>Ee(u,l=b.filename,l);return r.$$set=_=>{"overlay"in _&&t(6,c=_.overlay),"selected"in _&&a(t(0,u=_.selected)),"processing"in _&&s(t(1,f=_.processing)),"file"in _&&t(2,b=_.file)},[u,f,b,d,l,m,c,A]}let $2=class extends j{constructor(e){super(),z(this,e,S2,y2,N,{overlay:6,selected:0,processing:1,file:2})}};function ic(r){let e,t,n,i;return{c(){e=g("button"),t=F(r[0]),h(e,"class","crumb")},m(s,l){S(s,e,l),p(e,t),n||(i=P(e,"click",r[1]),n=!0)},p(s,l){l&1&&W(t,s[0])},d(s){s&&y(e),n=!1,i()}}}function C2(r){let e,t=r[0]&&r[0]!="."&&ic(r);return{c(){t&&t.c(),e=ae()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0]&&n[0]!="."?t?t.p(n,i):(t=ic(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function T2(r,e,t){let{crumb:n}=e,{path:i}=e,{setDir:s}=e;function l(){s(i)}return r.$$set=o=>{"crumb"in o&&t(0,n=o.crumb),"path"in o&&t(2,i=o.path),"setDir"in o&&t(3,s=o.setDir)},[n,l,i,s]}class E2 extends j{constructor(e){super(),z(this,e,T2,C2,N,{crumb:0,path:2,setDir:3})}}function rc(r,e,t){const n=r.slice();return n[10]=e[t],n[12]=t,n}function sc(r){let e,t;return e=new E2({props:{crumb:r[10],path:r[6](r[10],r[12]),setDir:r[3]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&16&&(s.crumb=n[10]),i&16&&(s.path=n[6](n[10],n[12])),i&8&&(s.setDir=n[3]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function I2(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k,v,$,E,I,L=x(r[4]),R=[];for(let Q=0;Q<L.length;Q+=1)R[Q]=sc(rc(r,L,Q));const H=Q=>C(R[Q],1,1,()=>{R[Q]=null});return{c(){e=g("div"),t=g("button"),n=F("arrow_upward"),s=T(),l=g("button"),l.textContent="home",o=T(),a=g("div");for(let Q=0;Q<R.length;Q+=1)R[Q].c();c=T(),u=g("button"),u.textContent="refresh",f=T(),d=g("div"),m=g("button"),b=F("format_list_bulleted"),_=T(),k=g("button"),v=F("grid_view"),h(t,"class","parentdir material-icons-round"),t.disabled=i=r[4].length==2&&r[4][0]=="."&&!r[4][1],h(l,"class","home material-icons-round"),h(a,"class","addressbar"),h(u,"class","refresh material-icons-round"),h(m,"class","material-icons-round"),m.disabled=A=!r[0],h(m,"title","List view"),U(m,"selected",r[0]),h(k,"class","material-icons-round"),k.disabled=r[0],h(k,"title","Tile view"),U(k,"selected",!r[0]),h(d,"class","group"),h(e,"class","topbar")},m(Q,ee){S(Q,e,ee),p(e,t),p(t,n),p(e,s),p(e,l),p(e,o),p(e,a);for(let J=0;J<R.length;J+=1)R[J]&&R[J].m(a,null);p(e,c),p(e,u),p(e,f),p(e,d),p(d,m),p(m,b),p(d,_),p(d,k),p(k,v),$=!0,E||(I=[P(t,"click",r[7]),P(l,"click",r[5]),P(u,"click",function(){at(r[2])&&r[2].apply(this,arguments)}),P(m,"click",r[8]),P(k,"click",r[8])],E=!0)},p(Q,[ee]){if(r=Q,(!$||ee&16&&i!==(i=r[4].length==2&&r[4][0]=="."&&!r[4][1]))&&(t.disabled=i),ee&88){L=x(r[4]);let J;for(J=0;J<L.length;J+=1){const Ae=rc(r,L,J);R[J]?(R[J].p(Ae,ee),w(R[J],1)):(R[J]=sc(Ae),R[J].c(),w(R[J],1),R[J].m(a,null))}for(q(),J=L.length;J<R.length;J+=1)H(J);Y()}(!$||ee&1&&A!==(A=!r[0]))&&(m.disabled=A),(!$||ee&1)&&U(m,"selected",r[0]),(!$||ee&1)&&(k.disabled=r[0]),(!$||ee&1)&&U(k,"selected",!r[0])},i(Q){if(!$){for(let ee=0;ee<L.length;ee+=1)w(R[ee]);$=!0}},o(Q){R=R.filter(Boolean);for(let ee=0;ee<R.length;ee+=1)C(R[ee]);$=!1},d(Q){Q&&y(e),me(R,Q),E=!1,ke(I)}}}function O2(r,e,t){let n,i=O,s=()=>(i(),i=Vt(l,A=>t(9,n=A)),l);r.$$.on_destroy.push(()=>i());let{currentPath:l}=e;s();let{refresh:o}=e,{setDir:a}=e,c,{tiled:u}=e;l.subscribe(A=>{t(4,c=A.split("/")),o(),t(0,u=!!Pr("FileManager","tiled"))});function f(){l.set("./")}function d(A,_){let k="";for(let v=0;v<_;v++)k+=`${c[v]}/`;return`${k}${A}`}function m(){a(Jp(n))}function b(){t(0,u=!u),Ll("FileManager","tiled",u)}return ne.subscribe(()=>{t(0,u=!!Pr("FileManager","tiled"))}),r.$$set=A=>{"currentPath"in A&&s(t(1,l=A.currentPath)),"refresh"in A&&t(2,o=A.refresh),"setDir"in A&&t(3,a=A.setDir),"tiled"in A&&t(0,u=A.tiled)},[u,l,o,a,c,f,d,m,b]}let R2=class extends j{constructor(e){super(),z(this,e,O2,I2,N,{currentPath:1,refresh:2,setDir:3,tiled:0})}};function L2(r){let e,t,n,i,s,l,o=r[0].name+"",a,c,u;return{c(){e=g("button"),t=g("img"),s=T(),l=g("p"),a=F(o),de(t.src,n=Xt)||h(t,"src",n),h(t,"alt",i=r[0].name),h(l,"class","caption"),h(e,"class","tile dir")},m(f,d){S(f,e,d),p(e,t),p(e,s),p(e,l),p(l,a),c||(u=P(e,"dblclick",r[1]),c=!0)},p(f,[d]){d&1&&i!==(i=f[0].name)&&h(t,"alt",i),d&1&&o!==(o=f[0].name+"")&&W(a,o)},i:O,o:O,d(f){f&&y(e),c=!1,u()}}}function D2(r,e,t){let{dir:n}=e,{setDir:i}=e;function s(){i(n.scopedPath)}return r.$$set=l=>{"dir"in l&&t(0,n=l.dir),"setDir"in l&&t(2,i=l.setDir)},[n,s,i]}let B2=class extends j{constructor(e){super(),z(this,e,D2,L2,N,{dir:0,setDir:2})}};function M2(r){let e,t,n,i,s,l,o,a=r[2].filename+"",c,u,f;return{c(){e=g("button"),t=g("div"),n=g("img"),l=T(),o=g("p"),c=F(a),de(n.src,i=r[3])||h(n,"src",i),h(n,"alt",s=r[2].filename),h(t,"class","image"),h(o,"class","name"),h(e,"class","tile file"),U(e,"selected",r[4]==r[2].filename)},m(d,m){S(d,e,m),p(e,t),p(t,n),p(e,l),p(e,o),p(o,c),u||(f=[P(e,"dblclick",r[5]),P(e,"click",r[7])],u=!0)},p(d,[m]){m&8&&!de(n.src,i=d[3])&&h(n,"src",i),m&4&&s!==(s=d[2].filename)&&h(n,"alt",s),m&4&&a!==(a=d[2].filename+"")&&W(c,a),m&20&&U(e,"selected",d[4]==d[2].filename)},i:O,o:O,d(d){d&&y(e),u=!1,ke(f)}}}function F2(r,e,t){let n,i=O,s=()=>(i(),i=Vt(f,_=>t(8,n=_)),f),l,o=O,a=()=>(o(),o=Vt(u,_=>t(4,l=_)),u);r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>o());let{overlay:c}=e,{selected:u}=e;a();let{processing:f}=e;s();let d="";ve(()=>{t(3,d=an(b.filename))});async function m(){Ee(f,n=!0,n);const _={name:b.filename,path:b.scopedPath,data:await cn(b.scopedPath),mime:b.mime};Ur(c.id,_),Ee(f,n=!1,n)}let{file:b}=e;const A=()=>Ee(u,l=b.filename,l);return r.$$set=_=>{"overlay"in _&&t(6,c=_.overlay),"selected"in _&&a(t(0,u=_.selected)),"processing"in _&&s(t(1,f=_.processing)),"file"in _&&t(2,b=_.file)},[u,f,b,d,l,m,c,A]}class P2 extends j{constructor(e){super(),z(this,e,F2,M2,N,{overlay:6,selected:0,processing:1,file:2})}}function lc(r,e,t){const n=r.slice();return n[5]=e[t],n}function oc(r,e,t){const n=r.slice();return n[8]=e[t],n}function ac(r){let e,t,n=x(r[3].directories),i=[];for(let l=0;l<n.length;l+=1)i[l]=cc(oc(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","dirs")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,o){if(o&24){n=x(l[3].directories);let a;for(a=0;a<n.length;a+=1){const c=oc(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=cc(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function cc(r){let e,t;return e=new B2({props:{dir:r[8],setDir:r[4]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&8&&(s.dir=n[8]),i&16&&(s.setDir=n[4]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function uc(r){let e,t;return e=new P2({props:{file:r[5],overlay:r[0],selected:r[1],processing:r[2]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&8&&(s.file=n[5]),i&1&&(s.overlay=n[0]),i&2&&(s.selected=n[1]),i&4&&(s.processing=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function U2(r){let e,t,n,i,s=r[3].directories.length&&ac(r),l=x(r[3].files),o=[];for(let c=0;c<l.length;c+=1)o[c]=uc(lc(r,l,c));const a=c=>C(o[c],1,1,()=>{o[c]=null});return{c(){e=g("div"),s&&s.c(),t=T(),n=g("div");for(let c=0;c<o.length;c+=1)o[c].c();h(n,"class","files"),h(e,"class","tiled")},m(c,u){S(c,e,u),s&&s.m(e,null),p(e,t),p(e,n);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(n,null);i=!0},p(c,[u]){if(c[3].directories.length?s?(s.p(c,u),u&8&&w(s,1)):(s=ac(c),s.c(),w(s,1),s.m(e,t)):s&&(q(),C(s,1,1,()=>{s=null}),Y()),u&15){l=x(c[3].files);let f;for(f=0;f<l.length;f+=1){const d=lc(c,l,f);o[f]?(o[f].p(d,u),w(o[f],1)):(o[f]=uc(d),o[f].c(),w(o[f],1),o[f].m(n,null))}for(q(),f=l.length;f<o.length;f+=1)a(f);Y()}},i(c){if(!i){w(s);for(let u=0;u<l.length;u+=1)w(o[u]);i=!0}},o(c){C(s),o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)C(o[u]);i=!1},d(c){c&&y(e),s&&s.d(),me(o,c)}}}function N2(r,e,t){let{overlay:n}=e,{selected:i}=e,{processing:s}=e,{data:l}=e,{setDir:o}=e;return r.$$set=a=>{"overlay"in a&&t(0,n=a.overlay),"selected"in a&&t(1,i=a.selected),"processing"in a&&t(2,s=a.processing),"data"in a&&t(3,l=a.data),"setDir"in a&&t(4,o=a.setDir)},[n,i,s,l,o]}class z2 extends j{constructor(e){super(),z(this,e,N2,U2,N,{overlay:0,selected:1,processing:2,data:3,setDir:4})}}function j2(r){let e,t,n,i,s,l,o=r[0].name+"",a,c,u;return{c(){e=g("button"),t=g("img"),s=T(),l=g("p"),a=F(o),de(t.src,n=Xt)||h(t,"src",n),h(t,"alt",i=r[0].name),h(l,"class","caption"),h(e,"class","link"),U(e,"selected",r[1])},m(f,d){S(f,e,d),p(e,t),p(e,s),p(e,l),p(l,a),c||(u=P(e,"click",r[2]),c=!0)},p(f,[d]){d&1&&i!==(i=f[0].name)&&h(t,"alt",i),d&1&&o!==(o=f[0].name+"")&&W(a,o),d&2&&U(e,"selected",f[1])},i:O,o:O,d(f){f&&y(e),c=!1,u()}}}function H2(r,e,t){let{folder:n}=e,{setDir:i}=e,{currentPath:s}=e,l=!1;function o(){i(n.scopedPath)}return s.subscribe(a=>{t(1,l=a==n.scopedPath)}),r.$$set=a=>{"folder"in a&&t(0,n=a.folder),"setDir"in a&&t(3,i=a.setDir),"currentPath"in a&&t(4,s=a.currentPath)},[n,l,o,i,s]}let Q2=class extends j{constructor(e){super(),z(this,e,H2,j2,N,{folder:0,setDir:3,currentPath:4})}};function fc(r,e,t){const n=r.slice();return n[4]=e[t],n}function dc(r){let e,t;return e=new Q2({props:{setDir:r[1],currentPath:r[0],folder:r[4]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.setDir=n[1]),i&1&&(s.currentPath=n[0]),i&4&&(s.folder=n[4]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function W2(r){let e,t,n=x(r[2]),i=[];for(let l=0;l<n.length;l+=1)i[l]=dc(fc(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","sidebar")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,[o]){if(o&7){n=x(l[2]);let a;for(a=0;a<n.length;a+=1){const c=fc(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=dc(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function G2(r,e,t){let n=[],{currentDir:i}=e,{currentPath:s}=e,{setDir:l}=e;return i.subscribe(async o=>{t(2,n=(await Kt("./")).directories)}),r.$$set=o=>{"currentDir"in o&&t(3,i=o.currentDir),"currentPath"in o&&t(0,s=o.currentPath),"setDir"in o&&t(1,l=o.setDir)},[s,l,n,i]}let K2=class extends j{constructor(e){super(),z(this,e,G2,W2,N,{currentDir:3,currentPath:0,setDir:1})}};function pc(r,e,t){const n=r.slice();return n[13]=e[t],n}function mc(r,e,t){const n=r.slice();return n[16]=e[t],n}function hc(r){let e,t,n,i,s,l,o,a,c,u,f,d;function m($){r[11]($)}let b={currentPath:r[6],refresh:r[10],setDir:r[9]};r[1]!==void 0&&(b.tiled=r[1]),e=new R2({props:b}),we.push(()=>Ce(e,"tiled",m)),s=new K2({props:{currentDir:r[5],setDir:r[9],currentPath:r[6]}});const A=[q2,V2],_=[];function k($,E){return $[1]?0:1}o=k(r),a=_[o]=A[o](r);let v=r[3]&&bc(r);return f=new _2({props:{currentDir:r[5],currentPath:r[6],selected:r[7],overlay:r[0],processing:r[8]}}),{c(){M(e.$$.fragment),n=T(),i=g("div"),M(s.$$.fragment),l=T(),a.c(),c=T(),v&&v.c(),u=T(),M(f.$$.fragment),h(i,"class","content")},m($,E){D(e,$,E),S($,n,E),S($,i,E),D(s,i,null),p(i,l),_[o].m(i,null),p(i,c),v&&v.m(i,null),S($,u,E),D(f,$,E),d=!0},p($,E){const I={};!t&&E&2&&(t=!0,I.tiled=$[1],$e(()=>t=!1)),e.$set(I);let L=o;o=k($),o===L?_[o].p($,E):(q(),C(_[L],1,1,()=>{_[L]=null}),Y(),a=_[o],a?a.p($,E):(a=_[o]=A[o]($),a.c()),w(a,1),a.m(i,c)),$[3]?v?(v.p($,E),E&8&&w(v,1)):(v=bc($),v.c(),w(v,1),v.m(i,null)):v&&(q(),C(v,1,1,()=>{v=null}),Y());const R={};E&1&&(R.overlay=$[0]),f.$set(R)},i($){d||(w(e.$$.fragment,$),w(s.$$.fragment,$),w(a),w(v),w(f.$$.fragment,$),d=!0)},o($){C(e.$$.fragment,$),C(s.$$.fragment,$),C(a),C(v),C(f.$$.fragment,$),d=!1},d($){$&&(y(n),y(i),y(u)),B(e,$),B(s),_[o].d(),v&&v.d(),B(f,$)}}}function V2(r){let e,t,n,i,s;t=new em({});let l=x(r[2].directories),o=[];for(let d=0;d<l.length;d+=1)o[d]=gc(mc(r,l,d));const a=d=>C(o[d],1,1,()=>{o[d]=null});let c=x(r[2].files),u=[];for(let d=0;d<c.length;d+=1)u[d]=Ac(pc(r,c,d));const f=d=>C(u[d],1,1,()=>{u[d]=null});return{c(){e=g("div"),M(t.$$.fragment),n=T();for(let d=0;d<o.length;d+=1)o[d].c();i=T();for(let d=0;d<u.length;d+=1)u[d].c();h(e,"class","list")},m(d,m){S(d,e,m),D(t,e,null),p(e,n);for(let b=0;b<o.length;b+=1)o[b]&&o[b].m(e,null);p(e,i);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(e,null);s=!0},p(d,m){if(m&516){l=x(d[2].directories);let b;for(b=0;b<l.length;b+=1){const A=mc(d,l,b);o[b]?(o[b].p(A,m),w(o[b],1)):(o[b]=gc(A),o[b].c(),w(o[b],1),o[b].m(e,i))}for(q(),b=l.length;b<o.length;b+=1)a(b);Y()}if(m&389){c=x(d[2].files);let b;for(b=0;b<c.length;b+=1){const A=pc(d,c,b);u[b]?(u[b].p(A,m),w(u[b],1)):(u[b]=Ac(A),u[b].c(),w(u[b],1),u[b].m(e,null))}for(q(),b=c.length;b<u.length;b+=1)f(b);Y()}},i(d){if(!s){w(t.$$.fragment,d);for(let m=0;m<l.length;m+=1)w(o[m]);for(let m=0;m<c.length;m+=1)w(u[m]);s=!0}},o(d){C(t.$$.fragment,d),o=o.filter(Boolean);for(let m=0;m<o.length;m+=1)C(o[m]);u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)C(u[m]);s=!1},d(d){d&&y(e),B(t),me(o,d),me(u,d)}}}function q2(r){let e,t;return e=new z2({props:{data:r[2],setDir:r[9],overlay:r[0],selected:r[7],processing:r[8]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.data=n[2]),i&1&&(s.overlay=n[0]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function gc(r){let e,t;return e=new k2({props:{setDir:r[9],dir:r[16]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.dir=n[16]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Ac(r){let e,t;return e=new $2({props:{file:r[13],overlay:r[0],selected:r[7],processing:r[8]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.file=n[13]),i&1&&(s.overlay=n[0]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function bc(r){let e,t,n,i,s,l,o,a,c,u,f,d,m;return d=new en({props:{height:30}}),{c(){e=g("div"),t=g("div"),n=g("div"),i=g("img"),l=T(),o=g("p"),a=F("Opening "),c=F(r[4]),u=F("..."),f=T(),M(d.$$.fragment),de(i.src,s=Kn)||h(i,"src",s),h(i,"alt",""),h(o,"class","caption"),h(n,"class","processing"),h(t,"class","processing-content"),h(e,"class","processing-overlay")},m(b,A){S(b,e,A),p(e,t),p(t,n),p(n,i),p(n,l),p(n,o),p(o,a),p(o,c),p(o,u),p(n,f),D(d,n,null),m=!0},p(b,A){(!m||A&16)&&W(c,b[4])},i(b){m||(w(d.$$.fragment,b),m=!0)},o(b){C(d.$$.fragment,b),m=!1},d(b){b&&y(e),B(d)}}}function Y2(r){let e,t,n=r[0]&&hc(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=hc(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function J2(r,e,t){let n,i,s,l,{overlay:o}=e,a=!1,c=pe(jn);K(r,c,_=>t(2,i=_));let u=pe("./");K(r,u,_=>t(12,n=_));let f=pe(null);K(r,f,_=>t(4,l=_));let d=pe(!1);K(r,d,_=>t(3,s=_));async function m(_){Ee(u,n=_,n),await b()}async function b(){Ee(c,i=jn,i),Ee(c,i=await Kt(n)||null,i)}function A(_){a=_,t(1,a)}return r.$$set=_=>{"overlay"in _&&t(0,o=_.overlay)},[o,a,i,s,l,c,u,f,d,m,b,A]}class Z2 extends j{constructor(e){super(),z(this,e,J2,Y2,N,{overlay:0})}}function X2(r="Choose File"){return{info:{name:r,author:"ArcOS Generated",version:"1"},size:{w:NaN,h:NaN},show:!0,id:`CHOOSER#${Math.floor(Math.random()*1e6)}`,content:Z2}}function im(r){const e=G(ue);let t=null;for(let i=0;i<e.length;i++)if(e[i].id==r){t=i;break}if(t==null)return!1;const n=X2();g2(n.id,r),e[t].overlays||(e[t].overlays={}),e[t].overlays[n.id]=n,ue.set(e)}const wi=[];function x2(r,e){if(Z("keyboard: registerAppShortcuts",`Registering app shortcuts for ${r}`,se.info),!e.events||!e.events.keyboardShortcuts||ey(r))return!1;wi.push([r,e.events.keyboardShortcuts])}function Bl(r,e){wi.push([e||"",r])}function ey(r){for(let e=0;e<wi.length;e++)if(wi[e][0]==r)return!0;return!1}const Nn=pe(null);async function rm(r,e){const t=new Blob([r]);await un(e.path,t)}async function ty(r,e){Bl([{key:"o",alt:!0,action:()=>{im(r.id)}},{key:"m",alt:!0,action:()=>{!r.openedFile||!r.openedFile.name.endsWith(".md")||(Pe("MarkDownViewer"),Zp("MarkDownViewer"))}},{key:"s",alt:!0,action:e}],"TextEditor"),r.events.close=()=>{G(Nn)&&At("MarkDownViewer")}}async function ny(r,e){return Xe({title:r,message:e,buttons:[{caption:"Close",action:()=>At("TextEditor")}]},"TextEditor")}function iy(r){Z("ts/bugrep.ts: tryParse","content");try{return JSON.parse(r)}catch{return!1}}function ry(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b;return{c(){e=g("div"),t=g("button"),t.textContent="folder_open",n=T(),i=g("button"),s=F("save"),o=T(),a=g("div"),c=g("button"),u=g("img"),h(t,"class","material-icons-round open"),h(i,"class","material-icons-round save"),i.disabled=l=!r[0].openedFile,de(u.src,f=Dl)||h(u,"src",f),h(u,"alt","Markdown Viewer"),h(c,"title","Open Markdown Viewer"),c.disabled=d=!r[0].openedFile||!r[0].openedFile.name.endsWith(".md"),h(c,"class","markdown-open"),h(a,"class","right"),h(e,"class","actions")},m(A,_){S(A,e,_),p(e,t),p(e,n),p(e,i),p(i,s),p(e,o),p(e,a),p(a,c),p(c,u),m||(b=[P(t,"click",r[2]),P(i,"click",function(){at(r[1])&&r[1].apply(this,arguments)}),P(c,"click",r[3])],m=!0)},p(A,[_]){r=A,_&1&&l!==(l=!r[0].openedFile)&&(i.disabled=l),_&1&&d!==(d=!r[0].openedFile||!r[0].openedFile.name.endsWith(".md"))&&(c.disabled=d)},i:O,o:O,d(A){A&&y(e),m=!1,ke(b)}}}function sy(r,e,t){let{app:n}=e,{saveFile:i}=e;const s=()=>im(n.id),l=()=>Pe("MarkDownViewer");return r.$$set=o=>{"app"in o&&t(0,n=o.app),"saveFile"in o&&t(1,i=o.saveFile)},[n,i,s,l]}let ly=class extends j{constructor(e){super(),z(this,e,sy,ry,N,{app:0,saveFile:1})}};function oy(r){let e,t,n,i,s=mt(r[0].length)+"",l,o,a,c=r[1].openedFile.name+"",u,f,d,m=r[1].openedFile.mime.split(";")[0]+"",b;return{c(){e=g("div"),t=g("div"),n=g("div"),i=F("Size: "),l=F(s),o=T(),a=g("div"),u=F(c),f=T(),d=g("div"),b=F(m),h(n,"class","section"),h(a,"class","section"),h(d,"class","section"),h(t,"class","right"),h(e,"class","bottom")},m(A,_){S(A,e,_),p(e,t),p(t,n),p(n,i),p(n,l),p(t,o),p(t,a),p(a,u),p(t,f),p(t,d),p(d,b)},p(A,[_]){_&1&&s!==(s=mt(A[0].length)+"")&&W(l,s),_&2&&c!==(c=A[1].openedFile.name+"")&&W(u,c),_&2&&m!==(m=A[1].openedFile.mime.split(";")[0]+"")&&W(b,m)},i:O,o:O,d(A){A&&y(e)}}}function ay(r,e,t){let{fileContents:n}=e,{app:i}=e;return r.$$set=s=>{"fileContents"in s&&t(0,n=s.fileContents),"app"in s&&t(1,i=s.app)},[n,i]}let cy=class extends j{constructor(e){super(),z(this,e,ay,oy,N,{fileContents:0,app:1})}};const sm=""+new URL("save-13107e70.svg",import.meta.url).href;function _c(r){let e,t,n,i,s,l,o,a=r[1].openedFile.name+"",c,u,f,d,m;return d=new en({props:{height:24}}),{c(){e=g("div"),t=g("div"),n=g("img"),s=T(),l=g("p"),o=F("Saving "),c=F(a),u=F("..."),f=T(),M(d.$$.fragment),de(n.src,i=sm)||h(n,"src",i),h(n,"alt","Saving"),h(l,"class","caption"),h(t,"class","saving-content"),h(e,"class","saving-wrapper")},m(b,A){S(b,e,A),p(e,t),p(t,n),p(t,s),p(t,l),p(l,o),p(l,c),p(l,u),p(t,f),D(d,t,null),m=!0},p(b,A){(!m||A&2)&&a!==(a=b[1].openedFile.name+"")&&W(c,a)},i(b){m||(w(d.$$.fragment,b),m=!0)},o(b){C(d.$$.fragment,b),m=!1},d(b){b&&y(e),B(d)}}}function uy(r){let e,t,n=r[0]&&r[1].openedFile&&_c(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]&&i[1].openedFile?n?(n.p(i,s),s&3&&w(n,1)):(n=_c(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function fy(r,e,t){let{saving:n}=e,{app:i}=e;return r.$$set=s=>{"saving"in s&&t(0,n=s.saving),"app"in s&&t(1,i=s.app)},[n,i]}class dy extends j{constructor(e){super(),z(this,e,fy,uy,N,{saving:0,app:1})}}function py(r){let e,t,n;return{c(){e=g("textarea"),h(e,"spellcheck",!1)},m(i,s){S(i,e,s),ge(e,r[0]),t||(n=[P(e,"input",r[2]),P(e,"change",function(){at(r[1])&&r[1].apply(this,arguments)}),P(e,"input",function(){at(r[1])&&r[1].apply(this,arguments)}),P(e,"keydown",function(){at(r[1])&&r[1].apply(this,arguments)})],t=!0)},p(i,[s]){r=i,s&1&&ge(e,r[0])},i:O,o:O,d(i){i&&y(e),t=!1,ke(n)}}}function my(r,e,t){let{onchange:n}=e,{fileContents:i}=e;function s(){i=this.value,t(0,i)}return r.$$set=l=>{"onchange"in l&&t(1,n=l.onchange),"fileContents"in l&&t(0,i=l.fileContents)},[i,n,s]}class hy extends j{constructor(e){super(),z(this,e,my,py,N,{onchange:1,fileContents:0})}}function wc(r){let e,t,n,i,s;function l(a){r[6](a)}let o={onchange:r[5]};return r[3]!==void 0&&(o.fileContents=r[3]),e=new hy({props:o}),we.push(()=>Ce(e,"fileContents",l)),i=new cy({props:{fileContents:r[3],app:r[0]}}),{c(){M(e.$$.fragment),n=T(),M(i.$$.fragment)},m(a,c){D(e,a,c),S(a,n,c),D(i,a,c),s=!0},p(a,c){const u={};!t&&c&8&&(t=!0,u.fileContents=a[3],$e(()=>t=!1)),e.$set(u);const f={};c&8&&(f.fileContents=a[3]),c&1&&(f.app=a[0]),i.$set(f)},i(a){s||(w(e.$$.fragment,a),w(i.$$.fragment,a),s=!0)},o(a){C(e.$$.fragment,a),C(i.$$.fragment,a),s=!1},d(a){a&&y(n),B(e,a),B(i,a)}}}function gy(r){let e,t,n,i,s,l,o;e=new ly({props:{app:r[0],saveFile:r[4]}});let a=r[0].openedFile&&!r[1]&&wc(r);function c(f){r[7](f)}let u={saving:r[2]};return r[0]!==void 0&&(u.app=r[0]),s=new dy({props:u}),we.push(()=>Ce(s,"app",c)),{c(){M(e.$$.fragment),t=T(),n=g("div"),a&&a.c(),i=T(),M(s.$$.fragment),h(n,"class","content"),U(n,"nofile",!r[0].openedFile)},m(f,d){D(e,f,d),S(f,t,d),S(f,n,d),a&&a.m(n,null),S(f,i,d),D(s,f,d),o=!0},p(f,[d]){const m={};d&1&&(m.app=f[0]),e.$set(m),f[0].openedFile&&!f[1]?a?(a.p(f,d),d&3&&w(a,1)):(a=wc(f),a.c(),w(a,1),a.m(n,null)):a&&(q(),C(a,1,1,()=>{a=null}),Y()),(!o||d&1)&&U(n,"nofile",!f[0].openedFile);const b={};d&4&&(b.saving=f[2]),!l&&d&1&&(l=!0,b.app=f[0],$e(()=>l=!1)),s.$set(b)},i(f){o||(w(e.$$.fragment,f),w(a),w(s.$$.fragment,f),o=!0)},o(f){C(e.$$.fragment,f),C(a),C(s.$$.fragment,f),o=!1},d(f){f&&(y(t),y(n),y(i)),B(e,f),a&&a.d(),B(s,f)}}}function Ay(r,e,t){let n;K(r,Nn,m=>t(9,n=m));let{app:i}=e,s=!1,l=!1,o="";ve(()=>{t(0,i.events={},i),t(0,i.events.openFile=m=>{if(t(1,s=!1),!m.openedFile)return t(3,o="");const b=new TextDecoder().decode(m.openedFile.data);t(3,o=b),m.openedFile.path,Nn.set(o);const A=iy(o);A&&A.error&&A.valid==!1&&(t(1,s=!0),ny(A.error.title,A.error.message))},i),t(0,i.events.open=u,i),ty(i,a)});async function a(){if(!i.openedFile.path){Je("saveNewFile","TextEditor");return}t(2,l=!0),await rm(o,i.openedFile),t(2,l=!1)}async function c(){n!=o&&Nn.set(o)}async function u(){i.openedFile||t(0,i.openedFile={name:"Untitled",path:"",data:new ArrayBuffer(0),mime:"text/plain"},i)}function f(m){o=m,t(3,o)}function d(m){i=m,t(0,i)}return r.$$set=m=>{"app"in m&&t(0,i=m.app)},[i,s,l,o,a,c,f,d]}class by extends j{constructor(e){super(),z(this,e,Ay,gy,N,{app:0})}}function Xi(r,e){const t=G(ue);for(let n=0;n<t.length;n++)t[n].id==e&&(vc[e]||(vc[e]=`${t[n].info.titleSuffix}`),t[n].info.titleSuffix=r);ue.set(t)}const vc={},_y={info:{name:"Image Viewer",description:"Display images from the ArcAPI",builtin:!0,version:"2.0.1",author:"Izaak Kuipers",hidden:!0,icon:d2,appGroup:"entertainment"},size:{w:500,h:400},pos:{x:30,y:40},minSize:{w:500,h:400},maxSize:{w:1e3,h:700},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:h2,glass:!0,fileMimes:["image/png","image/jpeg","image/svg+xml","image/vnd.microsoft.icon","image/bmp","image/jpeg","image/webp","image/gif"],events:{openFile(r){r.openedFile&&Xi(` - ${r.openedFile.name}`,r.id)}},contextMenu:{output:[{caption:"Set as wallpaper",icon:"image",action(r,e,t){const n=G(ne);n.sh.desktop.wallpaper=`@local:${btoa(e.path)}`,ne.set(n)}}]}},lm=""+new URL("lightsoff-07cdd0f7.svg",import.meta.url).href;function wy(r){let e,t,n,i,s,l,o=r[0]+1+"",a,c,u,f,d,m=r[1]==1?"":"s",b,A,_;return{c(){e=g("div"),t=g("button"),t.textContent="Reset",n=T(),i=g("div"),s=g("div"),l=F("Level "),a=F(o),c=T(),u=g("div"),f=F(r[1]),d=F(" Click"),b=F(m),h(t,"class","reset-game"),h(s,"class","stat svelte-1gm5381"),h(u,"class","stat svelte-1gm5381"),h(i,"class","right svelte-1gm5381"),h(e,"class","statistics svelte-1gm5381")},m(k,v){S(k,e,v),p(e,t),p(e,n),p(e,i),p(i,s),p(s,l),p(s,a),p(i,c),p(i,u),p(u,f),p(u,d),p(u,b),A||(_=P(t,"click",r[2]),A=!0)},p(k,[v]){v&1&&o!==(o=k[0]+1+"")&&W(a,o),v&2&&W(f,k[1]),v&2&&m!==(m=k[1]==1?"":"s")&&W(b,m)},i:O,o:O,d(k){k&&y(e),A=!1,_()}}}function vy(r,e,t){let n;K(r,ne,c=>t(5,n=c));let{app:i}=e,{runtime:s}=e,l=0,o=0;ve(()=>{s.LEVEL.subscribe(c=>t(0,l=c)),s.Clicks.subscribe(c=>t(1,o=c))});function a(){Ee(ne,n.appdata[i.id]=null,n),s.loadData()}return r.$$set=c=>{"app"in c&&t(3,i=c.app),"runtime"in c&&t(4,s=c.runtime)},[l,o,a,i,s]}class ky extends j{constructor(e){super(),z(this,e,vy,wy,N,{app:3,runtime:4})}}function yy(r){let e,t,n,i;return{c(){e=g("button"),h(e,"id",t="pos-"+r[1]+"x"+r[2]),h(e,"class","light svelte-11uaj66"),U(e,"lit",r[0])},m(s,l){S(s,e,l),n||(i=P(e,"click",r[3]),n=!0)},p(s,[l]){l&6&&t!==(t="pos-"+s[1]+"x"+s[2])&&h(e,"id",t),l&1&&U(e,"lit",s[0])},i:O,o:O,d(s){s&&y(e),n=!1,i()}}}function Sy(r,e,t){let{light:n=!1}=e,{x:i}=e,{y:s}=e,{runtime:l}=e;function o(){l.ToggleLight(i,s)}return r.$$set=a=>{"light"in a&&t(0,n=a.light),"x"in a&&t(1,i=a.x),"y"in a&&t(2,s=a.y),"runtime"in a&&t(4,l=a.runtime)},[n,i,s,o,l]}class $y extends j{constructor(e){super(),z(this,e,Sy,yy,N,{light:0,x:1,y:2,runtime:4})}}function kc(r,e,t){const n=r.slice();return n[3]=e[t],n[5]=t,n}function yc(r,e,t){const n=r.slice();return n[6]=e[t],n[8]=t,n}function Sc(r){let e,t;return e=new $y({props:{light:r[6],x:r[8],y:r[5],runtime:r[1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.light=n[6]),i&2&&(s.runtime=n[1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function $c(r){let e,t,n=x(r[3]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Sc(yc(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ae()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&6){n=x(l[3]);let a;for(a=0;a<n.length;a+=1){const c=yc(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Sc(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Cy(r){let e,t,n,i;e=new ky({props:{app:r[0],runtime:r[1]}});let s=x(r[2]),l=[];for(let a=0;a<s.length;a+=1)l[a]=$c(kc(r,s,a));const o=a=>C(l[a],1,1,()=>{l[a]=null});return{c(){M(e.$$.fragment),t=T(),n=g("div");for(let a=0;a<l.length;a+=1)l[a].c();h(n,"class","grid svelte-svdnfe")},m(a,c){D(e,a,c),S(a,t,c),S(a,n,c);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(n,null);i=!0},p(a,[c]){const u={};if(c&1&&(u.app=a[0]),c&2&&(u.runtime=a[1]),e.$set(u),c&6){s=x(a[2]);let f;for(f=0;f<s.length;f+=1){const d=kc(a,s,f);l[f]?(l[f].p(d,c),w(l[f],1)):(l[f]=$c(d),l[f].c(),w(l[f],1),l[f].m(n,null))}for(q(),f=s.length;f<l.length;f+=1)o(f);Y()}},i(a){if(!i){w(e.$$.fragment,a);for(let c=0;c<s.length;c+=1)w(l[c]);i=!0}},o(a){C(e.$$.fragment,a),l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)C(l[c]);i=!1},d(a){a&&(y(t),y(n)),B(e,a),me(l,a)}}}function Ty(r,e,t){let{app:n}=e,{runtime:i}=e,s=[];return ve(()=>{i.Grid.subscribe(l=>t(2,s=l))}),r.$$set=l=>{"app"in l&&t(0,n=l.app),"runtime"in l&&t(1,i=l.runtime)},[n,i,s]}let Ey=class extends j{constructor(e){super(),z(this,e,Ty,Cy,N,{app:0,runtime:1})}};class Iy{constructor(e){he(this,"runtime");he(this,"_store",[[[!1,!1,!1,!1,!0],[!1,!1,!1,!0,!0],[!1,!1,!1,!1,!0],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1]],[[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!0,!1,!1,!1,!0],[!0,!0,!1,!0,!0]],[[!0,!0,!1,!0,!0],[!1,!0,!0,!0,!1],[!1,!0,!0,!0,!1],[!1,!1,!0,!1,!1],[!1,!1,!1,!1,!1]],[[!1,!0,!1,!1,!1],[!0,!0,!1,!1,!1],[!1,!0,!0,!0,!1],[!0,!0,!1,!1,!1],[!1,!0,!1,!1,!1]],[[!0,!1,!1,!1,!0],[!1,!0,!1,!0,!1],[!1,!0,!1,!0,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1]],[[!0,!0,!0,!1,!1],[!0,!0,!0,!1,!1],[!0,!1,!0,!0,!1],[!0,!0,!0,!1,!1],[!0,!0,!0,!1,!1]],[[!0,!0,!1,!1,!1],[!1,!1,!0,!0,!1],[!1,!1,!0,!1,!1],[!1,!0,!1,!0,!1],[!0,!0,!1,!0,!0]],[[!0,!1,!1,!1,!0],[!0,!1,!1,!1,!0],[!1,!0,!0,!0,!1],[!1,!1,!0,!1,!1],[!1,!1,!0,!1,!1]]]);this.runtime=e}loadLevel(e){if(e>=this._store.length)return this.runtime.finish();this._store[e]&&(this.runtime.Grid.set(JSON.parse(JSON.stringify(this._store[e]))),this.runtime.LEVEL.set(e),this.runtime.Clicks.set(0))}checkNextLevel(){return this.runtime.containsLights()||G(this.runtime.Clicks)==0?!1:(this.runtime.LEVEL.set(G(this.runtime.LEVEL)+1),G(this.runtime.LEVEL)>this._store.length?this.runtime.finish():(this.loadLevel(G(this.runtime.LEVEL)),!0))}}class Oy extends Vp{constructor(t){super(t);he(this,"xModifiers",[-1,0,1]);he(this,"yModifiers",[-1,1]);he(this,"Grid",pe([[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1]]));he(this,"Clicks",pe(0));he(this,"LEVEL",pe(0));he(this,"Levels");this.Levels=new Iy(this),this.Grid.subscribe(n=>{n&&(this.Levels.checkNextLevel(),this.saveData())}),this.LEVEL.subscribe(()=>this.saveData()),this.Clicks.subscribe(()=>this.saveData()),this.loadData()}containsLights(){return this.Log("Checking lights","containsLights"),JSON.stringify(G(this.Grid)).includes("true")}finish(){this.Log("User has won! Finishing...","finish"),this.LEVEL.set(0),this.Clicks.set(0),this.Levels.loadLevel(G(this.LEVEL)),Xe({title:"You Win!",message:"You've managed to complete all 8 levels of Lights Off. The game will be reset so you can play it again in the future.",buttons:[{caption:"OK",action(){}}],image:lm},"LightsOff")}ToggleLight(t,n){this.Log(`Toggling ${t}x${n}`,"ToggleLight");const i=G(this.Grid);if(!i[n])throw new Error(`y doesn't exist ${n}`);if(typeof i[n][t]!="boolean")throw new Error(`x doesn't exist ${n} ${t}`);this.Clicks.set(G(this.Clicks)+1);for(let s=0;s<this.xModifiers.length;s++){const l=i[n][t+this.xModifiers[s]];typeof l=="boolean"&&(i[n][t+this.xModifiers[s]]=!l)}for(let s=0;s<this.yModifiers.length;s++){if(!Array.isArray(i[n+this.yModifiers[s]]))continue;const o=i[n+this.yModifiers[s]][t];typeof o=="boolean"&&(i[n+this.yModifiers[s]][t]=!o)}this.Grid.set(i)}loadData(){this.Log("Loading Data from UserData","loadData");const t=G(ne).appdata[this.app.id];if(t){this.Levels.loadLevel(t.level),this.Grid.set(t.grid),this.Clicks.set(t.clicks);return}this.Levels.loadLevel(0)}saveData(){if(G(this.LEVEL)==0&&!this.containsLights())return this.Log("Not saving default state!","saveData",se.warn);const t=G(ne);t.appdata[this.app.id]={clicks:G(this.Clicks),level:G(this.LEVEL),grid:G(this.Grid)},ne.set(t)}}const Ry={info:{name:"Lights Off",description:"Turn off all the lights!",builtin:!0,version:"1.0.0",author:"Tim Horton, ported to ArcOS by IzKuipers",hidden:!1,icon:lm,appGroup:"entertainment"},size:{w:NaN,h:NaN},pos:{x:80,y:80},minSize:{w:NaN,h:NaN},maxSize:{w:NaN,h:NaN},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:Ey,glass:!0,events:{},runtime:Oy},Ly=""+new URL("logger-53b4bb5a.svg",import.meta.url).href;function Dy(){const r=G(St);let e=[],t={};for(let n=0;n<r.length;n++){const i=r[n];e.includes(i.source)||e.push(i.source),t[i.source]=Array.prototype.concat(t[i.source]||[],[i])}return t}function Ml(){const r=[],e=G(St);for(let t=0;t<e.length;t++){const n=e[t],i=Jd[se[n.level]].capt,s=zt(n.timestamp||0).format("HH:mm:ss.mmm");r.push(`${s} [${i}] ${n.source}: ${n.msg}`)}return r}function By(r){let e,t,n=r[0][1]+"",i,s,l,o,a;return{c(){e=g("button"),t=g("span"),i=F(n),h(t,"class","material-icons-round"),h(e,"class",s="filter "+se[r[0][0]]),e.disabled=l=!r[1]||r[4],U(e,"selected",r[0][0]==r[2])},m(c,u){S(c,e,u),p(e,t),p(t,i),o||(a=P(e,"click",r[5]),o=!0)},p(c,[u]){u&1&&n!==(n=c[0][1]+"")&&W(i,n),u&1&&s!==(s="filter "+se[c[0][0]])&&h(e,"class",s),u&18&&l!==(l=!c[1]||c[4])&&(e.disabled=l),u&5&&U(e,"selected",c[0][0]==c[2])},i:O,o:O,d(c){c&&y(e),o=!1,a()}}}function My(r,e,t){let n;K(r,St,u=>t(6,n=u));let{data:i}=e,{currentSource:s}=e,{currentFilter:l}=e,{filter:o}=e,a=!1;St.subscribe(()=>{setTimeout(()=>{let u=0;for(let f=0;f<n.length;f++)n[f].level==i[0]&&n[f].source==s&&u++;t(4,a=!u)}),t(4,a=!1)});const c=()=>o(i[0]);return r.$$set=u=>{"data"in u&&t(0,i=u.data),"currentSource"in u&&t(1,s=u.currentSource),"currentFilter"in u&&t(2,l=u.currentFilter),"filter"in u&&t(3,o=u.filter)},[i,s,l,o,a,c]}class Fy extends j{constructor(e){super(),z(this,e,My,By,N,{data:0,currentSource:1,currentFilter:2,filter:3})}}function Cc(r,e,t){const n=r.slice();return n[4]=e[t],n}function Tc(r){let e,t;return e=new Fy({props:{data:r[4],currentSource:r[2],currentFilter:r[0],filter:r[1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.currentSource=n[2]),i&1&&(s.currentFilter=n[0]),i&2&&(s.filter=n[1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Py(r){let e,t,n=x(r[3]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Tc(Cc(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","filters")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,[o]){if(o&15){n=x(l[3]);let a;for(a=0;a<n.length;a+=1){const c=Cc(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Tc(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Uy(r,e,t){let{filter:n}=e,{currentFilter:i}=e,{currentSource:s}=e;const l=[[se.error,"error"],[se.warn,"warning"],[se.info,"info"],[se.critical,"cancel"]];return St.subscribe(()=>{t(0,i=null)}),r.$$set=o=>{"filter"in o&&t(1,n=o.filter),"currentFilter"in o&&t(0,i=o.currentFilter),"currentSource"in o&&t(2,s=o.currentSource)},[i,n,s,l]}class Ny extends j{constructor(e){super(),z(this,e,Uy,Py,N,{filter:1,currentFilter:0,currentSource:2})}}function zy(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k;return{c(){e=g("div"),t=g("button"),n=g("img"),s=F(`
    Clear`),o=T(),a=g("div"),c=T(),u=g("button"),f=g("span"),f.textContent="refresh",d=F(`
    Refresh`),b=T(),A=g("button"),A.innerHTML=`<span class="material-icons-round">title</span>
    monospace`,de(n.src,i=ki)||h(n,"src",i),h(n,"alt","Clear"),h(t,"class","action"),t.disabled=l=!r[0],h(a,"class","sep"),h(f,"class","material-icons-round"),h(u,"class","action"),u.disabled=m=!r[0],h(A,"class","action"),h(e,"class","static")},m(v,$){S(v,e,$),p(e,t),p(t,n),p(t,s),p(e,o),p(e,a),p(e,c),p(e,u),p(u,f),p(u,d),p(e,b),p(e,A),_||(k=[P(t,"click",r[10]),P(u,"click",r[2]),P(A,"click",r[3])],_=!0)},p(v,[$]){$&1&&l!==(l=!v[0])&&(t.disabled=l),$&1&&m!==(m=!v[0])&&(u.disabled=m)},i:O,o:O,d(v){v&&y(e),_=!1,ke(k)}}}function jy(r,e,t){let n,i;K(r,ne,_=>t(11,n=_)),K(r,St,_=>t(12,i=_));let{currentSource:s}=e,{currentFilter:l}=e,{logItems:o}=e,{setView:a}=e,{filter:c}=e,{appdata:u}=e,{app:f}=e;function d(_){for(let k=0;k<i.length;k++)i[k].source==_&&i.splice(k,1);t(0,s=""),t(4,o=[]),St.set(i)}function m(){Z("Logger: refresh","Refreshing current view",se.warn),a(s),l&&c(l)}function b(){t(5,u.monospace=!u.monospace,u),Ee(ne,n.appdata[f.id]=u,n)}const A=()=>d(s);return r.$$set=_=>{"currentSource"in _&&t(0,s=_.currentSource),"currentFilter"in _&&t(6,l=_.currentFilter),"logItems"in _&&t(4,o=_.logItems),"setView"in _&&t(7,a=_.setView),"filter"in _&&t(8,c=_.filter),"appdata"in _&&t(5,u=_.appdata),"app"in _&&t(9,f=_.app)},[s,d,m,b,o,u,l,a,c,f,A]}class Hy extends j{constructor(e){super(),z(this,e,jy,zy,N,{currentSource:0,currentFilter:6,logItems:4,setView:7,filter:8,appdata:5,app:9})}}function Qy(r){let e,t,n,i,s,l,o,a;function c(m){r[8](m)}function u(m){r[9](m)}function f(m){r[10](m)}let d={currentFilter:r[5],filter:r[6],setView:r[4],app:r[3]};return r[0]!==void 0&&(d.currentSource=r[0]),r[1]!==void 0&&(d.logItems=r[1]),r[2]!==void 0&&(d.appdata=r[2]),t=new Hy({props:d}),we.push(()=>Ce(t,"currentSource",c)),we.push(()=>Ce(t,"logItems",u)),we.push(()=>Ce(t,"appdata",f)),o=new Ny({props:{currentFilter:r[5],currentSource:r[0],filter:r[6]}}),{c(){e=g("div"),M(t.$$.fragment),l=T(),M(o.$$.fragment),h(e,"class","actions")},m(m,b){S(m,e,b),D(t,e,null),p(e,l),D(o,e,null),a=!0},p(m,[b]){const A={};b&32&&(A.currentFilter=m[5]),b&16&&(A.setView=m[4]),b&8&&(A.app=m[3]),!n&&b&1&&(n=!0,A.currentSource=m[0],$e(()=>n=!1)),!i&&b&2&&(i=!0,A.logItems=m[1],$e(()=>i=!1)),!s&&b&4&&(s=!0,A.appdata=m[2],$e(()=>s=!1)),t.$set(A);const _={};b&32&&(_.currentFilter=m[5]),b&1&&(_.currentSource=m[0]),o.$set(_)},i(m){a||(w(t.$$.fragment,m),w(o.$$.fragment,m),a=!0)},o(m){C(t.$$.fragment,m),C(o.$$.fragment,m),a=!1},d(m){m&&y(e),B(t),B(o)}}}function Wy(r,e,t){let{app:n}=e,{currentSource:i}=e,{logItems:s}=e,{setView:l}=e,{updating:o}=e,{appdata:a}=e,c=[],u;St.subscribe(A=>{t(7,o=!0),c=[],t(5,u=null);const _=Object.entries(A);for(let k=0;k<_.length;k++)_[k][0]==i&&c.push(_[k][1]);setTimeout(()=>{t(7,o=!1)})});function f(A){if(u==A){const k=`${i}`;l(null),setTimeout(()=>{l(k)});return}c.length||(c=s);const _=[];for(let k=0;k<c.length;k++)A==c[k].level&&_.push(c[k]);t(1,s=_),t(5,u=A)}function d(A){i=A,t(0,i)}function m(A){s=A,t(1,s)}function b(A){a=A,t(2,a)}return r.$$set=A=>{"app"in A&&t(3,n=A.app),"currentSource"in A&&t(0,i=A.currentSource),"logItems"in A&&t(1,s=A.logItems),"setView"in A&&t(4,l=A.setView),"updating"in A&&t(7,o=A.updating),"appdata"in A&&t(2,a=A.appdata)},[i,s,a,n,l,u,f,o,d,m,b]}let Gy=class extends j{constructor(e){super(),z(this,e,Wy,Qy,N,{app:3,currentSource:0,logItems:1,setView:4,updating:7,appdata:2})}};function Ky(r){let e,t,n=r[1][r[0].level]+"",i,s,l,o,a=zt(r[0].timestamp).format("HH:mm:ss.SSS")+"",c,u,f,d=r[0].msg+"",m;return{c(){e=g("div"),t=g("div"),i=F(n),l=T(),o=g("div"),c=F(a),u=T(),f=g("div"),m=F(d),h(t,"class",s="level material-icons-round "+se[r[0].level]),h(o,"class","timestamp"),h(f,"class","msg"),h(e,"class","logitem")},m(b,A){S(b,e,A),p(e,t),p(t,i),p(e,l),p(e,o),p(o,c),p(e,u),p(e,f),p(f,m)},p(b,[A]){A&1&&n!==(n=b[1][b[0].level]+"")&&W(i,n),A&1&&s!==(s="level material-icons-round "+se[b[0].level])&&h(t,"class",s),A&1&&a!==(a=zt(b[0].timestamp).format("HH:mm:ss.SSS")+"")&&W(c,a),A&1&&d!==(d=b[0].msg+"")&&W(m,d)},i:O,o:O,d(b){b&&y(e)}}}function Vy(r,e,t){let{logItem:n}=e;const i={0:"info",1:"warning",2:"error",3:"cancel"};return r.$$set=s=>{"logItem"in s&&t(0,n=s.logItem)},[n,i]}class qy extends j{constructor(e){super(),z(this,e,Vy,Ky,N,{logItem:0})}}function Ec(r,e,t){const n=r.slice();return n[4]=e[t],n}function Ic(r){let e,t,n=x(r[1]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Oc(Ec(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ae()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&2){n=x(l[1]);let a;for(a=0;a<n.length;a+=1){const c=Ec(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Oc(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Oc(r){let e,t;return e=new qy({props:{logItem:r[4]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.logItem=n[4]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Rc(r){let e,t,n,i,s,l;return{c(){e=g("div"),t=g("img"),s=T(),l=g("p"),l.textContent="No items found.",de(t.src,n=yt(r[0]))||h(t,"src",n),h(t,"alt",i=r[0].info.name),h(e,"class","noitems")},m(o,a){S(o,e,a),p(e,t),p(e,s),p(e,l)},p(o,a){a&1&&!de(t.src,n=yt(o[0]))&&h(t,"src",n),a&1&&i!==(i=o[0].info.name)&&h(t,"alt",i)},d(o){o&&y(e)}}}function Yy(r){let e,t,n,i=!r[2]&&Ic(r),s=!r[1].length&&Rc(r);return{c(){e=g("div"),i&&i.c(),t=T(),s&&s.c(),h(e,"class","items"),U(e,"cflex",!r[1].length),U(e,"monospace",!!r[3].monospace)},m(l,o){S(l,e,o),i&&i.m(e,null),p(e,t),s&&s.m(e,null),n=!0},p(l,[o]){l[2]?i&&(q(),C(i,1,1,()=>{i=null}),Y()):i?(i.p(l,o),o&4&&w(i,1)):(i=Ic(l),i.c(),w(i,1),i.m(e,t)),l[1].length?s&&(s.d(1),s=null):s?s.p(l,o):(s=Rc(l),s.c(),s.m(e,null)),(!n||o&2)&&U(e,"cflex",!l[1].length),(!n||o&8)&&U(e,"monospace",!!l[3].monospace)},i(l){n||(w(i),n=!0)},o(l){C(i),n=!1},d(l){l&&y(e),i&&i.d(),s&&s.d()}}}function Jy(r,e,t){let{app:n}=e,{logItems:i}=e,{updating:s}=e,{appdata:l}=e;return r.$$set=o=>{"app"in o&&t(0,n=o.app),"logItems"in o&&t(1,i=o.logItems),"updating"in o&&t(2,s=o.updating),"appdata"in o&&t(3,l=o.appdata)},[n,i,s,l]}class Zy extends j{constructor(e){super(),z(this,e,Jy,Yy,N,{app:0,logItems:1,updating:2,appdata:3})}}function Xy(r){let e,t,n,i,s,l,o,a,c,u,f,d,m;function b(H){r[6](H)}function A(H){r[7](H)}function _(H){r[8](H)}function k(H){r[9](H)}function v(H){r[10](H)}function $(H){r[11](H)}let E={};r[1]!==void 0&&(E.currentSource=r[1]),r[2]!==void 0&&(E.logItems=r[2]),r[3]!==void 0&&(E.setView=r[3]),r[5]!==void 0&&(E.updating=r[5]),r[4]!==void 0&&(E.appdata=r[4]),r[0]!==void 0&&(E.app=r[0]),t=new Gy({props:E}),we.push(()=>Ce(t,"currentSource",b)),we.push(()=>Ce(t,"logItems",A)),we.push(()=>Ce(t,"setView",_)),we.push(()=>Ce(t,"updating",k)),we.push(()=>Ce(t,"appdata",v)),we.push(()=>Ce(t,"app",$));function I(H){r[12](H)}function L(H){r[13](H)}let R={app:r[0],appdata:r[4]};return r[2]!==void 0&&(R.logItems=r[2]),r[5]!==void 0&&(R.updating=r[5]),u=new Zy({props:R}),we.push(()=>Ce(u,"logItems",I)),we.push(()=>Ce(u,"updating",L)),{c(){e=g("div"),M(t.$$.fragment),c=T(),M(u.$$.fragment),h(e,"class","content")},m(H,Q){S(H,e,Q),D(t,e,null),p(e,c),D(u,e,null),m=!0},p(H,[Q]){const ee={};!n&&Q&2&&(n=!0,ee.currentSource=H[1],$e(()=>n=!1)),!i&&Q&4&&(i=!0,ee.logItems=H[2],$e(()=>i=!1)),!s&&Q&8&&(s=!0,ee.setView=H[3],$e(()=>s=!1)),!l&&Q&32&&(l=!0,ee.updating=H[5],$e(()=>l=!1)),!o&&Q&16&&(o=!0,ee.appdata=H[4],$e(()=>o=!1)),!a&&Q&1&&(a=!0,ee.app=H[0],$e(()=>a=!1)),t.$set(ee);const J={};Q&1&&(J.app=H[0]),Q&16&&(J.appdata=H[4]),!f&&Q&4&&(f=!0,J.logItems=H[2],$e(()=>f=!1)),!d&&Q&32&&(d=!0,J.updating=H[5],$e(()=>d=!1)),u.$set(J)},i(H){m||(w(t.$$.fragment,H),w(u.$$.fragment,H),m=!0)},o(H){C(t.$$.fragment,H),C(u.$$.fragment,H),m=!1},d(H){H&&y(e),B(t),B(u)}}}function xy(r,e,t){let{app:n}=e,{currentSource:i}=e,{logItems:s}=e,{setView:l}=e,{appdata:o}=e,a=!1;function c(k){i=k,t(1,i)}function u(k){s=k,t(2,s)}function f(k){l=k,t(3,l)}function d(k){a=k,t(5,a)}function m(k){o=k,t(4,o)}function b(k){n=k,t(0,n)}function A(k){s=k,t(2,s)}function _(k){a=k,t(5,a)}return r.$$set=k=>{"app"in k&&t(0,n=k.app),"currentSource"in k&&t(1,i=k.currentSource),"logItems"in k&&t(2,s=k.logItems),"setView"in k&&t(3,l=k.setView),"appdata"in k&&t(4,o=k.appdata)},[n,i,s,l,o,a,c,u,f,d,m,b,A,_]}let eS=class extends j{constructor(e){super(),z(this,e,xy,Xy,N,{app:0,currentSource:1,logItems:2,setView:3,appdata:4})}};function tS(r){let e,t,n=r[0][0]+"",i,s,l,o=r[0][1].length+"",a,c,u,f;return{c(){e=g("button"),t=g("div"),i=F(n),s=T(),l=g("div"),a=F(o),c=F(" items"),h(t,"class","name"),h(l,"class","items"),U(e,"active",r[0][0]==r[1])},m(d,m){S(d,e,m),p(e,t),p(t,i),p(e,s),p(e,l),p(l,a),p(l,c),u||(f=P(e,"click",r[2]),u=!0)},p(d,[m]){m&1&&n!==(n=d[0][0]+"")&&W(i,n),m&1&&o!==(o=d[0][1].length+"")&&W(a,o),m&3&&U(e,"active",d[0][0]==d[1])},i:O,o:O,d(d){d&&y(e),u=!1,f()}}}function nS(r,e,t){let{category:n}=e,{setView:i}=e,{currentSource:s}=e;function l(){i&&i(n[0])}return r.$$set=o=>{"category"in o&&t(0,n=o.category),"setView"in o&&t(3,i=o.setView),"currentSource"in o&&t(1,s=o.currentSource)},[n,s,l,i]}class iS extends j{constructor(e){super(),z(this,e,nS,tS,N,{category:0,setView:3,currentSource:1})}}function Lc(r,e,t){const n=r.slice();return n[6]=e[t],n[7]=e,n[8]=t,n}function Dc(r){let e,t,n,i,s;function l(u){r[3](u)}function o(u){r[4](u,r[6],r[7],r[8])}function a(u){r[5](u)}let c={};return r[1]!==void 0&&(c.setView=r[1]),r[6]!==void 0&&(c.category=r[6]),r[2]!==void 0&&(c.currentSource=r[2]),e=new iS({props:c}),we.push(()=>Ce(e,"setView",l)),we.push(()=>Ce(e,"category",o)),we.push(()=>Ce(e,"currentSource",a)),{c(){M(e.$$.fragment)},m(u,f){D(e,u,f),s=!0},p(u,f){r=u;const d={};!t&&f&2&&(t=!0,d.setView=r[1],$e(()=>t=!1)),!n&&f&1&&(n=!0,d.category=r[6],$e(()=>n=!1)),!i&&f&4&&(i=!0,d.currentSource=r[2],$e(()=>i=!1)),e.$set(d)},i(u){s||(w(e.$$.fragment,u),s=!0)},o(u){C(e.$$.fragment,u),s=!1},d(u){B(e,u)}}}function rS(r){let e,t,n=x(r[0]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Dc(Lc(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","sidebar")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,[o]){if(o&7){n=x(l[0]);let a;for(a=0;a<n.length;a+=1){const c=Lc(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Dc(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function sS(r,e,t){let{logs:n}=e,{setView:i}=e,{currentSource:s}=e;function l(c){i=c,t(1,i)}function o(c,u,f,d){f[d]=c,t(0,n)}function a(c){s=c,t(2,s)}return r.$$set=c=>{"logs"in c&&t(0,n=c.logs),"setView"in c&&t(1,i=c.setView),"currentSource"in c&&t(2,s=c.currentSource)},[n,i,s,l,o,a]}let lS=class extends j{constructor(e){super(),z(this,e,sS,rS,N,{logs:0,setView:1,currentSource:2})}};function Bc(r){let e,t,n,i,s,l,o,a,c;function u(k){r[6](k)}function f(k){r[7](k)}let d={setView:r[5]};r[4]!==void 0&&(d.currentSource=r[4]),r[2]!==void 0&&(d.logs=r[2]),e=new lS({props:d}),we.push(()=>Ce(e,"currentSource",u)),we.push(()=>Ce(e,"logs",f));function m(k){r[8](k)}function b(k){r[9](k)}function A(k){r[10](k)}let _={setView:r[5],app:r[1]};return r[4]!==void 0&&(_.currentSource=r[4]),r[3]!==void 0&&(_.logItems=r[3]),r[0]!==void 0&&(_.appdata=r[0]),s=new eS({props:_}),we.push(()=>Ce(s,"currentSource",m)),we.push(()=>Ce(s,"logItems",b)),we.push(()=>Ce(s,"appdata",A)),{c(){M(e.$$.fragment),i=T(),M(s.$$.fragment)},m(k,v){D(e,k,v),S(k,i,v),D(s,k,v),c=!0},p(k,v){const $={};!t&&v&16&&(t=!0,$.currentSource=k[4],$e(()=>t=!1)),!n&&v&4&&(n=!0,$.logs=k[2],$e(()=>n=!1)),e.$set($);const E={};v&2&&(E.app=k[1]),!l&&v&16&&(l=!0,E.currentSource=k[4],$e(()=>l=!1)),!o&&v&8&&(o=!0,E.logItems=k[3],$e(()=>o=!1)),!a&&v&1&&(a=!0,E.appdata=k[0],$e(()=>a=!1)),s.$set(E)},i(k){c||(w(e.$$.fragment,k),w(s.$$.fragment,k),c=!0)},o(k){C(e.$$.fragment,k),C(s.$$.fragment,k),c=!1},d(k){k&&y(i),B(e,k),B(s,k)}}}function oS(r){let e,t,n=r[1]&&Bc(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[1]?n?(n.p(i,s),s&2&&w(n,1)):(n=Bc(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function aS(r,e,t){let n;K(r,St,A=>t(11,n=A));let i=[],s=[],l="",{app:o}=e,{appdata:a}=e;function c(A){Z("apps/Logger: setView",`Setting source to "${A}"`);for(let _=0;_<i.length;_++)i[_][0]==A&&t(3,s=i[_][1]);s.length||Z("apps/Logger: setView",`Source "${A}" contains no items or could not be found.`,se.info),t(4,l=A)}St.subscribe(()=>{t(2,i=Object.entries(Dy())),Xi(` - ${n.length} items`,o.id)});function u(A){l=A,t(4,l)}function f(A){i=A,t(2,i)}function d(A){l=A,t(4,l)}function m(A){s=A,t(3,s)}function b(A){a=A,t(0,a)}return r.$$set=A=>{"app"in A&&t(1,o=A.app),"appdata"in A&&t(0,a=A.appdata)},[a,o,i,s,l,c,u,f,d,m,b]}class cS extends j{constructor(e){super(),z(this,e,aS,oS,N,{app:1,appdata:0})}}const uS={info:{name:"System Logger",description:"All the ArcOS logs in one place",builtin:!0,version:"1.0.0",author:"ArcOS Team",icon:Ly,appGroup:"systemTools"},size:{w:900,h:600},pos:{x:30,y:40},minSize:{w:900,h:600},maxSize:{w:901,h:601},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:cS,glass:!0};function fS(){const r=console.warn;console.warn=e=>{e.includes("unknown prop")||e.includes("unexpected slot")||r(e)},ve(()=>{console.warn=r})}function Mc(r,e,t){const n=r.slice();return n[18]=e[t],n}function Fc(r,e,t){const n=r.slice();return n[18]=e[t],n}function Pc(r,e,t){const n=r.slice();return n[10]=e[t],n}function Uc(r,e,t){const n=r.slice();return n[13]=e[t],n[15]=t,n}function Nc(r,e,t){const n=r.slice();return n[16]=e[t],n[15]=t,n}function zc(r,e,t){const n=r.slice();return n[7]=e[t],n}function dS(r){let e,t,n,i;const s=[gS,hS,mS],l=[];function o(a,c){return a[0]==="table"?0:a[0]==="list"?1:2}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=ae()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,c){let u=e;e=o(a),e===u?l[e].p(a,c):(q(),C(l[u],1,1,()=>{l[u]=null}),Y(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function pS(r){let e,t,n=x(r[1]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Kc(zc(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ae()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&34){n=x(l[1]);let a;for(a=0;a<n.length;a+=1){const c=zc(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Kc(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function mS(r){let e,t,n;const i=[r[6]];var s=r[5][r[0]];function l(o,a){let c={$$slots:{default:[_S]},$$scope:{ctx:o}};for(let u=0;u<i.length;u+=1)c=Rt(c,i[u]);return a!==void 0&&a&64&&(c=Rt(c,Jt(i,[Zt(o[6])]))),{props:c}}return s&&(e=Be(s,l(r))),{c(){e&&M(e.$$.fragment),t=ae()},m(o,a){e&&D(e,o,a),S(o,t,a),n=!0},p(o,a){if(a&33&&s!==(s=o[5][o[0]])){if(e){q();const c=e;C(c.$$.fragment,1,0,()=>{B(c,1)}),Y()}s?(e=Be(s,l(o,a)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(s){const c=a&64?Jt(i,[Zt(o[6])]):{};a&8388706&&(c.$$scope={dirty:a,ctx:o}),e.$set(c)}},i(o){n||(e&&w(e.$$.fragment,o),n=!0)},o(o){e&&C(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&B(e,o)}}}function hS(r){let e,t,n,i;const s=[vS,wS],l=[];function o(a,c){return a[4]?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=ae()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,c){let u=e;e=o(a),e===u?l[e].p(a,c):(q(),C(l[u],1,1,()=>{l[u]=null}),Y(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function gS(r){let e,t,n;var i=r[5].table;function s(l,o){return{props:{$$slots:{default:[LS]},$$scope:{ctx:l}}}}return i&&(e=Be(i,s(r))),{c(){e&&M(e.$$.fragment),t=ae()},m(l,o){e&&D(e,l,o),S(l,t,o),n=!0},p(l,o){if(o&32&&i!==(i=l[5].table)){if(e){q();const a=e;C(a.$$.fragment,1,0,()=>{B(a,1)}),Y()}i?(e=Be(i,s(l)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(i){const a={};o&8388716&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)}},i(l){n||(e&&w(e.$$.fragment,l),n=!0)},o(l){e&&C(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&B(e,l)}}}function AS(r){let e=r[6].raw+"",t;return{c(){t=F(e)},m(n,i){S(n,t,i)},p(n,i){i&64&&e!==(e=n[6].raw+"")&&W(t,e)},i:O,o:O,d(n){n&&y(t)}}}function bS(r){let e,t;return e=new xn({props:{tokens:r[1],renderers:r[5]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.tokens=n[1]),i&32&&(s.renderers=n[5]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function _S(r){let e,t,n,i;const s=[bS,AS],l=[];function o(a,c){return a[1]?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=ae()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,c){let u=e;e=o(a),e===u?l[e].p(a,c):(q(),C(l[u],1,1,()=>{l[u]=null}),Y(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function wS(r){let e,t,n;const i=[{ordered:r[4]},r[6]];var s=r[5].list;function l(o,a){let c={$$slots:{default:[yS]},$$scope:{ctx:o}};for(let u=0;u<i.length;u+=1)c=Rt(c,i[u]);return a!==void 0&&a&80&&(c=Rt(c,Jt(i,[a&16&&{ordered:o[4]},a&64&&Zt(o[6])]))),{props:c}}return s&&(e=Be(s,l(r))),{c(){e&&M(e.$$.fragment),t=ae()},m(o,a){e&&D(e,o,a),S(o,t,a),n=!0},p(o,a){if(a&32&&s!==(s=o[5].list)){if(e){q();const c=e;C(c.$$.fragment,1,0,()=>{B(c,1)}),Y()}s?(e=Be(s,l(o,a)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(s){const c=a&80?Jt(i,[a&16&&{ordered:o[4]},a&64&&Zt(o[6])]):{};a&8388704&&(c.$$scope={dirty:a,ctx:o}),e.$set(c)}},i(o){n||(e&&w(e.$$.fragment,o),n=!0)},o(o){e&&C(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&B(e,o)}}}function vS(r){let e,t,n;const i=[{ordered:r[4]},r[6]];var s=r[5].list;function l(o,a){let c={$$slots:{default:[$S]},$$scope:{ctx:o}};for(let u=0;u<i.length;u+=1)c=Rt(c,i[u]);return a!==void 0&&a&80&&(c=Rt(c,Jt(i,[a&16&&{ordered:o[4]},a&64&&Zt(o[6])]))),{props:c}}return s&&(e=Be(s,l(r))),{c(){e&&M(e.$$.fragment),t=ae()},m(o,a){e&&D(e,o,a),S(o,t,a),n=!0},p(o,a){if(a&32&&s!==(s=o[5].list)){if(e){q();const c=e;C(c.$$.fragment,1,0,()=>{B(c,1)}),Y()}s?(e=Be(s,l(o,a)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(s){const c=a&80?Jt(i,[a&16&&{ordered:o[4]},a&64&&Zt(o[6])]):{};a&8388704&&(c.$$scope={dirty:a,ctx:o}),e.$set(c)}},i(o){n||(e&&w(e.$$.fragment,o),n=!0)},o(o){e&&C(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&B(e,o)}}}function kS(r){let e,t,n;return e=new xn({props:{tokens:r[18].tokens,renderers:r[5]}}),{c(){M(e.$$.fragment),t=T()},m(i,s){D(e,i,s),S(i,t,s),n=!0},p(i,s){const l={};s&64&&(l.tokens=i[18].tokens),s&32&&(l.renderers=i[5]),e.$set(l)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){i&&y(t),B(e,i)}}}function jc(r){let e,t,n;const i=[r[18]];var s=r[5].unorderedlistitem||r[5].listitem;function l(o,a){let c={$$slots:{default:[kS]},$$scope:{ctx:o}};for(let u=0;u<i.length;u+=1)c=Rt(c,i[u]);return a!==void 0&&a&64&&(c=Rt(c,Jt(i,[Zt(o[18])]))),{props:c}}return s&&(e=Be(s,l(r))),{c(){e&&M(e.$$.fragment),t=ae()},m(o,a){e&&D(e,o,a),S(o,t,a),n=!0},p(o,a){if(a&32&&s!==(s=o[5].unorderedlistitem||o[5].listitem)){if(e){q();const c=e;C(c.$$.fragment,1,0,()=>{B(c,1)}),Y()}s?(e=Be(s,l(o,a)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(s){const c=a&64?Jt(i,[Zt(o[18])]):{};a&8388704&&(c.$$scope={dirty:a,ctx:o}),e.$set(c)}},i(o){n||(e&&w(e.$$.fragment,o),n=!0)},o(o){e&&C(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&B(e,o)}}}function yS(r){let e,t,n=x(r[6].items),i=[];for(let l=0;l<n.length;l+=1)i[l]=jc(Mc(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ae()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&96){n=x(l[6].items);let a;for(a=0;a<n.length;a+=1){const c=Mc(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=jc(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function SS(r){let e,t,n;return e=new xn({props:{tokens:r[18].tokens,renderers:r[5]}}),{c(){M(e.$$.fragment),t=T()},m(i,s){D(e,i,s),S(i,t,s),n=!0},p(i,s){const l={};s&64&&(l.tokens=i[18].tokens),s&32&&(l.renderers=i[5]),e.$set(l)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){i&&y(t),B(e,i)}}}function Hc(r){let e,t,n;const i=[r[18]];var s=r[5].orderedlistitem||r[5].listitem;function l(o,a){let c={$$slots:{default:[SS]},$$scope:{ctx:o}};for(let u=0;u<i.length;u+=1)c=Rt(c,i[u]);return a!==void 0&&a&64&&(c=Rt(c,Jt(i,[Zt(o[18])]))),{props:c}}return s&&(e=Be(s,l(r))),{c(){e&&M(e.$$.fragment),t=ae()},m(o,a){e&&D(e,o,a),S(o,t,a),n=!0},p(o,a){if(a&32&&s!==(s=o[5].orderedlistitem||o[5].listitem)){if(e){q();const c=e;C(c.$$.fragment,1,0,()=>{B(c,1)}),Y()}s?(e=Be(s,l(o,a)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(s){const c=a&64?Jt(i,[Zt(o[18])]):{};a&8388704&&(c.$$scope={dirty:a,ctx:o}),e.$set(c)}},i(o){n||(e&&w(e.$$.fragment,o),n=!0)},o(o){e&&C(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&B(e,o)}}}function $S(r){let e,t,n=x(r[6].items),i=[];for(let l=0;l<n.length;l+=1)i[l]=Hc(Fc(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ae()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&96){n=x(l[6].items);let a;for(a=0;a<n.length;a+=1){const c=Fc(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Hc(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function CS(r){let e,t,n;return e=new xn({props:{tokens:r[16].tokens,renderers:r[5]}}),{c(){M(e.$$.fragment),t=T()},m(i,s){D(e,i,s),S(i,t,s),n=!0},p(i,s){const l={};s&4&&(l.tokens=i[16].tokens),s&32&&(l.renderers=i[5]),e.$set(l)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){i&&y(t),B(e,i)}}}function Qc(r){let e,t,n;var i=r[5].tablecell;function s(l,o){return{props:{header:!0,align:l[6].align[l[15]]||"center",$$slots:{default:[CS]},$$scope:{ctx:l}}}}return i&&(e=Be(i,s(r))),{c(){e&&M(e.$$.fragment),t=ae()},m(l,o){e&&D(e,l,o),S(l,t,o),n=!0},p(l,o){if(o&32&&i!==(i=l[5].tablecell)){if(e){q();const a=e;C(a.$$.fragment,1,0,()=>{B(a,1)}),Y()}i?(e=Be(i,s(l)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(i){const a={};o&64&&(a.align=l[6].align[l[15]]||"center"),o&8388644&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)}},i(l){n||(e&&w(e.$$.fragment,l),n=!0)},o(l){e&&C(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&B(e,l)}}}function TS(r){let e,t,n=x(r[2]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Qc(Nc(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ae()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&100){n=x(l[2]);let a;for(a=0;a<n.length;a+=1){const c=Nc(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Qc(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function ES(r){let e,t,n;var i=r[5].tablerow;function s(l,o){return{props:{$$slots:{default:[TS]},$$scope:{ctx:l}}}}return i&&(e=Be(i,s(r))),{c(){e&&M(e.$$.fragment),t=ae()},m(l,o){e&&D(e,l,o),S(l,t,o),n=!0},p(l,o){if(o&32&&i!==(i=l[5].tablerow)){if(e){q();const a=e;C(a.$$.fragment,1,0,()=>{B(a,1)}),Y()}i?(e=Be(i,s(l)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(i){const a={};o&8388708&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)}},i(l){n||(e&&w(e.$$.fragment,l),n=!0)},o(l){e&&C(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&B(e,l)}}}function IS(r){let e,t;return e=new xn({props:{tokens:r[13].tokens,renderers:r[5]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&8&&(s.tokens=n[13].tokens),i&32&&(s.renderers=n[5]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Wc(r){let e,t,n;var i=r[5].tablecell;function s(l,o){return{props:{header:!1,align:l[6].align[l[15]]||"center",$$slots:{default:[IS]},$$scope:{ctx:l}}}}return i&&(e=Be(i,s(r))),{c(){e&&M(e.$$.fragment),t=ae()},m(l,o){e&&D(e,l,o),S(l,t,o),n=!0},p(l,o){if(o&32&&i!==(i=l[5].tablecell)){if(e){q();const a=e;C(a.$$.fragment,1,0,()=>{B(a,1)}),Y()}i?(e=Be(i,s(l)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(i){const a={};o&64&&(a.align=l[6].align[l[15]]||"center"),o&8388648&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)}},i(l){n||(e&&w(e.$$.fragment,l),n=!0)},o(l){e&&C(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&B(e,l)}}}function OS(r){let e,t,n=x(r[10]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Wc(Uc(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=T()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&104){n=x(l[10]);let a;for(a=0;a<n.length;a+=1){const c=Uc(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Wc(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Gc(r){let e,t,n;var i=r[5].tablerow;function s(l,o){return{props:{$$slots:{default:[OS]},$$scope:{ctx:l}}}}return i&&(e=Be(i,s(r))),{c(){e&&M(e.$$.fragment),t=ae()},m(l,o){e&&D(e,l,o),S(l,t,o),n=!0},p(l,o){if(o&32&&i!==(i=l[5].tablerow)){if(e){q();const a=e;C(a.$$.fragment,1,0,()=>{B(a,1)}),Y()}i?(e=Be(i,s(l)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(i){const a={};o&8388712&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)}},i(l){n||(e&&w(e.$$.fragment,l),n=!0)},o(l){e&&C(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&B(e,l)}}}function RS(r){let e,t,n=x(r[3]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Gc(Pc(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ae()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&104){n=x(l[3]);let a;for(a=0;a<n.length;a+=1){const c=Pc(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Gc(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function LS(r){let e,t,n,i,s;var l=r[5].tablehead;function o(u,f){return{props:{$$slots:{default:[ES]},$$scope:{ctx:u}}}}l&&(e=Be(l,o(r)));var a=r[5].tablebody;function c(u,f){return{props:{$$slots:{default:[RS]},$$scope:{ctx:u}}}}return a&&(n=Be(a,c(r))),{c(){e&&M(e.$$.fragment),t=T(),n&&M(n.$$.fragment),i=ae()},m(u,f){e&&D(e,u,f),S(u,t,f),n&&D(n,u,f),S(u,i,f),s=!0},p(u,f){if(f&32&&l!==(l=u[5].tablehead)){if(e){q();const d=e;C(d.$$.fragment,1,0,()=>{B(d,1)}),Y()}l?(e=Be(l,o(u)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(l){const d={};f&8388708&&(d.$$scope={dirty:f,ctx:u}),e.$set(d)}if(f&32&&a!==(a=u[5].tablebody)){if(n){q();const d=n;C(d.$$.fragment,1,0,()=>{B(d,1)}),Y()}a?(n=Be(a,c(u)),M(n.$$.fragment),w(n.$$.fragment,1),D(n,i.parentNode,i)):n=null}else if(a){const d={};f&8388712&&(d.$$scope={dirty:f,ctx:u}),n.$set(d)}},i(u){s||(e&&w(e.$$.fragment,u),n&&w(n.$$.fragment,u),s=!0)},o(u){e&&C(e.$$.fragment,u),n&&C(n.$$.fragment,u),s=!1},d(u){u&&(y(t),y(i)),e&&B(e,u),n&&B(n,u)}}}function Kc(r){let e,t;const n=[r[7],{renderers:r[5]}];let i={};for(let s=0;s<n.length;s+=1)i=Rt(i,n[s]);return e=new xn({props:i}),{c(){M(e.$$.fragment)},m(s,l){D(e,s,l),t=!0},p(s,l){const o=l&34?Jt(n,[l&2&&Zt(s[7]),l&32&&{renderers:s[5]}]):{};e.$set(o)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){B(e,s)}}}function DS(r){let e,t,n,i;const s=[pS,dS],l=[];function o(a,c){return a[0]?a[5][a[0]]?1:-1:0}return~(e=o(r))&&(t=l[e]=s[e](r)),{c(){t&&t.c(),n=ae()},m(a,c){~e&&l[e].m(a,c),S(a,n,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?~e&&l[e].p(a,c):(t&&(q(),C(l[u],1,1,()=>{l[u]=null}),Y()),~e?(t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n)):t=null)},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),~e&&l[e].d(a)}}}function BS(r,e,t){const n=["type","tokens","header","rows","ordered","renderers"];let i=Ao(e,n),{type:s=void 0}=e,{tokens:l=void 0}=e,{header:o=void 0}=e,{rows:a=void 0}=e,{ordered:c=!1}=e,{renderers:u}=e;return fS(),r.$$set=f=>{e=Rt(Rt({},e),ch(f)),t(6,i=Ao(e,n)),"type"in f&&t(0,s=f.type),"tokens"in f&&t(1,l=f.tokens),"header"in f&&t(2,o=f.header),"rows"in f&&t(3,a=f.rows),"ordered"in f&&t(4,c=f.ordered),"renderers"in f&&t(5,u=f.renderers)},[s,l,o,a,c,u,i]}let xn=class extends j{constructor(e){super(),z(this,e,BS,DS,N,{type:0,tokens:1,header:2,rows:3,ordered:4,renderers:5})}};function om(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let ei=om();function MS(r){ei=r}const am=/[&<>"']/,FS=new RegExp(am.source,"g"),cm=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,PS=new RegExp(cm.source,"g"),US={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Vc=r=>US[r];function _t(r,e){if(e){if(am.test(r))return r.replace(FS,Vc)}else if(cm.test(r))return r.replace(PS,Vc);return r}const NS=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function um(r){return r.replace(NS,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const zS=/(^|[^\[])\^/g;function qe(r,e){r=typeof r=="string"?r:r.source,e=e||"";const t={replace:(n,i)=>(i=i.source||i,i=i.replace(zS,"$1"),r=r.replace(n,i),t),getRegex:()=>new RegExp(r,e)};return t}const jS=/[^\w:]/g,HS=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function qc(r,e,t){if(r){let n;try{n=decodeURIComponent(um(t)).replace(jS,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!HS.test(t)&&(t=KS(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const gr={},QS=/^[^:]+:\/*[^/]*$/,WS=/^([^:]+:)[\s\S]*$/,GS=/^([^:]+:\/*[^/]*)[\s\S]*$/;function KS(r,e){gr[" "+r]||(QS.test(r)?gr[" "+r]=r+"/":gr[" "+r]=Cr(r,"/",!0)),r=gr[" "+r];const t=r.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:r.replace(WS,"$1")+e:e.charAt(0)==="/"?t?e:r.replace(GS,"$1")+e:r+e}const Nr={exec:function(){}};function Yc(r,e){const t=r.replace(/\|/g,(s,l,o)=>{let a=!1,c=l;for(;--c>=0&&o[c]==="\\";)a=!a;return a?"|":" |"}),n=t.split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function Cr(r,e,t){const n=r.length;if(n===0)return"";let i=0;for(;i<n;){const s=r.charAt(n-i-1);if(s===e&&!t)i++;else if(s!==e&&t)i++;else break}return r.slice(0,n-i)}function VS(r,e){if(r.indexOf(e[1])===-1)return-1;const t=r.length;let n=0,i=0;for(;i<t;i++)if(r[i]==="\\")i++;else if(r[i]===e[0])n++;else if(r[i]===e[1]&&(n--,n<0))return i;return-1}function qS(r){r&&r.sanitize&&!r.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Jc(r,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=r),e>>=1,r+=r;return t+r}function Zc(r,e,t,n){const i=e.href,s=e.title?_t(e.title):null,l=r[1].replace(/\\([\[\]])/g,"$1");if(r[0].charAt(0)!=="!"){n.state.inLink=!0;const o={type:"link",raw:t,href:i,title:s,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,o}return{type:"image",raw:t,href:i,title:s,text:_t(l)}}function YS(r,e){const t=r.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[l]=s;return l.length>=n.length?i.slice(n.length):i}).join(`
`)}class Fl{constructor(e){this.options=e||ei}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Cr(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],i=YS(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const i=Cr(n,"#");(this.options.pedantic||!i||/ $/.test(i))&&(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=t[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(n);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:s,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,i,s,l,o,a,c,u,f,d,m,b,A=t[1].trim();const _=A.length>1,k={type:"list",raw:"",ordered:_,start:_?+A.slice(0,-1):"",loose:!1,items:[]};A=_?`\\d{1,9}\\${A.slice(-1)}`:`\\${A}`,this.options.pedantic&&(A=_?A:"[*+-]");const v=new RegExp(`^( {0,3}${A})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(b=!1,!(!(t=v.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),u=t[2].split(`
`,1)[0].replace(/^\t+/,E=>" ".repeat(3*E.length)),f=e.split(`
`,1)[0],this.options.pedantic?(l=2,m=u.trimLeft()):(l=t[2].search(/[^ ]/),l=l>4?1:l,m=u.slice(l),l+=t[1].length),a=!1,!u&&/^ *$/.test(f)&&(n+=f+`
`,e=e.substring(f.length+1),b=!0),!b){const E=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),I=new RegExp(`^ {0,${Math.min(3,l-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),L=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:\`\`\`|~~~)`),R=new RegExp(`^ {0,${Math.min(3,l-1)}}#`);for(;e&&(d=e.split(`
`,1)[0],f=d,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(L.test(f)||R.test(f)||E.test(f)||I.test(e)));){if(f.search(/[^ ]/)>=l||!f.trim())m+=`
`+f.slice(l);else{if(a||u.search(/[^ ]/)>=4||L.test(u)||R.test(u)||I.test(u))break;m+=`
`+f}!a&&!f.trim()&&(a=!0),n+=d+`
`,e=e.substring(d.length+1),u=f.slice(l)}}k.loose||(c?k.loose=!0:/\n *\n *$/.test(n)&&(c=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(m),i&&(s=i[0]!=="[ ] ",m=m.replace(/^\[[ xX]\] +/,""))),k.items.push({type:"list_item",raw:n,task:!!i,checked:s,loose:!1,text:m}),k.raw+=n}k.items[k.items.length-1].raw=n.trimRight(),k.items[k.items.length-1].text=m.trimRight(),k.raw=k.raw.trimRight();const $=k.items.length;for(o=0;o<$;o++)if(this.lexer.state.top=!1,k.items[o].tokens=this.lexer.blockTokens(k.items[o].text,[]),!k.loose){const E=k.items[o].tokens.filter(L=>L.type==="space"),I=E.length>0&&E.some(L=>/\n.*\n/.test(L.raw));k.loose=I}if(k.loose)for(o=0;o<$;o++)k.items[o].loose=!0;return k}}html(e){const t=this.rules.block.html.exec(e);if(t){const n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(t[0]):_t(t[0]);n.type="paragraph",n.text=i,n.tokens=this.lexer.inline(i)}return n}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:i,title:s}}}table(e){const t=this.rules.block.table.exec(e);if(t){const n={type:"table",header:Yc(t[1]).map(i=>({text:i})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let i=n.align.length,s,l,o,a;for(s=0;s<i;s++)/^ *-+: *$/.test(n.align[s])?n.align[s]="right":/^ *:-+: *$/.test(n.align[s])?n.align[s]="center":/^ *:-+ *$/.test(n.align[s])?n.align[s]="left":n.align[s]=null;for(i=n.rows.length,s=0;s<i;s++)n.rows[s]=Yc(n.rows[s],n.header.length).map(c=>({text:c}));for(i=n.header.length,l=0;l<i;l++)n.header[l].tokens=this.lexer.inline(n.header[l].text);for(i=n.rows.length,l=0;l<i;l++)for(a=n.rows[l],o=0;o<a.length;o++)a[o].tokens=this.lexer.inline(a[o].text);return n}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:_t(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):_t(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const l=Cr(n.slice(0,-1),"\\");if((n.length-l.length)%2===0)return}else{const l=VS(t[2],"()");if(l>-1){const a=(t[0].indexOf("!")===0?5:4)+t[1].length+l;t[2]=t[2].substring(0,l),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let i=t[2],s="";if(this.options.pedantic){const l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);l&&(i=l[1],s=l[3])}else s=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),Zc(t,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let i=(n[2]||n[1]).replace(/\s+/g," ");if(i=t[i.toLowerCase()],!i){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return Zc(n,i,n[0],this.lexer)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;const s=i[1]||i[2]||"";if(!s||s&&(n===""||this.rules.inline.punctuation.exec(n))){const l=i[0].length-1;let o,a,c=l,u=0;const f=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(f.lastIndex=0,t=t.slice(-1*e.length+l);(i=f.exec(t))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(a=o.length,i[3]||i[4]){c+=a;continue}else if((i[5]||i[6])&&l%3&&!((l+a)%3)){u+=a;continue}if(c-=a,c>0)continue;a=Math.min(a,a+c+u);const d=e.slice(0,l+i.index+(i[0].length-o.length)+a);if(Math.min(l,a)%2){const b=d.slice(1,-1);return{type:"em",raw:d,text:b,tokens:this.lexer.inlineTokens(b)}}const m=d.slice(2,-2);return{type:"strong",raw:d,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const i=/[^ ]/.test(n),s=/^ /.test(n)&&/ $/.test(n);return i&&s&&(n=n.substring(1,n.length-1)),n=_t(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let i,s;return n[2]==="@"?(i=_t(this.options.mangle?t(n[1]):n[1]),s="mailto:"+i):(i=_t(n[1]),s=i),{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let i,s;if(n[2]==="@")i=_t(this.options.mangle?t(n[0]):n[0]),s="mailto:"+i;else{let l;do l=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(l!==n[0]);i=_t(n[0]),n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):_t(n[0]):n[0]:i=_t(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:i}}}}const Te={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Nr,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Te._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Te._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Te.def=qe(Te.def).replace("label",Te._label).replace("title",Te._title).getRegex();Te.bullet=/(?:[*+-]|\d{1,9}[.)])/;Te.listItemStart=qe(/^( *)(bull) */).replace("bull",Te.bullet).getRegex();Te.list=qe(Te.list).replace(/bull/g,Te.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Te.def.source+")").getRegex();Te._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Te._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Te.html=qe(Te.html,"i").replace("comment",Te._comment).replace("tag",Te._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Te.paragraph=qe(Te._paragraph).replace("hr",Te.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Te._tag).getRegex();Te.blockquote=qe(Te.blockquote).replace("paragraph",Te.paragraph).getRegex();Te.normal={...Te};Te.gfm={...Te.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};Te.gfm.table=qe(Te.gfm.table).replace("hr",Te.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Te._tag).getRegex();Te.gfm.paragraph=qe(Te._paragraph).replace("hr",Te.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Te.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Te._tag).getRegex();Te.pedantic={...Te.normal,html:qe(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Te._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Nr,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:qe(Te.normal._paragraph).replace("hr",Te.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Te.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const be={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Nr,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Nr,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};be._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";be.punctuation=qe(be.punctuation).replace(/punctuation/g,be._punctuation).getRegex();be.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;be.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;be._comment=qe(Te._comment).replace("(?:-->|$)","-->").getRegex();be.emStrong.lDelim=qe(be.emStrong.lDelim).replace(/punct/g,be._punctuation).getRegex();be.emStrong.rDelimAst=qe(be.emStrong.rDelimAst,"g").replace(/punct/g,be._punctuation).getRegex();be.emStrong.rDelimUnd=qe(be.emStrong.rDelimUnd,"g").replace(/punct/g,be._punctuation).getRegex();be._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;be._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;be._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;be.autolink=qe(be.autolink).replace("scheme",be._scheme).replace("email",be._email).getRegex();be._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;be.tag=qe(be.tag).replace("comment",be._comment).replace("attribute",be._attribute).getRegex();be._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;be._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;be._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;be.link=qe(be.link).replace("label",be._label).replace("href",be._href).replace("title",be._title).getRegex();be.reflink=qe(be.reflink).replace("label",be._label).replace("ref",Te._label).getRegex();be.nolink=qe(be.nolink).replace("ref",Te._label).getRegex();be.reflinkSearch=qe(be.reflinkSearch,"g").replace("reflink",be.reflink).replace("nolink",be.nolink).getRegex();be.normal={...be};be.pedantic={...be.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:qe(/^!?\[(label)\]\((.*?)\)/).replace("label",be._label).getRegex(),reflink:qe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",be._label).getRegex()};be.gfm={...be.normal,escape:qe(be.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};be.gfm.url=qe(be.gfm.url,"i").replace("email",be.gfm._extended_email).getRegex();be.breaks={...be.gfm,br:qe(be.br).replace("{2,}","*").getRegex(),text:qe(be.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function JS(r){return r.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Xc(r){let e="",t,n;const i=r.length;for(t=0;t<i;t++)n=r.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}class bn{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ei,this.options.tokenizer=this.options.tokenizer||new Fl,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Te.normal,inline:be.normal};this.options.pedantic?(t.block=Te.pedantic,t.inline=be.pedantic):this.options.gfm&&(t.block=Te.gfm,this.options.breaks?t.inline=be.breaks:t.inline=be.gfm),this.tokenizer.rules=t}static get rules(){return{block:Te,inline:be}}static lex(e,t){return new bn(t).lex(e)}static lexInline(e,t){return new bn(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(o,a,c)=>a+"    ".repeat(c.length));let n,i,s,l;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(n=o.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const a=e.slice(1);let c;this.options.extensions.startBlock.forEach(function(u){c=u.call({lexer:this},a),typeof c=="number"&&c>=0&&(o=Math.min(o,c))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(n=this.tokenizer.paragraph(s))){i=t[t.length-1],l&&i.type==="paragraph"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n),l=s.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&i.type==="text"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,i,s,l=e,o,a,c;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)u.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+Jc("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,o.index)+"["+Jc("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.escapedEmSt.exec(l))!=null;)l=l.slice(0,o.index+o[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(a||(c=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(n=u.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),i=t[t.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,l,c)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e,Xc)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,Xc))){e=e.substring(n.raw.length),t.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const f=e.slice(1);let d;this.options.extensions.startInline.forEach(function(m){d=m.call({lexer:this},f),typeof d=="number"&&d>=0&&(u=Math.min(u,d))}),u<1/0&&u>=0&&(s=e.substring(0,u+1))}if(n=this.tokenizer.inlineText(s,JS)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(c=n.raw.slice(-1)),a=!0,i=t[t.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}}class Pl{constructor(e){this.options=e||ei}code(e,t,n){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(e,i);s!=null&&s!==e&&(n=!0,e=s)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+_t(i)+'">'+(n?e:_t(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:_t(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,n,i){if(this.options.headerIds){const s=this.options.headerPrefix+i.slug(n);return`<h${t} id="${s}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){const i=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(e=qc(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>",i}image(e,t,n){if(e=qc(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class fm{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class Ul{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do i++,n=e+"-"+i;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class Ln{constructor(e){this.options=e||ei,this.options.renderer=this.options.renderer||new Pl,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new fm,this.slugger=new Ul}static parse(e,t){return new Ln(t).parse(e)}static parseInline(e,t){return new Ln(t).parseInline(e)}parse(e,t=!0){let n="",i,s,l,o,a,c,u,f,d,m,b,A,_,k,v,$,E,I,L;const R=e.length;for(i=0;i<R;i++){if(m=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[m.type]&&(L=this.options.extensions.renderers[m.type].call({parser:this},m),L!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(m.type))){n+=L||"";continue}switch(m.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(m.tokens),m.depth,um(this.parseInline(m.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(m.text,m.lang,m.escaped);continue}case"table":{for(f="",u="",o=m.header.length,s=0;s<o;s++)u+=this.renderer.tablecell(this.parseInline(m.header[s].tokens),{header:!0,align:m.align[s]});for(f+=this.renderer.tablerow(u),d="",o=m.rows.length,s=0;s<o;s++){for(c=m.rows[s],u="",a=c.length,l=0;l<a;l++)u+=this.renderer.tablecell(this.parseInline(c[l].tokens),{header:!1,align:m.align[l]});d+=this.renderer.tablerow(u)}n+=this.renderer.table(f,d);continue}case"blockquote":{d=this.parse(m.tokens),n+=this.renderer.blockquote(d);continue}case"list":{for(b=m.ordered,A=m.start,_=m.loose,o=m.items.length,d="",s=0;s<o;s++)v=m.items[s],$=v.checked,E=v.task,k="",v.task&&(I=this.renderer.checkbox($),_?v.tokens.length>0&&v.tokens[0].type==="paragraph"?(v.tokens[0].text=I+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&v.tokens[0].tokens[0].type==="text"&&(v.tokens[0].tokens[0].text=I+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:I}):k+=I),k+=this.parse(v.tokens,_),d+=this.renderer.listitem(k,E,$);n+=this.renderer.list(d,b,A);continue}case"html":{n+=this.renderer.html(m.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(m.tokens));continue}case"text":{for(d=m.tokens?this.parseInline(m.tokens):m.text;i+1<R&&e[i+1].type==="text";)m=e[++i],d+=`
`+(m.tokens?this.parseInline(m.tokens):m.text);n+=t?this.renderer.paragraph(d):d;continue}default:{const H='Token with "'+m.type+'" type was not found.';if(this.options.silent){console.error(H);return}else throw new Error(H)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",i,s,l;const o=e.length;for(i=0;i<o;i++){if(s=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(l=this.options.extensions.renderers[s.type].call({parser:this},s),l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){n+=l||"";continue}switch(s.type){case"escape":{n+=t.text(s.text);break}case"html":{n+=t.html(s.text);break}case"link":{n+=t.link(s.href,s.title,this.parseInline(s.tokens,t));break}case"image":{n+=t.image(s.href,s.title,s.text);break}case"strong":{n+=t.strong(this.parseInline(s.tokens,t));break}case"em":{n+=t.em(this.parseInline(s.tokens,t));break}case"codespan":{n+=t.codespan(s.text);break}case"br":{n+=t.br();break}case"del":{n+=t.del(this.parseInline(s.tokens,t));break}case"text":{n+=t.text(s.text);break}default:{const a='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(a);return}else throw new Error(a)}}}return n}}class zr{constructor(e){this.options=e||ei}preprocess(e){return e}postprocess(e){return e}}he(zr,"passThroughHooks",new Set(["preprocess","postprocess"]));function ZS(r,e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,r){const i="<p>An error occurred:</p><pre>"+_t(n.message+"",!0)+"</pre>";if(e)return Promise.resolve(i);if(t){t(null,i);return}return i}if(e)return Promise.reject(n);if(t){t(n);return}throw n}}function dm(r,e){return(t,n,i)=>{typeof n=="function"&&(i=n,n=null);const s={...n};n={...Oe.defaults,...s};const l=ZS(n.silent,n.async,i);if(typeof t>"u"||t===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(qS(n),n.hooks&&(n.hooks.options=n),i){const o=n.highlight;let a;try{n.hooks&&(t=n.hooks.preprocess(t)),a=r(t,n)}catch(f){return l(f)}const c=function(f){let d;if(!f)try{n.walkTokens&&Oe.walkTokens(a,n.walkTokens),d=e(a,n),n.hooks&&(d=n.hooks.postprocess(d))}catch(m){f=m}return n.highlight=o,f?l(f):i(null,d)};if(!o||o.length<3||(delete n.highlight,!a.length))return c();let u=0;Oe.walkTokens(a,function(f){f.type==="code"&&(u++,setTimeout(()=>{o(f.text,f.lang,function(d,m){if(d)return c(d);m!=null&&m!==f.text&&(f.text=m,f.escaped=!0),u--,u===0&&c()})},0))}),u===0&&c();return}if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(t):t).then(o=>r(o,n)).then(o=>n.walkTokens?Promise.all(Oe.walkTokens(o,n.walkTokens)).then(()=>o):o).then(o=>e(o,n)).then(o=>n.hooks?n.hooks.postprocess(o):o).catch(l);try{n.hooks&&(t=n.hooks.preprocess(t));const o=r(t,n);n.walkTokens&&Oe.walkTokens(o,n.walkTokens);let a=e(o,n);return n.hooks&&(a=n.hooks.postprocess(a)),a}catch(o){return l(o)}}}function Oe(r,e,t){return dm(bn.lex,Ln.parse)(r,e,t)}Oe.options=Oe.setOptions=function(r){return Oe.defaults={...Oe.defaults,...r},MS(Oe.defaults),Oe};Oe.getDefaults=om;Oe.defaults=ei;Oe.use=function(...r){const e=Oe.defaults.extensions||{renderers:{},childTokens:{}};r.forEach(t=>{const n={...t};if(n.async=Oe.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const s=e.renderers[i.name];s?e.renderers[i.name]=function(...l){let o=i.renderer.apply(this,l);return o===!1&&(o=s.apply(this,l)),o}:e.renderers[i.name]=i.renderer}if(i.tokenizer){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),n.extensions=e),t.renderer){const i=Oe.defaults.renderer||new Pl;for(const s in t.renderer){const l=i[s];i[s]=(...o)=>{let a=t.renderer[s].apply(i,o);return a===!1&&(a=l.apply(i,o)),a}}n.renderer=i}if(t.tokenizer){const i=Oe.defaults.tokenizer||new Fl;for(const s in t.tokenizer){const l=i[s];i[s]=(...o)=>{let a=t.tokenizer[s].apply(i,o);return a===!1&&(a=l.apply(i,o)),a}}n.tokenizer=i}if(t.hooks){const i=Oe.defaults.hooks||new zr;for(const s in t.hooks){const l=i[s];zr.passThroughHooks.has(s)?i[s]=o=>{if(Oe.defaults.async)return Promise.resolve(t.hooks[s].call(i,o)).then(c=>l.call(i,c));const a=t.hooks[s].call(i,o);return l.call(i,a)}:i[s]=(...o)=>{let a=t.hooks[s].apply(i,o);return a===!1&&(a=l.apply(i,o)),a}}n.hooks=i}if(t.walkTokens){const i=Oe.defaults.walkTokens;n.walkTokens=function(s){let l=[];return l.push(t.walkTokens.call(this,s)),i&&(l=l.concat(i.call(this,s))),l}}Oe.setOptions(n)})};Oe.walkTokens=function(r,e){let t=[];for(const n of r)switch(t=t.concat(e.call(Oe,n)),n.type){case"table":{for(const i of n.header)t=t.concat(Oe.walkTokens(i.tokens,e));for(const i of n.rows)for(const s of i)t=t.concat(Oe.walkTokens(s.tokens,e));break}case"list":{t=t.concat(Oe.walkTokens(n.items,e));break}default:Oe.defaults.extensions&&Oe.defaults.extensions.childTokens&&Oe.defaults.extensions.childTokens[n.type]?Oe.defaults.extensions.childTokens[n.type].forEach(function(i){t=t.concat(Oe.walkTokens(n[i],e))}):n.tokens&&(t=t.concat(Oe.walkTokens(n.tokens,e)))}return t};Oe.parseInline=dm(bn.lexInline,Ln.parseInline);Oe.Parser=Ln;Oe.parser=Ln.parse;Oe.Renderer=Pl;Oe.TextRenderer=fm;Oe.Lexer=bn;Oe.lexer=bn.lex;Oe.Tokenizer=Fl;Oe.Slugger=Ul;Oe.Hooks=zr;Oe.parse=Oe;Oe.options;Oe.setOptions;Oe.use;Oe.walkTokens;Oe.parseInline;Ln.parse;bn.lex;const pm={};function XS(r){let e;return{c(){e=F(r[1])},m(t,n){S(t,e,n)},p(t,n){n&2&&W(e,t[1])},i:O,o:O,d(t){t&&y(e)}}}function xS(r){let e,t;const n=r[5].default,i=ze(n,r,r[4],null);return{c(){e=g("h6"),i&&i.c(),h(e,"id",r[2])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&16)&&He(i,n,s,s[4],t?je(n,s[4],l,null):Qe(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function e$(r){let e,t;const n=r[5].default,i=ze(n,r,r[4],null);return{c(){e=g("h5"),i&&i.c(),h(e,"id",r[2])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&16)&&He(i,n,s,s[4],t?je(n,s[4],l,null):Qe(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function t$(r){let e,t;const n=r[5].default,i=ze(n,r,r[4],null);return{c(){e=g("h4"),i&&i.c(),h(e,"id",r[2])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&16)&&He(i,n,s,s[4],t?je(n,s[4],l,null):Qe(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function n$(r){let e,t;const n=r[5].default,i=ze(n,r,r[4],null);return{c(){e=g("h3"),i&&i.c(),h(e,"id",r[2])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&16)&&He(i,n,s,s[4],t?je(n,s[4],l,null):Qe(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function i$(r){let e,t;const n=r[5].default,i=ze(n,r,r[4],null);return{c(){e=g("h2"),i&&i.c(),h(e,"id",r[2])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&16)&&He(i,n,s,s[4],t?je(n,s[4],l,null):Qe(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function r$(r){let e,t;const n=r[5].default,i=ze(n,r,r[4],null);return{c(){e=g("h1"),i&&i.c(),h(e,"id",r[2])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&16)&&He(i,n,s,s[4],t?je(n,s[4],l,null):Qe(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function s$(r){let e,t,n,i;const s=[r$,i$,n$,t$,e$,xS,XS],l=[];function o(a,c){return a[0]===1?0:a[0]===2?1:a[0]===3?2:a[0]===4?3:a[0]===5?4:a[0]===6?5:6}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=ae()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(q(),C(l[u],1,1,()=>{l[u]=null}),Y(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function l$(r,e,t){let n,{$$slots:i={},$$scope:s}=e,{depth:l}=e,{raw:o}=e,{text:a}=e;const{slug:c,getOptions:u}=bh(pm),f=u();return r.$$set=d=>{"depth"in d&&t(0,l=d.depth),"raw"in d&&t(1,o=d.raw),"text"in d&&t(3,a=d.text),"$$scope"in d&&t(4,s=d.$$scope)},r.$$.update=()=>{r.$$.dirty&8&&t(2,n=f.headerIds?f.headerPrefix+c(a):void 0)},[l,o,n,a,s,i]}class o$ extends j{constructor(e){super(),z(this,e,l$,s$,N,{depth:0,raw:1,text:3})}}function a$(r){let e,t;const n=r[1].default,i=ze(n,r,r[0],null);return{c(){e=g("p"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&He(i,n,s,s[0],t?je(n,s[0],l,null):Qe(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function c$(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class u$ extends j{constructor(e){super(),z(this,e,c$,a$,N,{})}}function f$(r){let e;const t=r[3].default,n=ze(t,r,r[2],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,[s]){n&&n.p&&(!e||s&4)&&He(n,t,i,i[2],e?je(t,i[2],s,null):Qe(i[2]),null)},i(i){e||(w(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function d$(r,e,t){let{$$slots:n={},$$scope:i}=e,{text:s}=e,{raw:l}=e;return r.$$set=o=>{"text"in o&&t(0,s=o.text),"raw"in o&&t(1,l=o.raw),"$$scope"in o&&t(2,i=o.$$scope)},[s,l,i,n]}class p$ extends j{constructor(e){super(),z(this,e,d$,f$,N,{text:0,raw:1})}}function m$(r){let e,t;return{c(){e=g("img"),de(e.src,t=r[0])||h(e,"src",t),h(e,"title",r[1]),h(e,"alt",r[2])},m(n,i){S(n,e,i)},p(n,[i]){i&1&&!de(e.src,t=n[0])&&h(e,"src",t),i&2&&h(e,"title",n[1]),i&4&&h(e,"alt",n[2])},i:O,o:O,d(n){n&&y(e)}}}function h$(r,e,t){let{href:n=""}=e,{title:i=void 0}=e,{text:s=""}=e;return r.$$set=l=>{"href"in l&&t(0,n=l.href),"title"in l&&t(1,i=l.title),"text"in l&&t(2,s=l.text)},[n,i,s]}let g$=class extends j{constructor(e){super(),z(this,e,h$,m$,N,{href:0,title:1,text:2})}};function A$(r){let e,t;const n=r[3].default,i=ze(n,r,r[2],null);return{c(){e=g("a"),i&&i.c(),h(e,"href",r[0]),h(e,"title",r[1])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&4)&&He(i,n,s,s[2],t?je(n,s[2],l,null):Qe(s[2]),null),(!t||l&1)&&h(e,"href",s[0]),(!t||l&2)&&h(e,"title",s[1])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function b$(r,e,t){let{$$slots:n={},$$scope:i}=e,{href:s=""}=e,{title:l=void 0}=e;return r.$$set=o=>{"href"in o&&t(0,s=o.href),"title"in o&&t(1,l=o.title),"$$scope"in o&&t(2,i=o.$$scope)},[s,l,i,n]}class _$ extends j{constructor(e){super(),z(this,e,b$,A$,N,{href:0,title:1})}}function w$(r){let e,t;const n=r[1].default,i=ze(n,r,r[0],null);return{c(){e=g("em"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&He(i,n,s,s[0],t?je(n,s[0],l,null):Qe(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function v$(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class k$ extends j{constructor(e){super(),z(this,e,v$,w$,N,{})}}function y$(r){let e,t;const n=r[1].default,i=ze(n,r,r[0],null);return{c(){e=g("del"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&He(i,n,s,s[0],t?je(n,s[0],l,null):Qe(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function S$(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class $$ extends j{constructor(e){super(),z(this,e,S$,y$,N,{})}}function C$(r){let e,t=r[0].replace(/`/g,"")+"",n;return{c(){e=g("code"),n=F(t)},m(i,s){S(i,e,s),p(e,n)},p(i,[s]){s&1&&t!==(t=i[0].replace(/`/g,"")+"")&&W(n,t)},i:O,o:O,d(i){i&&y(e)}}}function T$(r,e,t){let{raw:n}=e;return r.$$set=i=>{"raw"in i&&t(0,n=i.raw)},[n]}class E$ extends j{constructor(e){super(),z(this,e,T$,C$,N,{raw:0})}}function I$(r){let e,t;const n=r[1].default,i=ze(n,r,r[0],null);return{c(){e=g("strong"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&He(i,n,s,s[0],t?je(n,s[0],l,null):Qe(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function O$(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class R$ extends j{constructor(e){super(),z(this,e,O$,I$,N,{})}}function L$(r){let e,t;const n=r[1].default,i=ze(n,r,r[0],null);return{c(){e=g("table"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&He(i,n,s,s[0],t?je(n,s[0],l,null):Qe(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function D$(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class B$ extends j{constructor(e){super(),z(this,e,D$,L$,N,{})}}function M$(r){let e,t;const n=r[1].default,i=ze(n,r,r[0],null);return{c(){e=g("thead"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&He(i,n,s,s[0],t?je(n,s[0],l,null):Qe(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function F$(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class P$ extends j{constructor(e){super(),z(this,e,F$,M$,N,{})}}function U$(r){let e,t;const n=r[1].default,i=ze(n,r,r[0],null);return{c(){e=g("tbody"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&He(i,n,s,s[0],t?je(n,s[0],l,null):Qe(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function N$(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class z$ extends j{constructor(e){super(),z(this,e,N$,U$,N,{})}}function j$(r){let e,t;const n=r[1].default,i=ze(n,r,r[0],null);return{c(){e=g("tr"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&He(i,n,s,s[0],t?je(n,s[0],l,null):Qe(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function H$(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class Q$ extends j{constructor(e){super(),z(this,e,H$,j$,N,{})}}function W$(r){let e,t;const n=r[3].default,i=ze(n,r,r[2],null);return{c(){e=g("td"),i&&i.c(),h(e,"align",r[1])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&4)&&He(i,n,s,s[2],t?je(n,s[2],l,null):Qe(s[2]),null),(!t||l&2)&&h(e,"align",s[1])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function G$(r){let e,t;const n=r[3].default,i=ze(n,r,r[2],null);return{c(){e=g("th"),i&&i.c(),h(e,"align",r[1])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&4)&&He(i,n,s,s[2],t?je(n,s[2],l,null):Qe(s[2]),null),(!t||l&2)&&h(e,"align",s[1])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function K$(r){let e,t,n,i;const s=[G$,W$],l=[];function o(a,c){return a[0]?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=ae()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(q(),C(l[u],1,1,()=>{l[u]=null}),Y(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function V$(r,e,t){let{$$slots:n={},$$scope:i}=e,{header:s}=e,{align:l}=e;return r.$$set=o=>{"header"in o&&t(0,s=o.header),"align"in o&&t(1,l=o.align),"$$scope"in o&&t(2,i=o.$$scope)},[s,l,i,n]}class q$ extends j{constructor(e){super(),z(this,e,V$,K$,N,{header:0,align:1})}}function Y$(r){let e,t;const n=r[3].default,i=ze(n,r,r[2],null);return{c(){e=g("ul"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&4)&&He(i,n,s,s[2],t?je(n,s[2],l,null):Qe(s[2]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function J$(r){let e,t;const n=r[3].default,i=ze(n,r,r[2],null);return{c(){e=g("ol"),i&&i.c(),h(e,"start",r[1])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&4)&&He(i,n,s,s[2],t?je(n,s[2],l,null):Qe(s[2]),null),(!t||l&2)&&h(e,"start",s[1])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function Z$(r){let e,t,n,i;const s=[J$,Y$],l=[];function o(a,c){return a[0]?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=ae()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(q(),C(l[u],1,1,()=>{l[u]=null}),Y(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function X$(r,e,t){let{$$slots:n={},$$scope:i}=e,{ordered:s}=e,{start:l}=e;return r.$$set=o=>{"ordered"in o&&t(0,s=o.ordered),"start"in o&&t(1,l=o.start),"$$scope"in o&&t(2,i=o.$$scope)},[s,l,i,n]}class x$ extends j{constructor(e){super(),z(this,e,X$,Z$,N,{ordered:0,start:1})}}function e3(r){let e,t;const n=r[1].default,i=ze(n,r,r[0],null);return{c(){e=g("li"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&He(i,n,s,s[0],t?je(n,s[0],l,null):Qe(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function t3(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class n3 extends j{constructor(e){super(),z(this,e,t3,e3,N,{})}}function i3(r){let e;return{c(){e=g("hr")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}class r3 extends j{constructor(e){super(),z(this,e,null,i3,N,{})}}function s3(r){let e,t;return{c(){e=new Vd(!1),t=ae(),e.a=t},m(n,i){e.m(r[0],n,i),S(n,t,i)},p(n,[i]){i&1&&e.p(n[0])},i:O,o:O,d(n){n&&(y(t),e.d())}}}function l3(r,e,t){let{text:n}=e;return r.$$set=i=>{"text"in i&&t(0,n=i.text)},[n]}class o3 extends j{constructor(e){super(),z(this,e,l3,s3,N,{text:0})}}function a3(r){let e,t;const n=r[1].default,i=ze(n,r,r[0],null);return{c(){e=g("blockquote"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&He(i,n,s,s[0],t?je(n,s[0],l,null):Qe(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function c3(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class u3 extends j{constructor(e){super(),z(this,e,c3,a3,N,{})}}function f3(r){let e,t,n;return{c(){e=g("pre"),t=g("code"),n=F(r[1]),h(e,"class",r[0])},m(i,s){S(i,e,s),p(e,t),p(t,n)},p(i,[s]){s&2&&W(n,i[1]),s&1&&h(e,"class",i[0])},i:O,o:O,d(i){i&&y(e)}}}function d3(r,e,t){let{lang:n}=e,{text:i}=e;return r.$$set=s=>{"lang"in s&&t(0,n=s.lang),"text"in s&&t(1,i=s.text)},[n,i]}class p3 extends j{constructor(e){super(),z(this,e,d3,f3,N,{lang:0,text:1})}}function m3(r){let e,t;const n=r[1].default,i=ze(n,r,r[0],null);return{c(){e=g("br"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(s,l),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&He(i,n,s,s[0],t?je(n,s[0],l,null):Qe(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function h3(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class g3 extends j{constructor(e){super(),z(this,e,h3,m3,N,{})}}const A3={heading:o$,paragraph:u$,text:p$,image:g$,link:_$,em:k$,strong:R$,codespan:E$,del:$$,table:B$,tablehead:P$,tablebody:z$,tablerow:Q$,tablecell:q$,list:x$,orderedlistitem:null,unorderedlistitem:null,listitem:n3,hr:r3,html:o3,blockquote:u3,code:p3,br:g3},b3={baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1};function _3(r){let e,t;return e=new xn({props:{tokens:r[0],renderers:r[1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,[i]){const s={};i&1&&(s.tokens=n[0]),i&2&&(s.renderers=n[1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function w3(r,e,t){let n,i,s,l,{source:o=[]}=e,{renderers:a={}}=e,{options:c={}}=e,{isInline:u=!1}=e;const f=gh();let d,m,b;return Ah(pm,{slug:A=>i?i.slug(A):"",getOptions:()=>s}),ve(()=>{t(7,b=!0)}),r.$$set=A=>{"source"in A&&t(2,o=A.source),"renderers"in A&&t(3,a=A.renderers),"options"in A&&t(4,c=A.options),"isInline"in A&&t(5,u=A.isInline)},r.$$.update=()=>{r.$$.dirty&4&&t(8,n=Array.isArray(o)),r.$$.dirty&4&&(i=o?new Ul:void 0),r.$$.dirty&16&&t(9,s={...b3,...c}),r.$$.dirty&869&&(n?t(0,d=o):(t(6,m=new bn(s)),t(0,d=u?m.inlineTokens(o):m.lex(o)),f("parsed",{tokens:d}))),r.$$.dirty&8&&t(1,l={...A3,...a}),r.$$.dirty&385&&b&&!n&&f("parsed",{tokens:d})},[d,l,o,a,c,u,m,b,n,s]}class Nl extends j{constructor(e){super(),z(this,e,w3,_3,N,{source:2,renderers:3,options:4,isInline:5})}}function v3(r){let e;return{c(){e=g("div"),e.innerHTML=`<div class="content"><img src="${wn}" alt="Error"/> <h3>Render failed</h3> <p>The markdown content could not be parsed. The opened file may be empty.</p></div>`,h(e,"class","unreadable")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}class k3 extends j{constructor(e){super(),z(this,e,null,v3,N,{})}}function xc(r){let e,t,n,i;const s=[S3,y3],l=[];function o(a,c){return a[1]?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=ae()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,c){let u=e;e=o(a),e===u?l[e].p(a,c):(q(),C(l[u],1,1,()=>{l[u]=null}),Y(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function y3(r){let e,t;return e=new k3({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function S3(r){let e,t,n;return t=new Nl({props:{source:r[1]}}),{c(){e=g("div"),M(t.$$.fragment),h(e,"class","markdownrenderer")},m(i,s){S(i,e,s),D(t,e,null),n=!0},p(i,s){const l={};s&2&&(l.source=i[1]),t.$set(l)},i(i){n||(w(t.$$.fragment,i),n=!0)},o(i){C(t.$$.fragment,i),n=!1},d(i){i&&y(e),B(t)}}}function $3(r){let e,t,n=r[0]&&xc(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=xc(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function C3(r,e,t){let n;K(r,Nn,o=>t(3,n=o));let{app:i}=e,s="",l="";return ue.subscribe(()=>{if(Ue("TextEditor"),!i)return;const o=i.openedFile;!o||!o.mime.startsWith("text/")||(s=new TextDecoder().decode(o.data),t(1,l=i.openedFile?s:n))}),Nn.subscribe(()=>{Zp("MarkDownViewer"),Xi("","MarkDownViewer"),t(1,l=i.openedFile?s:n)}),r.$$set=o=>{"app"in o&&t(0,i=o.app)},[i,l]}let T3=class extends j{constructor(e){super(),z(this,e,C3,$3,N,{app:0})}};const E3={info:{name:"Markdown Viewer",description:"View .MD files",author:"ArcOS Team",version:"1.0.0",icon:Dl,builtin:!0,hidden:!0},size:{w:700,h:550},pos:{x:30,y:40},minSize:{w:400,h:300},maxSize:{w:1e3,h:800},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:T3,glass:!1,fileMimes:["text/plain","text/markdown"],events:{openFile(r){r.openedFile&&Xi(` - ${r.openedFile.path}`,r.id)}}},eu=""+new URL("mediaplayer-8f0c4cdf.svg",import.meta.url).href;function tu(r){let e,t,n=!1,i,s,l,o,a;function c(){cancelAnimationFrame(i),e.paused||(i=fh(c),n=!0),r[13].call(e)}let u=r[1]&&nu(r);return{c(){e=g("audio"),s=T(),u&&u.c(),l=ae(),de(e.src,t=r[5])||h(e,"src",t),e.controls=!0,e.autoplay=!0,r[3]===void 0&&En(()=>r[12].call(e))},m(f,d){S(f,e,d),r[11](e),S(f,s,d),u&&u.m(f,d),S(f,l,d),o||(a=[P(e,"durationchange",r[12]),P(e,"timeupdate",c),P(e,"timeupdate",r[9])],o=!0)},p(f,d){d&32&&!de(e.src,t=f[5])&&h(e,"src",t),!n&&d&16&&!isNaN(f[4])&&(e.currentTime=f[4]),n=!1,f[1]?u?u.p(f,d):(u=nu(f),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null)},d(f){f&&(y(e),y(s),y(l)),r[11](null),u&&u.d(f),o=!1,ke(a)}}}function nu(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k,v,$=Ar(r[4])+"",E,I,L=Ar(r[3])+"",R,H,Q,ee,J,Ae,ce,le,ie,X,re=r[0].openedFile.path+"",V,oe,fe,ye;return{c(){e=g("div"),t=g("div"),n=g("div"),i=g("button"),s=F("play_arrow"),o=T(),a=g("button"),c=F("pause"),u=T(),f=g("div"),d=g("button"),d.textContent="fast_rewind",m=T(),b=g("button"),b.textContent="fast_forward",A=T(),_=g("button"),_.textContent="stop",k=T(),v=g("div"),E=F($),I=F(" / "),R=F(L),H=T(),Q=g("div"),ee=g("div"),J=T(),Ae=g("div"),ce=g("img"),X=g("span"),V=F(re),h(i,"class","material-icons-round"),i.disabled=l=!r[6]&&r[2]<100,h(a,"class","material-icons-round"),a.disabled=r[6],h(n,"class","group"),h(d,"class","material-icons-round"),h(b,"class","material-icons-round"),h(f,"class","group"),h(_,"class","material-icons-round"),h(v,"class","right"),h(t,"class","controls"),h(ee,"class","inner"),Se(ee,"width",r[2]+"%"),h(Q,"class","bar"),de(ce.src,le=an(r[0].openedFile.name))||h(ce,"src",le),h(ce,"alt",ie=r[0].openedFile.name),h(Ae,"class","filename"),h(Ae,"title",oe=r[0].openedFile.path),h(e,"class","media-player")},m(_e,Ie){S(_e,e,Ie),p(e,t),p(t,n),p(n,i),p(i,s),p(n,o),p(n,a),p(a,c),p(t,u),p(t,f),p(f,d),p(f,m),p(f,b),p(t,A),p(t,_),p(t,k),p(t,v),p(v,E),p(v,I),p(v,R),p(e,H),p(e,Q),p(Q,ee),p(e,J),p(e,Ae),p(Ae,ce),p(Ae,X),p(X,V),fe||(ye=[P(i,"click",r[14]),P(a,"click",r[15]),P(d,"click",r[7]),P(b,"click",r[8]),P(_,"click",r[10])],fe=!0)},p(_e,Ie){Ie&68&&l!==(l=!_e[6]&&_e[2]<100)&&(i.disabled=l),Ie&64&&(a.disabled=_e[6]),Ie&16&&$!==($=Ar(_e[4])+"")&&W(E,$),Ie&8&&L!==(L=Ar(_e[3])+"")&&W(R,L),Ie&4&&Se(ee,"width",_e[2]+"%"),Ie&1&&!de(ce.src,le=an(_e[0].openedFile.name))&&h(ce,"src",le),Ie&1&&ie!==(ie=_e[0].openedFile.name)&&h(ce,"alt",ie),Ie&1&&re!==(re=_e[0].openedFile.path+"")&&W(V,re),Ie&1&&oe!==(oe=_e[0].openedFile.path)&&h(Ae,"title",oe)},d(_e){_e&&y(e),fe=!1,ke(ye)}}}function I3(r){let e,t=r[0].openedFile&&tu(r);return{c(){t&&t.c(),e=ae()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0].openedFile?t?t.p(n,i):(t=tu(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function Ar(r){const e=Math.floor(r/60),t=Math.floor(r%60);return`${e}:${t.toString().padStart(2,"0")}`}function O3(r,e,t){let n,{app:i}=e,s=0,l=0,o=0,a="",c="",u=!0;ue.subscribe(()=>{!i.openedFile||!n||c==i.openedFile.name||(c=i.openedFile.name,t(5,a=URL.createObjectURL(new Blob([i.openedFile.data],{type:i.openedFile.mime}))),jt(i.id)&&setTimeout(()=>{n.play()}))});function f(){t(1,n.currentTime-=10,n)}function d(){t(1,n.currentTime+=10,n)}function m(){t(2,s=n.currentTime/n.duration*100),t(6,u=n.paused)}function b(){t(1,n.currentTime=0,n),n.pause()}ve(()=>{i.events||t(0,i.events={},i),t(0,i.events.openFile=()=>{jt(i.id)&&(c=i.openedFile.name,t(5,a=URL.createObjectURL(new Blob([i.openedFile.data],{type:i.openedFile.mime}))),setTimeout(()=>{n.play()}))},i),Bl([{key:"space",action:()=>{n&&n.pause()}}])});function A(E){we[E?"unshift":"push"](()=>{n=E,t(1,n)})}function _(){l=this.duration,t(3,l)}function k(){o=this.currentTime,t(4,o)}const v=()=>n.play(),$=()=>n.pause();return r.$$set=E=>{"app"in E&&t(0,i=E.app)},[i,n,s,l,o,a,u,f,d,m,b,A,_,k,v,$]}class R3 extends j{constructor(e){super(),z(this,e,O3,I3,N,{app:0})}}const L3={info:{name:"Media Player",description:"Play audio files",builtin:!0,version:"2.0.0",author:"Izaak Kuipers",icon:eu,hidden:!0,appGroup:"entertainment"},size:{w:442,h:NaN},pos:{x:100,y:100},minSize:{w:442,h:NaN},maxSize:{w:442,h:NaN},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:R3,glass:!0,fileMimes:["audio/x-flac","audio/wave","audio/mpeg"],events:{open:r=>{if(!r.openedFile)return Fr("MediaPlayerApp"),At("MediaPlayerApp");Rl({onOpen(){Pe("MediaPlayerApp")},image:eu,identifier:"MediaPlayerApp"})},close(){Fr("MediaPlayerApp")}}},zl=""+new URL("messaging-9e309b2f.svg",import.meta.url).href;async function D3(r){const e=G(Ge);return e?!await xe(e,"messages/delete",{id:btoa(r)},G(rt)):!1}const xs=pe([]);function jl(r){const e=G(xs);e.push(r),xs.set(e)}function Dn(){const r=G(xs);for(let e=0;e<r.length;e++)r[e]()}const B3=[{icon:"add",name:"New Message",action(){Ai.set(null),On.set(!0)}}],iu=[{icon:"reply",name:"Reply",async action(r){Ai.set(r.id),On.set(!0)}},{icon:"save",name:"Save to ArcFS",async action(r){const e=new Blob([r.body],{type:"text/markdown"});await Vi("./Messages");const t=`Message from ${r.sender} - ${r.id}.md`,n=`./Messages/${t}`;await un(n,e),Pe("FileManager"),await tt.goToDirectory("./Messages"),setTimeout(()=>{Ve.set(t)})}},{icon:"delete",name:"Delete message for everyone",async action(r){Xe({title:"Delete message?",message:`Are you sure you want to delete this message from ${r.sender}? This cannot be undone.`,image:wn,buttons:[{caption:"Delete",action:async()=>{await D3(r.id),Dn(),mn.set(null)}},{caption:"Cancel",action:()=>{}}]},"MessagingApp")}}];async function M3(){const r=await wl();let e=[];for(let t=0;t<r.length;t++)r[t].sender==G(Fe)&&e.push(r[t]);return e}async function mm(){const r=await wl();let e=[];for(let t=0;t<r.length;t++)r[t].receiver==G(Fe)&&r[t].sender!=G(Fe)&&e.push(r[t]);return e}async function hm(){const r=await mm();let e=[];for(let t=0;t<r.length;t++)r[t].read||e.push(r[t]);return e}const Vn=pe(null);Vn.subscribe(()=>{setTimeout(Dn,100)});mn.subscribe(()=>{Dn(),On.set(!1)});const el={unread:{name:"Unread",icon:"mark_email_unread",msgGetter:hm},inbox:{name:"Inbox",icon:"inbox",msgGetter:mm},sent:{name:"Sent",icon:"send",msgGetter:M3}};function F3(r){let e,t=r[0].icon+"",n,i,s,l;return{c(){e=g("button"),n=F(t),h(e,"class","material-icons-round"),h(e,"title",i=r[0].name)},m(o,a){S(o,e,a),p(e,n),s||(l=P(e,"click",function(){at(r[0].action)&&r[0].action.apply(this,arguments)}),s=!0)},p(o,[a]){r=o,a&1&&t!==(t=r[0].icon+"")&&W(n,t),a&1&&i!==(i=r[0].name)&&h(e,"title",i)},i:O,o:O,d(o){o&&y(e),s=!1,l()}}}function P3(r,e,t){let{action:n}=e;return r.$$set=i=>{"action"in i&&t(0,n=i.action)},[n]}class U3 extends j{constructor(e){super(),z(this,e,P3,F3,N,{action:0})}}function N3(r){let e,t=r[0].icon+"",n,i,s,l;return{c(){e=g("button"),n=F(t),h(e,"class","material-icons-round"),h(e,"title",i=r[0].name),U(e,"active",r[1]&&r[0].name==r[1].name)},m(o,a){S(o,e,a),p(e,n),s||(l=P(e,"click",r[2]),s=!0)},p(o,[a]){a&1&&t!==(t=o[0].icon+"")&&W(n,t),a&1&&i!==(i=o[0].name)&&h(e,"title",i),a&3&&U(e,"active",o[1]&&o[0].name==o[1].name)},i:O,o:O,d(o){o&&y(e),s=!1,l()}}}function z3(r,e,t){let n;K(r,Vn,l=>t(1,n=l));let{data:i}=e;function s(){Ee(Vn,n=i,n)}return r.$$set=l=>{"data"in l&&t(0,i=l.data)},[i,n,s]}let j3=class extends j{constructor(e){super(),z(this,e,z3,N3,N,{data:0})}};function H3(r,e,t){const n=r.slice();return n[2]=e[t],n}function ru(r,e,t){const n=r.slice();return n[5]=e[t],n}function su(r){let e,t;return e=new j3({props:{data:r[5][1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Q3(r){let e,t;return e=new U3({props:{action:r[2]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function W3(r){let e,t,n,i,s,l,o,a,c,u=x(Object.entries(el)),f=[];for(let A=0;A<u.length;A+=1)f[A]=su(ru(r,u,A));const d=A=>C(f[A],1,1,()=>{f[A]=null});let m=x(B3),b=[];for(let A=0;A<m.length;A+=1)b[A]=Q3(H3(r,m,A));return a=new gt({props:{src:r[0],height:20}}),{c(){e=g("div"),t=g("div");for(let A=0;A<f.length;A+=1)f[A].c();n=T(),i=g("hr"),s=T(),l=g("div");for(let A=0;A<b.length;A+=1)b[A].c();o=T(),M(a.$$.fragment),h(t,"class","pages"),h(l,"class","actions"),h(e,"class","sidebar")},m(A,_){S(A,e,_),p(e,t);for(let k=0;k<f.length;k+=1)f[k]&&f[k].m(t,null);p(e,n),p(e,i),p(e,s),p(e,l);for(let k=0;k<b.length;k+=1)b[k]&&b[k].m(l,null);p(e,o),D(a,e,null),c=!0},p(A,[_]){if(_&0){u=x(Object.entries(el));let v;for(v=0;v<u.length;v+=1){const $=ru(A,u,v);f[v]?(f[v].p($,_),w(f[v],1)):(f[v]=su($),f[v].c(),w(f[v],1),f[v].m(t,null))}for(q(),v=u.length;v<f.length;v+=1)d(v);Y()}const k={};_&1&&(k.src=A[0]),a.$set(k)},i(A){if(!c){for(let _=0;_<u.length;_+=1)w(f[_]);for(let _=0;_<m.length;_+=1)w(b[_]);w(a.$$.fragment,A),c=!0}},o(A){f=f.filter(Boolean);for(let _=0;_<f.length;_+=1)C(f[_]);b=b.filter(Boolean);for(let _=0;_<b.length;_+=1)C(b[_]);C(a.$$.fragment,A),c=!1},d(A){A&&y(e),me(f,A),me(b,A),B(a)}}}function G3(r,e,t){let n;K(r,ne,s=>t(1,n=s));let i;return ne.subscribe(()=>{t(0,i=hn(n.acc.profilePicture))}),[i]}class K3 extends j{constructor(e){super(),z(this,e,G3,W3,N,{})}}const lu=["#","](","![","!",">","|","(",")"];function ou(r){let e=r;for(let t=0;t<lu.length;t++)e=e.split(lu[t]).join("");return e}function au(r){let e,t,n;return{c(){e=g("span"),t=F("reply"),h(e,"class","material-icons-round"),h(e,"title",n=r[0].replyingTo)},m(i,s){S(i,e,s),p(e,t)},p(i,s){s&1&&n!==(n=i[0].replyingTo)&&h(e,"title",n)},d(i){i&&y(e)}}}function V3(r){let e,t,n,i,s,l=(r[1]?r[0].receiver:r[0].sender)+"",o,a,c,u,f=(ou(r[0].partialBody)||"(no content)")+"",d,m,b,A=zt(r[0].timestamp).format("DD-MM HH:mm")+"",_,k,v,$;t=new gt({props:{src:r[2],height:26}});let E=r[0].replyingTo&&au(r);return{c(){e=g("button"),M(t.$$.fragment),n=T(),i=g("div"),s=g("p"),o=F(l),a=T(),E&&E.c(),c=T(),u=g("p"),d=F(f),m=T(),b=g("div"),_=F(A),h(s,"class","username"),h(u,"class","partial"),h(i,"class","content"),h(b,"class","timestamp"),h(e,"class","message"),U(e,"selected",r[3]==r[0].id)},m(I,L){S(I,e,L),D(t,e,null),p(e,n),p(e,i),p(i,s),p(s,o),p(s,a),E&&E.m(s,null),p(i,c),p(i,u),p(u,d),p(e,m),p(e,b),p(b,_),k=!0,v||($=P(e,"click",r[4]),v=!0)},p(I,[L]){const R={};L&4&&(R.src=I[2]),t.$set(R),(!k||L&3)&&l!==(l=(I[1]?I[0].receiver:I[0].sender)+"")&&W(o,l),I[0].replyingTo?E?E.p(I,L):(E=au(I),E.c(),E.m(s,null)):E&&(E.d(1),E=null),(!k||L&1)&&f!==(f=(ou(I[0].partialBody)||"(no content)")+"")&&W(d,f),(!k||L&1)&&A!==(A=zt(I[0].timestamp).format("DD-MM HH:mm")+"")&&W(_,A),(!k||L&9)&&U(e,"selected",I[3]==I[0].id)},i(I){k||(w(t.$$.fragment,I),k=!0)},o(I){C(t.$$.fragment,I),k=!1},d(I){I&&y(e),B(t),E&&E.d(),v=!1,$()}}}function q3(r,e,t){let n;K(r,mn,c=>t(3,n=c));let{item:i}=e,s=!1,l="";ve(a),jl(a);function o(){Ee(mn,n=i.id,n)}async function a(){t(2,l=await gn(s?i.receiver:i.sender))}return Vn.subscribe(c=>{t(1,s=c.name=="Sent")}),r.$$set=c=>{"item"in c&&t(0,i=c.item)},[i,s,l,n,o]}class Y3 extends j{constructor(e){super(),z(this,e,q3,V3,N,{item:0})}}function cu(r,e,t){const n=r.slice();return n[5]=e[t],n}function uu(r){let e,t,n=r[2].name+"",i,s,l,o,a,c,u,f,d,m,b=x(r[0]),A=[];for(let v=0;v<b.length;v+=1)A[v]=fu(cu(r,b,v));const _=v=>C(A[v],1,1,()=>{A[v]=null});let k=!r[0].length&&du(r);return{c(){e=g("div"),t=g("p"),i=F(n),s=T(),l=g("button"),o=F("sync"),a=T(),c=g("div");for(let v=0;v<A.length;v+=1)A[v].c();u=T(),k&&k.c(),h(t,"class","title"),h(l,"class","material-icons-round refresh"),l.disabled=r[1],h(e,"class","header"),h(c,"class","list")},m(v,$){S(v,e,$),p(e,t),p(t,i),p(e,s),p(e,l),p(l,o),S(v,a,$),S(v,c,$);for(let E=0;E<A.length;E+=1)A[E]&&A[E].m(c,null);p(c,u),k&&k.m(c,null),f=!0,d||(m=P(l,"click",r[3]),d=!0)},p(v,$){if((!f||$&4)&&n!==(n=v[2].name+"")&&W(i,n),(!f||$&2)&&(l.disabled=v[1]),$&1){b=x(v[0]);let E;for(E=0;E<b.length;E+=1){const I=cu(v,b,E);A[E]?(A[E].p(I,$),w(A[E],1)):(A[E]=fu(I),A[E].c(),w(A[E],1),A[E].m(c,u))}for(q(),E=b.length;E<A.length;E+=1)_(E);Y()}v[0].length?k&&(k.d(1),k=null):k?k.p(v,$):(k=du(v),k.c(),k.m(c,null))},i(v){if(!f){for(let $=0;$<b.length;$+=1)w(A[$]);f=!0}},o(v){A=A.filter(Boolean);for(let $=0;$<A.length;$+=1)C(A[$]);f=!1},d(v){v&&(y(e),y(a),y(c)),me(A,v),k&&k.d(),d=!1,m()}}}function fu(r){let e,t;return e=new Y3({props:{item:r[5]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.item=n[5]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function du(r){let e,t=r[1]?"Loading...":"No messages!",n;return{c(){e=g("div"),n=F(t),h(e,"class","noitems")},m(i,s){S(i,e,s),p(e,n)},p(i,s){s&2&&t!==(t=i[1]?"Loading...":"No messages!")&&W(n,t)},d(i){i&&y(e)}}}function J3(r){let e,t,n=r[2]&&uu(r);return{c(){e=g("div"),n&&n.c(),h(e,"class","listbar")},m(i,s){S(i,e,s),n&&n.m(e,null),t=!0},p(i,[s]){i[2]?n?(n.p(i,s),s&4&&w(n,1)):(n=uu(i),n.c(),w(n,1),n.m(e,null)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d()}}}function Z3(r){return r.sort(function(e,t){return new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()})}function X3(r,e){if(r.length!=e.length)return!1;for(let t=0;t<e.length;t++){let n=!1;for(let i=0;i<r.length;i++)r[i].id==e[t].id&&(n=!0);if(!n)return!1}return!0}function x3(r,e,t){let n;K(r,Vn,a=>t(2,n=a));let i=[],s=!1;ve(()=>{Dn()}),jl(l);async function l(){if(t(1,s=!0),Mt.set(!0),!n)return;const a=await n.msgGetter();X3(i,a)||o(Z3(a)),t(1,s=!1),Mt.set(!1)}function o(a){t(0,i=[]),setTimeout(()=>{t(0,i=a)})}return[i,s,n,l]}class eC extends j{constructor(e){super(),z(this,e,x3,J3,N,{})}}async function tC(r,e){const t=G(Ge);return t?(await xe(t,"messages/send",{target:btoa(r)},G(rt),null,e)).data.id:!1}async function nC(r,e,t){const n=G(Ge);return n?!await xe(n,"messages/reply",{target:btoa(e),id:r},G(rt),null,t):!1}function iC(r){let e,t,n,i;return{c(){e=g("button"),t=F("Delete"),e.disabled=r[0]},m(s,l){S(s,e,l),p(e,t),n||(i=P(e,"click",r[1]),n=!0)},p(s,[l]){l&1&&(e.disabled=s[0])},i:O,o:O,d(s){s&&y(e),n=!1,i()}}}function rC(r,e,t){let{loading:n}=e;function i(){t(0,n=!0),Xe({title:"Delete message?",message:"Are you sure you want to delete this draft? This cannot be undone.",image:wn,buttons:[{caption:"Delete",action:()=>{On.set(!1),Dn(),t(0,n=!1)}},{caption:"Cancel",action:()=>{t(0,n=!1)}}]},"MessagingApp")}return r.$$set=s=>{"loading"in s&&t(0,n=s.loading)},[n,i]}class sC extends j{constructor(e){super(),z(this,e,rC,iC,N,{loading:0})}}function pu(r){let e,t=2e3-r[1].length+"",n;return{c(){e=g("div"),n=F(t),h(e,"class","counter"),U(e,"critical",r[1].length>1980)},m(i,s){S(i,e,s),p(e,n)},p(i,s){s&2&&t!==(t=2e3-i[1].length+"")&&W(n,t),s&2&&U(e,"critical",i[1].length>1980)},d(i){i&&y(e)}}}function lC(r){let e,t,n,i,s,l,o,a,c,u,f,d,m=r[3]?"Loading...":r[4]?"Reply":"Send",b,A,_,k,v,$=r[1].length>1950&&pu(r);function E(L){r[8](L)}let I={};return r[3]!==void 0&&(I.loading=r[3]),c=new sC({props:I}),we.push(()=>Ce(c,"loading",E)),{c(){e=g("div"),t=g("div"),n=g("button"),n.textContent="remove_red_eye",i=T(),s=g("button"),s.textContent="edit",l=T(),$&&$.c(),o=T(),a=g("div"),M(c.$$.fragment),f=T(),d=g("button"),b=F(m),h(n,"class","material-icons-round"),U(n,"selected",r[0]),h(s,"class","material-icons-round"),U(s,"selected",!r[0]),h(t,"class","view-group"),d.disabled=A=!r[1]||!r[2]||r[3],h(a,"class","right"),h(e,"class","editor-send")},m(L,R){S(L,e,R),p(e,t),p(t,n),p(t,i),p(t,s),p(e,l),$&&$.m(e,null),p(e,o),p(e,a),D(c,a,null),p(a,f),p(a,d),p(d,b),_=!0,k||(v=[P(n,"click",r[7]),P(s,"click",r[6]),P(d,"click",r[5])],k=!0)},p(L,[R]){(!_||R&1)&&U(n,"selected",L[0]),(!_||R&1)&&U(s,"selected",!L[0]),L[1].length>1950?$?$.p(L,R):($=pu(L),$.c(),$.m(e,o)):$&&($.d(1),$=null);const H={};!u&&R&8&&(u=!0,H.loading=L[3],$e(()=>u=!1)),c.$set(H),(!_||R&24)&&m!==(m=L[3]?"Loading...":L[4]?"Reply":"Send")&&W(b,m),(!_||R&14&&A!==(A=!L[1]||!L[2]||L[3]))&&(d.disabled=A)},i(L){_||(w(c.$$.fragment,L),_=!0)},o(L){C(c.$$.fragment,L),_=!1},d(L){L&&y(e),$&&$.d(),B(c),k=!1,ke(v)}}}function oC(r,e,t){let n;K(r,Ai,d=>t(4,n=d));let{content:i}=e,{target:s}=e,{viewing:l}=e,o=!1;async function a(){if(Mt.set(!0),t(3,o=!0),n)await nC(n,s,i);else{const d=await tC(s,i);setTimeout(()=>{mn.set(d)},50)}On.set(!1),Dn(),t(3,o=!1),Mt.set(!1)}function c(){t(0,l=!1)}function u(){t(0,l=!0)}function f(d){o=d,t(3,o)}return r.$$set=d=>{"content"in d&&t(1,i=d.content),"target"in d&&t(2,s=d.target),"viewing"in d&&t(0,l=d.viewing)},[l,i,s,o,n,a,c,u,f]}class aC extends j{constructor(e){super(),z(this,e,oC,lC,N,{content:1,target:2,viewing:0})}}function cC(r){let e,t,n,i,s=(r[0][0]||"<unknown>")+"",l,o,a,c;return t=new gt({props:{src:r[1]||Qt,height:24}}),{c(){e=g("button"),M(t.$$.fragment),n=T(),i=g("p"),l=F(s),h(e,"class","user")},m(u,f){S(u,e,f),D(t,e,null),p(e,n),p(e,i),p(i,l),o=!0,a||(c=P(e,"click",r[2]),a=!0)},p(u,[f]){const d={};f&2&&(d.src=u[1]||Qt),t.$set(d),(!o||f&1)&&s!==(s=(u[0][0]||"<unknown>")+"")&&W(l,s)},i(u){o||(w(t.$$.fragment,u),o=!0)},o(u){C(t.$$.fragment,u),o=!1},d(u){u&&y(e),B(t),a=!1,c()}}}function uC(r,e,t){let{selecting:n}=e,{target:i}=e,{entry:s}=e,{pfp:l}=e,o;ve(async()=>{t(1,o=await gn(s[0]))});function a(){t(3,n=!1),t(4,i=s[0]),t(5,l=o)}return r.$$set=c=>{"selecting"in c&&t(3,n=c.selecting),"target"in c&&t(4,i=c.target),"entry"in c&&t(0,s=c.entry),"pfp"in c&&t(5,l=c.pfp)},[s,o,a,n,i,l]}class fC extends j{constructor(e){super(),z(this,e,uC,cC,N,{selecting:3,target:4,entry:0,pfp:5})}}function mu(r,e,t){const n=r.slice();return n[10]=e[t],n}function hu(r){let e,t,n,i,s;function l(u){r[6](u)}function o(u){r[7](u)}function a(u){r[8](u)}let c={entry:r[10]};return r[0]!==void 0&&(c.target=r[0]),r[3]!==void 0&&(c.selecting=r[3]),r[2]!==void 0&&(c.pfp=r[2]),e=new fC({props:c}),we.push(()=>Ce(e,"target",l)),we.push(()=>Ce(e,"selecting",o)),we.push(()=>Ce(e,"pfp",a)),{c(){M(e.$$.fragment)},m(u,f){D(e,u,f),s=!0},p(u,f){const d={};f&2&&(d.entry=u[10]),!t&&f&1&&(t=!0,d.target=u[0],$e(()=>t=!1)),!n&&f&8&&(n=!0,d.selecting=u[3],$e(()=>n=!1)),!i&&f&4&&(i=!0,d.pfp=u[2],$e(()=>i=!1)),e.$set(d)},i(u){s||(w(e.$$.fragment,u),s=!0)},o(u){C(e.$$.fragment,u),s=!1},d(u){B(e,u)}}}function dC(r){let e,t,n,i,s,l,o,a=r[4]?"Reply":"Send",c,u,f,d,m=(r[4]?`#${r[4]} (${r[0]})`:r[0]||"Please select")+"",b,A,_,k,v,$;i=new gt({props:{src:r[2]||Qt,height:32}});let E=x(r[1]),I=[];for(let R=0;R<E.length;R+=1)I[R]=hu(mu(r,E,R));const L=R=>C(I[R],1,1,()=>{I[R]=null});return{c(){e=g("div"),t=g("div"),n=g("div"),M(i.$$.fragment),s=T(),l=g("div"),o=g("p"),c=F(a),u=F(" to:"),f=T(),d=g("p"),b=F(m),A=T(),_=g("div");for(let R=0;R<I.length;R+=1)I[R].c();h(o,"class","header"),h(n,"class","current"),h(t,"class","target-selector"),h(_,"class","target-options"),U(_,"visible",r[3]),h(e,"class","target-wrapper")},m(R,H){S(R,e,H),p(e,t),p(t,n),D(i,n,null),p(n,s),p(n,l),p(l,o),p(o,c),p(o,u),p(l,f),p(l,d),p(d,b),p(e,A),p(e,_);for(let Q=0;Q<I.length;Q+=1)I[Q]&&I[Q].m(_,null);k=!0,v||($=P(t,"click",r[5]),v=!0)},p(R,[H]){const Q={};if(H&4&&(Q.src=R[2]||Qt),i.$set(Q),(!k||H&16)&&a!==(a=R[4]?"Reply":"Send")&&W(c,a),(!k||H&17)&&m!==(m=(R[4]?`#${R[4]} (${R[0]})`:R[0]||"Please select")+"")&&W(b,m),H&15){E=x(R[1]);let ee;for(ee=0;ee<E.length;ee+=1){const J=mu(R,E,ee);I[ee]?(I[ee].p(J,H),w(I[ee],1)):(I[ee]=hu(J),I[ee].c(),w(I[ee],1),I[ee].m(_,null))}for(q(),ee=E.length;ee<I.length;ee+=1)L(ee);Y()}(!k||H&8)&&U(_,"visible",R[3])},i(R){if(!k){w(i.$$.fragment,R);for(let H=0;H<E.length;H+=1)w(I[H]);k=!0}},o(R){C(i.$$.fragment,R),I=I.filter(Boolean);for(let H=0;H<I.length;H+=1)C(I[H]);k=!1},d(R){R&&y(e),B(i),me(I,R),v=!1,$()}}}function pC(r,e,t){let n;K(r,Ai,m=>t(4,n=m));let{users:i}=e,{target:s}=e,l="",o=!1;async function a(){t(2,l=await gn(s))}function c(){if(n)return t(3,o=!1);t(3,o=!o)}Ai.subscribe(()=>setTimeout(a,500));function u(m){s=m,t(0,s)}function f(m){o=m,t(3,o)}function d(m){l=m,t(2,l)}return r.$$set=m=>{"users"in m&&t(1,i=m.users),"target"in m&&t(0,s=m.target)},[s,i,l,o,n,c,u,f,d]}class mC extends j{constructor(e){super(),z(this,e,pC,dC,N,{users:1,target:0})}}function hC(r){let e,t,n;return t=new Nl({props:{source:r[2]}}),{c(){e=g("div"),M(t.$$.fragment),h(e,"class","markdownrenderer")},m(i,s){S(i,e,s),D(t,e,null),n=!0},p(i,s){const l={};s&4&&(l.source=i[2]),t.$set(l)},i(i){n||(w(t.$$.fragment,i),n=!0)},o(i){C(t.$$.fragment,i),n=!1},d(i){i&&y(e),B(t)}}}function gC(r){let e,t,n;return{c(){e=g("textarea"),h(e,"placeholder","New message"),h(e,"maxlength","2000")},m(i,s){S(i,e,s),ge(e,r[2]),t||(n=P(e,"input",r[5]),t=!0)},p(i,s){s&4&&ge(e,i[2])},i:O,o:O,d(i){i&&y(e),t=!1,n()}}}function AC(r){let e,t,n,i,s,l,o,a,c,u;function f(v){r[4](v)}let d={users:r[0]};r[1]!==void 0&&(d.target=r[1]),t=new mC({props:d}),we.push(()=>Ce(t,"target",f));const m=[gC,hC],b=[];function A(v,$){return v[3]?1:0}s=A(r),l=b[s]=m[s](r);function _(v){r[6](v)}let k={target:r[1],content:r[2]};return r[3]!==void 0&&(k.viewing=r[3]),a=new aC({props:k}),we.push(()=>Ce(a,"viewing",_)),{c(){e=g("div"),M(t.$$.fragment),i=T(),l.c(),o=T(),M(a.$$.fragment),h(e,"class","editor")},m(v,$){S(v,e,$),D(t,e,null),S(v,i,$),b[s].m(v,$),S(v,o,$),D(a,v,$),u=!0},p(v,[$]){const E={};$&1&&(E.users=v[0]),!n&&$&2&&(n=!0,E.target=v[1],$e(()=>n=!1)),t.$set(E);let I=s;s=A(v),s===I?b[s].p(v,$):(q(),C(b[I],1,1,()=>{b[I]=null}),Y(),l=b[s],l?l.p(v,$):(l=b[s]=m[s](v),l.c()),w(l,1),l.m(o.parentNode,o));const L={};$&2&&(L.target=v[1]),$&4&&(L.content=v[2]),!c&&$&8&&(c=!0,L.viewing=v[3],$e(()=>c=!1)),a.$set(L)},i(v){u||(w(t.$$.fragment,v),w(l),w(a.$$.fragment,v),u=!0)},o(v){C(t.$$.fragment,v),C(l),C(a.$$.fragment,v),u=!1},d(v){v&&(y(e),y(i),y(o)),B(t),b[s].d(v),B(a,v)}}}function bC(r,e,t){let n=[],i="",s="",l=!1;ve(async()=>{t(0,n=Object.entries(await Yi()))}),Ai.subscribe(async u=>{if(!u)return;const f=await vl(u);f&&t(1,i=f.sender)});function o(u){i=u,t(1,i)}function a(){s=this.value,t(2,s)}function c(u){l=u,t(3,l)}return[n,i,s,l,o,a,c]}class _C extends j{constructor(e){super(),z(this,e,bC,AC,N,{})}}function wC(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b;return{c(){e=g("div"),t=g("div"),n=g("img"),s=T(),l=g("p"),l.textContent="No content.",o=T(),a=g("p"),a.textContent="Please select a message or create a new one.",c=T(),u=g("br"),f=T(),d=g("button"),d.textContent="New Message",de(n.src,i=zl)||h(n,"src",i),h(n,"alt","Messaging"),h(l,"class","header"),h(t,"class","no-content"),h(e,"class","no-content-wrapper")},m(A,_){S(A,e,_),p(e,t),p(t,n),p(t,s),p(t,l),p(t,o),p(t,a),p(t,c),p(t,u),p(t,f),p(t,d),m||(b=P(d,"click",r[0]),m=!0)},p:O,i:O,o:O,d(A){A&&y(e),m=!1,b()}}}function vC(r,e,t){let n;K(r,On,s=>t(1,n=s));function i(){Ee(On,n=!0,n)}return[i]}class kC extends j{constructor(e){super(),z(this,e,vC,wC,N,{})}}function gu(r,e,t){const n=r.slice();return n[4]=e[t],n}function Au(r){let e;return{c(){e=g("button"),e.innerHTML=`<img src="${wn}" alt=""/>`,h(e,"class","material-icons-round"),h(e,"title","Receiver no longer exists")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function bu(r){let e,t,n;function i(){return r[3](r[4])}return{c(){e=g("button"),e.textContent=`${r[4].icon}`,h(e,"class","material-icons-round"),h(e,"title",r[4].name)},m(s,l){S(s,e,l),t||(n=P(e,"click",i),t=!0)},p(s,l){r=s},d(s){s&&y(e),t=!1,n()}}}function yC(r){let e,t,n,i,s,l=r[0].sender+"",o,a,c,u=r[2](r[0].timestamp)+"",f,d,m,b=r[0].receiver.startsWith("deleted#"),A,_;t=new gt({props:{height:32,src:r[1]}});let k=b&&Au(),v=x(iu),$=[];for(let E=0;E<v.length;E+=1)$[E]=bu(gu(r,v,E));return{c(){e=g("div"),M(t.$$.fragment),n=T(),i=g("div"),s=g("p"),o=F(l),a=T(),c=g("p"),f=F(u),d=T(),m=g("div"),k&&k.c(),A=T();for(let E=0;E<$.length;E+=1)$[E].c();h(s,"class","name"),h(c,"class","id"),h(i,"class","context"),h(m,"class","actions"),h(e,"class","message-header")},m(E,I){S(E,e,I),D(t,e,null),p(e,n),p(e,i),p(i,s),p(s,o),p(i,a),p(i,c),p(c,f),p(e,d),p(e,m),k&&k.m(m,null),p(m,A);for(let L=0;L<$.length;L+=1)$[L]&&$[L].m(m,null);_=!0},p(E,[I]){const L={};if(I&2&&(L.src=E[1]),t.$set(L),(!_||I&1)&&l!==(l=E[0].sender+"")&&W(o,l),(!_||I&1)&&u!==(u=E[2](E[0].timestamp)+"")&&W(f,u),I&1&&(b=E[0].receiver.startsWith("deleted#")),b?k||(k=Au(),k.c(),k.m(m,A)):k&&(k.d(1),k=null),I&1){v=x(iu);let R;for(R=0;R<v.length;R+=1){const H=gu(E,v,R);$[R]?$[R].p(H,I):($[R]=bu(H),$[R].c(),$[R].m(m,null))}for(;R<$.length;R+=1)$[R].d(1);$.length=v.length}},i(E){_||(w(t.$$.fragment,E),_=!0)},o(E){C(t.$$.fragment,E),_=!1},d(E){E&&y(e),B(t),k&&k.d(),me($,E)}}}function SC(r,e,t){let{message:n}=e,i="";ve(async()=>{t(1,i=await gn(n.sender))}),jl(async()=>{t(1,i=await gn(n.sender))});function s(o){return zt(o).format("DD MMM, HH:mm")}const l=o=>o.action(n);return r.$$set=o=>{"message"in o&&t(0,n=o.message)},[n,i,s,l]}class $C extends j{constructor(e){super(),z(this,e,SC,yC,N,{message:0})}}async function CC(r){const e=G(Ge);return e?(await xe(e,"messages/thread",{id:btoa(r)},G(rt))).data:!1}async function gm(r){const e=await wl();let t;for(let i=0;i<e.length;i++)e[i].id==r&&(t=e[i].replyingTo);if(!t)return;const n=await vl(t);return n.replyingTo?await gm(t):n}function _u(r){let e,t,n,i,s,l=r[1]?"Loading...":"View Thread",o,a,c;return{c(){e=g("div"),t=g("p"),t.textContent="Message is part of a thread.",n=T(),i=g("div"),s=g("button"),o=F(l),h(t,"class","caption"),s.disabled=r[1],h(i,"class","right"),h(e,"class","reply-wrapper")},m(u,f){S(u,e,f),p(e,t),p(e,n),p(e,i),p(i,s),p(s,o),a||(c=P(s,"click",r[2]),a=!0)},p(u,f){f&2&&l!==(l=u[1]?"Loading...":"View Thread")&&W(o,l),f&2&&(s.disabled=u[1])},d(u){u&&y(e),a=!1,c()}}}function TC(r){let e,t=(r[0].replyingTo||r[0].replies.length)&&_u(r);return{c(){t&&t.c(),e=ae()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0].replyingTo||n[0].replies.length?t?t.p(n,i):(t=_u(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function EC(r,e,t){let{message:n}=e,i=!1;async function s(){t(1,i=!0);const l=n.replies&&!n.replyingTo?n.id:(await gm(n.id)).id;Pi.set(null),Pi.set(l),Je("thread","MessagingApp"),t(1,i=!1)}return r.$$set=l=>{"message"in l&&t(0,n=l.message)},[n,i,s]}class IC extends j{constructor(e){super(),z(this,e,EC,TC,N,{message:0})}}function OC(r){let e,t,n,i,s,l,o;return e=new $C({props:{message:r[0]}}),i=new Nl({props:{source:r[0].body}}),l=new IC({props:{message:r[0]}}),{c(){M(e.$$.fragment),t=T(),n=g("div"),M(i.$$.fragment),s=T(),M(l.$$.fragment),h(n,"class","markdownrenderer")},m(a,c){D(e,a,c),S(a,t,c),S(a,n,c),D(i,n,null),S(a,s,c),D(l,a,c),o=!0},p(a,[c]){const u={};c&1&&(u.message=a[0]),e.$set(u);const f={};c&1&&(f.source=a[0].body),i.$set(f);const d={};c&1&&(d.message=a[0]),l.$set(d)},i(a){o||(w(e.$$.fragment,a),w(i.$$.fragment,a),w(l.$$.fragment,a),o=!0)},o(a){C(e.$$.fragment,a),C(i.$$.fragment,a),C(l.$$.fragment,a),o=!1},d(a){a&&(y(t),y(n),y(s)),B(e,a),B(i),B(l,a)}}}function RC(r,e,t){let{message:n}=e;return r.$$set=i=>{"message"in i&&t(0,n=i.message)},[n]}class LC extends j{constructor(e){super(),z(this,e,RC,OC,N,{message:0})}}function DC(r){let e,t;return e=new kC({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function BC(r){let e,t;return e=new _C({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function MC(r){let e,t;return e=new LC({props:{message:r[0]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.message=n[0]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function FC(r){let e,t,n,i;const s=[MC,BC,DC],l=[];function o(a,c){return a[0]&&!a[1]?0:a[1]?1:2}return t=o(r),n=l[t]=s[t](r),{c(){e=g("div"),n.c(),h(e,"class","content")},m(a,c){S(a,e,c),l[t].m(e,null),i=!0},p(a,[c]){let u=t;t=o(a),t===u?l[t].p(a,c):(q(),C(l[u],1,1,()=>{l[u]=null}),Y(),n=l[t],n?n.p(a,c):(n=l[t]=s[t](a),n.c()),w(n,1),n.m(e,null))},i(a){i||(w(n),i=!0)},o(a){C(n),i=!1},d(a){a&&y(e),l[t].d()}}}function PC(r,e,t){let n;K(r,On,s=>t(1,n=s));let i;return mn.subscribe(async s=>{if(!s)return t(0,i=null);const l=await vl(s);if(!l)return Xe({title:"Can't open message",message:`No message with ID ${s} could be found on ArcAPI.`,buttons:[{caption:"OK",action(){}}],image:zl},"MessagingApp");t(0,i=null),setTimeout(()=>{t(0,i=l)})}),[i,n]}let UC=class extends j{constructor(e){super(),z(this,e,PC,FC,N,{})}};function wu(r){let e,t,n,i;return e=new eC({}),n=new UC({}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment)},m(s,l){D(e,s,l),S(s,t,l),D(n,s,l),i=!0},i(s){i||(w(e.$$.fragment,s),w(n.$$.fragment,s),i=!0)},o(s){C(e.$$.fragment,s),C(n.$$.fragment,s),i=!1},d(s){s&&y(t),B(e,s),B(n,s)}}}function NC(r){let e,t,n,i;e=new K3({});let s=r[0]&&wu();return{c(){M(e.$$.fragment),t=T(),s&&s.c(),n=ae()},m(l,o){D(e,l,o),S(l,t,o),s&&s.m(l,o),S(l,n,o),i=!0},p(l,[o]){l[0]?s?o&1&&w(s,1):(s=wu(),s.c(),w(s,1),s.m(n.parentNode,n)):s&&(q(),C(s,1,1,()=>{s=null}),Y())},i(l){i||(w(e.$$.fragment,l),w(s),i=!0)},o(l){C(e.$$.fragment,l),C(s),i=!1},d(l){l&&(y(t),y(n)),B(e,l),s&&s.d(l)}}}function zC(r,e,t){let n;return K(r,Vn,i=>t(0,n=i)),ve(()=>{Ee(Vn,n=el.inbox,n)}),[n]}let jC=class extends j{constructor(e){super(),z(this,e,zC,NC,N,{})}};function vu(r,e,t){const n=r.slice();return n[1]=e[t],n}function ku(r){let e,t,n=x(r[0]),i=[];for(let l=0;l<n.length;l+=1)i[l]=yu(vu(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ae()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&1){n=x(l[0]);let a;for(a=0;a<n.length;a+=1){const c=vu(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=yu(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function yu(r){let e,t;return e=new Am({props:{item:r[1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.item=n[1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function HC(r){let e,t,n=r[0]&&ku(r);return{c(){e=g("div"),n&&n.c(),h(e,"class","branch")},m(i,s){S(i,e,s),n&&n.m(e,null),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=ku(i),n.c(),w(n,1),n.m(e,null)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d()}}}function QC(r,e,t){let{items:n=[]}=e;return r.$$set=i=>{"items"in i&&t(0,n=i.items)},[n]}class WC extends j{constructor(e){super(),z(this,e,QC,HC,N,{items:0})}}function Su(r){let e,t,n,i,s,l=r[0].sender+"",o,a,c,u=r[0].partialBody+"",f,d=r[0].partialBody.length>29?"...":"",m,b,A,_=r[0].id+"",k,v,$,E,I,L;t=new gt({props:{src:r[1],height:32}});let R=r[0].replies&&$u(r);return{c(){e=g("button"),M(t.$$.fragment),n=T(),i=g("div"),s=g("p"),o=F(l),a=T(),c=g("p"),f=F(u),m=F(d),b=T(),A=g("div"),k=F(_),v=T(),R&&R.c(),$=ae(),h(s,"class","name"),h(c,"class","partial"),h(i,"class","context"),h(A,"class","id"),h(e,"class","item")},m(H,Q){S(H,e,Q),D(t,e,null),p(e,n),p(e,i),p(i,s),p(s,o),p(i,a),p(i,c),p(c,f),p(c,m),p(e,b),p(e,A),p(A,k),S(H,v,Q),R&&R.m(H,Q),S(H,$,Q),E=!0,I||(L=P(e,"click",r[2]),I=!0)},p(H,Q){const ee={};Q&2&&(ee.src=H[1]),t.$set(ee),(!E||Q&1)&&l!==(l=H[0].sender+"")&&W(o,l),(!E||Q&1)&&u!==(u=H[0].partialBody+"")&&W(f,u),(!E||Q&1)&&d!==(d=H[0].partialBody.length>29?"...":"")&&W(m,d),(!E||Q&1)&&_!==(_=H[0].id+"")&&W(k,_),H[0].replies?R?(R.p(H,Q),Q&1&&w(R,1)):(R=$u(H),R.c(),w(R,1),R.m($.parentNode,$)):R&&(q(),C(R,1,1,()=>{R=null}),Y())},i(H){E||(w(t.$$.fragment,H),w(R),E=!0)},o(H){C(t.$$.fragment,H),C(R),E=!1},d(H){H&&(y(e),y(v),y($)),B(t),R&&R.d(H),I=!1,L()}}}function $u(r){let e,t;return e=new WC({props:{items:r[0].replies}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.items=n[0].replies),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function GC(r){let e,t,n=r[0]&&Su(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=Su(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function KC(r,e,t){let n;K(r,mn,o=>t(3,n=o));let{item:i}=e,s="";ve(async()=>{t(1,s=await gn(i.sender))});function l(){Ee(mn,n=i.id,n),Ye("thread","MessagingApp"),Pi.set(null)}return r.$$set=o=>{"item"in o&&t(0,i=o.item)},[i,s,l]}let Am=class extends j{constructor(e){super(),z(this,e,KC,GC,N,{item:0})}};function VC(r){let e;return{c(){e=g("div"),e.innerHTML=`<div class="content"><img src="${wn}" alt="Error"/> <h3>Unable to load thread</h3> <p class="caption">The thread could not be found. Please make sure the owner exists and try
      again.</p></div>`,h(e,"class","notfound")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}class qC extends j{constructor(e){super(),z(this,e,null,VC,N,{})}}function YC(r){let e,t;return e=new qC({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function JC(r){let e,t,n=r[2].id+"",i,s,l,o;return l=new Am({props:{item:r[2]}}),{c(){e=g("h3"),t=F("Thread of #"),i=F(n),s=T(),M(l.$$.fragment),h(e,"class","header")},m(a,c){S(a,e,c),p(e,t),p(e,i),S(a,s,c),D(l,a,c),o=!0},p(a,c){(!o||c&4)&&n!==(n=a[2].id+"")&&W(i,n);const u={};c&4&&(u.item=a[2]),l.$set(u)},i(a){o||(w(l.$$.fragment,a),o=!0)},o(a){C(l.$$.fragment,a),o=!1},d(a){a&&(y(e),y(s)),B(l,a)}}}function ZC(r){let e,t,n,i,s,l;e=new Xn({props:{app:r[0],id:r[1]}});const o=[JC,YC],a=[];function c(u,f){return u[3]&&u[2]?0:1}return n=c(r),i=a[n]=o[n](r),{c(){M(e.$$.fragment),t=T(),i.c(),s=ae()},m(u,f){D(e,u,f),S(u,t,f),a[n].m(u,f),S(u,s,f),l=!0},p(u,[f]){const d={};f&1&&(d.app=u[0]),f&2&&(d.id=u[1]),e.$set(d);let m=n;n=c(u),n===m?a[n].p(u,f):(q(),C(a[m],1,1,()=>{a[m]=null}),Y(),i=a[n],i?i.p(u,f):(i=a[n]=o[n](u),i.c()),w(i,1),i.m(s.parentNode,s))},i(u){l||(w(e.$$.fragment,u),w(i),l=!0)},o(u){C(e.$$.fragment,u),C(i),l=!1},d(u){u&&(y(t),y(s)),B(e,u),a[n].d(u)}}}function XC(r,e,t){let n;K(r,Pi,o=>t(3,n=o));let i,{app:s}=e,{id:l}=e;return Pi.subscribe(async o=>{if(!o)return;t(2,i=null);const a=await CC(n);a&&t(2,i=a)}),r.$$set=o=>{"app"in o&&t(0,s=o.app),"id"in o&&t(1,l=o.id)},[s,l,i,n]}class xC extends j{constructor(e){super(),z(this,e,XC,ZC,N,{app:0,id:1})}}const eT={thread:{info:{name:"Thread View",author:"ArcOS Team",version:"1.0.0"},size:{w:550,h:400},show:!1,content:xC}},tT={info:{name:"Messaging",description:"Send messages to other ArcOS users",builtin:!0,version:"1.0.7",author:"ArcOS Team",icon:zl,appGroup:"communication"},size:{w:700,h:450},pos:{x:100,y:100},minSize:{w:700,h:450},maxSize:{w:1e3,h:600},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},overlays:eT,content:jC,glass:!0};function nT(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k,v;return{c(){e=g("div"),t=g("img"),i=T(),s=g("div"),l=g("p"),l.textContent="Enter a path to save this file to:",o=T(),a=g("input"),c=T(),u=g("div"),f=g("div"),d=g("button"),m=F("Save"),A=T(),_=g("button"),_.textContent="Cancel",de(t.src,n=sm)||h(t,"src",n),h(t,"alt","Save File"),h(t,"class","svelte-demxce"),h(l,"class","caption svelte-demxce"),h(a,"type","text"),h(a,"class","svelte-demxce"),h(s,"class","inner"),h(e,"class","wrapper svelte-demxce"),d.disabled=b=!r[0],h(f,"class","inner svelte-demxce"),h(u,"class","actions svelte-demxce")},m($,E){S($,e,E),p(e,t),p(e,i),p(e,s),p(s,l),p(s,o),p(s,a),ge(a,r[0]),S($,c,E),S($,u,E),p(u,f),p(f,d),p(d,m),p(f,A),p(f,_),k||(v=[P(a,"input",r[3]),P(d,"click",r[2]),P(_,"click",r[1])],k=!0)},p($,[E]){E&1&&a.value!==$[0]&&ge(a,$[0]),E&1&&b!==(b=!$[0])&&(d.disabled=b)},i:O,o:O,d($){$&&(y(e),y(c),y(u)),k=!1,ke(v)}}}function iT(r,e,t){let n="";function i(){Ye("saveNewFile","TextEditor")}async function s(){await rm(G(Nn),{name:null,path:n,data:null,mime:""});const o=n.split("/");await er({filename:o[o.length-1],mime:"text/plain",scopedPath:n}),i()}function l(){n=this.value,t(0,n)}return[n,i,s,l]}class rT extends j{constructor(e){super(),z(this,e,iT,nT,N,{})}}const sT={info:{name:"Text Editor",description:"Edit plain text files",builtin:!0,version:"1.0.0",author:"Izaak Kuipers",hidden:!1,icon:Np,appGroup:"utilities"},size:{w:700,h:550},pos:{x:30,y:40,centered:!0},minSize:{w:400,h:300},maxSize:{w:1e3,h:800},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:by,glass:!0,fileMimes:["text/plain"],overlays:{saveNewFile:{info:{name:"Save file",author:"Izaak Kuipers",version:"1.0.1"},size:{w:NaN,h:NaN},show:!1,content:rT}}},lT=""+new URL("settings-ade5abd9.svg",import.meta.url).href;const qn=pe(null),tl=pe(null);function oT(r){Z("apps/SettingsApp",`Opening settings page '${r.name}'`,se.info),tl.set(null),qn.set(r),mb(r.icon,"SettingsApp"),Xi(` - ${r.name}`,"SettingsApp")}function Cu(r){let e,t,n;var i=r[2].content;function s(l,o){return{}}return i&&(e=Be(i,s())),{c(){e&&M(e.$$.fragment),t=ae()},m(l,o){e&&D(e,l,o),S(l,t,o),n=!0},p(l,o){if(o&4&&i!==(i=l[2].content)){if(e){q();const a=e;C(a.$$.fragment,1,0,()=>{B(a,1)}),Y()}i?(e=Be(i,s()),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}},i(l){n||(e&&w(e.$$.fragment,l),n=!0)},o(l){e&&C(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&B(e,l)}}}function aT(r){let e,t,n,i,s=r[2]&&Cu(r);return{c(){e=g("div"),t=g("div"),s&&s.c(),h(t,"class",n="inner "+r[1]),h(e,"class","content"),U(e,"collapsed",r[0].collapsed)},m(l,o){S(l,e,o),p(e,t),s&&s.m(t,null),i=!0},p(l,[o]){l[2]?s?(s.p(l,o),o&4&&w(s,1)):(s=Cu(l),s.c(),w(s,1),s.m(t,null)):s&&(q(),C(s,1,1,()=>{s=null}),Y()),(!i||o&2&&n!==(n="inner "+l[1]))&&h(t,"class",n),(!i||o&1)&&U(e,"collapsed",l[0].collapsed)},i(l){i||(w(s),i=!0)},o(l){C(s),i=!1},d(l){l&&y(e),s&&s.d()}}}function cT(r,e,t){let n;K(r,ne,a=>t(4,n=a));let{appdata:i}=e,s="",l,o;return qn.subscribe(a=>{if(clearTimeout(o),t(1,s="static"),n&&!n.sh.anim&&a)return t(2,l=a);!a||l&&a.name==l.name||(t(1,s="slide-out-right"),o=setTimeout(()=>{t(2,l=a),t(1,s="slide-in-left"),o=setTimeout(()=>{t(1,s="static")},301)},500))}),r.$$set=a=>{"appdata"in a&&t(0,i=a.appdata)},[i,s,l]}let uT=class extends j{constructor(e){super(),z(this,e,cT,aT,N,{appdata:0})}};const nl=""+new URL("account-a7a14557.svg",import.meta.url).href,jr=""+new URL("desktop-2a5e3c36.svg",import.meta.url).href,bm=""+new URL("loadtheme-61b4520f.svg",import.meta.url).href,fT=""+new URL("taskbar-24d42588.svg",import.meta.url).href,dT=""+new URL("windows-2ef194f6.svg",import.meta.url).href,Hl=""+new URL("themes-1332e1fc.svg",import.meta.url).href;function pT(r){let e,t;return{c(){e=g("h3"),t=F(r[2]),h(e,"class","header")},m(n,i){S(n,e,i),p(e,t)},p(n,i){i&4&&W(t,n[2])},d(n){n&&y(e)}}}function mT(r){let e,t,n,i;return{c(){e=g("div"),t=F(r[2]),h(e,"class","header")},m(s,l){S(s,e,l),p(e,t),n||(i=P(e,"click",r[4]),n=!0)},p(s,l){l&4&&W(t,s[2])},d(s){s&&y(e),n=!1,i()}}}function hT(r){let e,t,n,i;function s(u,f){return u[1]?mT:pT}let l=s(r),o=l(r);const a=r[6].default,c=ze(a,r,r[5],null);return{c(){e=g("div"),o.c(),t=T(),n=g("div"),c&&c.c(),h(n,"class","section-content"),h(e,"class","section"),U(e,"collapsible",r[1]),U(e,"collapsed",r[0]),U(e,"opt",r[3])},m(u,f){S(u,e,f),o.m(e,null),p(e,t),p(e,n),c&&c.m(n,null),i=!0},p(u,[f]){l===(l=s(u))&&o?o.p(u,f):(o.d(1),o=l(u),o&&(o.c(),o.m(e,t))),c&&c.p&&(!i||f&32)&&He(c,a,u,u[5],i?je(a,u[5],f,null):Qe(u[5]),null),(!i||f&2)&&U(e,"collapsible",u[1]),(!i||f&1)&&U(e,"collapsed",u[0]),(!i||f&8)&&U(e,"opt",u[3])},i(u){i||(w(c,u),i=!0)},o(u){C(c,u),i=!1},d(u){u&&y(e),o.d(),c&&c.d(u)}}}function gT(r,e,t){let{$$slots:n={},$$scope:i}=e,{collapsible:s=!1}=e,{header:l}=e,{collapsed:o=!0}=e,{opt:a=!1}=e;tl.subscribe(u=>{!u||!s||t(0,o=l!=u)});function c(){t(0,o=!o),o||tl.set(l)}return r.$$set=u=>{"collapsible"in u&&t(1,s=u.collapsible),"header"in u&&t(2,l=u.header),"collapsed"in u&&t(0,o=u.collapsed),"opt"in u&&t(3,a=u.opt),"$$scope"in u&&t(5,i=u.$$scope)},[o,s,l,a,c,i,n]}class Tr extends j{constructor(e){super(),z(this,e,gT,hT,N,{collapsible:1,header:2,collapsed:0,opt:3})}}function Tu(r){let e,t;return e=new Tr({props:{header:"Your System",collapsible:!0,$$slots:{default:[AT]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&11&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function AT(r){let e,t,n,i,s=r[0].cpu.cores+"",l,o,a,c,u,f,d,m,b=mt(r[0].mem.kb)+"",A,_,k,v,$,E,I,L,R=r[0].gpu.vendor+"",H,Q,ee=r[0].gpu.model+"",J,Ae,ce,le,ie,X,re=r[1]?"Desktop app":"Browser",V,oe,fe;return{c(){e=g("div"),t=g("div"),t.textContent="Processor",n=T(),i=g("div"),l=F(s),o=F(" cores"),a=T(),c=g("div"),u=g("div"),u.textContent="Memory",f=T(),d=g("div"),m=F("~ "),A=F(b),_=T(),k=g("button"),k.textContent="help",v=T(),$=g("div"),E=g("div"),E.textContent="Graphics card",I=T(),L=g("div"),H=F(R),Q=T(),J=F(ee),Ae=T(),ce=g("div"),le=g("div"),le.textContent="ArcOS Mode",ie=T(),X=g("div"),V=F(re),h(t,"class","key"),h(i,"class","value"),h(e,"class","row"),h(u,"class","key"),h(k,"class","material-icons-round info"),h(d,"class","value"),h(c,"class","row"),h(E,"class","key"),h(L,"class","value"),h($,"class","row"),h(le,"class","key"),h(X,"class","value"),h(ce,"class","row")},m(ye,_e){S(ye,e,_e),p(e,t),p(e,n),p(e,i),p(i,l),p(i,o),S(ye,a,_e),S(ye,c,_e),p(c,u),p(c,f),p(c,d),p(d,m),p(d,A),p(d,_),p(d,k),S(ye,v,_e),S(ye,$,_e),p($,E),p($,I),p($,L),p(L,H),p(L,Q),p(L,J),S(ye,Ae,_e),S(ye,ce,_e),p(ce,le),p(ce,ie),p(ce,X),p(X,V),oe||(fe=P(k,"click",r[2]),oe=!0)},p(ye,_e){_e&1&&s!==(s=ye[0].cpu.cores+"")&&W(l,s),_e&1&&b!==(b=mt(ye[0].mem.kb)+"")&&W(A,b),_e&1&&R!==(R=ye[0].gpu.vendor+"")&&W(H,R),_e&1&&ee!==(ee=ye[0].gpu.model+"")&&W(J,ee),_e&2&&re!==(re=ye[1]?"Desktop app":"Browser")&&W(V,re)},d(ye){ye&&(y(e),y(a),y(c),y(v),y($),y(Ae),y(ce)),oe=!1,fe()}}}function bT(r){let e,t,n=r[0]&&Tu(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=Tu(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function _T(r,e,t){let n,i=!1;ve(async()=>{t(0,n=await pp()),t(1,i=Ui())});function s(){Xe({title:"Information about system memory",message:"The memory amount visible to ArcOS may be less than you actually have. This is not a bug, but rather a limitation of the browser you are running. Most browsers can only detect up to 8GB of RAM.",buttons:[{caption:"Understood",action(){}}]},"SettingsApp")}return[n,i,s]}class wT extends j{constructor(e){super(),z(this,e,_T,bT,N,{})}}function vT(r){let e,t,n;return{c(){e=F(`The whole ArcOS project is licensed under GPLv3. More information about the
    license and the project as a whole can be found in the README file of the
    `),t=g("a"),t.textContent="ArcOS project page",n=F("."),h(t,"href","https://github.com/IzK-ArcOS"),h(t,"target","_blank")},m(i,s){S(i,e,s),S(i,t,s),S(i,n,s)},p:O,d(i){i&&(y(e),y(t),y(n))}}}function kT(r){let e;return{c(){e=F(`Thanks to all the people who helped expand ArcOS to what it is today.
    Curious who make ArcOS possible? Go ahead and visit our Frontend GitHub
    page, we list our contributors there.`)},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function yT(r){let e,t,n,i;return{c(){e=F(`ArcOS started of as a weekend project, but these days it is a huge project
    with tons of amazing features. Every version of this project up to this
    point has been lead by me, Izaak Kuipers.`),t=g("br"),n=g("br"),i=F(`Feel free to visit our
    GitHub for more information about the project, and how you can contribute to
    it.`)},m(s,l){S(s,e,l),S(s,t,l),S(s,n,l),S(s,i,l)},p:O,d(s){s&&(y(e),y(t),y(n),y(i))}}}function ST(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A;return a=new wT({}),u=new Tr({props:{header:"License Information",collapsible:!0,collapsed:!0,$$slots:{default:[vT]},$$scope:{ctx:r}}}),d=new Tr({props:{header:"Credits",collapsible:!0,collapsed:!0,$$slots:{default:[kT]},$$scope:{ctx:r}}}),b=new Tr({props:{header:"About",collapsible:!0,collapsed:!0,$$slots:{default:[yT]},$$scope:{ctx:r}}}),{c(){e=g("div"),t=g("div"),n=g("div"),n.innerHTML=`<img src="${tn()}" alt="ArcOS" class="logo"/>`,i=T(),s=g("div"),l=g("h1"),l.textContent=`ArcOS v${ut}`,o=T(),M(a.$$.fragment),c=T(),M(u.$$.fragment),f=T(),M(d.$$.fragment),m=T(),M(b.$$.fragment),h(l,"class","name"),h(s,"class","text"),h(t,"class","product"),h(e,"class","about-page")},m(_,k){S(_,e,k),p(e,t),p(t,n),p(t,i),p(t,s),p(s,l),p(e,o),D(a,e,null),p(e,c),D(u,e,null),p(e,f),D(d,e,null),p(e,m),D(b,e,null),A=!0},p(_,[k]){const v={};k&1&&(v.$$scope={dirty:k,ctx:_}),u.$set(v);const $={};k&1&&($.$$scope={dirty:k,ctx:_}),d.$set($);const E={};k&1&&(E.$$scope={dirty:k,ctx:_}),b.$set(E)},i(_){A||(w(a.$$.fragment,_),w(u.$$.fragment,_),w(d.$$.fragment,_),w(b.$$.fragment,_),A=!0)},o(_){C(a.$$.fragment,_),C(u.$$.fragment,_),C(d.$$.fragment,_),C(b.$$.fragment,_),A=!1},d(_){_&&y(e),B(a),B(u),B(d),B(b)}}}class $T extends j{constructor(e){super(),z(this,e,null,ST,N,{})}}function CT(r){let e,t,n,i,s,l,o,a,c,u;const f=r[3].default,d=ze(f,r,r[2],null);return{c(){e=g("div"),t=g("div"),n=g("h3"),i=F(r[0]),s=T(),l=g("p"),o=F(r[1]),a=T(),c=g("div"),d&&d.c(),h(n,"class","header"),h(l,"class","context"),h(c,"class","opt-sel"),h(e,"class","section opt")},m(m,b){S(m,e,b),p(e,t),p(t,n),p(n,i),p(t,s),p(t,l),p(l,o),p(e,a),p(e,c),d&&d.m(c,null),u=!0},p(m,[b]){(!u||b&1)&&W(i,m[0]),(!u||b&2)&&W(o,m[1]),d&&d.p&&(!u||b&4)&&He(d,f,m,m[2],u?je(f,m[2],b,null):Qe(m[2]),null)},i(m){u||(w(d,m),u=!0)},o(m){C(d,m),u=!1},d(m){m&&y(e),d&&d.d(m)}}}function TT(r,e,t){let{$$slots:n={},$$scope:i}=e,{title:s}=e,{context:l}=e;return r.$$set=o=>{"title"in o&&t(0,s=o.title),"context"in o&&t(1,l=o.context),"$$scope"in o&&t(2,i=o.$$scope)},[s,l,i,n]}class it extends j{constructor(e){super(),z(this,e,TT,CT,N,{title:0,context:1})}}function ET(r){let e,t,n;return{c(){e=g("button"),e.textContent="Change..."},m(i,s){S(i,e,s),t||(n=P(e,"click",r[1]),t=!0)},p:O,d(i){i&&y(e),t=!1,n()}}}function IT(r){let e,t,n;return{c(){e=g("button"),e.textContent="Change..."},m(i,s){S(i,e,s),t||(n=P(e,"click",r[2]),t=!0)},p:O,d(i){i&&y(e),t=!1,n()}}}function OT(r){let e,t,n;return{c(){e=g("button"),e.textContent="Delete account..."},m(i,s){S(i,e,s),t||(n=P(e,"click",r[0]),t=!0)},p:O,d(i){i&&y(e),t=!1,n()}}}function RT(r){let e,t,n,i,s,l;return e=new it({props:{title:"Change username",context:"Migrate your userdata to another username.",$$slots:{default:[ET]},$$scope:{ctx:r}}}),n=new it({props:{title:"Change password",context:"Change the password you use to log in.",$$slots:{default:[IT]},$$scope:{ctx:r}}}),s=new it({props:{title:"Delete account",context:"Delete your ArcOS account",$$slots:{default:[OT]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment),i=T(),M(s.$$.fragment)},m(o,a){D(e,o,a),S(o,t,a),D(n,o,a),S(o,i,a),D(s,o,a),l=!0},p(o,[a]){const c={};a&8&&(c.$$scope={dirty:a,ctx:o}),e.$set(c);const u={};a&8&&(u.$$scope={dirty:a,ctx:o}),n.$set(u);const f={};a&8&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){l||(w(e.$$.fragment,o),w(n.$$.fragment,o),w(s.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),C(n.$$.fragment,o),C(s.$$.fragment,o),l=!1},d(o){o&&(y(t),y(i)),B(e,o),B(n,o),B(s,o)}}}function LT(r){function e(){Xe({title:"Delete ArcOS Account",message:"Are you sure you want to delete your ArcOS account? This will delete any and all user data associated with this account. These changes cannot be reverted.",image:wn,buttons:[{action:()=>pg(),caption:"Proceed"},{action:()=>{},caption:"Back to safety"}]},"SettingsApp")}function t(){Je("changeUsername","SettingsApp")}function n(){Je("changePswd","SettingsApp")}return[e,t,n]}class DT extends j{constructor(e){super(),z(this,e,LT,RT,N,{})}}function BT(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A;return n=new gt({props:{src:r[0],height:52}}),d=new Zi({}),{c(){e=g("div"),t=g("div"),M(n.$$.fragment),i=T(),s=g("button"),s.textContent="edit",l=T(),o=g("div"),a=g("p"),c=F(r[1]),u=T(),f=g("p"),M(d.$$.fragment),h(s,"class","change material-icons-round"),h(a,"class","username"),h(f,"class","host"),h(f,"data-contextmenu","accountpage-hostname"),h(e,"class","info")},m(_,k){S(_,e,k),p(e,t),D(n,t,null),p(t,i),p(t,s),p(e,l),p(e,o),p(o,a),p(a,c),p(o,u),p(o,f),D(d,f,null),m=!0,b||(A=P(s,"click",r[2]),b=!0)},p(_,[k]){const v={};k&1&&(v.src=_[0]),n.$set(v),(!m||k&2)&&W(c,_[1])},i(_){m||(w(n.$$.fragment,_),w(d.$$.fragment,_),m=!0)},o(_){C(n.$$.fragment,_),C(d.$$.fragment,_),m=!1},d(_){_&&y(e),B(n),B(d),b=!1,A()}}}function MT(r,e,t){let n;K(r,Fe,l=>t(1,n=l));let i="";ne.subscribe(l=>{t(0,i=hn(l.acc.profilePicture))});function s(){Je("pfpSel","SettingsApp")}return[i,n,s]}class FT extends j{constructor(e){super(),z(this,e,MT,BT,N,{})}}function PT(r){let e,t,n,i,s;return t=new FT({}),i=new DT({}),{c(){e=g("div"),M(t.$$.fragment),n=T(),M(i.$$.fragment),h(e,"class","settingspage-account")},m(l,o){S(l,e,o),D(t,e,null),p(e,n),D(i,e,null),s=!0},p:O,i(l){s||(w(t.$$.fragment,l),w(i.$$.fragment,l),s=!0)},o(l){C(t.$$.fragment,l),C(i.$$.fragment,l),s=!1},d(l){l&&y(e),B(t),B(i)}}}class UT extends j{constructor(e){super(),z(this,e,null,PT,N,{})}}function NT(r){let e,t,n,i,s,l,o,a=r[0].info.name+"",c,u,f,d=r[0].info.description+"",m,b,A;return{c(){e=g("button"),t=g("img"),s=T(),l=g("div"),o=g("p"),c=F(a),u=T(),f=g("p"),m=F(d),de(t.src,n=Wt(r[0].id)||yt(r[0]))||h(t,"src",n),h(t,"alt",i=r[0].info.name),h(t,"class","icon"),h(o,"class","title"),h(f,"class","description"),h(l,"class","info"),h(e,"class","appbutton"),U(e,"disabled",r[0].disabled)},m(_,k){S(_,e,k),p(e,t),p(e,s),p(e,l),p(l,o),p(o,c),p(l,u),p(l,f),p(f,m),b||(A=P(e,"click",r[1]),b=!0)},p(_,[k]){k&1&&!de(t.src,n=Wt(_[0].id)||yt(_[0]))&&h(t,"src",n),k&1&&i!==(i=_[0].info.name)&&h(t,"alt",i),k&1&&a!==(a=_[0].info.name+"")&&W(c,a),k&1&&d!==(d=_[0].info.description+"")&&W(m,d),k&1&&U(e,"disabled",_[0].disabled)},i:O,o:O,d(_){_&&y(e),b=!1,A()}}}function zT(r,e,t){let{app:n}=e;function i(){At("AppInfo"),setTimeout(()=>{zi.set(n.id),Pe("AppInfo")},300)}return r.$$set=s=>{"app"in s&&t(0,n=s.app)},[n,i]}let jT=class extends j{constructor(e){super(),z(this,e,zT,NT,N,{app:0})}};function Eu(r,e,t){const n=r.slice();return n[5]=e[t],n}function Iu(r){let e,t;return e=new jT({props:{app:r[5]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.app=n[5]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Ou(r){let e=Ht(r[5])||r[1].sh.showHiddenApps,t,n,i=e&&Iu(r);return{c(){i&&i.c(),t=ae()},m(s,l){i&&i.m(s,l),S(s,t,l),n=!0},p(s,l){l&3&&(e=Ht(s[5])||s[1].sh.showHiddenApps),e?i?(i.p(s,l),l&3&&w(i,1)):(i=Iu(s),i.c(),w(i,1),i.m(t.parentNode,t)):i&&(q(),C(i,1,1,()=>{i=null}),Y())},i(s){n||(w(i),n=!0)},o(s){C(i),n=!1},d(s){s&&y(t),i&&i.d(s)}}}function HT(r){let e,t,n,i,s,l,o,a,c,u,f=x(r[0]),d=[];for(let b=0;b<f.length;b+=1)d[b]=Ou(Eu(r,f,b));const m=b=>C(d[b],1,1,()=>{d[b]=null});return{c(){e=g("div"),t=g("div");for(let b=0;b<d.length;b+=1)d[b].c();n=T(),i=g("div"),s=g("p"),s.textContent="Show hidden apps",l=T(),o=g("input"),h(t,"class","apps"),h(s,"class","label"),h(o,"type","checkbox"),h(o,"class","switch"),h(i,"class","apps-hidden-toggle"),h(e,"class","page-apps")},m(b,A){S(b,e,A),p(e,t);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(t,null);p(e,n),p(e,i),p(i,s),p(i,l),p(i,o),o.checked=r[1].sh.showHiddenApps,a=!0,c||(u=[P(o,"change",r[3]),P(o,"click",r[2])],c=!0)},p(b,[A]){if(A&3){f=x(b[0]);let _;for(_=0;_<f.length;_+=1){const k=Eu(b,f,_);d[_]?(d[_].p(k,A),w(d[_],1)):(d[_]=Ou(k),d[_].c(),w(d[_],1),d[_].m(t,null))}for(q(),_=f.length;_<d.length;_+=1)m(_);Y()}A&2&&(o.checked=b[1].sh.showHiddenApps)},i(b){if(!a){for(let A=0;A<f.length;A+=1)w(d[A]);a=!0}},o(b){d=d.filter(Boolean);for(let A=0;A<d.length;A+=1)C(d[A]);a=!1},d(b){b&&y(e),me(d,b),c=!1,ke(u)}}}function QT(r,e,t){let n,i;K(r,ue,a=>t(4,n=a)),K(r,ne,a=>t(1,i=a));let s=[];ue.subscribe(a=>t(0,s=[...a].sort((c,u)=>c.id>u.id?0:-1)));function l(){ue.set(n)}function o(){i.sh.showHiddenApps=this.checked,ne.set(i)}return[s,i,l,o]}class WT extends j{constructor(e){super(),z(this,e,QT,HT,N,{})}}async function GT(r,e){Z("ts/api/upload.ts: directSingleUpload",`${r}: (${e||"no accept"})`,se.info),r.endsWith("/")&&r.slice(0,-1);const t=document.createElement("input");t.type="file",t.accept=e;const n=pe();return t.onchange=async()=>{t.files.length||n.set("");const s=t.files[0];n.set(await KT(s,r))},t.click(),new Promise(i=>{n.subscribe(s=>{s&&i(s)})})}async function KT(r,e){Z("ts/api/upload.ts: fileUpload",`Uploading ${r.name} to ${e}`,se.info);const t=new Blob([new Uint8Array(await r.arrayBuffer())]),n=`${e}/${r.name}`.split("//").join("/"),i=await xp(r,n);_l.set(i);const s=await un(n,t);return tt.refresh(),s?n:""}const VT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABIAAAAKICAIAAACHSRZaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAiSSURBVHhe7cEBDQAAAMKg909tDjcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALhTAzCGAAGNmWH9AAAAAElFTkSuQmCC",qT=""+new URL("img01-a6458b53.jpeg",import.meta.url).href,YT=""+new URL("img02-b03be002.png",import.meta.url).href,JT=""+new URL("img03-87b2d378.png",import.meta.url).href,ZT=""+new URL("img04-9d473c5a.png",import.meta.url).href,XT=""+new URL("img05-3c6c1958.png",import.meta.url).href,xT=""+new URL("img06-e2fa3f96.jpg",import.meta.url).href,eE=""+new URL("img07-788d74d9.jpg",import.meta.url).href,tE=""+new URL("img08-feb75f17.jpg",import.meta.url).href,nE=""+new URL("img11-d41c172b.jpg",import.meta.url).href,iE=""+new URL("img12-c9a4396e.png",import.meta.url).href,rE=""+new URL("img13-0a31c489.png",import.meta.url).href,sE=""+new URL("img14-54c8328b.jpg",import.meta.url).href,lE=""+new URL("img15-ddfd765d.jpg",import.meta.url).href,oE=""+new URL("img16-f0145d13.jpg",import.meta.url).href,aE=""+new URL("img17-ebfd7073.jpg",import.meta.url).href,cE=""+new URL("img18-b02e721d.jpg",import.meta.url).href,uE=""+new URL("img19-b69c5f66.png",import.meta.url).href,Yn={img04:{url:ZT,author:"Izaak Kuipers",name:"ArcOS Dark"},img05:{url:XT,author:"Izaak Kuipers",name:"ArcOS Light"},img03:{url:JT,author:"Izaak Kuipers",name:"Stealth Gradient"},img11:{url:nE,author:"Unknown",name:"Legacy Login"},img12:{url:iE,author:"Izaak Kuipers",name:"Gradiented Waves"},img08:{url:tE,author:"SWHFotografie",name:"Wandelbos",source:"Wandelbos, The Netherlands"},img13:{url:rE,author:"SWHFotografie",name:"Agga"},img18:{url:cE,author:"SWHFotografie",name:"Wilhelmina Sunset",source:"Wilheminakanaal, Tilburg, The Netherlands"},img15:{url:lE,author:"Matteo Scaringi",name:"Corfu",source:"Corfu, Greece"},img19:{url:uE,author:"Matteo Scaringi",name:"Long Exposure",source:"Slijpe, West-Flanders, Belgium"},img14:{url:sE,author:"Kees van Voorthuizen",name:"Scheveningen"},img01:{url:qT,author:"Kees van Voorthuizen",name:"Mykonos Seaside",source:"Mykonos, Greece"},img02:{url:YT,author:"Kees van Voorthuizen",name:"Sunset in Mykonos",source:"Mykonos, Greece"},img17:{url:aE,author:"Blocky (Cy)",name:"Sunset Sky",source:"Fairfield Bay, US"},img16:{url:oE,author:"Matteo Scaringi, Izaak Kuipers",name:"Login Background - Blurred",source:"Corfu, Greece"},img06:{url:xT,author:"Izaak Kuipers",name:"ArcOS Beta Dark"},img07:{url:eE,author:"Izaak Kuipers",name:"ArcOS Beta Light"},img0:{url:VT,author:"Izaak Kuipers",name:"Blank"}},Ls=[["@local:",async r=>await fE(atob(r.replace("@local:","")))],["img",r=>Yn[r]||Yn.img04]];async function Ql(r){if(!r)return Yn.img04;if(r.startsWith("http"))return{author:"The Web",name:r,url:r};for(let e=0;e<Ls.length;e++)if(r.startsWith(Ls[e][0]))return await Ls[e][1](r);return Yn.img04}async function fE(r){Z("wallpapers.ts: wallpaperFromFS",`Reading wallpaper from path "${r}"...`,se.info);const e=await cn(r);if(!e)return Z("wallpapers.ts: wallpaperFromFS",`Unable to get wallpaper "${r}"`,se.error),Yn.img04;const t=URL.createObjectURL(new Blob([new Uint8Array(e)],{type:"image/jpeg"}));return{url:t,author:G(Fe),name:t,source:""}}function dE(r){let e,t,n,i;return{c(){e=g("div"),t=g("div"),n=T(),i=g("div"),i.innerHTML='<div class="fake-titlebar">Window Title</div> <div class="fake-body">Window body</div>',h(t,"class","fake-taskbar"),U(t,"colored",r[1].sh.taskbar.colored),U(t,"docked",r[1].sh.taskbar.docked),h(i,"class","fake-window"),h(e,"class","current"),Se(e,"background-image","url("+r[0]+")")},m(s,l){S(s,e,l),p(e,t),p(e,n),p(e,i)},p(s,[l]){l&2&&U(t,"colored",s[1].sh.taskbar.colored),l&2&&U(t,"docked",s[1].sh.taskbar.docked),l&1&&Se(e,"background-image","url("+s[0]+")")},i:O,o:O,d(s){s&&y(e)}}}function pE(r,e,t){let n;K(r,ne,s=>t(1,n=s));let i="";return ne.subscribe(async()=>{t(0,i=(await Ql(n.sh.desktop.wallpaper)).url)}),[i,n]}class Wl extends j{constructor(e){super(),z(this,e,pE,dE,N,{})}}function Ru(r){let e;return{c(){e=g("span"),e.textContent="block",h(e,"class","material-icons-round none")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function mE(r){let e,t,n,i,s=r[0][0]=="img0"&&Ru();return{c(){e=g("div"),s&&s.c(),h(e,"class","wallpaper"),Se(e,"background-image","url("+r[0][1].url+")"),h(e,"title",t=r[0][0]=="img0"?"(none)":`${r[0][1].name} from ${r[0][1].author}`),U(e,"selected",r[1].sh.desktop.wallpaper==r[0][0])},m(l,o){S(l,e,o),s&&s.m(e,null),n||(i=P(e,"click",r[2]),n=!0)},p(l,[o]){l[0][0]=="img0"?s||(s=Ru(),s.c(),s.m(e,null)):s&&(s.d(1),s=null),o&1&&Se(e,"background-image","url("+l[0][1].url+")"),o&1&&t!==(t=l[0][0]=="img0"?"(none)":`${l[0][1].name} from ${l[0][1].author}`)&&h(e,"title",t),o&3&&U(e,"selected",l[1].sh.desktop.wallpaper==l[0][0])},i:O,o:O,d(l){l&&y(e),s&&s.d(),n=!1,i()}}}function hE(r,e,t){let n;K(r,ne,l=>t(1,n=l));let{wallpaper:i}=e;function s(){Ee(ne,n.sh.desktop.wallpaper=i[0],n)}return r.$$set=l=>{"wallpaper"in l&&t(0,i=l.wallpaper)},[i,n,s]}class gE extends j{constructor(e){super(),z(this,e,hE,mE,N,{wallpaper:0})}}function Lu(r,e,t){const n=r.slice();return n[2]=e[t],n}function Du(r){let e,t;return e=new gE({props:{wallpaper:r[2]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function AE(r){let e,t,n,i,s,l,o,a,c,u,f;t=new Wl({});let d=x(Object.entries(Yn)),m=[];for(let A=0;A<d.length;A+=1)m[A]=Du(Lu(r,d,A));const b=A=>C(m[A],1,1,()=>{m[A]=null});return{c(){e=g("div"),M(t.$$.fragment),n=T(),i=g("div");for(let A=0;A<m.length;A+=1)m[A].c();s=T(),l=g("div"),l.textContent="upload",o=T(),a=g("div"),a.textContent="travel_explore",h(l,"class","wallpaper nobg customwp material-icons-round"),h(l,"title","Upload wallpaper"),h(a,"class","wallpaper nobg customwp material-icons-round"),h(a,"title","Wallpaper from URL"),h(i,"class","wallpapers"),h(e,"class","desktop-page")},m(A,_){S(A,e,_),D(t,e,null),p(e,n),p(e,i);for(let k=0;k<m.length;k+=1)m[k]&&m[k].m(i,null);p(i,s),p(i,l),p(i,o),p(i,a),c=!0,u||(f=[P(l,"click",r[1]),P(a,"click",r[0])],u=!0)},p(A,[_]){if(_&0){d=x(Object.entries(Yn));let k;for(k=0;k<d.length;k+=1){const v=Lu(A,d,k);m[k]?(m[k].p(v,_),w(m[k],1)):(m[k]=Du(v),m[k].c(),w(m[k],1),m[k].m(i,s))}for(q(),k=d.length;k<m.length;k+=1)b(k);Y()}},i(A){if(!c){w(t.$$.fragment,A);for(let _=0;_<d.length;_+=1)w(m[_]);c=!0}},o(A){C(t.$$.fragment,A),m=m.filter(Boolean);for(let _=0;_<m.length;_+=1)C(m[_]);c=!1},d(A){A&&y(e),B(t),me(m,A),u=!1,ke(f)}}}function bE(r){function e(){Je("customWallpaper","SettingsApp")}async function t(){await Vi("./Wallpapers");const n=await GT("./Wallpapers","image/png, image/jpeg, image/gif, image/svg+xml"),i=G(ne);i.sh.desktop.wallpaper=`@local:${btoa(n)}`,ne.set(i)}return[e,t]}let _E=class extends j{constructor(e){super(),z(this,e,bE,AE,N,{})}};function wE(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"id","a"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.taskbar.isLauncher,t||(n=P(e,"change",r[1]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.taskbar.isLauncher)},d(i){i&&y(e),t=!1,n()}}}function Bu(r){let e,t,n,i,s,l;return e=new it({props:{title:"Center taskbar buttons",context:"Centers the taskbar app buttons",$$slots:{default:[vE]},$$scope:{ctx:r}}}),n=new it({props:{title:"Taskbar app labels",context:"Display app names on the taskbar",$$slots:{default:[kE]},$$scope:{ctx:r}}}),s=new it({props:{title:"Taskbar position",context:"Where do you want the taskbar?",$$slots:{default:[yE]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment),i=T(),M(s.$$.fragment)},m(o,a){D(e,o,a),S(o,t,a),D(n,o,a),S(o,i,a),D(s,o,a),l=!0},p(o,a){const c={};a&513&&(c.$$scope={dirty:a,ctx:o}),e.$set(c);const u={};a&513&&(u.$$scope={dirty:a,ctx:o}),n.$set(u);const f={};a&513&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){l||(w(e.$$.fragment,o),w(n.$$.fragment,o),w(s.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),C(n.$$.fragment,o),C(s.$$.fragment,o),l=!1},d(o){o&&(y(t),y(i)),B(e,o),B(n,o),B(s,o)}}}function vE(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"id","a"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.taskbar.centered,t||(n=P(e,"change",r[2]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.taskbar.centered)},d(i){i&&y(e),t=!1,n()}}}function kE(r){let e,t,n,i;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"id","a"),h(e,"class","switch"),e.disabled=t=!!r[0].sh.taskbar.pos},m(s,l){S(s,e,l),e.checked=r[0].sh.taskbar.labels,n||(i=P(e,"change",r[3]),n=!0)},p(s,l){l&1&&t!==(t=!!s[0].sh.taskbar.pos)&&(e.disabled=t),l&1&&(e.checked=s[0].sh.taskbar.labels)},d(s){s&&y(e),n=!1,i()}}}function yE(r){let e,t,n,i,s,l;return{c(){e=g("select"),t=g("option"),t.textContent="Left",n=g("option"),n.textContent="Bottom",i=g("option"),i.textContent="Right",t.__value="vertical",ge(t,t.__value),n.__value="",ge(n,n.__value),i.__value="vertical-right",ge(i,i.__value),r[0].sh.taskbar.pos===void 0&&En(()=>r[4].call(e))},m(o,a){S(o,e,a),p(e,t),p(e,n),p(e,i),Tn(e,r[0].sh.taskbar.pos,!0),s||(l=P(e,"change",r[4]),s=!0)},p(o,a){a&1&&Tn(e,o[0].sh.taskbar.pos)},d(o){o&&y(e),s=!1,l()}}}function SE(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"id","a"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.start.small,t||(n=P(e,"change",r[5]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.start.small)},d(i){i&&y(e),t=!1,n()}}}function $E(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"id","a"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.taskbar.docked,t||(n=P(e,"change",r[6]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.taskbar.docked)},d(i){i&&y(e),t=!1,n()}}}function CE(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"id","a"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.taskbar.colored,t||(n=P(e,"change",r[7]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.taskbar.colored)},d(i){i&&y(e),t=!1,n()}}}function TE(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.compactContext,t||(n=P(e,"change",r[8]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.compactContext)},d(i){i&&y(e),t=!1,n()}}}function EE(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A;n=new it({props:{title:"Launcher Mode",context:"Use a GNOME-style launcher instead of the taskbar",$$slots:{default:[wE]},$$scope:{ctx:r}}});let _=!r[0].sh.taskbar.isLauncher&&Bu(r);return a=new it({props:{title:"Small start menu",context:"Make the start menu smaller",$$slots:{default:[SE]},$$scope:{ctx:r}}}),u=new it({props:{title:"Dock shell",context:"Dock the taskbar and action center",$$slots:{default:[$E]},$$scope:{ctx:r}}}),d=new it({props:{title:"Colored shell",context:"Apply the accent color to the shell",$$slots:{default:[CE]},$$scope:{ctx:r}}}),b=new it({props:{title:"Compact context menu",context:"Make the context menu more compact",$$slots:{default:[TE]},$$scope:{ctx:r}}}),{c(){e=g("h1"),e.textContent="Shell",t=T(),M(n.$$.fragment),i=T(),_&&_.c(),s=T(),l=g("hr"),o=T(),M(a.$$.fragment),c=T(),M(u.$$.fragment),f=T(),M(d.$$.fragment),m=T(),M(b.$$.fragment)},m(k,v){S(k,e,v),S(k,t,v),D(n,k,v),S(k,i,v),_&&_.m(k,v),S(k,s,v),S(k,l,v),S(k,o,v),D(a,k,v),S(k,c,v),D(u,k,v),S(k,f,v),D(d,k,v),S(k,m,v),D(b,k,v),A=!0},p(k,[v]){const $={};v&513&&($.$$scope={dirty:v,ctx:k}),n.$set($),k[0].sh.taskbar.isLauncher?_&&(q(),C(_,1,1,()=>{_=null}),Y()):_?(_.p(k,v),v&1&&w(_,1)):(_=Bu(k),_.c(),w(_,1),_.m(s.parentNode,s));const E={};v&513&&(E.$$scope={dirty:v,ctx:k}),a.$set(E);const I={};v&513&&(I.$$scope={dirty:v,ctx:k}),u.$set(I);const L={};v&513&&(L.$$scope={dirty:v,ctx:k}),d.$set(L);const R={};v&513&&(R.$$scope={dirty:v,ctx:k}),b.$set(R)},i(k){A||(w(n.$$.fragment,k),w(_),w(a.$$.fragment,k),w(u.$$.fragment,k),w(d.$$.fragment,k),w(b.$$.fragment,k),A=!0)},o(k){C(n.$$.fragment,k),C(_),C(a.$$.fragment,k),C(u.$$.fragment,k),C(d.$$.fragment,k),C(b.$$.fragment,k),A=!1},d(k){k&&(y(e),y(t),y(i),y(s),y(l),y(o),y(c),y(f),y(m)),B(n,k),_&&_.d(k),B(a,k),B(u,k),B(d,k),B(b,k)}}}function IE(r,e,t){let n;K(r,ne,d=>t(0,n=d));function i(){n.sh.taskbar.isLauncher=this.checked,ne.set(n)}function s(){n.sh.taskbar.centered=this.checked,ne.set(n)}function l(){n.sh.taskbar.labels=this.checked,ne.set(n)}function o(){n.sh.taskbar.pos=Vr(this),ne.set(n)}function a(){n.sh.start.small=this.checked,ne.set(n)}function c(){n.sh.taskbar.docked=this.checked,ne.set(n)}function u(){n.sh.taskbar.colored=this.checked,ne.set(n)}function f(){n.sh.compactContext=this.checked,ne.set(n)}return[n,i,s,l,o,a,c,u,f]}let OE=class extends j{constructor(e){super(),z(this,e,IE,EE,N,{})}};const Mu={arcDark:{author:"ArcOS Team",version:"1.0.0",name:"ArcOS Dark",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img04",taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",docked:!1,accent:"70D6FF",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!1},arcLight:{author:"ArcOS Team",version:"1.0.0",name:"ArcOS Light",anim:!0,noGlass:!1,sharp:!1,theme:"light",wallpaper:"img05",taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",docked:!1,accent:"70D6FF",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!1},theHague:{author:"Aron Wagener",version:"1.0.0",name:"The Hague",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img13",taskbarCentered:!1,taskbarLabels:!0,taskbarPosition:"",docked:!0,accent:"0A0",smallStart:!1,titleButtons:"default",titlebarLarge:!0,titlebarLeft:!1,taskbarColored:!1},wacky:{author:"Izaak Kuipers",version:"1.0.0",name:"Wacky",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img03",taskbarCentered:!0,taskbarLabels:!0,taskbarPosition:"vertical",docked:!1,accent:"fa0",smallStart:!0,titleButtons:"og",titlebarLarge:!0,titlebarLeft:!0,taskbarColored:!1},performance:{author:"ArcOS Team",version:"1.0.0",name:"Optimal Performance",anim:!1,noGlass:!0,sharp:!0,theme:"dark",wallpaper:"img0",taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",docked:!0,accent:"FFF",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!1},wandelbos:{version:"1.0.0",name:"Wandelbos",author:"Izaak",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img08",accent:"91F5AD",docked:!0,taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!0},scheveningen:{version:"1.0.0",name:"Scheveningen",author:"Izaak & keesvv",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img14",accent:"264653",docked:!0,taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!0}};function RE(r){let e,t,n,i,s,l,o,a,c,u,f;return{c(){e=g("button"),t=g("div"),n=g("div"),h(n,"class","accent"),Se(n,"color",r[0][1].accent),h(t,"class",i="mockup-window theme-"+r[0][1].theme),h(e,"class","themerenderer"),h(e,"title",s=r[0][1].name+" by "+r[0][1].author),Se(e,"background-image","url("+r[2]+")"),Se(e,"--accent","#"+r[0][1].accent),h(e,"data-id",l=r[0][0]),h(e,"data-contextmenu",o="themerenderer-"+(r[1]?"user":"system")),h(e,"data-name",a=r[0][1].name),h(e,"data-json",c=JSON.stringify(r[0][1])),U(e,"sharp",r[0][1].sharp)},m(d,m){S(d,e,m),p(e,t),p(t,n),u||(f=P(e,"click",r[3]),u=!0)},p(d,[m]){m&1&&Se(n,"color",d[0][1].accent),m&1&&i!==(i="mockup-window theme-"+d[0][1].theme)&&h(t,"class",i),m&1&&s!==(s=d[0][1].name+" by "+d[0][1].author)&&h(e,"title",s),m&4&&Se(e,"background-image","url("+d[2]+")"),m&1&&Se(e,"--accent","#"+d[0][1].accent),m&1&&l!==(l=d[0][0])&&h(e,"data-id",l),m&2&&o!==(o="themerenderer-"+(d[1]?"user":"system"))&&h(e,"data-contextmenu",o),m&1&&a!==(a=d[0][1].name)&&h(e,"data-name",a),m&1&&c!==(c=JSON.stringify(d[0][1]))&&h(e,"data-json",c),m&1&&U(e,"sharp",d[0][1].sharp)},i:O,o:O,d(d){d&&y(e),u=!1,f()}}}function LE(r,e,t){let{theme:n}=e,{user:i=!1}=e,s="";function l(){zp(n[1])}return ve(async()=>{t(2,s=(await Ql(n[1].wallpaper)).url)}),r.$$set=o=>{"theme"in o&&t(0,n=o.theme),"user"in o&&t(1,i=o.user)},[n,i,s,l]}class _m extends j{constructor(e){super(),z(this,e,LE,RE,N,{theme:0,user:1})}}function Fu(r,e,t){const n=r.slice();return n[4]=e[t],n}function Pu(r,e,t){const n=r.slice();return n[4]=e[t],n}function Uu(r){let e,t;return e=new _m({props:{theme:r[4]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Nu(r){let e,t,n=x(Object.entries(r[1].sh.userThemes)),i=[];for(let l=0;l<n.length;l+=1)i[l]=zu(Fu(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ae()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&2){n=x(Object.entries(l[1].sh.userThemes));let a;for(a=0;a<n.length;a+=1){const c=Fu(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=zu(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function zu(r){let e,t;return e=new _m({props:{theme:r[4],user:!0}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.theme=n[4]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function DE(r){let e,t,n,i,s,l,o,a=x(Object.entries(Mu)),c=[];for(let d=0;d<a.length;d+=1)c[d]=Uu(Pu(r,a,d));const u=d=>C(c[d],1,1,()=>{c[d]=null});let f=!r[0]&&r[1].sh.userThemes&&Nu(r);return{c(){e=g("div");for(let d=0;d<c.length;d+=1)c[d].c();t=T(),f&&f.c(),n=T(),i=g("button"),i.textContent="save",h(i,"class","themerenderer save material-icons-round"),h(i,"title","Save current theme"),h(e,"class","themes")},m(d,m){S(d,e,m);for(let b=0;b<c.length;b+=1)c[b]&&c[b].m(e,null);p(e,t),f&&f.m(e,null),p(e,n),p(e,i),s=!0,l||(o=P(i,"click",r[2]),l=!0)},p(d,[m]){if(m&0){a=x(Object.entries(Mu));let b;for(b=0;b<a.length;b+=1){const A=Pu(d,a,b);c[b]?(c[b].p(A,m),w(c[b],1)):(c[b]=Uu(A),c[b].c(),w(c[b],1),c[b].m(e,t))}for(q(),b=a.length;b<c.length;b+=1)u(b);Y()}!d[0]&&d[1].sh.userThemes?f?(f.p(d,m),m&3&&w(f,1)):(f=Nu(d),f.c(),w(f,1),f.m(e,n)):f&&(q(),C(f,1,1,()=>{f=null}),Y())},i(d){if(!s){for(let m=0;m<a.length;m+=1)w(c[m]);w(f),s=!0}},o(d){c=c.filter(Boolean);for(let m=0;m<c.length;m+=1)C(c[m]);C(f),s=!1},d(d){d&&y(e),me(c,d),f&&f.d(),l=!1,o()}}}function BE(r,e,t){let n;K(r,ne,o=>t(1,n=o));let i=0,s=!1;return ne.subscribe(o=>{const a=Object.entries(o.sh.userThemes);i!=a.length&&(i=a.length,t(0,s=!0),setTimeout(()=>{t(0,s=!1)}))}),[s,n,()=>Je("saveTheme","SettingsApp")]}class ME extends j{constructor(e){super(),z(this,e,BE,DE,N,{})}}function FE(r){let e,t,n,i,s,l;return n=new Wl({}),s=new ME({}),{c(){e=g("div"),t=g("div"),M(n.$$.fragment),i=T(),M(s.$$.fragment),h(t,"class","desktop-page"),h(e,"class","settingspage-themes")},m(o,a){S(o,e,a),p(e,t),D(n,t,null),p(e,i),D(s,e,null),l=!0},p:O,i(o){l||(w(n.$$.fragment,o),w(s.$$.fragment,o),l=!0)},o(o){C(n.$$.fragment,o),C(s.$$.fragment,o),l=!1},d(o){o&&y(e),B(n),B(s)}}}class PE extends j{constructor(e){super(),z(this,e,null,FE,N,{})}}const UE=["D62828","F3722C","F49E4C","F8961E","F9C74F","E2C044","E9FF70","C2E812","90BE6D","F1FAEE","61E786","91F5AD","43AA8B","A8DADC","70D6FF","264653","457B9D","577590","1D3557","AFCBFF","03045E","A09BE7","7209B7","F72585","F61067","FF70A6","E63946","F94144"];function NE(r){let e,t,n,i;return{c(){e=g("button"),h(e,"class","color ol reset svelte-1wlqbdo"),Se(e,"background","#"+r[0]),h(e,"data-contextmenu","appearance-accentselector"),h(e,"data-hex",r[0]),h(e,"title",t="#"+r[0].toUpperCase()),U(e,"selected",r[0]==r[1].sh.desktop.accent)},m(s,l){S(s,e,l),n||(i=P(e,"click",r[2]),n=!0)},p(s,[l]){l&1&&Se(e,"background","#"+s[0]),l&1&&h(e,"data-hex",s[0]),l&1&&t!==(t="#"+s[0].toUpperCase())&&h(e,"title",t),l&3&&U(e,"selected",s[0]==s[1].sh.desktop.accent)},i:O,o:O,d(s){s&&y(e),n=!1,i()}}}function zE(r,e,t){let n;K(r,ne,l=>t(1,n=l));let{color:i}=e;function s(){Ee(ne,n.sh.desktop.accent=i,n)}return r.$$set=l=>{"color"in l&&t(0,i=l.color)},[i,n,s]}class jE extends j{constructor(e){super(),z(this,e,zE,NE,N,{color:0})}}function HE(r,e,t){const n=r.slice();return n[0]=e[t],n}function QE(r){let e,t;return e=new jE({props:{color:r[0]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function WE(r){let e,t,n,i;e=new it({props:{title:"Accent Color",context:"Choose an accent color for ArcOS"}});let s=x(UE),l=[];for(let o=0;o<s.length;o+=1)l[o]=QE(HE(r,s,o));return{c(){M(e.$$.fragment),t=T(),n=g("div");for(let o=0;o<l.length;o+=1)l[o].c();h(n,"class","wrapper svelte-1xz38z7")},m(o,a){D(e,o,a),S(o,t,a),S(o,n,a);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(n,null);i=!0},p:O,i(o){if(!i){w(e.$$.fragment,o);for(let a=0;a<s.length;a+=1)w(l[a]);i=!0}},o(o){C(e.$$.fragment,o),l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)C(l[a]);i=!1},d(o){o&&(y(t),y(n)),B(e,o),me(l,o)}}}class GE extends j{constructor(e){super(),z(this,e,null,WE,N,{})}}function KE(r){let e,t,n,i,s,l,o,a,c;return{c(){e=g("select"),t=g("option"),t.textContent="Darkmode",n=g("option"),n.textContent="Lightmode",i=g("option"),i.textContent="Amoled",s=g("option"),s.textContent="Amber Monochrome",l=g("option"),l.textContent="Science Fiction",o=g("option"),o.textContent="High contrast",t.__value="dark",ge(t,t.__value),n.__value="light",ge(n,n.__value),i.__value="amoled",ge(i,i.__value),s.__value="amber",ge(s,s.__value),l.__value="scifi",ge(l,l.__value),o.__value="hc",ge(o,o.__value),h(e,"name","aa"),h(e,"id","bb"),r[0].sh.desktop.theme===void 0&&En(()=>r[1].call(e))},m(u,f){S(u,e,f),p(e,t),p(e,n),p(e,i),p(e,s),p(e,l),p(e,o),Tn(e,r[0].sh.desktop.theme,!0),a||(c=P(e,"change",r[1]),a=!0)},p(u,f){f&1&&Tn(e,u[0].sh.desktop.theme)},d(u){u&&y(e),a=!1,c()}}}function VE(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.anim,t||(n=P(e,"change",r[2]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.anim)},d(i){i&&y(e),t=!1,n()}}}function qE(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.noGlass,t||(n=P(e,"change",r[3]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.noGlass)},d(i){i&&y(e),t=!1,n()}}}function YE(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.desktop.sharp,t||(n=P(e,"change",r[4]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.desktop.sharp)},d(i){i&&y(e),t=!1,n()}}}function JE(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.desktop.noCustomCursor,t||(n=P(e,"change",r[5]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.desktop.noCustomCursor)},d(i){i&&y(e),t=!1,n()}}}function ZE(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k,v;return n=new it({props:{title:"Style",context:"Change the style of the UI",$$slots:{default:[KE]},$$scope:{ctx:r}}}),o=new it({props:{title:"Animations",context:"Display animations in ArcOS",$$slots:{default:[VE]},$$scope:{ctx:r}}}),c=new it({props:{title:"No glass",context:"Disable glass effects in ArcOS",$$slots:{default:[qE]},$$scope:{ctx:r}}}),f=new it({props:{title:"Sharp corners",context:"Disable rounding in all of ArcOS",$$slots:{default:[YE]},$$scope:{ctx:r}}}),m=new it({props:{title:"No Custom Cursors",context:"Disable the ArcOS custom cursors",$$slots:{default:[JE]},$$scope:{ctx:r}}}),k=new GE({}),{c(){e=g("h1"),e.textContent="Appearance",t=T(),M(n.$$.fragment),i=T(),s=g("hr"),l=T(),M(o.$$.fragment),a=T(),M(c.$$.fragment),u=T(),M(f.$$.fragment),d=T(),M(m.$$.fragment),b=T(),A=g("hr"),_=T(),M(k.$$.fragment)},m($,E){S($,e,E),S($,t,E),D(n,$,E),S($,i,E),S($,s,E),S($,l,E),D(o,$,E),S($,a,E),D(c,$,E),S($,u,E),D(f,$,E),S($,d,E),D(m,$,E),S($,b,E),S($,A,E),S($,_,E),D(k,$,E),v=!0},p($,[E]){const I={};E&65&&(I.$$scope={dirty:E,ctx:$}),n.$set(I);const L={};E&65&&(L.$$scope={dirty:E,ctx:$}),o.$set(L);const R={};E&65&&(R.$$scope={dirty:E,ctx:$}),c.$set(R);const H={};E&65&&(H.$$scope={dirty:E,ctx:$}),f.$set(H);const Q={};E&65&&(Q.$$scope={dirty:E,ctx:$}),m.$set(Q)},i($){v||(w(n.$$.fragment,$),w(o.$$.fragment,$),w(c.$$.fragment,$),w(f.$$.fragment,$),w(m.$$.fragment,$),w(k.$$.fragment,$),v=!0)},o($){C(n.$$.fragment,$),C(o.$$.fragment,$),C(c.$$.fragment,$),C(f.$$.fragment,$),C(m.$$.fragment,$),C(k.$$.fragment,$),v=!1},d($){$&&(y(e),y(t),y(i),y(s),y(l),y(a),y(u),y(d),y(b),y(A),y(_)),B(n,$),B(o,$),B(c,$),B(f,$),B(m,$),B(k,$)}}}function XE(r,e,t){let n;K(r,ne,c=>t(0,n=c));function i(){n.sh.desktop.theme=Vr(this),ne.set(n)}function s(){n.sh.anim=this.checked,ne.set(n)}function l(){n.sh.noGlass=this.checked,ne.set(n)}function o(){n.sh.desktop.sharp=this.checked,ne.set(n)}function a(){n.sh.desktop.noCustomCursor=this.checked,ne.set(n)}return[n,i,s,l,o,a]}class xE extends j{constructor(e){super(),z(this,e,XE,ZE,N,{})}}function e4(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.window.bigtb,t||(n=P(e,"change",r[1]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.window.bigtb)},d(i){i&&y(e),t=!1,n()}}}function t4(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.window.lefttb,t||(n=P(e,"change",r[2]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.window.lefttb)},d(i){i&&y(e),t=!1,n()}}}function n4(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.window.centertb,t||(n=P(e,"change",r[3]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.window.centertb)},d(i){i&&y(e),t=!1,n()}}}function i4(r){let e,t,n;return{c(){e=g("button"),e.textContent="Change..."},m(i,s){S(i,e,s),t||(n=P(e,"click",r[4]),t=!0)},p:O,d(i){i&&y(e),t=!1,n()}}}function r4(r){let e,t,n,i,s,l,o,a,c,u;return n=new it({props:{title:"Large titlebar",context:"Make the titlebars larger",$$slots:{default:[e4]},$$scope:{ctx:r}}}),s=new it({props:{title:"Left titlebar buttons",context:"Swap the title and window controls",$$slots:{default:[t4]},$$scope:{ctx:r}}}),o=new it({props:{title:"Center window title",context:"Put the window title in the center of the titlebar.",$$slots:{default:[n4]},$$scope:{ctx:r}}}),c=new it({props:{title:"Titlebar Buttons",context:"Change the titlebar controls",$$slots:{default:[i4]},$$scope:{ctx:r}}}),{c(){e=g("h1"),e.textContent="Windows",t=T(),M(n.$$.fragment),i=T(),M(s.$$.fragment),l=T(),M(o.$$.fragment),a=T(),M(c.$$.fragment)},m(f,d){S(f,e,d),S(f,t,d),D(n,f,d),S(f,i,d),D(s,f,d),S(f,l,d),D(o,f,d),S(f,a,d),D(c,f,d),u=!0},p(f,[d]){const m={};d&33&&(m.$$scope={dirty:d,ctx:f}),n.$set(m);const b={};d&33&&(b.$$scope={dirty:d,ctx:f}),s.$set(b);const A={};d&33&&(A.$$scope={dirty:d,ctx:f}),o.$set(A);const _={};d&32&&(_.$$scope={dirty:d,ctx:f}),c.$set(_)},i(f){u||(w(n.$$.fragment,f),w(s.$$.fragment,f),w(o.$$.fragment,f),w(c.$$.fragment,f),u=!0)},o(f){C(n.$$.fragment,f),C(s.$$.fragment,f),C(o.$$.fragment,f),C(c.$$.fragment,f),u=!1},d(f){f&&(y(e),y(t),y(i),y(l),y(a)),B(n,f),B(s,f),B(o,f),B(c,f)}}}function s4(r,e,t){let n;K(r,ne,a=>t(0,n=a));function i(){n.sh.window.bigtb=this.checked,ne.set(n)}function s(){n.sh.window.lefttb=this.checked,ne.set(n)}function l(){n.sh.window.centertb=this.checked,ne.set(n)}return[n,i,s,l,()=>Je("changeTitleButtons","SettingsApp")]}class l4 extends j{constructor(e){super(),z(this,e,s4,r4,N,{})}}const zn=[{name:"Account",icon:nl,content:UT,sep:!0},{name:"Themes",icon:Hl,content:PE},{name:"Wallpaper",icon:jr,content:_E},{name:"Visuals",icon:bm,content:xE,sep:!0},{name:"Shell",icon:fT,content:OE},{name:"Windows",icon:dT,content:l4},{name:"Apps",icon:cs,content:WT,sep:!0},{name:"About",icon:tn(),content:$T}];function o4(r){for(let e=0;e<zn.length;e++)if(zn[e].name==r)return zn[e];return null}function Di(r){const e=o4(r);e&&(Pe("SettingsApp"),setTimeout(()=>{qn.set(e)}))}function ju(r){let e,t,n,i,s,l,o=r[0].name+"",a,c,u,f;return{c(){e=g("button"),t=g("img"),s=T(),l=g("span"),a=F(o),de(t.src,n=r[0].icon)||h(t,"src",n),h(t,"alt",i=r[0].name),h(t,"class","icon"),h(l,"class","caption"),h(e,"class","page"),e.disabled=c=r[0].disabled,U(e,"selected",r[1]&&r[0].name==r[1].name)},m(d,m){S(d,e,m),p(e,t),p(e,s),p(e,l),p(l,a),u||(f=P(e,"click",r[2]),u=!0)},p(d,m){m&1&&!de(t.src,n=d[0].icon)&&h(t,"src",n),m&1&&i!==(i=d[0].name)&&h(t,"alt",i),m&1&&o!==(o=d[0].name+"")&&W(a,o),m&1&&c!==(c=d[0].disabled)&&(e.disabled=c),m&3&&U(e,"selected",d[1]&&d[0].name==d[1].name)},d(d){d&&y(e),u=!1,f()}}}function Hu(r){let e;return{c(){e=g("hr")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function a4(r){let e,t,n=!r[0].hidden&&ju(r),i=r[0].sep&&Hu();return{c(){n&&n.c(),e=T(),i&&i.c(),t=ae()},m(s,l){n&&n.m(s,l),S(s,e,l),i&&i.m(s,l),S(s,t,l)},p(s,[l]){s[0].hidden?n&&(n.d(1),n=null):n?n.p(s,l):(n=ju(s),n.c(),n.m(e.parentNode,e)),s[0].sep?i||(i=Hu(),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i:O,o:O,d(s){s&&(y(e),y(t)),n&&n.d(s),i&&i.d(s)}}}function c4(r,e,t){let n;K(r,qn,l=>t(1,n=l));let{page:i}=e;const s=()=>oT(i);return r.$$set=l=>{"page"in l&&t(0,i=l.page)},[i,n,s]}class u4 extends j{constructor(e){super(),z(this,e,c4,a4,N,{page:0})}}function f4(r){let e,t,n,i,s,l,o,a,c,u,f,d,m;return n=new gt({props:{src:r[0],height:36}}),u=new Zi({}),{c(){e=g("div"),t=g("span"),M(n.$$.fragment),i=T(),s=g("div"),l=g("p"),o=F(r[1]),a=T(),c=g("p"),M(u.$$.fragment),h(l,"class","name"),h(c,"class","hostname"),h(s,"class","username"),h(e,"class","userprofile")},m(b,A){S(b,e,A),p(e,t),D(n,t,null),p(e,i),p(e,s),p(s,l),p(l,o),p(s,a),p(s,c),D(u,c,null),f=!0,d||(m=P(t,"click",r[2]),d=!0)},p(b,[A]){const _={};A&1&&(_.src=b[0]),n.$set(_),(!f||A&2)&&W(o,b[1])},i(b){f||(w(n.$$.fragment,b),w(u.$$.fragment,b),f=!0)},o(b){C(n.$$.fragment,b),C(u.$$.fragment,b),f=!1},d(b){b&&y(e),B(n),B(u),d=!1,m()}}}function d4(r,e,t){let n,i;K(r,ne,o=>t(3,n=o)),K(r,Fe,o=>t(1,i=o));let s="";ne.subscribe(()=>{t(0,s=hn(n.acc.profilePicture))});function l(){typeof n.acc.profilePicture=="string"&&Je("largePfp","SettingsApp")}return[s,i,l]}class p4 extends j{constructor(e){super(),z(this,e,d4,f4,N,{})}}function m4(r,e,t){const n=r.slice();return n[4]=e[t],n}function Qu(r){let e,t,n;return{c(){e=g("button"),e.innerHTML='<span class="material-icons-round">menu</span>',h(e,"class","page menu"),U(e,"active",r[0].collapsed)},m(i,s){S(i,e,s),t||(n=P(e,"click",r[1]),t=!0)},p(i,s){s&1&&U(e,"active",i[0].collapsed)},d(i){i&&y(e),t=!1,n()}}}function h4(r){let e,t;return e=new u4({props:{page:r[4]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function g4(r){let e,t,n,i,s,l,o=r[0]&&Qu(r),a=x(zn),c=[];for(let u=0;u<a.length;u+=1)c[u]=h4(m4(r,a,u));return s=new p4({}),{c(){e=g("div"),t=g("div"),o&&o.c(),n=T();for(let u=0;u<c.length;u+=1)c[u].c();i=T(),M(s.$$.fragment),h(t,"class","pages"),h(e,"class","sidebar"),U(e,"collapsed",r[0].collapsed)},m(u,f){S(u,e,f),p(e,t),o&&o.m(t,null),p(t,n);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(t,null);p(e,i),D(s,e,null),l=!0},p(u,[f]){u[0]?o?o.p(u,f):(o=Qu(u),o.c(),o.m(t,n)):o&&(o.d(1),o=null),(!l||f&1)&&U(e,"collapsed",u[0].collapsed)},i(u){if(!l){for(let f=0;f<a.length;f+=1)w(c[f]);w(s.$$.fragment,u),l=!0}},o(u){c=c.filter(Boolean);for(let f=0;f<c.length;f+=1)C(c[f]);C(s.$$.fragment,u),l=!1},d(u){u&&y(e),o&&o.d(),me(c,u),B(s)}}}function A4(r,e,t){let n;K(r,ne,o=>t(3,n=o));let{appdata:i}=e,{app:s}=e;function l(){t(0,i.collapsed=!i.collapsed,i),Ee(ne,n.appdata[s.id]=i,n)}return r.$$set=o=>{"appdata"in o&&t(0,i=o.appdata),"app"in o&&t(2,s=o.app)},[i,l,s]}class b4 extends j{constructor(e){super(),z(this,e,A4,g4,N,{appdata:0,app:2})}}function _4(r){let e,t,n,i,s;function l(a){r[2](a)}let o={app:r[1]};return r[0]!==void 0&&(o.appdata=r[0]),e=new b4({props:o}),we.push(()=>Ce(e,"appdata",l)),i=new uT({props:{appdata:r[0]}}),{c(){M(e.$$.fragment),n=T(),M(i.$$.fragment)},m(a,c){D(e,a,c),S(a,n,c),D(i,a,c),s=!0},p(a,[c]){const u={};c&2&&(u.app=a[1]),!t&&c&1&&(t=!0,u.appdata=a[0],$e(()=>t=!1)),e.$set(u);const f={};c&1&&(f.appdata=a[0]),i.$set(f)},i(a){s||(w(e.$$.fragment,a),w(i.$$.fragment,a),s=!0)},o(a){C(e.$$.fragment,a),C(i.$$.fragment,a),s=!1},d(a){a&&y(n),B(e,a),B(i,a)}}}function w4(r,e,t){let{appdata:n}=e,{app:i}=e;function s(l){n=l,t(0,n)}return r.$$set=l=>{"appdata"in l&&t(0,n=l.appdata),"app"in l&&t(1,i=l.app)},[n,i,s]}let v4=class extends j{constructor(e){super(),z(this,e,w4,_4,N,{appdata:0,app:1})}};function Wu(r,e,t){const n=r.slice();return n[8]=e[t],n[10]=t,n}function Gu(r){let e,t,n,i,s,l;function o(){return r[7](r[10])}return{c(){e=g("button"),t=g("img"),i=T(),de(t.src,n=r[8])||h(t,"src",n),h(t,"alt",`${r[10]+1}`),h(t,"class","svelte-2jlx4b"),h(e,"class","svelte-2jlx4b"),U(e,"selected",r[10]+1==r[1].acc.profilePicture)},m(a,c){S(a,e,c),p(e,t),p(e,i),s||(l=P(e,"click",o),s=!0)},p(a,c){r=a,c&1&&!de(t.src,n=r[8])&&h(t,"src",n),c&2&&U(e,"selected",r[10]+1==r[1].acc.profilePicture)},d(a){a&&y(e),s=!1,l()}}}function k4(r){let e,t,n,i,s,l,o,a,c,u,f=x(r[0]),d=[];for(let m=0;m<f.length;m+=1)d[m]=Gu(Wu(r,f,m));return{c(){e=g("div"),e.innerHTML='<h2 class="header">Change Profile Picture</h2> <p class="subheader">Choose one of the following profile pictures:</p>',t=T(),n=g("div");for(let m=0;m<d.length;m+=1)d[m].c();i=T(),s=g("div"),l=g("button"),l.textContent="Custom...",o=T(),a=g("button"),a.textContent="Cancel",h(e,"class","overlay-head"),h(n,"class","wrapper svelte-2jlx4b"),h(a,"class","cancel svelte-2jlx4b"),h(s,"class","cancel-wrapper svelte-2jlx4b")},m(m,b){S(m,e,b),S(m,t,b),S(m,n,b);for(let A=0;A<d.length;A+=1)d[A]&&d[A].m(n,null);S(m,i,b),S(m,s,b),p(s,l),p(s,o),p(s,a),c||(u=[P(l,"click",r[4]),P(a,"click",r[3])],c=!0)},p(m,[b]){if(b&7){f=x(m[0]);let A;for(A=0;A<f.length;A+=1){const _=Wu(m,f,A);d[A]?d[A].p(_,b):(d[A]=Gu(_),d[A].c(),d[A].m(n,null))}for(;A<d.length;A+=1)d[A].d(1);d.length=f.length}},i:O,o:O,d(m){m&&(y(e),y(t),y(n),y(i),y(s)),me(d,m),c=!1,ke(u)}}}function y4(r,e,t){let n;K(r,ne,f=>t(1,n=f));let i=[],{id:s}=e,{app:l}=e;ve(()=>{t(0,i=Object.values(up))});function o(f){Ee(ne,n.acc.profilePicture=f,n),a()}function a(){Ye(s,l.id)}function c(){Je("customPfp","SettingsApp")}const u=f=>o(f+1);return r.$$set=f=>{"id"in f&&t(5,s=f.id),"app"in f&&t(6,l=f.app)},[i,n,o,a,c,s,l,u]}class S4 extends j{constructor(e){super(),z(this,e,y4,k4,N,{id:5,app:6})}}function $4(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k,v,$;return n=new gt({props:{src:r[1]?r[0]:Qt,height:50}}),{c(){e=g("div"),t=g("div"),M(n.$$.fragment),i=T(),s=g("div"),l=g("p"),l.textContent="Enter the URL to a custom profile picture:",o=T(),a=g("input"),c=T(),u=g("div"),f=g("div"),d=g("button"),d.textContent="Cancel",m=T(),b=g("button"),A=F("Apply"),h(a,"type","url"),h(a,"placeholder","https://example.com/image.png"),b.disabled=_=!r[0]||!r[1],h(u,"class","apply"),h(s,"class","field"),h(e,"class","custompfp-wrapper")},m(E,I){S(E,e,I),p(e,t),D(n,t,null),p(e,i),p(e,s),p(s,l),p(s,o),p(s,a),ge(a,r[0]),p(s,c),p(s,u),p(u,f),p(f,d),p(f,m),p(f,b),p(b,A),k=!0,v||($=[P(a,"input",r[5]),P(a,"input",r[2]),P(d,"click",r[4]),P(b,"click",r[3])],v=!0)},p(E,[I]){const L={};I&3&&(L.src=E[1]?E[0]:Qt),n.$set(L),I&1&&a.value!==E[0]&&ge(a,E[0]),(!k||I&3&&_!==(_=!E[0]||!E[1]))&&(b.disabled=_)},i(E){k||(w(n.$$.fragment,E),k=!0)},o(E){C(n.$$.fragment,E),k=!1},d(E){E&&y(e),B(n),v=!1,ke($)}}}async function C4(r){const e=new Image;return e.src=r,new Promise(t=>{e.onload=()=>t(!0),e.onerror=()=>t(!1)})}function T4(r,e,t){let n="",i=!1;async function s(){const c=await C4(n);t(1,i=c)}function l(){Wg(n),Ye("customPfp","SettingsApp"),Ye("pfpSel","SettingsApp")}function o(){Ye("customPfp","SettingsApp")}ne.subscribe(c=>{typeof c.acc.profilePicture=="string"&&t(0,n=c.acc.profilePicture),s()});function a(){n=this.value,t(0,n)}return[n,i,s,l,o,a]}class E4 extends j{constructor(e){super(),z(this,e,T4,$4,N,{})}}function I4(r){let e,t,n,i,s,l,o,a,c,u,f,d;return e=new Xn({props:{id:r[0],app:r[1]}}),s=new gt({props:{src:r[2].acc.profilePicture.toString(),height:150}}),f=new Zi({}),{c(){M(e.$$.fragment),t=T(),n=g("div"),i=g("div"),M(s.$$.fragment),l=T(),o=g("h1"),a=F(r[3]),c=T(),u=g("p"),M(f.$$.fragment),h(o,"class","svelte-1hdmb0y"),h(u,"class","hostname svelte-1hdmb0y"),h(i,"class","flex-stop"),h(n,"class","center-flex text-center")},m(m,b){D(e,m,b),S(m,t,b),S(m,n,b),p(n,i),D(s,i,null),p(i,l),p(i,o),p(o,a),p(i,c),p(i,u),D(f,u,null),d=!0},p(m,[b]){const A={};b&1&&(A.id=m[0]),b&2&&(A.app=m[1]),e.$set(A);const _={};b&4&&(_.src=m[2].acc.profilePicture.toString()),s.$set(_),(!d||b&8)&&W(a,m[3])},i(m){d||(w(e.$$.fragment,m),w(s.$$.fragment,m),w(f.$$.fragment,m),d=!0)},o(m){C(e.$$.fragment,m),C(s.$$.fragment,m),C(f.$$.fragment,m),d=!1},d(m){m&&(y(t),y(n)),B(e,m),B(s),B(f)}}}function O4(r,e,t){let n,i;K(r,ne,o=>t(2,n=o)),K(r,Fe,o=>t(3,i=o));let{id:s}=e,{app:l}=e;return r.$$set=o=>{"id"in o&&t(0,s=o.id),"app"in o&&t(1,l=o.app)},[s,l,n,i]}class R4 extends j{constructor(e){super(),z(this,e,O4,I4,N,{id:0,app:1})}}function Ku(r){let e,t,n,i,s,l,o,a,c;return a=new Kp({props:{data:r[2]}}),{c(){e=g("div"),t=g("h2"),n=F("User Data for "),i=F(r[3]),s=T(),l=g("p"),l.textContent="Below is a tree view of your user data:",o=T(),M(a.$$.fragment),h(t,"class","header"),h(l,"class","subheader"),h(e,"class","overlay-head")},m(u,f){S(u,e,f),p(e,t),p(t,n),p(t,i),p(e,s),p(e,l),S(u,o,f),D(a,u,f),c=!0},p(u,f){(!c||f&8)&&W(i,u[3]);const d={};f&4&&(d.data=u[2]),a.$set(d)},i(u){c||(w(a.$$.fragment,u),c=!0)},o(u){C(a.$$.fragment,u),c=!1},d(u){u&&(y(e),y(o)),B(a,u)}}}function L4(r){let e,t,n,i;e=new Xn({props:{app:r[0],id:r[1]}});let s=r[2]&&Ku(r);return{c(){M(e.$$.fragment),t=T(),s&&s.c(),n=ae()},m(l,o){D(e,l,o),S(l,t,o),s&&s.m(l,o),S(l,n,o),i=!0},p(l,[o]){const a={};o&1&&(a.app=l[0]),o&2&&(a.id=l[1]),e.$set(a),l[2]?s?(s.p(l,o),o&4&&w(s,1)):(s=Ku(l),s.c(),w(s,1),s.m(n.parentNode,n)):s&&(q(),C(s,1,1,()=>{s=null}),Y())},i(l){i||(w(e.$$.fragment,l),w(s),i=!0)},o(l){C(e.$$.fragment,l),C(s),i=!1},d(l){l&&(y(t),y(n)),B(e,l),s&&s.d(l)}}}function D4(r,e,t){let n,i;K(r,ne,o=>t(2,n=o)),K(r,Fe,o=>t(3,i=o));let{app:s}=e,{id:l}=e;return r.$$set=o=>{"app"in o&&t(0,s=o.app),"id"in o&&t(1,l=o.id)},[s,l,n,i]}class B4 extends j{constructor(e){super(),z(this,e,D4,L4,N,{app:0,id:1})}}const Vu=""+new URL("password-d04179f1.svg",import.meta.url).href;function M4(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k,v,$,E,I,L,R;return n=new gt({props:{src:r[0],height:50}}),{c(){e=g("div"),t=g("div"),M(n.$$.fragment),i=T(),s=g("div"),l=g("p"),l.textContent="Fill out this form to change your password:",o=T(),a=g("input"),c=T(),u=g("input"),f=T(),d=g("input"),m=T(),b=g("div"),A=g("div"),_=g("button"),_.textContent="Cancel",k=T(),v=g("button"),$=F("Change"),h(a,"type","password"),h(a,"name","current"),h(a,"placeholder","Current password"),h(u,"type","password"),h(u,"name","current"),h(u,"placeholder","New password"),h(d,"type","password"),h(d,"name","current"),h(d,"placeholder","Confirm new password"),v.disabled=E=r[2]!=r[3]||!r[2]||!r[3],h(v,"type","button"),h(b,"class","apply"),h(s,"class","field"),h(e,"class","changepswd-wrapper")},m(H,Q){S(H,e,Q),p(e,t),D(n,t,null),p(e,i),p(e,s),p(s,l),p(s,o),p(s,a),ge(a,r[1]),p(s,c),p(s,u),ge(u,r[2]),p(s,f),p(s,d),ge(d,r[3]),p(s,m),p(s,b),p(b,A),p(A,_),p(A,k),p(A,v),p(v,$),I=!0,L||(R=[P(a,"input",r[8]),P(u,"input",r[9]),P(d,"input",r[10]),P(_,"click",r[4]),P(v,"click",r[5])],L=!0)},p(H,[Q]){const ee={};Q&1&&(ee.src=H[0]),n.$set(ee),Q&2&&a.value!==H[1]&&ge(a,H[1]),Q&4&&u.value!==H[2]&&ge(u,H[2]),Q&8&&d.value!==H[3]&&ge(d,H[3]),(!I||Q&12&&E!==(E=H[2]!=H[3]||!H[2]||!H[3]))&&(v.disabled=E)},i(H){I||(w(n.$$.fragment,H),I=!0)},o(H){C(n.$$.fragment,H),I=!1},d(H){H&&y(e),B(n),L=!1,ke(R)}}}function F4(r,e,t){let n;K(r,Fe,k=>t(11,n=k));let i="",{id:s}=e,{app:l}=e,o="",a="",c="";ne.subscribe(k=>{t(0,i=hn(k.acc.profilePicture))});function u(){Ye(s,l.id)}function f(){m(),u()}async function d(){if(!await Yh(n,o,a,c))return Xe({title:"Couldn't change password",message:"An error occured while changing your password. Please make sure the entered information is correct, and then try again.",buttons:[{caption:"OK",action:m}],image:Vu},l.id);Xe({title:"Password changed.",message:"Your password has been updated successfully.",buttons:[{caption:"OK",action:f}],image:Vu},l.id)}function m(){t(1,o=""),t(2,a=""),t(3,c="")}function b(){o=this.value,t(1,o)}function A(){a=this.value,t(2,a)}function _(){c=this.value,t(3,c)}return r.$$set=k=>{"id"in k&&t(6,s=k.id),"app"in k&&t(7,l=k.app)},[i,o,a,c,u,d,s,l,b,A,_]}class P4 extends j{constructor(e){super(),z(this,e,F4,M4,N,{id:6,app:7})}}function U4(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k,v,$,E,I,L;return n=new gt({props:{src:r[0],height:50}}),{c(){e=g("div"),t=g("div"),M(n.$$.fragment),i=T(),s=g("div"),l=g("p"),o=F(r[2]),a=T(),c=g("p"),c.textContent="Enter a new username",u=T(),f=g("input"),d=T(),m=g("div"),b=g("div"),A=g("button"),A.textContent="Cancel",_=T(),k=g("button"),v=F("Change"),h(l,"class","username"),h(f,"type","text"),h(f,"name","current"),h(f,"placeholder","New username"),k.disabled=$=!r[1],h(k,"type","button"),h(m,"class","apply"),h(s,"class","field"),h(e,"class","changename-wrapper")},m(R,H){S(R,e,H),p(e,t),D(n,t,null),p(e,i),p(e,s),p(s,l),p(l,o),p(s,a),p(s,c),p(s,u),p(s,f),ge(f,r[1]),p(s,d),p(s,m),p(m,b),p(b,A),p(b,_),p(b,k),p(k,v),E=!0,I||(L=[P(f,"input",r[7]),P(A,"click",r[4]),P(k,"click",r[3])],I=!0)},p(R,[H]){const Q={};H&1&&(Q.src=R[0]),n.$set(Q),(!E||H&4)&&W(o,R[2]),H&2&&f.value!==R[1]&&ge(f,R[1]),(!E||H&2&&$!==($=!R[1]))&&(k.disabled=$)},i(R){E||(w(n.$$.fragment,R),E=!0)},o(R){C(n.$$.fragment,R),E=!1},d(R){R&&y(e),B(n),I=!1,ke(L)}}}function N4(r,e,t){let n;K(r,Fe,m=>t(2,n=m));let i="",{id:s}=e,{app:l}=e,o="";ne.subscribe(m=>{t(0,i=hn(m.acc.profilePicture))});async function a(){if(!await Jh(n,o))return Xe({title:"Can't rename user",message:"An error occured while trying to rename your account. Please make sure the information is correct, and then try again.",buttons:[{caption:"OK",action:u}],image:nl},"SettingsApp");Xe({title:"Username changed.",message:"Your username has been updated successfully.",buttons:[{caption:"OK",action:f}],image:nl},"SettingsApp")}function c(){Ye(s,l.id)}function u(){t(1,o="")}function f(){u(),c()}function d(){o=this.value,t(1,o)}return r.$$set=m=>{"id"in m&&t(5,s=m.id),"app"in m&&t(6,l=m.app)},[i,o,n,a,c,s,l,d]}class z4 extends j{constructor(e){super(),z(this,e,N4,U4,N,{id:5,app:6})}}function j4(r){let e,t,n,i,s,l,o,a,c,u,f,d,m;return{c(){e=g("button"),t=F("minimize"),i=T(),s=g("button"),l=F("crop_square"),a=T(),c=g("button"),u=F("close"),h(e,"class","material-icons-round reset svelte-63zn7"),e.disabled=n=!r[0].controls.min||r[1],h(s,"class","material-icons-round reset svelte-63zn7"),s.disabled=o=!r[0].controls.max||r[1],h(c,"class","material-icons-round reset svelte-63zn7"),c.disabled=f=!r[0].controls.cls||r[1]},m(b,A){S(b,e,A),p(e,t),S(b,i,A),S(b,s,A),p(s,l),S(b,a,A),S(b,c,A),p(c,u),d||(m=[P(e,"click",function(){at(r[2])&&r[2].apply(this,arguments)}),P(s,"click",function(){at(r[3])&&r[3].apply(this,arguments)}),P(c,"click",function(){at(r[4])&&r[4].apply(this,arguments)})],d=!0)},p(b,[A]){r=b,A&3&&n!==(n=!r[0].controls.min||r[1])&&(e.disabled=n),A&3&&o!==(o=!r[0].controls.max||r[1])&&(s.disabled=o),A&3&&f!==(f=!r[0].controls.cls||r[1])&&(c.disabled=f)},i:O,o:O,d(b){b&&(y(e),y(i),y(s),y(a),y(c)),d=!1,ke(m)}}}function H4(r,e,t){let{app:n}=e,{isBoot:i}=e,{min:s}=e,{max:l}=e,{cls:o}=e;return r.$$set=a=>{"app"in a&&t(0,n=a.app),"isBoot"in a&&t(1,i=a.isBoot),"min"in a&&t(2,s=a.min),"max"in a&&t(3,l=a.max),"cls"in a&&t(4,o=a.cls)},[n,i,s,l,o]}class wm extends j{constructor(e){super(),z(this,e,H4,j4,N,{app:0,isBoot:1,min:2,max:3,cls:4})}}function Q4(r){let e,t,n,i,s,l,o,a,c,u;return{c(){e=g("button"),n=T(),i=g("button"),l=T(),o=g("button"),h(e,"class","traffic-cls reset svelte-1ti4j67"),e.disabled=t=!r[0].controls.cls||r[1],h(i,"class","traffic-min reset svelte-1ti4j67"),i.disabled=s=!r[0].controls.min||r[1],h(o,"class","traffic-max reset svelte-1ti4j67"),o.disabled=a=!r[0].controls.max||r[1]},m(f,d){S(f,e,d),S(f,n,d),S(f,i,d),S(f,l,d),S(f,o,d),c||(u=[P(e,"click",function(){at(r[4])&&r[4].apply(this,arguments)}),P(i,"click",function(){at(r[2])&&r[2].apply(this,arguments)}),P(o,"click",function(){at(r[3])&&r[3].apply(this,arguments)})],c=!0)},p(f,[d]){r=f,d&3&&t!==(t=!r[0].controls.cls||r[1])&&(e.disabled=t),d&3&&s!==(s=!r[0].controls.min||r[1])&&(i.disabled=s),d&3&&a!==(a=!r[0].controls.max||r[1])&&(o.disabled=a)},i:O,o:O,d(f){f&&(y(e),y(n),y(i),y(l),y(o)),c=!1,ke(u)}}}function W4(r,e,t){let{app:n}=e,{isBoot:i}=e,{min:s}=e,{max:l}=e,{cls:o}=e;return r.$$set=a=>{"app"in a&&t(0,n=a.app),"isBoot"in a&&t(1,i=a.isBoot),"min"in a&&t(2,s=a.min),"max"in a&&t(3,l=a.max),"cls"in a&&t(4,o=a.cls)},[n,i,s,l,o]}class G4 extends j{constructor(e){super(),z(this,e,W4,Q4,N,{app:0,isBoot:1,min:2,max:3,cls:4})}}function K4(r){let e,t,n,i,s,l,o,a,c;return{c(){e=g("button"),t=F("🗕"),i=T(),s=g("button"),l=F("✖"),h(e,"class","reset svelte-1f14mwt"),e.disabled=n=r[1]||!r[0].controls.min,h(s,"class","reset close svelte-1f14mwt"),s.disabled=o=r[1]||!r[0].controls.cls},m(u,f){S(u,e,f),p(e,t),S(u,i,f),S(u,s,f),p(s,l),a||(c=[P(e,"click",function(){at(r[2])&&r[2].apply(this,arguments)}),P(s,"click",function(){at(r[3])&&r[3].apply(this,arguments)})],a=!0)},p(u,[f]){r=u,f&3&&n!==(n=r[1]||!r[0].controls.min)&&(e.disabled=n),f&3&&o!==(o=r[1]||!r[0].controls.cls)&&(s.disabled=o)},i:O,o:O,d(u){u&&(y(e),y(i),y(s)),a=!1,ke(c)}}}function V4(r,e,t){let{app:n}=e,{isBoot:i}=e,{min:s}=e,{cls:l}=e;return r.$$set=o=>{"app"in o&&t(0,n=o.app),"isBoot"in o&&t(1,i=o.isBoot),"min"in o&&t(2,s=o.min),"cls"in o&&t(3,l=o.cls)},[n,i,s,l]}class q4 extends j{constructor(e){super(),z(this,e,V4,K4,N,{app:0,isBoot:1,min:2,cls:3})}}const Hr={default:{caption:"Default",author:"ArcOS Team",content:wm},traffic:{caption:"Traffic Lights",author:"Apple",content:G4},og:{caption:"O.G.",author:"WebOSv3 Team",content:q4}},Y4={info:{name:"Dummy",description:"I'm a dummy!",builtin:!0,version:"1.0.0",author:"Robots",icon:jp},pos:{x:0,y:0},minSize:{w:0,h:0},maxSize:{w:0,h:0},size:{w:0,h:0},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{fll:!1,max:!1,min:!1}},glass:!1,content:null};function J4(r){let e,t,n,i,s,l,o,a=r[0].caption+"",c,u,f,d,m=r[0].author+"",b,A,_,k=r[2].sh.window.buttons==r[1]?"Applied":"Apply",v,$,E,I,L;var R=r[0].content;function H(Q,ee){return{props:{app:Y4}}}return R&&(i=Be(R,H())),{c(){e=g("div"),t=g("div"),n=g("div"),i&&M(i.$$.fragment),s=T(),l=g("div"),o=g("p"),c=F(a),u=T(),f=g("p"),d=F("By: "),b=F(m),A=T(),_=g("button"),v=F(k),h(n,"class","tb"),h(t,"class","preview"),h(o,"class","title"),h(f,"class","author"),h(l,"class","details"),h(_,"class","apply"),_.disabled=$=r[2].sh.window.buttons==r[1],h(e,"class","item")},m(Q,ee){S(Q,e,ee),p(e,t),p(t,n),i&&D(i,n,null),p(e,s),p(e,l),p(l,o),p(o,c),p(l,u),p(l,f),p(f,d),p(f,b),p(e,A),p(e,_),p(_,v),E=!0,I||(L=P(_,"click",r[3]),I=!0)},p(Q,[ee]){if(ee&1&&R!==(R=Q[0].content)){if(i){q();const J=i;C(J.$$.fragment,1,0,()=>{B(J,1)}),Y()}R?(i=Be(R,H()),M(i.$$.fragment),w(i.$$.fragment,1),D(i,n,null)):i=null}(!E||ee&1)&&a!==(a=Q[0].caption+"")&&W(c,a),(!E||ee&1)&&m!==(m=Q[0].author+"")&&W(b,m),(!E||ee&6)&&k!==(k=Q[2].sh.window.buttons==Q[1]?"Applied":"Apply")&&W(v,k),(!E||ee&6&&$!==($=Q[2].sh.window.buttons==Q[1]))&&(_.disabled=$)},i(Q){E||(i&&w(i.$$.fragment,Q),E=!0)},o(Q){i&&C(i.$$.fragment,Q),E=!1},d(Q){Q&&y(e),i&&B(i),I=!1,L()}}}function Z4(r,e,t){let n;K(r,ne,o=>t(2,n=o));let{data:i}=e,{id:s}=e;function l(){Ee(ne,n.sh.window.buttons=s,n)}return r.$$set=o=>{"data"in o&&t(0,i=o.data),"id"in o&&t(1,s=o.id)},[i,s,n,l]}let X4=class extends j{constructor(e){super(),z(this,e,Z4,J4,N,{data:0,id:1})}};function qu(r,e,t){const n=r.slice();return n[2]=e[t],n}function Yu(r){let e,t;return e=new X4({props:{id:r[2][0],data:r[2][1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function x4(r){let e,t,n,i,s,l,o,a;e=new Xn({props:{app:r[0],id:r[1]}});let c=x(Object.entries(Hr)),u=[];for(let d=0;d<c.length;d+=1)u[d]=Yu(qu(r,c,d));const f=d=>C(u[d],1,1,()=>{u[d]=null});return{c(){M(e.$$.fragment),t=T(),n=g("h3"),n.textContent="Titlebar buttons",i=T(),s=g("p"),s.textContent="Choose one of the titlebar button styles:",l=T();for(let d=0;d<u.length;d+=1)u[d].c();o=ae(),h(n,"class","header"),h(s,"class","subheader")},m(d,m){D(e,d,m),S(d,t,m),S(d,n,m),S(d,i,m),S(d,s,m),S(d,l,m);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(d,m);S(d,o,m),a=!0},p(d,[m]){const b={};if(m&1&&(b.app=d[0]),m&2&&(b.id=d[1]),e.$set(b),m&0){c=x(Object.entries(Hr));let A;for(A=0;A<c.length;A+=1){const _=qu(d,c,A);u[A]?(u[A].p(_,m),w(u[A],1)):(u[A]=Yu(_),u[A].c(),w(u[A],1),u[A].m(o.parentNode,o))}for(q(),A=c.length;A<u.length;A+=1)f(A);Y()}},i(d){if(!a){w(e.$$.fragment,d);for(let m=0;m<c.length;m+=1)w(u[m]);a=!0}},o(d){C(e.$$.fragment,d),u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)C(u[m]);a=!1},d(d){d&&(y(t),y(n),y(i),y(s),y(l),y(o)),B(e,d),me(u,d)}}}function eI(r,e,t){let{app:n}=e,{id:i}=e;return r.$$set=s=>{"app"in s&&t(0,n=s.app),"id"in s&&t(1,i=s.id)},[n,i]}class tI extends j{constructor(e){super(),z(this,e,eI,x4,N,{app:0,id:1})}}function nI(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k;return{c(){e=g("div"),t=g("div"),t.innerHTML=`<img src="${jr}" alt=""/>`,n=T(),i=g("div"),s=g("p"),s.textContent="Enter the URL to a custom wallpaper:",l=T(),o=g("input"),a=T(),c=g("div"),u=g("div"),f=g("button"),f.textContent="Cancel",d=T(),m=g("button"),b=F("Apply"),h(o,"type","url"),h(o,"placeholder","https://example.com/image.png"),m.disabled=A=!r[1]||!r[0],h(c,"class","apply"),h(i,"class","field"),h(e,"class","customwallpaper-wrapper")},m(v,$){S(v,e,$),p(e,t),p(e,n),p(e,i),p(i,s),p(i,l),p(i,o),ge(o,r[1]),p(i,a),p(i,c),p(c,u),p(u,f),p(u,d),p(u,m),p(m,b),_||(k=[P(o,"input",r[5]),P(o,"input",r[3]),P(f,"click",r[4]),P(m,"click",r[2])],_=!0)},p(v,[$]){$&2&&o.value!==v[1]&&ge(o,v[1]),$&3&&A!==(A=!v[1]||!v[0])&&(m.disabled=A)},i:O,o:O,d(v){v&&y(e),_=!1,ke(k)}}}async function iI(r){if(!r)return;const e=new Image;return e.src=r,new Promise(t=>{e.onload=()=>t(!0),e.onerror=()=>t(!1)})}function rI(r,e,t){let n;K(r,ne,u=>t(6,n=u));let i=!1,s;function l(){Ee(ne,n.sh.desktop.wallpaper=s,n),a()}ve(()=>{n.sh.desktop.wallpaper.startsWith("http")&&t(1,s=n.sh.desktop.wallpaper)});async function o(){const u=await iI(s);t(0,i=u)}function a(){Ye("customWallpaper","SettingsApp")}ne.subscribe(u=>{typeof u.sh.desktop.wallpaper=="string"&&u.sh.desktop.wallpaper.startsWith("http")&&t(1,s=u.sh.desktop.wallpaper),o()});function c(){s=this.value,t(1,s)}return[i,s,l,o,a,c]}class sI extends j{constructor(e){super(),z(this,e,rI,nI,N,{})}}function lI(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k,v,$;return _=new Wl({}),{c(){e=g("div"),t=g("h3"),t.textContent="Save theme",n=T(),i=g("p"),i.textContent="Choose a name for your theme:",s=T(),l=g("input"),o=T(),a=g("div"),c=g("button"),u=F("Save"),d=T(),m=g("button"),m.textContent="Cancel",b=T(),A=g("div"),M(_.$$.fragment),h(t,"class","header"),h(l,"type","text"),c.disabled=f=!r[0],h(a,"class","actions"),h(e,"class","form"),h(A,"class","desktop-page")},m(E,I){S(E,e,I),p(e,t),p(e,n),p(e,i),p(e,s),p(e,l),ge(l,r[0]),p(e,o),p(e,a),p(a,c),p(c,u),p(a,d),p(a,m),S(E,b,I),S(E,A,I),D(_,A,null),k=!0,v||($=[P(l,"input",r[3]),P(c,"click",r[2]),P(m,"click",r[1])],v=!0)},p(E,[I]){I&1&&l.value!==E[0]&&ge(l,E[0]),(!k||I&1&&f!==(f=!E[0]))&&(c.disabled=f)},i(E){k||(w(_.$$.fragment,E),k=!0)},o(E){C(_.$$.fragment,E),k=!1},d(E){E&&(y(e),y(b),y(A)),B(_),v=!1,ke($)}}}function oI(r,e,t){let n;function i(){Ye("saveTheme","SettingsApp")}function s(){x0(n),i()}function l(){n=this.value,t(0,n)}return[n,i,s,l]}class aI extends j{constructor(e){super(),z(this,e,oI,lI,N,{})}}const Ju={caption:"Save to ArcFS",action:async(r,e)=>{const t=new Blob([JSON.stringify(JSON.parse(e.json),null,2)],{type:"application/json"});await Vi("./Themes");const n=`${e.name}.arctheme`,i=`./Themes/${n}`;await un(i,t),Pe("FileManager"),await tt.goToDirectory("./Themes"),setTimeout(()=>{Ve.set(n)})},icon:"save"},cI={"themerenderer-user":[{caption:"Delete",action:(r,e)=>{Xe({title:"Delete theme?",message:"Are you sure you want to delete this theme?",image:Hl,buttons:[{caption:"Delete",action(){eb(e.id)}},{caption:"Cancel",action(){}}]},"SettingsApp")},icon:"delete"},Ju],"themerenderer-system":[Ju],"accountpage-hostname":[{caption:"View user data",action:()=>{Je("udataExplorer","SettingsApp")},icon:"account_tree"},{caption:"Copy server",action:()=>{navigator.clipboard.writeText($t()||"localhost")},icon:"copy"}],"appearance-accentselector":[{caption:"Copy color code",action:(r,e)=>{navigator.clipboard.writeText(`#${e.hex}`)},icon:"copy"}]},uI={pfpSel:{info:{name:"Profile Picture Selector",version:"1.0.0",author:"ArcOS Team"},content:S4,size:{w:382,h:410},show:!1},customPfp:{info:{name:"Custom Profile Picture",version:"1.0.0",author:"ArcOS Team"},content:E4,size:{w:350,h:125},show:!1},largePfp:{info:{name:"View Profile Picture",version:"1.0.0",author:"ArcOS Team"},content:R4,size:{w:320,h:360},show:!1},changeTitleButtons:{info:{name:"Change Titlebar Buttons",version:"1.0.0",author:"ArcOS Team"},content:tI,size:{w:400,h:300},show:!1}},fI={udataExplorer:{info:{name:"User Data Explorer",version:"1.0.0",author:"ArcOS Team"},content:B4,size:{w:550,h:400},show:!1},changePswd:{info:{name:"Change Password",version:"1.0.0",author:"ArcOS Team"},content:P4,size:{w:370,h:195},show:!1},changeUsername:{info:{name:"Change Username",version:"1.0.0",author:"ArcOS Team"},content:z4,size:{w:370,h:155},show:!1}},dI={customWallpaper:{info:{name:"Custom Wallpaper",version:"1.0.0",author:"ArcOS Team"},content:sI,size:{w:370,h:118},show:!1}},pI={saveTheme:{info:{name:"Save Theme",version:"1.0.0",author:"ArcOS Team"},content:aI,size:{w:450,h:170},show:!1}},mI={info:{name:"System Settings",description:"Change the way ArcOS works",builtin:!0,version:"4.0.0",author:"ArcOS Team",icon:lT,appGroup:"systemTools"},size:{w:730,h:500},pos:{x:30,y:40},minSize:{w:730,h:500},maxSize:{w:1100,h:600},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:v4,glass:!0,overlays:{...uI,...fI,...dI,...pI},events:{close(){qn.set(zn[0])},open(){qn.set(zn[0])}},contextMenu:cI};function Zu(r,e,t){const n=r.slice();return n[3]=e[t],n}function hI(r){let e,t=r[0][1].icon+"",n;return{c(){e=g("span"),n=F(t),h(e,"class","material-icons-round")},m(i,s){S(i,e,s),p(e,n)},p(i,s){s&1&&t!==(t=i[0][1].icon+"")&&W(n,t)},d(i){i&&y(e)}}}function gI(r){let e,t,n;return{c(){e=g("img"),de(e.src,t=r[0][1].image)||h(e,"src",t),h(e,"alt",n=r[0][1].title)},m(i,s){S(i,e,s)},p(i,s){s&1&&!de(e.src,t=i[0][1].image)&&h(e,"src",t),s&1&&n!==(n=i[0][1].title)&&h(e,"alt",n)},d(i){i&&y(e)}}}function Xu(r){let e,t=r[3].caption+"",n,i,s;return{c(){e=g("button"),n=F(t)},m(l,o){S(l,e,o),p(e,n),i||(s=P(e,"click",function(){at(r[2](r[3].action))&&r[2](r[3].action).apply(this,arguments)}),i=!0)},p(l,o){r=l,o&1&&t!==(t=r[3].caption+"")&&W(n,t)},d(l){l&&y(e),i=!1,s()}}}function AI(r){let e,t,n,i=r[0][1].title+"",s,l,o,a,c,u=r[0][1].message+"",f,d,m,b,A;function _(I,L){return I[0][1].image?gI:hI}let k=_(r),v=k(r),$=x(r[0][1].buttons),E=[];for(let I=0;I<$.length;I+=1)E[I]=Xu(Zu(r,$,I));return{c(){e=g("div"),t=g("p"),v.c(),n=T(),s=F(i),l=T(),o=g("button"),o.textContent="close",a=T(),c=g("p"),f=T(),d=g("div"),m=g("div");for(let I=0;I<E.length;I+=1)E[I].c();h(o,"class","close material-icons-round"),h(t,"class","title"),h(c,"class","content"),h(m,"class","inner"),h(d,"class","buttons"),h(e,"class","notification ac")},m(I,L){S(I,e,L),p(e,t),v.m(t,null),p(t,n),p(t,s),p(t,l),p(t,o),p(e,a),p(e,c),c.innerHTML=u,p(e,f),p(e,d),p(d,m);for(let R=0;R<E.length;R+=1)E[R]&&E[R].m(m,null);b||(A=P(o,"click",r[1]),b=!0)},p(I,[L]){if(k===(k=_(I))&&v?v.p(I,L):(v.d(1),v=k(I),v&&(v.c(),v.m(t,n))),L&1&&i!==(i=I[0][1].title+"")&&W(s,i),L&1&&u!==(u=I[0][1].message+"")&&(c.innerHTML=u),L&5){$=x(I[0][1].buttons);let R;for(R=0;R<$.length;R+=1){const H=Zu(I,$,R);E[R]?E[R].p(H,L):(E[R]=Xu(H),E[R].c(),E[R].m(m,null))}for(;R<E.length;R+=1)E[R].d(1);E.length=$.length}},i:O,o:O,d(I){I&&y(e),v.d(),me(E,I),b=!1,A()}}}function bI(r,e,t){let{notification:n}=e;function i(){kl(n[0]),Hn.set(null)}function s(l){return()=>{l(),i(),Nt.set(!1)}}return r.$$set=l=>{"notification"in l&&t(0,n=l.notification)},[n,i,s]}class _I extends j{constructor(e){super(),z(this,e,bI,AI,N,{notification:0})}}function xu(r,e,t){const n=r.slice();return n[1]=e[t],n}function ef(r){let e,t;return e=new _I({props:{notification:r[1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.notification=n[1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function tf(r){let e;return{c(){e=g("p"),e.textContent="You have no notifications",h(e,"class","none")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function wI(r){let e,t,n=Object.entries(r[0]).length==0,i,s=x(Object.entries(r[0])),l=[];for(let c=0;c<s.length;c+=1)l[c]=ef(xu(r,s,c));const o=c=>C(l[c],1,1,()=>{l[c]=null});let a=n&&tf();return{c(){e=g("div");for(let c=0;c<l.length;c+=1)l[c].c();t=T(),a&&a.c(),h(e,"class","notifications")},m(c,u){S(c,e,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(e,null);p(e,t),a&&a.m(e,null),i=!0},p(c,[u]){if(u&1){s=x(Object.entries(c[0]));let f;for(f=0;f<s.length;f+=1){const d=xu(c,s,f);l[f]?(l[f].p(d,u),w(l[f],1)):(l[f]=ef(d),l[f].c(),w(l[f],1),l[f].m(e,t))}for(q(),f=s.length;f<l.length;f+=1)o(f);Y()}u&1&&(n=Object.entries(c[0]).length==0),n?a||(a=tf(),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(c){if(!i){for(let u=0;u<s.length;u+=1)w(l[u]);i=!0}},o(c){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)C(l[u]);i=!1},d(c){c&&y(e),me(l,c),a&&a.d()}}}function vI(r,e,t){let n;return K(r,on,i=>t(0,n=i)),[n]}class kI extends j{constructor(e){super(),z(this,e,vI,wI,N,{})}}function _n(r){return Array.isArray?Array.isArray(r):ym(r)==="[object Array]"}const yI=1/0;function SI(r){if(typeof r=="string")return r;let e=r+"";return e=="0"&&1/r==-yI?"-0":e}function $I(r){return r==null?"":SI(r)}function ln(r){return typeof r=="string"}function vm(r){return typeof r=="number"}function CI(r){return r===!0||r===!1||TI(r)&&ym(r)=="[object Boolean]"}function km(r){return typeof r=="object"}function TI(r){return km(r)&&r!==null}function Bt(r){return r!=null}function Ds(r){return!r.trim().length}function ym(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const EI="Incorrect 'index' type",II=r=>`Invalid value for key ${r}`,OI=r=>`Pattern length exceeds max of ${r}.`,RI=r=>`Missing ${r} property in key`,LI=r=>`Property 'weight' in key '${r}' must be a positive integer`,nf=Object.prototype.hasOwnProperty;class DI{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(n=>{let i=Sm(n);t+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,t+=i.weight}),this._keys.forEach(n=>{n.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Sm(r){let e=null,t=null,n=null,i=1,s=null;if(ln(r)||_n(r))n=r,e=rf(r),t=il(r);else{if(!nf.call(r,"name"))throw new Error(RI("name"));const l=r.name;if(n=l,nf.call(r,"weight")&&(i=r.weight,i<=0))throw new Error(LI(l));e=rf(l),t=il(l),s=r.getFn}return{path:e,id:t,weight:i,src:n,getFn:s}}function rf(r){return _n(r)?r:r.split(".")}function il(r){return _n(r)?r.join("."):r}function BI(r,e){let t=[],n=!1;const i=(s,l,o)=>{if(Bt(s))if(!l[o])t.push(s);else{let a=l[o];const c=s[a];if(!Bt(c))return;if(o===l.length-1&&(ln(c)||vm(c)||CI(c)))t.push($I(c));else if(_n(c)){n=!0;for(let u=0,f=c.length;u<f;u+=1)i(c[u],l,o+1)}else l.length&&i(c,l,o+1)}};return i(r,ln(e)?e.split("."):e,0),n?t:t[0]}const MI={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},FI={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(r,e)=>r.score===e.score?r.idx<e.idx?-1:1:r.score<e.score?-1:1},PI={location:0,threshold:.6,distance:100},UI={useExtendedSearch:!1,getFn:BI,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Re={...FI,...MI,...PI,...UI};const NI=/[^ ]+/g;function zI(r=1,e=3){const t=new Map,n=Math.pow(10,e);return{get(i){const s=i.match(NI).length;if(t.has(s))return t.get(s);const l=1/Math.pow(s,.5*r),o=parseFloat(Math.round(l*n)/n);return t.set(s,o),o},clear(){t.clear()}}}class Gl{constructor({getFn:e=Re.getFn,fieldNormWeight:t=Re.fieldNormWeight}={}){this.norm=zI(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,n)=>{this._keysMap[t.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ln(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();ln(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!Bt(e)||Ds(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((i,s)=>{let l=i.getFn?i.getFn(e):this.getFn(e,i.path);if(Bt(l)){if(_n(l)){let o=[];const a=[{nestedArrIndex:-1,value:l}];for(;a.length;){const{nestedArrIndex:c,value:u}=a.pop();if(Bt(u))if(ln(u)&&!Ds(u)){let f={v:u,i:c,n:this.norm.get(u)};o.push(f)}else _n(u)&&u.forEach((f,d)=>{a.push({nestedArrIndex:d,value:f})})}n.$[s]=o}else if(ln(l)&&!Ds(l)){let o={v:l,n:this.norm.get(l)};n.$[s]=o}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function $m(r,e,{getFn:t=Re.getFn,fieldNormWeight:n=Re.fieldNormWeight}={}){const i=new Gl({getFn:t,fieldNormWeight:n});return i.setKeys(r.map(Sm)),i.setSources(e),i.create(),i}function jI(r,{getFn:e=Re.getFn,fieldNormWeight:t=Re.fieldNormWeight}={}){const{keys:n,records:i}=r,s=new Gl({getFn:e,fieldNormWeight:t});return s.setKeys(n),s.setIndexRecords(i),s}function br(r,{errors:e=0,currentLocation:t=0,expectedLocation:n=0,distance:i=Re.distance,ignoreLocation:s=Re.ignoreLocation}={}){const l=e/r.length;if(s)return l;const o=Math.abs(n-t);return i?l+o/i:o?1:l}function HI(r=[],e=Re.minMatchCharLength){let t=[],n=-1,i=-1,s=0;for(let l=r.length;s<l;s+=1){let o=r[s];o&&n===-1?n=s:!o&&n!==-1&&(i=s-1,i-n+1>=e&&t.push([n,i]),n=-1)}return r[s-1]&&s-n>=e&&t.push([n,s-1]),t}const Fn=32;function QI(r,e,t,{location:n=Re.location,distance:i=Re.distance,threshold:s=Re.threshold,findAllMatches:l=Re.findAllMatches,minMatchCharLength:o=Re.minMatchCharLength,includeMatches:a=Re.includeMatches,ignoreLocation:c=Re.ignoreLocation}={}){if(e.length>Fn)throw new Error(OI(Fn));const u=e.length,f=r.length,d=Math.max(0,Math.min(n,f));let m=s,b=d;const A=o>1||a,_=A?Array(f):[];let k;for(;(k=r.indexOf(e,b))>-1;){let R=br(e,{currentLocation:k,expectedLocation:d,distance:i,ignoreLocation:c});if(m=Math.min(R,m),b=k+u,A){let H=0;for(;H<u;)_[k+H]=1,H+=1}}b=-1;let v=[],$=1,E=u+f;const I=1<<u-1;for(let R=0;R<u;R+=1){let H=0,Q=E;for(;H<Q;)br(e,{errors:R,currentLocation:d+Q,expectedLocation:d,distance:i,ignoreLocation:c})<=m?H=Q:E=Q,Q=Math.floor((E-H)/2+H);E=Q;let ee=Math.max(1,d-Q+1),J=l?f:Math.min(d+Q,f)+u,Ae=Array(J+2);Ae[J+1]=(1<<R)-1;for(let le=J;le>=ee;le-=1){let ie=le-1,X=t[r.charAt(ie)];if(A&&(_[ie]=+!!X),Ae[le]=(Ae[le+1]<<1|1)&X,R&&(Ae[le]|=(v[le+1]|v[le])<<1|1|v[le+1]),Ae[le]&I&&($=br(e,{errors:R,currentLocation:ie,expectedLocation:d,distance:i,ignoreLocation:c}),$<=m)){if(m=$,b=ie,b<=d)break;ee=Math.max(1,2*d-b)}}if(br(e,{errors:R+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:c})>m)break;v=Ae}const L={isMatch:b>=0,score:Math.max(.001,$)};if(A){const R=HI(_,o);R.length?a&&(L.indices=R):L.isMatch=!1}return L}function WI(r){let e={};for(let t=0,n=r.length;t<n;t+=1){const i=r.charAt(t);e[i]=(e[i]||0)|1<<n-t-1}return e}class Cm{constructor(e,{location:t=Re.location,threshold:n=Re.threshold,distance:i=Re.distance,includeMatches:s=Re.includeMatches,findAllMatches:l=Re.findAllMatches,minMatchCharLength:o=Re.minMatchCharLength,isCaseSensitive:a=Re.isCaseSensitive,ignoreLocation:c=Re.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:i,includeMatches:s,findAllMatches:l,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:c},this.pattern=a?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(d,m)=>{this.chunks.push({pattern:d,alphabet:WI(d),startIndex:m})},f=this.pattern.length;if(f>Fn){let d=0;const m=f%Fn,b=f-m;for(;d<b;)u(this.pattern.substr(d,Fn),d),d+=Fn;if(m){const A=f-Fn;u(this.pattern.substr(A),A)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let b={isMatch:!0,score:0};return n&&(b.indices=[[0,e.length-1]]),b}const{location:i,distance:s,threshold:l,findAllMatches:o,minMatchCharLength:a,ignoreLocation:c}=this.options;let u=[],f=0,d=!1;this.chunks.forEach(({pattern:b,alphabet:A,startIndex:_})=>{const{isMatch:k,score:v,indices:$}=QI(e,b,A,{location:i+_,distance:s,threshold:l,findAllMatches:o,minMatchCharLength:a,includeMatches:n,ignoreLocation:c});k&&(d=!0),f+=v,k&&$&&(u=[...u,...$])});let m={isMatch:d,score:d?f/this.chunks.length:1};return d&&n&&(m.indices=u),m}}class Mn{constructor(e){this.pattern=e}static isMultiMatch(e){return sf(e,this.multiRegex)}static isSingleMatch(e){return sf(e,this.singleRegex)}search(){}}function sf(r,e){const t=r.match(e);return t?t[1]:null}class GI extends Mn{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class KI extends Mn{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class VI extends Mn{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class qI extends Mn{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class YI extends Mn{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class JI extends Mn{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Tm extends Mn{constructor(e,{location:t=Re.location,threshold:n=Re.threshold,distance:i=Re.distance,includeMatches:s=Re.includeMatches,findAllMatches:l=Re.findAllMatches,minMatchCharLength:o=Re.minMatchCharLength,isCaseSensitive:a=Re.isCaseSensitive,ignoreLocation:c=Re.ignoreLocation}={}){super(e),this._bitapSearch=new Cm(e,{location:t,threshold:n,distance:i,includeMatches:s,findAllMatches:l,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Em extends Mn{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,n;const i=[],s=this.pattern.length;for(;(n=e.indexOf(this.pattern,t))>-1;)t=n+s,i.push([n,t-1]);const l=!!i.length;return{isMatch:l,score:l?0:1,indices:i}}}const rl=[GI,Em,VI,qI,JI,YI,KI,Tm],lf=rl.length,ZI=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,XI="|";function xI(r,e={}){return r.split(XI).map(t=>{let n=t.trim().split(ZI).filter(s=>s&&!!s.trim()),i=[];for(let s=0,l=n.length;s<l;s+=1){const o=n[s];let a=!1,c=-1;for(;!a&&++c<lf;){const u=rl[c];let f=u.isMultiMatch(o);f&&(i.push(new u(f,e)),a=!0)}if(!a)for(c=-1;++c<lf;){const u=rl[c];let f=u.isSingleMatch(o);if(f){i.push(new u(f,e));break}}}return i})}const eO=new Set([Tm.type,Em.type]);class tO{constructor(e,{isCaseSensitive:t=Re.isCaseSensitive,includeMatches:n=Re.includeMatches,minMatchCharLength:i=Re.minMatchCharLength,ignoreLocation:s=Re.ignoreLocation,findAllMatches:l=Re.findAllMatches,location:o=Re.location,threshold:a=Re.threshold,distance:c=Re.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:i,findAllMatches:l,ignoreLocation:s,location:o,threshold:a,distance:c},this.pattern=t?e:e.toLowerCase(),this.query=xI(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let s=0,l=[],o=0;for(let a=0,c=t.length;a<c;a+=1){const u=t[a];l.length=0,s=0;for(let f=0,d=u.length;f<d;f+=1){const m=u[f],{isMatch:b,indices:A,score:_}=m.search(e);if(b){if(s+=1,o+=_,n){const k=m.constructor.type;eO.has(k)?l=[...l,...A]:l.push(A)}}else{o=0,s=0,l.length=0;break}}if(s){let f={isMatch:!0,score:o/s};return n&&(f.indices=l),f}}return{isMatch:!1,score:1}}}const sl=[];function nO(...r){sl.push(...r)}function ll(r,e){for(let t=0,n=sl.length;t<n;t+=1){let i=sl[t];if(i.condition(r,e))return new i(r,e)}return new Cm(r,e)}const Qr={AND:"$and",OR:"$or"},ol={PATH:"$path",PATTERN:"$val"},al=r=>!!(r[Qr.AND]||r[Qr.OR]),iO=r=>!!r[ol.PATH],rO=r=>!_n(r)&&km(r)&&!al(r),of=r=>({[Qr.AND]:Object.keys(r).map(e=>({[e]:r[e]}))});function Im(r,e,{auto:t=!0}={}){const n=i=>{let s=Object.keys(i);const l=iO(i);if(!l&&s.length>1&&!al(i))return n(of(i));if(rO(i)){const a=l?i[ol.PATH]:s[0],c=l?i[ol.PATTERN]:i[a];if(!ln(c))throw new Error(II(a));const u={keyId:il(a),pattern:c};return t&&(u.searcher=ll(c,e)),u}let o={children:[],operator:s[0]};return s.forEach(a=>{const c=i[a];_n(c)&&c.forEach(u=>{o.children.push(n(u))})}),o};return al(r)||(r=of(r)),n(r)}function sO(r,{ignoreFieldNorm:e=Re.ignoreFieldNorm}){r.forEach(t=>{let n=1;t.matches.forEach(({key:i,norm:s,score:l})=>{const o=i?i.weight:null;n*=Math.pow(l===0&&o?Number.EPSILON:l,(o||1)*(e?1:s))}),t.score=n})}function lO(r,e){const t=r.matches;e.matches=[],Bt(t)&&t.forEach(n=>{if(!Bt(n.indices)||!n.indices.length)return;const{indices:i,value:s}=n;let l={indices:i,value:s};n.key&&(l.key=n.key.src),n.idx>-1&&(l.refIndex=n.idx),e.matches.push(l)})}function oO(r,e){e.score=r.score}function aO(r,e,{includeMatches:t=Re.includeMatches,includeScore:n=Re.includeScore}={}){const i=[];return t&&i.push(lO),n&&i.push(oO),r.map(s=>{const{idx:l}=s,o={item:e[l],refIndex:l};return i.length&&i.forEach(a=>{a(s,o)}),o})}class Ii{constructor(e,t={},n){this.options={...Re,...t},this.options.useExtendedSearch,this._keyStore=new DI(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Gl))throw new Error(EI);this._myIndex=t||$m(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Bt(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,i=this._docs.length;n<i;n+=1){const s=this._docs[n];e(s,n)&&(this.removeAt(n),n-=1,i-=1,t.push(s))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:s,sortFn:l,ignoreFieldNorm:o}=this.options;let a=ln(e)?ln(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return sO(a,{ignoreFieldNorm:o}),s&&a.sort(l),vm(t)&&t>-1&&(a=a.slice(0,t)),aO(a,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){const t=ll(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:s,i:l,n:o})=>{if(!Bt(s))return;const{isMatch:a,score:c,indices:u}=t.searchIn(s);a&&i.push({item:s,idx:l,matches:[{score:c,value:s,norm:o,indices:u}]})}),i}_searchLogical(e){const t=Im(e,this.options),n=(o,a,c)=>{if(!o.children){const{keyId:f,searcher:d}=o,m=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(a,f),searcher:d});return m&&m.length?[{idx:c,item:a,matches:m}]:[]}const u=[];for(let f=0,d=o.children.length;f<d;f+=1){const m=o.children[f],b=n(m,a,c);if(b.length)u.push(...b);else if(o.operator===Qr.AND)return[]}return u},i=this._myIndex.records,s={},l=[];return i.forEach(({$:o,i:a})=>{if(Bt(o)){let c=n(t,o,a);c.length&&(s[a]||(s[a]={idx:a,item:o,matches:[]},l.push(s[a])),c.forEach(({matches:u})=>{s[a].matches.push(...u)}))}}),l}_searchObjectList(e){const t=ll(e,this.options),{keys:n,records:i}=this._myIndex,s=[];return i.forEach(({$:l,i:o})=>{if(!Bt(l))return;let a=[];n.forEach((c,u)=>{a.push(...this._findMatches({key:c,value:l[u],searcher:t}))}),a.length&&s.push({idx:o,item:l,matches:a})}),s}_findMatches({key:e,value:t,searcher:n}){if(!Bt(t))return[];let i=[];if(_n(t))t.forEach(({v:s,i:l,n:o})=>{if(!Bt(s))return;const{isMatch:a,score:c,indices:u}=n.searchIn(s);a&&i.push({score:c,key:e,value:s,idx:l,norm:o,indices:u})});else{const{v:s,n:l}=t,{isMatch:o,score:a,indices:c}=n.searchIn(s);o&&i.push({score:a,key:e,value:s,norm:l,indices:c})}return i}}Ii.version="6.6.2";Ii.createIndex=$m;Ii.parseIndex=jI;Ii.config=Re;Ii.parseQuery=Im;nO(tO);function cO(){const r=[],e=G(ue);for(let t=0;t<e.length;t++)Ht(e[t])&&r.push({caption:e[t].info.name,description:e[t].info.description,image:e[t].info.icon,action:()=>{Pe(e[t].id)}});return r}const cl=""+new URL("arcfind-d60c3db2.svg",import.meta.url).href;async function uO(){const r=G(Ge);if(!r)return[];const e=[],n=(await xe(r,"fs/tree",{},G(rt))).data;for(let i=0;i<n.length;i++)e.push({caption:n[i].filename,action:async()=>{const s=yi({title:"Loading file",message:`Loading file ${n[i].scopedPath} from the ArcAPI. This can take a while, depending on your internet connection and the size of the file.`,buttons:[],image:cl}),l=n[i].scopedPath;l.startsWith("./")&&(n[i].scopedPath=l.replace("./",""));const o=await er(n[i]);kl(s),op(),ue.set(G(ue)),o!=!0&&ps({...o,anymime:!0})},description:n[i].scopedPath.replace(`/${n[i].filename}`,""),image:ji});return e}vt.subscribe(()=>{});function fO(){const r=[],e=zn;for(let t=0;t<e.length;t++){const n=e[t];r.push({image:n.icon,caption:n.name,action:()=>{Pe("SettingsApp"),setTimeout(()=>{qn.set(n)})}})}return r}const af=[cO,fO,uO],dO=[{caption:"Shutdown",description:"Leave the desktop and turn off ArcOS",action:Zr,image:Ys},{caption:"Restart",description:"Leave the desktop and reload ArcOS",action:()=>Qn(!1),image:Ys}];async function pO(){let r=[...dO];for(let e=0;e<af.length;e++)r.push(...await af[e]());return r}const kt=pe(!1);async function mO(r){const e=await pO(),t={includeScore:!0,keys:["caption","description"]};return new Ii(e,t).search(r)}const hO=[{icon:"motion_photos_on",iconOff:"motion_photos_off",getter(r){return r.sh.anim},setter(r){return r.sh.anim=!r.sh.anim,ne.set(r),r.sh.anim},caption:"Animations"},{icon:"blur_on",iconOff:"blur_off",getter(r){return!r.sh.noGlass},setter(r){return r.sh.noGlass=!r.sh.noGlass,ne.set(r),!r.sh.noGlass},caption:"Transparency"},{icon:"call_to_action",iconOff:"call_to_action",getter(r){return r.sh.taskbar.docked},setter(r){return r.sh.taskbar.docked=!r.sh.taskbar.docked,ne.set(r),r.sh.taskbar.docked},caption:"Dock Taskbar"},{icon:"dark_mode",iconOff:"light_mode",getter(r){return r.sh.desktop.theme=="dark"},setter(r){const e=r.sh.desktop.theme;return r.sh.desktop.theme=e=="dark"?"light":"dark",ne.set(r),r.sh.desktop.theme=="dark"},caption:"Dark mode"},{icon:"",iconOff:"",getter(){return!1},setter(){return!1},caption:""},{icon:"",iconOff:"",getter(){return!1},setter(){return!1},caption:""},{icon:"",iconOff:"",getter(){return!1},setter(){return!1},caption:""},{icon:"search",iconOff:"search",getter(){return!1},setter(){return kt.set(!0),!1},caption:"Search"},{icon:"logout",iconOff:"logout",getter(){return!1},setter(){return Pe("Exit"),!1},caption:"Exit"}];function gO(r){let e,t=(r[1]?r[0].icon:r[0].iconOff)+"",n,i,s,l=r[0].caption+"",o,a,c;return{c(){e=g("button"),n=F(t),i=T(),s=g("p"),o=F(l),h(s,"class","caption"),h(e,"class","setting material-icons-round"),U(e,"active",r[1])},m(u,f){S(u,e,f),p(e,n),p(e,i),p(e,s),p(s,o),a||(c=P(e,"click",r[2]),a=!0)},p(u,[f]){f&3&&t!==(t=(u[1]?u[0].icon:u[0].iconOff)+"")&&W(n,t),f&1&&l!==(l=u[0].caption+"")&&W(o,l),f&2&&U(e,"active",u[1])},i:O,o:O,d(u){u&&y(e),a=!1,c()}}}function AO(r,e,t){let n;K(r,ne,o=>t(3,n=o));let i=!1,{setting:s}=e;function l(){s.setter(n),t(1,i=s.getter(n))}return ve(()=>{t(1,i=s.getter(n))}),ne.subscribe(o=>{t(1,i=s.getter(o))}),r.$$set=o=>{"setting"in o&&t(0,s=o.setting)},[s,i,l]}class bO extends j{constructor(e){super(),z(this,e,AO,gO,N,{setting:0})}}function _O(r,e,t){const n=r.slice();return n[0]=e[t],n}function wO(r){let e,t;return e=new bO({props:{setting:r[0]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function vO(r){let e,t,n=x(hO),i=[];for(let s=0;s<n.length;s+=1)i[s]=wO(_O(r,n,s));return{c(){e=g("div");for(let s=0;s<i.length;s+=1)i[s].c();h(e,"class","quicksettings")},m(s,l){S(s,e,l);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null);t=!0},p:O,i(s){if(!t){for(let l=0;l<n.length;l+=1)w(i[l]);t=!0}},o(s){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)C(i[l]);t=!1},d(s){s&&y(e),me(i,s)}}}class kO extends j{constructor(e){super(),z(this,e,null,vO,N,{})}}function yO(r){let e,t,n=r[0].sh.noQuickSettings?"Expand":"Collapse",i,s,l;return{c(){e=g("div"),t=g("button"),i=F(n),h(t,"class","toggle"),h(e,"class","quicksettings-toggle")},m(o,a){S(o,e,a),p(e,t),p(t,i),s||(l=P(t,"click",r[1]),s=!0)},p(o,[a]){a&1&&n!==(n=o[0].sh.noQuickSettings?"Expand":"Collapse")&&W(i,n)},i:O,o:O,d(o){o&&y(e),s=!1,l()}}}function SO(r,e,t){let n;K(r,ne,s=>t(0,n=s));function i(){Ee(ne,n.sh.noQuickSettings=!n.sh.noQuickSettings,n)}return[n,i]}class $O extends j{constructor(e){super(),z(this,e,SO,yO,N,{})}}function CO(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A;return a=new kI({}),u=new $O({}),d=new kO({}),{c(){e=g("div"),t=g("h3"),n=F("Notifications "),i=g("button"),s=F("Clear"),o=T(),M(a.$$.fragment),c=T(),M(u.$$.fragment),f=T(),M(d.$$.fragment),h(i,"class","clear"),i.disabled=l=!Object.entries(r[3]).length,h(t,"class","title"),h(e,"class","actioncenter"),Se(e,"z-index",r[2]+4),U(e,"docked",r[1].sh.taskbar.docked),U(e,"launcher",r[1].sh.taskbar.isLauncher),U(e,"opened",r[0]),U(e,"noquick",r[1].sh.noQuickSettings),U(e,"colored",r[1].sh.taskbar.colored)},m(_,k){S(_,e,k),p(e,t),p(t,n),p(t,i),p(i,s),p(e,o),D(a,e,null),p(e,c),D(u,e,null),p(e,f),D(d,e,null),m=!0,b||(A=P(i,"click",r[4]),b=!0)},p(_,[k]){(!m||k&8&&l!==(l=!Object.entries(_[3]).length))&&(i.disabled=l),(!m||k&4)&&Se(e,"z-index",_[2]+4),(!m||k&2)&&U(e,"docked",_[1].sh.taskbar.docked),(!m||k&2)&&U(e,"launcher",_[1].sh.taskbar.isLauncher),(!m||k&1)&&U(e,"opened",_[0]),(!m||k&2)&&U(e,"noquick",_[1].sh.noQuickSettings),(!m||k&2)&&U(e,"colored",_[1].sh.taskbar.colored)},i(_){m||(w(a.$$.fragment,_),w(u.$$.fragment,_),w(d.$$.fragment,_),m=!0)},o(_){C(a.$$.fragment,_),C(u.$$.fragment,_),C(d.$$.fragment,_),m=!1},d(_){_&&y(e),B(a),B(u),B(d),b=!1,A()}}}function TO(r,e,t){let n,i,s;K(r,ne,a=>t(1,n=a)),K(r,Ke,a=>t(2,i=a)),K(r,on,a=>t(3,s=a));let l=!1;Nt.subscribe(a=>t(0,l=a));function o(){on.set({}),Hn.set(null)}return[l,n,i,s,o]}class EO extends j{constructor(e){super(),z(this,e,TO,CO,N,{})}}function cf(r,e,t){const n=r.slice();return n[8]=e[t],n}function uf(r){let e,t,n=r[0].title+"",i,s,l,o,a,c=r[0].message+"",u,f,d,m;function b($,E){return $[0].image?OO:IO}let A=b(r),_=A(r),k=x(r[0].buttons),v=[];for(let $=0;$<k.length;$+=1)v[$]=ff(cf(r,k,$));return{c(){e=g("p"),_.c(),t=T(),i=F(n),s=T(),l=g("button"),l.textContent="close",o=T(),a=g("p"),u=T(),f=g("div");for(let $=0;$<v.length;$+=1)v[$].c();h(l,"class","close material-icons-round"),h(e,"class","title"),h(a,"class","message"),h(f,"class","buttons")},m($,E){S($,e,E),_.m(e,null),p(e,t),p(e,i),p(e,s),p(e,l),S($,o,E),S($,a,E),a.innerHTML=c,S($,u,E),S($,f,E);for(let I=0;I<v.length;I+=1)v[I]&&v[I].m(f,null);d||(m=P(l,"click",r[4]),d=!0)},p($,E){if(A===(A=b($))&&_?_.p($,E):(_.d(1),_=A($),_&&(_.c(),_.m(e,t))),E&1&&n!==(n=$[0].title+"")&&W(i,n),E&1&&c!==(c=$[0].message+"")&&(a.innerHTML=c),E&33){k=x($[0].buttons);let I;for(I=0;I<k.length;I+=1){const L=cf($,k,I);v[I]?v[I].p(L,E):(v[I]=ff(L),v[I].c(),v[I].m(f,null))}for(;I<v.length;I+=1)v[I].d(1);v.length=k.length}},d($){$&&(y(e),y(o),y(a),y(u),y(f)),_.d(),me(v,$),d=!1,m()}}}function IO(r){let e,t=r[0].icon+"",n;return{c(){e=g("span"),n=F(t),h(e,"class","material-icons-round")},m(i,s){S(i,e,s),p(e,n)},p(i,s){s&1&&t!==(t=i[0].icon+"")&&W(n,t)},d(i){i&&y(e)}}}function OO(r){let e,t,n;return{c(){e=g("img"),de(e.src,t=r[0].image)||h(e,"src",t),h(e,"alt",n=r[0].title)},m(i,s){S(i,e,s)},p(i,s){s&1&&!de(e.src,t=i[0].image)&&h(e,"src",t),s&1&&n!==(n=i[0].title)&&h(e,"alt",n)},d(i){i&&y(e)}}}function ff(r){let e,t=r[8].caption+"",n,i,s;return{c(){e=g("button"),n=F(t)},m(l,o){S(l,e,o),p(e,n),i||(s=P(e,"click",function(){at(r[5](r[8].action))&&r[5](r[8].action).apply(this,arguments)}),i=!0)},p(l,o){r=l,o&1&&t!==(t=r[8].caption+"")&&W(n,t)},d(l){l&&y(e),i=!1,s()}}}function RO(r){let e,t=r[0]&&uf(r);return{c(){e=g("div"),t&&t.c(),h(e,"class","notification"),Se(e,"z-index",r[3]+4),U(e,"hidden",!r[0]||r[1]),U(e,"colored",r[2].sh.taskbar.colored),U(e,"nobutt",r[0]&&!r[0].buttons.length),U(e,"launcher",r[2].sh.taskbar.isLauncher)},m(n,i){S(n,e,i),t&&t.m(e,null)},p(n,[i]){n[0]?t?t.p(n,i):(t=uf(n),t.c(),t.m(e,null)):t&&(t.d(1),t=null),i&8&&Se(e,"z-index",n[3]+4),i&3&&U(e,"hidden",!n[0]||n[1]),i&4&&U(e,"colored",n[2].sh.taskbar.colored),i&1&&U(e,"nobutt",n[0]&&!n[0].buttons.length),i&4&&U(e,"launcher",n[2].sh.taskbar.isLauncher)},i:O,o:O,d(n){n&&y(e),t&&t.d()}}}function LO(r,e,t){let n,i,s;K(r,on,f=>t(7,n=f)),K(r,ne,f=>t(2,i=f)),K(r,Ke,f=>t(3,s=f));let l=null,o=!1,a;Hn.subscribe(f=>{if(f){t(1,o=!0),t(0,l=null),a=f,setTimeout(()=>{Ft.playSound("arcos.notification"),t(1,o=!1),t(0,l=n[f])},250);return}t(1,o=!0),setTimeout(()=>{t(0,l=null)},300)});function c(){op()}function u(f){return()=>{f(),c(),kl(a)}}return[l,o,i,s,c,u]}class DO extends j{constructor(e){super(),z(this,e,LO,RO,N,{})}}function Bn(r){return document.querySelector(`window#${r.id}`)}function BO(r){const e=r.composedPath();for(let t=0;t<e.length;t++){const n=e[t].tagName;if(n&&n.toLowerCase()=="window")return e[t]}}function df(r){let e,t=r[0].info.name+"",n;return{c(){e=g("span"),n=F(t)},m(i,s){S(i,e,s),p(e,n)},p(i,s){s&1&&t!==(t=i[0].info.name+"")&&W(n,t)},d(i){i&&y(e)}}}function MO(r){let e,t,n,i,s,l,o,a=r[1]&&df(r);return{c(){e=g("button"),t=g("img"),s=T(),a&&a.c(),de(t.src,n=Wt(r[0].id)||yt(r[0]))||h(t,"src",n),h(t,"alt",i=r[0].info.name),h(t,"class","icon"),h(e,"class","appbutton"),U(e,"minimized",r[2]),U(e,"activated",r[0].id==r[3])},m(c,u){S(c,e,u),p(e,t),p(e,s),a&&a.m(e,null),l||(o=P(e,"click",r[4]),l=!0)},p(c,[u]){u&1&&!de(t.src,n=Wt(c[0].id)||yt(c[0]))&&h(t,"src",n),u&1&&i!==(i=c[0].info.name)&&h(t,"alt",i),c[1]?a?a.p(c,u):(a=df(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null),u&4&&U(e,"minimized",c[2]),u&9&&U(e,"activated",c[0].id==c[3])},i:O,o:O,d(c){c&&y(e),a&&a.d(),l=!1,o()}}}function FO(r,e,t){let n,i;K(r,Ke,c=>t(5,n=c)),K(r,et,c=>t(3,i=c));let{app:s}=e,l=!1,o=!1;ne.subscribe(c=>{t(1,l=c.sh.taskbar.labels)}),ue.subscribe(()=>{t(2,o=rp(s.id))});function a(){i==s.id?t(0,s.state.windowState.min=!s.state.windowState.min,s):t(0,s.state.windowState.min=!1,s),Gt(),Ee(Ke,n++,n),Ee(et,i=s.id,i);const c=Bn(s);c.style.zIndex=n.toString()}return r.$$set=c=>{"app"in c&&t(0,s=c.app)},[s,l,o,i,a]}class PO extends j{constructor(e){super(),z(this,e,FO,MO,N,{app:0})}}const UO=""+new URL("upload-54369c84.svg",import.meta.url).href;function pf(r,e,t){const n=r.slice();return n[8]=e[t],n}function NO(r){let e,t,n;return{c(){e=g("img"),de(e.src,t=r[8].image)||h(e,"src",t),h(e,"alt",n=r[8].identifier)},m(i,s){S(i,e,s)},p(i,s){s&4&&!de(e.src,t=i[8].image)&&h(e,"src",t),s&4&&n!==(n=i[8].identifier)&&h(e,"alt",n)},d(i){i&&y(e)}}}function zO(r){let e,t=r[8].icon+"",n;return{c(){e=g("span"),n=F(t),h(e,"class","material-icons-round")},m(i,s){S(i,e,s),p(e,n)},p(i,s){s&4&&t!==(t=i[8].icon+"")&&W(n,t)},d(i){i&&y(e)}}}function mf(r){let e,t,n,i;function s(c,u){return c[8].icon?zO:NO}let l=s(r),o=l(r);function a(){return r[7](r[8])}return{c(){e=g("button"),o.c(),h(e,"class","icon"),h(e,"title",t=r[8].title||"")},m(c,u){S(c,e,u),o.m(e,null),n||(i=P(e,"click",a),n=!0)},p(c,u){r=c,l===(l=s(r))&&o?o.p(r,u):(o.d(1),o=l(r),o&&(o.c(),o.m(e,null))),u&4&&t!==(t=r[8].title||"")&&h(e,"title",t)},d(c){c&&y(e),o.d(),n=!1,i()}}}function hf(r){let e,t;return{c(){e=g("div"),t=F(r[1]),h(e,"class","clock")},m(n,i){S(n,e,i),p(e,t)},p(n,i){i&2&&W(t,n[1])},d(n){n&&y(e)}}}function jO(r){let e,t,n,i,s,l,o,a,c,u,f=x(r[2]),d=[];for(let _=0;_<f.length;_+=1)d[_]=mf(pf(r,f,_));let m=r[0]&&hf(r);const b=r[6].default,A=ze(b,r,r[5],null);return{c(){e=g("div");for(let _=0;_<d.length;_+=1)d[_].c();t=T(),n=g("button"),n.innerHTML=`<img src="${UO}" alt="Committing"/>`,i=T(),m&&m.c(),s=T(),l=g("button"),l.textContent="notifications",o=T(),A&&A.c(),h(n,"class","icon committer"),U(n,"inactive",!r[3]),h(l,"class","material-icons-round ac-open"),U(l,"opened",r[4]),h(e,"class","tray")},m(_,k){S(_,e,k);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(e,null);p(e,t),p(e,n),p(e,i),m&&m.m(e,null),p(e,s),p(e,l),p(e,o),A&&A.m(e,null),a=!0,c||(u=P(l,"click",Vh),c=!0)},p(_,[k]){if(k&4){f=x(_[2]);let v;for(v=0;v<f.length;v+=1){const $=pf(_,f,v);d[v]?d[v].p($,k):(d[v]=mf($),d[v].c(),d[v].m(e,t))}for(;v<d.length;v+=1)d[v].d(1);d.length=f.length}(!a||k&8)&&U(n,"inactive",!_[3]),_[0]?m?m.p(_,k):(m=hf(_),m.c(),m.m(e,s)):m&&(m.d(1),m=null),(!a||k&16)&&U(l,"opened",_[4]),A&&A.p&&(!a||k&32)&&He(A,b,_,_[5],a?je(b,_[5],k,null):Qe(_[5]),null)},i(_){a||(w(A,_),a=!0)},o(_){C(A,_),a=!1},d(_){_&&y(e),me(d,_),m&&m.d(),A&&A.d(_),c=!1,u()}}}function HO(r,e,t){let n,i,s;K(r,_i,f=>t(2,n=f)),K(r,Xr,f=>t(3,i=f)),K(r,Nt,f=>t(4,s=f));let{$$slots:l={},$$scope:o}=e,{hasClock:a=!0}=e,c="";ve(()=>{setInterval(()=>{t(1,c=zt().format("HH:mm"))},500)});const u=f=>f.onOpen(f);return r.$$set=f=>{"hasClock"in f&&t(0,a=f.hasClock),"$$scope"in f&&t(5,o=f.$$scope)},[a,c,n,i,s,o,l,u]}class Om extends j{constructor(e){super(),z(this,e,HO,jO,N,{hasClock:0})}}function gf(r,e,t){const n=r.slice();return n[2]=e[t],n}function Af(r){let e,t;return e=new PO({props:{app:r[2]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.app=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function bf(r){let e,t,n=!r[2].disabled&&Af(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,s){i[2].disabled?n&&(q(),C(n,1,1,()=>{n=null}),Y()):n?(n.p(i,s),s&2&&w(n,1)):(n=Af(i),n.c(),w(n,1),n.m(e.parentNode,e))},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function QO(r){let e,t,n;return t=new en({props:{height:24}}),{c(){e=g("div"),M(t.$$.fragment),h(e,"class","tray svelte-1vsr6ui")},m(i,s){S(i,e,s),D(t,e,null),n=!0},i(i){n||(w(t.$$.fragment,i),n=!0)},o(i){C(t.$$.fragment,i),n=!1},d(i){i&&y(e),B(t)}}}function WO(r){let e,t;return e=new Om({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function GO(r){let e,t,n,i,s,l,o=x(r[1]),a=[];for(let m=0;m<o.length;m+=1)a[m]=bf(gf(r,o,m));const c=m=>C(a[m],1,1,()=>{a[m]=null}),u=[WO,QO],f=[];function d(m,b){return m[0]?0:1}return n=d(r),i=f[n]=u[n](r),{c(){e=g("div");for(let m=0;m<a.length;m+=1)a[m].c();t=T(),i.c(),s=ae(),h(e,"class","buttons")},m(m,b){S(m,e,b);for(let A=0;A<a.length;A+=1)a[A]&&a[A].m(e,null);S(m,t,b),f[n].m(m,b),S(m,s,b),l=!0},p(m,[b]){if(b&2){o=x(m[1]);let _;for(_=0;_<o.length;_+=1){const k=gf(m,o,_);a[_]?(a[_].p(k,b),w(a[_],1)):(a[_]=bf(k),a[_].c(),w(a[_],1),a[_].m(e,null))}for(q(),_=o.length;_<a.length;_+=1)c(_);Y()}let A=n;n=d(m),n!==A&&(q(),C(f[A],1,1,()=>{f[A]=null}),Y(),i=f[n],i||(i=f[n]=u[n](m),i.c()),w(i,1),i.m(s.parentNode,s))},i(m){if(!l){for(let b=0;b<o.length;b+=1)w(a[b]);w(i),l=!0}},o(m){a=a.filter(Boolean);for(let b=0;b<a.length;b+=1)C(a[b]);C(i),l=!1},d(m){m&&(y(e),y(t),y(s)),me(a,m),f[n].d(m)}}}function KO(r,e,t){let n=!1,i=[];return ue.subscribe(()=>{t(1,i=ti())}),ve(()=>{t(0,n=!1),setTimeout(()=>{t(0,n=!0)},3e3)}),[n,i]}class Rm extends j{constructor(e){super(),z(this,e,KO,GO,N,{})}}function VO(r){let e,t,n,i;const s=r[4].default,l=ze(s,r,r[3],null);return n=new Rm({}),{c(){e=g("div"),l&&l.c(),t=T(),M(n.$$.fragment),h(e,"class","taskbar-h newtb"),Se(e,"z-index",r[0]+5),h(e,"data-contextmenu","shell-taskbar"),U(e,"docked",r[1].sh.taskbar.docked),U(e,"centered",r[1].sh.taskbar.centered),U(e,"colored",r[1].sh.taskbar.colored),U(e,"visible",r[1].sh.taskbar.pos==""&&!r[2])},m(o,a){S(o,e,a),l&&l.m(e,null),p(e,t),D(n,e,null),i=!0},p(o,[a]){l&&l.p&&(!i||a&8)&&He(l,s,o,o[3],i?je(s,o[3],a,null):Qe(o[3]),null),(!i||a&1)&&Se(e,"z-index",o[0]+5),(!i||a&2)&&U(e,"docked",o[1].sh.taskbar.docked),(!i||a&2)&&U(e,"centered",o[1].sh.taskbar.centered),(!i||a&2)&&U(e,"colored",o[1].sh.taskbar.colored),(!i||a&6)&&U(e,"visible",o[1].sh.taskbar.pos==""&&!o[2])},i(o){i||(w(l,o),w(n.$$.fragment,o),i=!0)},o(o){C(l,o),C(n.$$.fragment,o),i=!1},d(o){o&&y(e),l&&l.d(o),B(n)}}}function qO(r,e,t){let n,i,s;K(r,Ke,a=>t(0,n=a)),K(r,ne,a=>t(1,i=a)),K(r,xt,a=>t(2,s=a));let{$$slots:l={},$$scope:o}=e;return r.$$set=a=>{"$$scope"in a&&t(3,o=a.$$scope)},[n,i,s,o,l]}class YO extends j{constructor(e){super(),z(this,e,qO,VO,N,{})}}function JO(r){let e,t,n,i,s,l,o;return{c(){e=g("button"),t=g("img"),de(t.src,n=Wt(r[0].id)||r[0].info.icon)||h(t,"src",n),h(t,"alt",i=r[0].info.name),h(e,"title",s=r[0].info.name),U(e,"minimized",r[1]),U(e,"activated",r[0].id==r[2])},m(a,c){S(a,e,c),p(e,t),l||(o=P(e,"click",r[3]),l=!0)},p(a,[c]){c&1&&!de(t.src,n=Wt(a[0].id)||a[0].info.icon)&&h(t,"src",n),c&1&&i!==(i=a[0].info.name)&&h(t,"alt",i),c&1&&s!==(s=a[0].info.name)&&h(e,"title",s),c&2&&U(e,"minimized",a[1]),c&5&&U(e,"activated",a[0].id==a[2])},i:O,o:O,d(a){a&&y(e),l=!1,o()}}}function ZO(r,e,t){let n,i;K(r,Ke,a=>t(4,n=a)),K(r,et,a=>t(2,i=a));let{app:s}=e,l=!1;ue.subscribe(()=>{t(1,l=rp(s.id))});function o(){i==s.id?t(0,s.state.windowState.min=!s.state.windowState.min,s):t(0,s.state.windowState.min=!1,s),Gt(),Ee(Ke,n++,n),Ee(et,i=s.id,i);const a=Bn(s);a.style.zIndex=n.toString(),kt.set(!1)}return r.$$set=a=>{"app"in a&&t(0,s=a.app)},[s,l,i,o]}class XO extends j{constructor(e){super(),z(this,e,ZO,JO,N,{app:0})}}function xO(r){let e,t,n;return{c(){e=g("div"),h(e,"class","launcher-bar-trigger"),Se(e,"z-index",r[0]+32)},m(i,s){S(i,e,s),t||(n=[P(e,"mouseenter",r[1]),P(e,"mouseleave",r[2])],t=!0)},p(i,[s]){s&1&&Se(e,"z-index",i[0]+32)},i:O,o:O,d(i){i&&y(e),t=!1,ke(n)}}}function eR(r,e,t){let n;K(r,Ke,c=>t(0,n=c));let{visible:i=!1}=e,{dockfocused:s}=e,{interval:l}=e;function o(){t(3,i=!0)}function a(){clearTimeout(l),!s&&t(4,l=setTimeout(()=>{t(3,i=!1)},1e3))}return r.$$set=c=>{"visible"in c&&t(3,i=c.visible),"dockfocused"in c&&t(5,s=c.dockfocused),"interval"in c&&t(4,l=c.interval)},[n,o,a,i,l,s]}class tR extends j{constructor(e){super(),z(this,e,eR,xO,N,{visible:3,dockfocused:5,interval:4})}}function _f(r,e,t){const n=r.slice();return n[12]=e[t],n}function wf(r){let e,t;return e=new XO({props:{app:r[12]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.app=n[12]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function vf(r){let e,t,n=!r[12].info.hidden&&wf(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,s){i[12].info.hidden?n&&(q(),C(n,1,1,()=>{n=null}),Y()):n?(n.p(i,s),s&1&&w(n,1)):(n=wf(i),n.c(),w(n,1),n.m(e.parentNode,e))},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function nR(r){let e,t,n,i,s,l,o,a,c,u,f,d=x(r[0]),m=[];for(let v=0;v<d.length;v+=1)m[v]=vf(_f(r,d,v));const b=v=>C(m[v],1,1,()=>{m[v]=null});function A(v){r[9](v)}function _(v){r[10](v)}let k={dockfocused:r[2]};return r[1]!==void 0&&(k.visible=r[1]),r[3]!==void 0&&(k.interval=r[3]),l=new tR({props:k}),we.push(()=>Ce(l,"visible",A)),we.push(()=>Ce(l,"interval",_)),{c(){e=g("div"),t=g("button"),t.innerHTML=`<img src="${tn()}" alt="ArcOS"/>`,n=T(),i=g("div");for(let v=0;v<m.length;v+=1)m[v].c();s=T(),M(l.$$.fragment),h(t,"class","apps"),h(i,"class","opened-apps"),h(e,"class","launcher-bar"),Se(e,"z-index",r[5]+31),U(e,"colored",r[4].sh.taskbar.colored),U(e,"visible",r[1])},m(v,$){S(v,e,$),p(e,t),p(e,n),p(e,i);for(let E=0;E<m.length;E+=1)m[E]&&m[E].m(i,null);S(v,s,$),D(l,v,$),c=!0,u||(f=[P(t,"click",r[8]),P(e,"mouseenter",r[6]),P(e,"mouseleave",r[7])],u=!0)},p(v,[$]){if($&1){d=x(v[0]);let I;for(I=0;I<d.length;I+=1){const L=_f(v,d,I);m[I]?(m[I].p(L,$),w(m[I],1)):(m[I]=vf(L),m[I].c(),w(m[I],1),m[I].m(i,null))}for(q(),I=d.length;I<m.length;I+=1)b(I);Y()}(!c||$&32)&&Se(e,"z-index",v[5]+31),(!c||$&16)&&U(e,"colored",v[4].sh.taskbar.colored),(!c||$&2)&&U(e,"visible",v[1]);const E={};$&4&&(E.dockfocused=v[2]),!o&&$&2&&(o=!0,E.visible=v[1],$e(()=>o=!1)),!a&&$&8&&(a=!0,E.interval=v[3],$e(()=>a=!1)),l.$set(E)},i(v){if(!c){for(let $=0;$<d.length;$+=1)w(m[$]);w(l.$$.fragment,v),c=!0}},o(v){m=m.filter(Boolean);for(let $=0;$<m.length;$+=1)C(m[$]);C(l.$$.fragment,v),c=!1},d(v){v&&(y(e),y(s)),me(m,v),B(l,v),u=!1,ke(f)}}}function iR(r,e,t){let n,i,s;K(r,kt,A=>t(11,n=A)),K(r,ne,A=>t(4,i=A)),K(r,Ke,A=>t(5,s=A));let l=[],o=!1,a=!1,c;ue.subscribe(()=>{t(0,l=ti())});function u(){t(2,a=!0),clearTimeout(c)}function f(){t(2,a=!1),t(3,c=setTimeout(()=>{t(1,o=!1)},1e3))}function d(){Ee(kt,n=!n,n)}function m(A){o=A,t(1,o)}function b(A){c=A,t(3,c)}return[l,o,a,c,i,s,u,f,d,m,b]}class rR extends j{constructor(e){super(),z(this,e,iR,nR,N,{})}}function sR(r){let e,t;return{c(){e=g("div"),t=F(r[0]),h(e,"class","clock")},m(n,i){S(n,e,i),p(e,t)},p(n,[i]){i&1&&W(t,n[0])},i:O,o:O,d(n){n&&y(e)}}}function lR(r,e,t){let n="";return ve(()=>{setInterval(()=>{t(0,n=zt().format("MMM M, HH:mm"))},500)}),[n]}class oR extends j{constructor(e){super(),z(this,e,lR,sR,N,{})}}function aR(r){let e;return{c(){e=F(r[3])},m(t,n){S(t,e,n)},p(t,n){n&8&&W(e,t[3])},d(t){t&&y(e)}}}function cR(r){let e,t,n,i,s;return t=new oR({}),i=new Om({props:{hasClock:!1,$$slots:{default:[aR]},$$scope:{ctx:r}}}),{c(){e=g("div"),M(t.$$.fragment),n=T(),M(i.$$.fragment),h(e,"class","launcher-topbar"),Se(e,"z-index",r[2]+22),U(e,"docked",r[0].sh.taskbar.docked),U(e,"colored",r[0].sh.taskbar.colored),U(e,"visible",!r[1])},m(l,o){S(l,e,o),D(t,e,null),p(e,n),D(i,e,null),s=!0},p(l,[o]){const a={};o&24&&(a.$$scope={dirty:o,ctx:l}),i.$set(a),(!s||o&4)&&Se(e,"z-index",l[2]+22),(!s||o&1)&&U(e,"docked",l[0].sh.taskbar.docked),(!s||o&1)&&U(e,"colored",l[0].sh.taskbar.colored),(!s||o&2)&&U(e,"visible",!l[1])},i(l){s||(w(t.$$.fragment,l),w(i.$$.fragment,l),s=!0)},o(l){C(t.$$.fragment,l),C(i.$$.fragment,l),s=!1},d(l){l&&y(e),B(t),B(i)}}}function uR(r,e,t){let n,i,s,l;return K(r,ne,o=>t(0,n=o)),K(r,xt,o=>t(1,i=o)),K(r,Ke,o=>t(2,s=o)),K(r,Fe,o=>t(3,l=o)),[n,i,s,l]}class fR extends j{constructor(e){super(),z(this,e,uR,cR,N,{})}}function dR(r){let e,t,n,i;return e=new rR({}),n=new fR({}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment)},m(s,l){D(e,s,l),S(s,t,l),D(n,s,l),i=!0},p:O,i(s){i||(w(e.$$.fragment,s),w(n.$$.fragment,s),i=!0)},o(s){C(e.$$.fragment,s),C(n.$$.fragment,s),i=!1},d(s){s&&y(t),B(e,s),B(n,s)}}}class pR extends j{constructor(e){super(),z(this,e,null,dR,N,{})}}function mR(r){let e,t,n;return{c(){e=g("div"),h(e,"class","shellshade"),Se(e,"z-index",r[1]+3),U(e,"visible",r[0])},m(i,s){S(i,e,s),t||(n=P(e,"click",r[2]),t=!0)},p(i,[s]){s&2&&Se(e,"z-index",i[1]+3),s&1&&U(e,"visible",i[0])},i:O,o:O,d(i){i&&y(e),t=!1,n()}}}function hR(r,e,t){let n,i,s,l;K(r,Nt,c=>t(3,n=c)),K(r,Ot,c=>t(4,i=c)),K(r,Mf,c=>t(0,s=c)),K(r,Ke,c=>t(1,l=c)),Nt.subscribe(o),Ot.subscribe(o);function o(){Ee(Mf,s=i||n,s)}function a(){Ot.set(!1),Nt.set(!1)}return[s,l,a]}class gR extends j{constructor(e){super(),z(this,e,hR,mR,N,{})}}function AR(r){let e,t,n,i;const s=r[4].default,l=ze(s,r,r[3],null);return n=new Rm({}),{c(){e=g("div"),l&&l.c(),t=T(),M(n.$$.fragment),h(e,"class","taskbar-v newtb"),Se(e,"z-index",r[0]+5),h(e,"data-contextmenu","shell-taskbar"),U(e,"docked",r[1].sh.taskbar.docked),U(e,"centered",r[1].sh.taskbar.centered),U(e,"colored",r[1].sh.taskbar.colored),U(e,"visible",r[1].sh.taskbar.pos!=""&&!r[2]),U(e,"right",r[1].sh.taskbar.pos=="vertical-right")},m(o,a){S(o,e,a),l&&l.m(e,null),p(e,t),D(n,e,null),i=!0},p(o,[a]){l&&l.p&&(!i||a&8)&&He(l,s,o,o[3],i?je(s,o[3],a,null):Qe(o[3]),null),(!i||a&1)&&Se(e,"z-index",o[0]+5),(!i||a&2)&&U(e,"docked",o[1].sh.taskbar.docked),(!i||a&2)&&U(e,"centered",o[1].sh.taskbar.centered),(!i||a&2)&&U(e,"colored",o[1].sh.taskbar.colored),(!i||a&6)&&U(e,"visible",o[1].sh.taskbar.pos!=""&&!o[2]),(!i||a&2)&&U(e,"right",o[1].sh.taskbar.pos=="vertical-right")},i(o){i||(w(l,o),w(n.$$.fragment,o),i=!0)},o(o){C(l,o),C(n.$$.fragment,o),i=!1},d(o){o&&y(e),l&&l.d(o),B(n)}}}function bR(r,e,t){let n,i,s;K(r,Ke,a=>t(0,n=a)),K(r,ne,a=>t(1,i=a)),K(r,xt,a=>t(2,s=a));let{$$slots:l={},$$scope:o}=e;return r.$$set=a=>{"$$scope"in a&&t(3,o=a.$$scope)},[n,i,s,o,l]}class _R extends j{constructor(e){super(),z(this,e,bR,AR,N,{})}}function wR(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,k;return n=new gt({props:{src:r[0],height:21}}),{c(){e=g("div"),t=g("h1"),M(n.$$.fragment),i=T(),s=F(r[1]),l=T(),o=g("div"),a=g("button"),a.textContent="search",c=T(),u=g("button"),u.textContent="settings",f=T(),d=g("div"),m=T(),b=g("button"),b.textContent="power_settings_new",h(t,"class","username"),h(a,"class","material-icons-round"),h(a,"title","Search (Alt+Shift+S)"),h(u,"class","material-icons-round"),h(d,"class","sep"),h(b,"class","material-icons-round"),h(o,"class","options"),h(e,"class","bottom")},m(v,$){S(v,e,$),p(e,t),D(n,t,null),p(t,i),p(t,s),p(e,l),p(e,o),p(o,a),p(o,c),p(o,u),p(o,f),p(o,d),p(o,m),p(o,b),A=!0,_||(k=[P(a,"click",r[4]),P(u,"click",r[3]),P(b,"click",r[2])],_=!0)},p(v,[$]){const E={};$&1&&(E.src=v[0]),n.$set(E),(!A||$&2)&&W(s,v[1])},i(v){A||(w(n.$$.fragment,v),A=!0)},o(v){C(n.$$.fragment,v),A=!1},d(v){v&&y(e),B(n),_=!1,ke(k)}}}function vR(r,e,t){let n,i;K(r,ne,c=>t(5,n=c)),K(r,Fe,c=>t(1,i=c));let s;function l(){Pe("Exit"),Ot.set(!1)}function o(){Pe("SettingsApp"),Ot.set(!1)}function a(){kt.set(!0),Ot.set(!1)}return ne.subscribe(()=>{t(0,s=hn(n.acc.profilePicture))}),[s,i,l,o,a]}class kR extends j{constructor(e){super(),z(this,e,vR,wR,N,{})}}const kf={communication:{name:"Communication",id:"communication"},coreApps:{name:"Core Apps",id:"coreApps"},entertainment:{name:"Entertainment",id:"entertainment"},utilities:{name:"Utilities",id:"utilities"},support:{name:"Help and Support",id:"support"},systemTools:{name:"System Tools",id:"systemTools"}};function yR(){const r=G(ue),e={},t=[];let n=[];for(let i=0;i<r.length;i++){n.push(r[i].id);const s=r[i].info.appGroup;if(kf[s]){if(!Ht(r[i])){t.push(r[i].id);continue}if(t.push(r[i].id),!e[s]){e[s]={...kf[s],apps:[r[i].id]};continue}e[s].apps.push(r[i].id)}}return n=n.filter(i=>!t.includes(i)),{groups:e,rest:n}}function SR(r){let e,t,n,i,s,l=r[0].info.name+"",o,a,c,u;return{c(){e=g("button"),t=g("img"),s=T(),o=F(l),de(t.src,n=Wt(r[0].id)||yt(r[0]))||h(t,"src",n),h(t,"class","icon"),h(t,"alt",i=r[0].info.name),h(e,"class","item"),e.disabled=a=r[0].opened},m(f,d){S(f,e,d),p(e,t),p(e,s),p(e,o),c||(u=P(e,"click",r[1]),c=!0)},p(f,[d]){d&1&&!de(t.src,n=Wt(f[0].id)||yt(f[0]))&&h(t,"src",n),d&1&&i!==(i=f[0].info.name)&&h(t,"alt",i),d&1&&l!==(l=f[0].info.name+"")&&W(o,l),d&1&&a!==(a=f[0].opened)&&(e.disabled=a)},i:O,o:O,d(f){f&&y(e),c=!1,u()}}}function $R(r,e,t){let{app:n}=e,{onopen:i=()=>{}}=e;function s(){Pe(n.id),Gt(),Ot.set(!1),i()}return r.$$set=l=>{"app"in l&&t(0,n=l.app),"onopen"in l&&t(2,i=l.onopen)},[n,s,i]}class Kl extends j{constructor(e){super(),z(this,e,$R,SR,N,{app:0,onopen:2})}}function yf(r,e,t){const n=r.slice();return n[3]=e[t],n}function Sf(r){let e,t,n,i,s,l,o=r[0].name+"",a,c,u,f,d,m,b=x(r[0].apps),A=[];for(let k=0;k<b.length;k+=1)A[k]=Cf(yf(r,b,k));const _=k=>C(A[k],1,1,()=>{A[k]=null});return{c(){e=g("div"),t=g("button"),n=g("img"),s=T(),l=g("span"),a=F(o),c=T(),u=g("div");for(let k=0;k<A.length;k+=1)A[k].c();de(n.src,i=Xt)||h(n,"src",i),h(n,"alt",""),h(l,"class","capt"),h(t,"class","expander"),h(u,"class","apps"),h(e,"class","group"),U(e,"expand",r[1])},m(k,v){S(k,e,v),p(e,t),p(t,n),p(t,s),p(t,l),p(l,a),p(e,c),p(e,u);for(let $=0;$<A.length;$+=1)A[$]&&A[$].m(u,null);f=!0,d||(m=P(t,"click",r[2]),d=!0)},p(k,v){if((!f||v&1)&&o!==(o=k[0].name+"")&&W(a,o),v&1){b=x(k[0].apps);let $;for($=0;$<b.length;$+=1){const E=yf(k,b,$);A[$]?(A[$].p(E,v),w(A[$],1)):(A[$]=Cf(E),A[$].c(),w(A[$],1),A[$].m(u,null))}for(q(),$=b.length;$<A.length;$+=1)_($);Y()}(!f||v&2)&&U(e,"expand",k[1])},i(k){if(!f){for(let v=0;v<b.length;v+=1)w(A[v]);f=!0}},o(k){A=A.filter(Boolean);for(let v=0;v<A.length;v+=1)C(A[v]);f=!1},d(k){k&&y(e),me(A,k),d=!1,m()}}}function $f(r){let e,t;return e=new Kl({props:{app:Ue(r[3])}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.app=Ue(n[3])),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Cf(r){let e=Ht(Ue(r[3])),t,n,i=e&&$f(r);return{c(){i&&i.c(),t=ae()},m(s,l){i&&i.m(s,l),S(s,t,l),n=!0},p(s,l){l&1&&(e=Ht(Ue(s[3]))),e?i?(i.p(s,l),l&1&&w(i,1)):(i=$f(s),i.c(),w(i,1),i.m(t.parentNode,t)):i&&(q(),C(i,1,1,()=>{i=null}),Y())},i(s){n||(w(i),n=!0)},o(s){C(i),n=!1},d(s){s&&y(t),i&&i.d(s)}}}function CR(r){let e,t,n=r[0]&&Sf(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=Sf(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function TR(r,e,t){let{group:n}=e,i=!1;const s=()=>t(1,i=!i);return r.$$set=l=>{"group"in l&&t(0,n=l.group)},[n,i,s]}class ER extends j{constructor(e){super(),z(this,e,TR,CR,N,{group:0})}}function Tf(r,e,t){const n=r.slice();return n[3]=e[t],n}function Ef(r,e,t){const n=r.slice();return n[6]=e[t],n}function If(r){let e,t;return e=new ER({props:{group:r[6]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.group=n[6]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Of(r){let e,t;return e=new Kl({props:{app:Ue(r[3])}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.app=Ue(n[3])),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Rf(r){let e=Ht(Ue(r[3])),t,n,i=e&&Of(r);return{c(){i&&i.c(),t=ae()},m(s,l){i&&i.m(s,l),S(s,t,l),n=!0},p(s,l){l&1&&(e=Ht(Ue(s[3]))),e?i?(i.p(s,l),l&1&&w(i,1)):(i=Of(s),i.c(),w(i,1),i.m(t.parentNode,t)):i&&(q(),C(i,1,1,()=>{i=null}),Y())},i(s){n||(w(i),n=!0)},o(s){C(i),n=!1},d(s){s&&y(t),i&&i.d(s)}}}function IR(r){let e,t,n,i=x(Object.values(r[1])),s=[];for(let u=0;u<i.length;u+=1)s[u]=If(Ef(r,i,u));const l=u=>C(s[u],1,1,()=>{s[u]=null});let o=x(r[0]),a=[];for(let u=0;u<o.length;u+=1)a[u]=Rf(Tf(r,o,u));const c=u=>C(a[u],1,1,()=>{a[u]=null});return{c(){e=g("div");for(let u=0;u<s.length;u+=1)s[u].c();t=T();for(let u=0;u<a.length;u+=1)a[u].c();h(e,"class","left")},m(u,f){S(u,e,f);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(e,null);p(e,t);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(e,null);n=!0},p(u,[f]){if(f&2){i=x(Object.values(u[1]));let d;for(d=0;d<i.length;d+=1){const m=Ef(u,i,d);s[d]?(s[d].p(m,f),w(s[d],1)):(s[d]=If(m),s[d].c(),w(s[d],1),s[d].m(e,t))}for(q(),d=i.length;d<s.length;d+=1)l(d);Y()}if(f&1){o=x(u[0]);let d;for(d=0;d<o.length;d+=1){const m=Tf(u,o,d);a[d]?(a[d].p(m,f),w(a[d],1)):(a[d]=Rf(m),a[d].c(),w(a[d],1),a[d].m(e,null))}for(q(),d=o.length;d<a.length;d+=1)c(d);Y()}},i(u){if(!n){for(let f=0;f<i.length;f+=1)w(s[f]);for(let f=0;f<o.length;f+=1)w(a[f]);n=!0}},o(u){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)C(s[f]);a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)C(a[f]);n=!1},d(u){u&&y(e),me(s,u),me(a,u)}}}function OR(r,e,t){let n,i=pe({});K(r,i,l=>t(1,n=l));let s=[];return ue.subscribe(async()=>{Ee(i,n={},n),await ct(0);const l=yR();Ee(i,n=l.groups,n),t(0,s=l.rest)}),[s,n,i]}class RR extends j{constructor(e){super(),z(this,e,OR,IR,N,{})}}function LR(r){let e,t,n,i,s,l,o,a=r[0].name+"",c,u,f;return{c(){e=g("button"),t=g("div"),n=g("img"),l=T(),o=g("div"),c=F(a),de(n.src,i=Xt)||h(n,"src",i),h(n,"alt",s=r[0].name),h(t,"class","image"),h(o,"class","caption"),h(e,"class","link dir")},m(d,m){S(d,e,m),p(e,t),p(t,n),p(e,l),p(e,o),p(o,c),u||(f=P(e,"click",r[1]),u=!0)},p(d,[m]){m&1&&s!==(s=d[0].name)&&h(n,"alt",s),m&1&&a!==(a=d[0].name+"")&&W(c,a)},i:O,o:O,d(d){d&&y(e),u=!1,f()}}}function DR(r,e,t){let{dir:n}=e;function i(){Ot.set(!1),Pe("FileManager"),setTimeout(()=>{tt.goToDirectory(n.scopedPath)})}return r.$$set=s=>{"dir"in s&&t(0,n=s.dir)},[n,i]}class BR extends j{constructor(e){super(),z(this,e,DR,LR,N,{dir:0})}}function Lf(r,e,t){const n=r.slice();return n[1]=e[t],n}function Df(r){let e,t;return e=new BR({props:{dir:r[1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.dir=n[1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function MR(r){let e,t,n=x(r[0]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Df(Lf(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","right")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,[o]){if(o&1){n=x(l[0]);let a;for(a=0;a<n.length;a+=1){const c=Lf(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Df(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function FR(r,e,t){let n=[];return Lt.subscribe(async()=>{t(0,n=(await Kt("./")).directories)}),[n]}class PR extends j{constructor(e){super(),z(this,e,FR,MR,N,{})}}function Bf(r){let e,t,n,i,s,l,o;return t=new RR({}),i=new PR({}),l=new kR({}),{c(){e=g("div"),M(t.$$.fragment),n=T(),M(i.$$.fragment),s=T(),M(l.$$.fragment),h(e,"class","startmenu"),Se(e,"z-index",r[1]+4),U(e,"open",r[2]),U(e,"small",r[0].sh.start.small),U(e,"colored",r[0].sh.taskbar.colored)},m(a,c){S(a,e,c),D(t,e,null),p(e,n),D(i,e,null),p(e,s),D(l,e,null),o=!0},p(a,c){(!o||c&2)&&Se(e,"z-index",a[1]+4),(!o||c&4)&&U(e,"open",a[2]),(!o||c&1)&&U(e,"small",a[0].sh.start.small),(!o||c&1)&&U(e,"colored",a[0].sh.taskbar.colored)},i(a){o||(w(t.$$.fragment,a),w(i.$$.fragment,a),w(l.$$.fragment,a),o=!0)},o(a){C(t.$$.fragment,a),C(i.$$.fragment,a),C(l.$$.fragment,a),o=!1},d(a){a&&y(e),B(t),B(i),B(l)}}}function UR(r){let e,t,n=r[0]&&Bf(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=Bf(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function NR(r,e,t){let n,i,s;return K(r,ne,l=>t(0,n=l)),K(r,Ke,l=>t(1,i=l)),K(r,Ot,l=>t(2,s=l)),[n,i,s]}class zR extends j{constructor(e){super(),z(this,e,NR,UR,N,{})}}function jR(r){let e,t,n;return{c(){e=g("button"),e.innerHTML=`<img src="${tn()}" alt="ArcOS Logo"/>`,h(e,"class","start"),U(e,"open",r[0])},m(i,s){S(i,e,s),t||(n=P(e,"click",r[1]),t=!0)},p(i,[s]){s&1&&U(e,"open",i[0])},i:O,o:O,d(i){i&&y(e),t=!1,n()}}}function HR(r,e,t){let n;K(r,Ot,s=>t(0,n=s));function i(){Ee(Ot,n=!n,n)}return[n,i]}class Lm extends j{constructor(e){super(),z(this,e,HR,jR,N,{})}}function QR(r){let e,t;return e=new pR({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function WR(r){let e,t,n,i;return e=new YO({props:{$$slots:{default:[GR]},$$scope:{ctx:r}}}),n=new _R({props:{$$slots:{default:[KR]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment)},m(s,l){D(e,s,l),S(s,t,l),D(n,s,l),i=!0},i(s){i||(w(e.$$.fragment,s),w(n.$$.fragment,s),i=!0)},o(s){C(e.$$.fragment,s),C(n.$$.fragment,s),i=!1},d(s){s&&y(t),B(e,s),B(n,s)}}}function GR(r){let e,t;return e=new Lm({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function KR(r){let e,t;return e=new Lm({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function VR(r){let e,t,n,i,s,l,o,a,c,u,f;e=new gR({}),n=new zR({});const d=[WR,QR],m=[];function b(A,_){return A[0].sh.taskbar.isLauncher?1:0}return s=b(r),l=m[s]=d[s](r),a=new EO({}),u=new DO({}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment),i=T(),l.c(),o=T(),M(a.$$.fragment),c=T(),M(u.$$.fragment)},m(A,_){D(e,A,_),S(A,t,_),D(n,A,_),S(A,i,_),m[s].m(A,_),S(A,o,_),D(a,A,_),S(A,c,_),D(u,A,_),f=!0},p(A,[_]){let k=s;s=b(A),s!==k&&(q(),C(m[k],1,1,()=>{m[k]=null}),Y(),l=m[s],l||(l=m[s]=d[s](A),l.c()),w(l,1),l.m(o.parentNode,o))},i(A){f||(w(e.$$.fragment,A),w(n.$$.fragment,A),w(l),w(a.$$.fragment,A),w(u.$$.fragment,A),f=!0)},o(A){C(e.$$.fragment,A),C(n.$$.fragment,A),C(l),C(a.$$.fragment,A),C(u.$$.fragment,A),f=!1},d(A){A&&(y(t),y(i),y(o),y(c)),B(e,A),B(n,A),m[s].d(A),B(a,A),B(u,A)}}}function qR(r,e,t){let n;return K(r,ne,i=>t(0,n=i)),[n]}class YR extends j{constructor(e){super(),z(this,e,qR,VR,N,{})}}const JR={info:{name:"ArcShell",description:"The ArcOS Shell",builtin:!0,version:ut,author:"ArcOS Team",icon:tn(),custom:!0,appGroup:"coreApps"},size:{w:NaN,h:NaN},pos:{x:0,y:0},minSize:{w:NaN,h:NaN},maxSize:{w:NaN,h:NaN},controls:{min:!1,max:!1,cls:!1},state:{headless:!0,resizable:!1,windowState:{min:!1,max:!1,fll:!0}},content:YR,glass:!1,events:{},contextMenu:{"shell-taskbar":[{caption:"Application Manager",action:()=>{Pe("AppMan")}},Mi,{icon:"settings",caption:"Shell settings",action:()=>{Pe("SettingsApp"),setTimeout(()=>{Di("Shell")})}}]},core:!0},Mf=pe(!1);function ZR(r){let e,t,n,i,s,l,o=r[0].info.name+"",a,c,u;return{c(){e=g("button"),t=g("img"),s=T(),l=g("p"),a=F(o),de(t.src,n=Wt(r[0].id)||r[0].info.icon)||h(t,"src",n),h(t,"alt",i=r[0].info.name),h(l,"class","name"),h(e,"class","desktopIcon")},m(f,d){S(f,e,d),p(e,t),p(e,s),p(e,l),p(l,a),c||(u=P(e,"dblclick",r[1]),c=!0)},p(f,[d]){d&1&&!de(t.src,n=Wt(f[0].id)||f[0].info.icon)&&h(t,"src",n),d&1&&i!==(i=f[0].info.name)&&h(t,"alt",i),d&1&&o!==(o=f[0].info.name+"")&&W(a,o)},i:O,o:O,d(f){f&&y(e),c=!1,u()}}}function XR(r,e,t){let{app:n}=e;function i(){Pe(n.id)}return r.$$set=s=>{"app"in s&&t(0,n=s.app)},[n,i]}class xR extends j{constructor(e){super(),z(this,e,XR,ZR,N,{app:0})}}function Ff(r,e,t){const n=r.slice();return n[2]=e[t],n}function Pf(r){let e,t,n=x(r[1]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Nf(Ff(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","desktopIcons"),U(e,"launcher",r[0].sh.taskbar.isLauncher),U(e,"undocked-launcher",r[0].sh.taskbar.isLauncher&&!r[0].sh.taskbar.docked)},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,o){if(o&3){n=x(l[1]);let a;for(a=0;a<n.length;a+=1){const c=Ff(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Nf(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}(!t||o&1)&&U(e,"launcher",l[0].sh.taskbar.isLauncher),(!t||o&1)&&U(e,"undocked-launcher",l[0].sh.taskbar.isLauncher&&!l[0].sh.taskbar.docked)},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Uf(r){let e,t;return e=new xR({props:{app:r[2]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.app=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Nf(r){let e=Ht(r[2])||r[0].sh.showHiddenApps,t,n,i=e&&Uf(r);return{c(){i&&i.c(),t=ae()},m(s,l){i&&i.m(s,l),S(s,t,l),n=!0},p(s,l){l&3&&(e=Ht(s[2])||s[0].sh.showHiddenApps),e?i?(i.p(s,l),l&3&&w(i,1)):(i=Uf(s),i.c(),w(i,1),i.m(t.parentNode,t)):i&&(q(),C(i,1,1,()=>{i=null}),Y())},i(s){n||(w(i),n=!0)},o(s){C(i),n=!1},d(s){s&&y(t),i&&i.d(s)}}}function eL(r){let e,t,n=r[0].sh.desktop.icons&&Pf(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0].sh.desktop.icons?n?(n.p(i,s),s&1&&w(n,1)):(n=Pf(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function tL(r,e,t){let n,i;return K(r,ne,s=>t(0,n=s)),K(r,ue,s=>t(1,i=s)),[n,i]}class nL extends j{constructor(e){super(),z(this,e,tL,eL,N,{})}}const xi=pe(),fs=pe(!1),ds=pe(!1);function iL(r){let e,t,n;return t=new nL({}),{c(){e=g("div"),M(t.$$.fragment),h(e,"class","wallpaper fullscreen"),Se(e,"background-image","url("+r[0]+")"),h(e,"data-contextmenu","shell-wallpaper")},m(i,s){S(i,e,s),D(t,e,null),n=!0},p(i,[s]){(!n||s&1)&&Se(e,"background-image","url("+i[0]+")")},i(i){n||(w(t.$$.fragment,i),n=!0)},o(i){C(t.$$.fragment,i),n=!1},d(i){i&&y(e),B(t)}}}function rL(r,e,t){let n;K(r,ne,l=>t(2,n=l));let i="",s="";return ne.subscribe(async()=>{const l=n.sh.desktop.wallpaper;if(s==l)return;s=l;const o=(await Ql(l)).url;o!=i&&t(0,i=o)}),[i]}class sL extends j{constructor(e){super(),z(this,e,rL,iL,N,{})}}const lL={info:{name:"Wallpaper",description:"The ArcOS wallpaper",builtin:!0,version:ut,author:"ArcOS Team",icon:jr,custom:!0,appGroup:"coreApps"},size:{w:NaN,h:NaN},pos:{x:0,y:0},minSize:{w:NaN,h:NaN},maxSize:{w:NaN,h:NaN},controls:{min:!1,max:!1,cls:!1},state:{headless:!0,resizable:!1,windowState:{min:!1,max:!1,fll:!0}},content:sL,glass:!1,events:{},contextMenu:{"shell-wallpaper":[{caption:"Show desktop icons",action:()=>{const r=G(ne);r.sh.desktop.icons=!r.sh.desktop.icons,ne.set(r)},icon:"apps",isActive:()=>G(ne).sh.desktop.icons},Mi,{caption:"File Manager",action:()=>{Pe("FileManager")},image:Yp},{caption:"Application Manager",action:()=>{Pe("AppMan")},image:Il},{caption:"App settings",action:()=>{Di("Apps")},image:cs},Mi,{caption:"Shut down",action:Zr,icon:"power_settings_new"},{caption:"Restart",action:()=>Qn(!1),icon:"refresh"},Mi,{caption:"Themes",action:()=>{Di("Themes")},image:Hl},{caption:"Wallpaper",action:()=>{Di("Wallpaper")},image:jr},{caption:"Visuals",action:()=>{Di("Visuals")},image:bm}]},core:!0},oL={ErrCre:Jw,FileManager:f2,TextEditor:sT,CalculatorApp:Pw,MessagingApp:tT,SettingsApp:mI,AppMan:Hp,LoggerApp:uS,ArcTerm:c_,DonutApp:Kw,LightsOff:Ry,ArcShell:JR,Exit:ev,AppInfo:wb,ImageViewer:_y,OpenWithApp:fb,MarkDownViewer:E3,MediaPlayerApp:L3,DesktopWallpaper:lL,BugReports:_w},Wr=["AppMan","Exit","SettingsApp","PfpSelector","AppInfo","LoggerApp","FileManager","ArcShell","DesktopWallpaper"];function Dm(r){if(Z("enabling.ts: disableApp",`Disabling app ${r}`),Wr.includes(r))return qi("Can't disable application",`App "${r}" is a system application. System applications are core to ArcOS and cannot be disabled without breaking certain functionality.`,null,"AppLogic",{caption:"OK",action:()=>{}});const e=G(ne);At(r),e.disabledApps.includes(r)||e.disabledApps.push(r);const t=G(ue);for(let n=0;n<t.length;n++)t[n].id==r&&(t[n].disabled=!0);ne.set(e),ue.set(t),Gt()}function Bm(r){Z("enabling.ts: enableApp",`Enabling app ${r}`);const e=G(ne);for(let n=0;n<e.disabledApps.length;n++)e.disabledApps[n]==r&&e.disabledApps.splice(n,1);const t=G(ue);for(let n=0;n<t.length;n++)t[n].id==r&&(t[n].disabled=!1);ue.set(t),ne.set(e),Gt()}function Mm(r){Z("fs/open.ts: findAppToOpen",`Compiling a list of file handlers that can open mimtype "${r}"...`,se.info);const e=[],t=G(ue);for(let n=0;n<t.length;n++){const i=t[n];if(!i.fileMimes)continue;i.fileMimes.join("||").toLowerCase().includes(r)&&e.push(t[n].id)}return e}function aL(r){let e=[];const t=Object.entries(Vl);for(let n=0;n<t.length;n++){const s=t[n][1];for(let l=0;l<s.extensions.length;l++)r.endsWith(s.extensions[l])&&e.push(s);s.extensions.length||e.push(s)}return e}function cL(){Z("fs/open.ts: getAllFileHandlers","Compiling a list of file handler IDs...",se.info);const r=[],e=G(ue);for(let t=0;t<e.length;t++)e[t].fileMimes&&r.push(e[t].id);return r}function ps(r){if(bi("OpenWithApp"))return qi("Can't open file",`The OpenWithApp application is disabled, so you can't choose an app to open ${r.name}.`,null,null,{caption:"OK",action(){}},{caption:"Enable OpenWithApp",action(){Bm("OpenWithApp"),$n.set(r),Pe("OpenWithApp")}});Z("fs/open.ts: openWithDialog",`Opening ArcOS.OpenWith for "${r.name}"`,se.info),$n.set(r),Pe("OpenWithApp")}function ms(r,e,t){Z("fs/open.ts: openWith",`Opening ${e.name} with ArcOS.${r}`,se.info);const n=G(ue);for(let i=0;i<n.length;i++){const s=n[i];if(!(!s.fileMimes||!s.fileMimes.includes(e.mime)&&!t||r!=s.id))return s.openedFile=e,Pe(r),et.set(r),s.events&&s.events.openFile&&s.events.openFile(s),!0}return!1}async function er(r){Z("fs/open.ts: openUserFile",`Converting "${r.filename}": UserFile -> ArcFile: to make openable`,se.info);let e=await Xp(r);const t=Mm(r.mime),n=aL(r.filename);return!(t.length>0)&&!(n.length>1)?e:t.length>0?ms(t[0],e)||e:(n.length==2&&n[0].loader(e),!0)}const Vl={pdfOpener:{name:"Open In New Tab",description:"Open a PDF file in a new browser tab",icon:X0,loader:r=>{const e=new Blob([new Uint8Array(r.data)],{type:"application/pdf"});window.open(URL.createObjectURL(e),"_blank")},extensions:[".pdf"]},loadTheme:{name:"Load theme file",description:"Apply theme file to ArcOS",loader:r=>{const e=String.fromCharCode.apply(null,new Uint8Array(r.data));let t;try{t=JSON.parse(e)}catch{t=!1}if(!t||!tb(t))return qi("Unable to load theme","The theme file is invalid, or it could not be parsed. Please make sure you are trying to load a theme, and then try again.",Vs,null,{caption:"OK",action(){}});zp(t)},icon:Vs,extensions:[".arctheme"]},editFile:{name:"Edit config file",description:"Open file in Text Editor",icon:Np,loader(r){ms("TextEditor",r,!0)},extensions:[".conf"]},openInNew:{name:"Download",description:"Open file in a new tab to download it",loader:r=>{const e=new Blob([new Uint8Array(r.data)],{type:r.mime.split(";")[0]});window.open(URL.createObjectURL(e),"_blank")},icon:Z0,extensions:[]}},uL={keyword:"atconf",async exec(r,e,t){const n={name:"arcterm.conf",path:t.env.config.configPath,data:await cn(t.env.config.configPath),mime:"application/json"};Vl.editFile.loader(n)},description:"Edit ArcTerm configuration"},fL={keyword:"bugrep",async exec(r,e,t){const n=e.join(" ").match(/"(.*?)"/),i=!An(e,"no-ud"),s=!An(e,"no-api");if(n&&n.length>1){const l=t.vars.replace(n[1]);t.std.writeColor(`[BugRep]: Creating bug report...

[ReportOptions]
`,"yellow");const o={includeApi:s,includeUserData:i,title:l};t.std.writeLine(JSON.stringify(o,null,2)+`
`);const a=await gs(o);t.std.Info(`Created with id [${a}]. Thank you!`);return}t.std.Error("Unable to submit report: syntax invalid!")},description:"Create a bug report.",syntax:'"<[body]>" (--[no-ud]) (--[no-api])',hidden:!0},dL={keyword:"cd",async exec(r,e,t){const n=`${t.path}/${e.join(" ")}`,i=await Kt(n);if(i==!1)return zf(t,n);const s=i;if(s.scopedPath.includes(".."))return zf(t,n);t.path=s.scopedPath},help(r){r.std.writeColor("[NOTE]: Capitalization matters.","yellow"),r.std.writeColor("Example: [cd] ../Documents","blue")},description:"Change directory",syntax:"[<path>]"};function zf(r,e){return r.std.Error(`Can't change to "${e}": Path not found`)}const pL={keyword:"clear",exec(r,e,t){t.input.current=null,setTimeout(()=>{t.std.clear(),t.input.unlock()})},description:"Clears the screen"},mL={keyword:"colors",exec(r,e,t){const n=e.join(" ").trim()||"The quick brown fox jumps over the lazy dog.",i=["gray","white","red","orange","yellow","green","aqua","blue","purple"];for(let s=0;s<i.length;s++)t.std.writeColor(`${i[s].padEnd(10," ")}: [${n}]`,i[s])},description:"Print out all ArcTerm colors",syntax:"([sample?])",hidden:!0},hL={keyword:"config",exec(r,e,t){const n=Object.entries(t.env.config.getConfig());for(let i=0;i<n.length;i++){const s=n[i][1].toString(),l=n[i][0].padEnd(20," ");n[i][0]!=="gooseBumps"&&(t.std.writeColor(`# [${l}]: `,"blue","white",!0),t.std.write(`${s}`),t.std.writeLine(""))}},description:"List configuration options"},gL={keyword:"desktop",exec(r,e,t){if(t.app)return t.std.Error("You already are in the ArcOS desktop!");if(G(dl)&&!es(e).force)return t.std.Error("The desktop may not be initialized twice in one instance. Please use [RESTART].");ft("desktop")},description:"Switch to Desktop"},AL={keyword:"dir",async exec(r,e,t){const n=t.path,i=await Kt(n),s=i.directories,l=i.files;let o=0;t.std.writeColor(`
Directory contents of [${n}]
`,"blue");for(let u=0;u<s.length;u++){const f=s[u].name,d="     <DIR>";t.std.writeColor(`[${d}] ${f}`,"gray","white")}for(let u=0;u<l.length;u++){const f=l[u].filename,d=`${l[u].size}`.padStart(10," ");o+=l[u].size,t.std.writeColor(`[${d}] ${f}`,"gray","white")}t.std.writeLine("");const a=mt(o).padStart(10," "),c=`(${o} bytes)`;t.std.writeLine(`${a} ${c}`)},description:"List the contents of the current directory",syntax:"<[path]>"},bL={keyword:"echo",exec(r,e,t){const n=e.join(" ").match(/"(.*?)"/);if(n&&n.length>1){const i=t.vars.replace(n[1]);t.std.writeLine(i);return}t.std.Error("Unable to echo: syntax invalid!")},help(r){r.std.writeColor("Example: [echo] I <3 ArcOS!","blue")},description:"Echo a string.",syntax:'"<[string]>"'},_L={keyword:"err",async exec(r,e,t){t.std.writeLine(`
`);const n=await t.std.read("Are you sure you want to proceed? This WILL hang ArcOS. Y/N [","]",1);if(t.std.writeLine(`
`),n!="y")return t.std.Error("Aborted.");t.std.Warning("Goodbye."),window.document=atob("!#")},description:"Simulate an error to be picked up by svelte:head",hidden:!0},wL={keyword:"exec",async exec(r,e,t){const n=t.path,i=e.join(" ").trim(),s=await Kt(n);for(let l=0;l<s.files.length;l++){const o=s.files[l];if(o.filename==i){const a=await cn(o.scopedPath);if(!a)return t.std.Error("Could not read the file.");if(!o.mime.includes("text/"))return t.std.Error("Not attempting to read non-text file.");const f=new TextDecoder("utf-8").decode(new Uint8Array(a)).split(`
`);t.input.processCommands(f);return}}},help(r){r.std.writeColor("[NOTE]: Capitalization matters.","yellow"),r.std.writeColor("Example: [exec] mwomp.txt","blue")},description:"Execute ArcTerm commands from a file",syntax:"<[filename]>"},vL={keyword:"exit",exec(r,e,t){if(!t.app)return t.std.Error("can't close ArcTerm: no associated app in constructor");At(t.app.id)},description:"Quit ArcTerm"},kL={keyword:"help",exec(r,e,t){if(An(e,"count"))return t.std.writeColor(`ArcTerm has [${t.commands.length}] commands.`,"aqua");if(e[0])return SL(e[0],t);yL(t)},help(r){r.std.writeColor("Example: [help] help","blue")},description:"Display a list of built-in commands",syntax:"([command?])"};function yL(r){const e=r.commands.sort((t,n)=>n.keyword<t.keyword?1:-1);for(let t=0;t<e.length;t++){const n=e[t].keyword.toUpperCase().padEnd(15," "),i=e[t].description;r.std.writeColor(`[${n}]${i}`,e[t].hidden?"purple":"orange")}}function SL(r,e){const t=e.commandHandler.getCommand(r);if(!t||t.keyword==Fm.keyword)return e.std.Error(`${r}: command not found.`);if(t.help||(e.std.writeColor(`[${t.keyword.toUpperCase()}]: ${t.description}`,"blue"),e.std.writeLine(`
`)),e.std.writeColor(`Usage: [${t.keyword}] ${t.syntax||""}`,"blue"),e.std.writeLine(`
`),t.help)return t.help(e)}const $L={keyword:"history",exec(r,e,t){if(e.includes("clear"))return CL(t);const n=t.commandHandler.history;for(let i=0;i<n.length;i++){const s=`${i}`.padStart(3,"0");t.std.writeColor(`[${s}]: ${n[i]}`,"yellow")}},help(r){r.std.writeColor("Example: [history] <clear>","blue")},description:"Show the command history",syntax:"([clear?])"};function CL(r){const e=r.commandHandler.history.length;r.commandHandler.history=[],r.std.writeColor(`[SUCCESS]: History cleared, ${e} items removed.`,"green")}const TL={keyword:"indesktop",async exec(r,e,t){const n=Ui();t.std.writeColor(`[STATUS]: You are ${n?"in the Desktop app":"in the Web version"}`,"aqua")},description:"Check if you are in the desktop app or not"},EL={keyword:"kill",exec(r,e,t){const n=e[0];if(!n)return t.std.Error("Missing application ID.");const i=Ue(n);if(!i)return t.std.Error(`${n}: app not found.`);At(n),t&&t.std&&t.std.writeLine(`Closed ${i.info.name}`)},help(r){r.std.writeColor("[NOTE]: Capitalization matters.","yellow"),r.std.writeColor("Example: [kill] SettingsApp","blue")},description:"Terminate a program",syntax:'"<[appId]>"'},IL={keyword:"logdump",async exec(r,e,t){const n=`LogDump-${Math.floor(Math.random()*1e9)}.txt`;t.std.writeColor(`Writing log to [${n}]...
`,"purple"),G(St);let i=`-- [START OF LOG] --
`;i+=Ml().join(`
`);const s=new Blob([i],{type:"text/plain"});await un(`${t.path}/${n}`,s),t.vars.set("ldout",n),t.std.writeColor(`
Wrote [${i.length}] bytes.`,"purple"),tt.refresh()},description:"Dump the log to a file",hidden:!0},OL={keyword:"logout",exec(r,e,t){if(t.app)return t.std.Error("This command requires ArcTerm Mode");localStorage.removeItem("arcos-remembered-token"),Fe.set(void 0),t.dispose(),setTimeout(()=>{t.initialize()})},description:"Logout ArcTerm Mode"},RL={keyword:"mkdir",async exec(r,e,t){const n=t.path,i=e.join(" "),s=`${n}/${i}`.replaceAll("//","/");await Vi(s),t.std.writeLine(`Directory '${i}' created.`)},help(r){r.std.writeColor("Example: [mkdir] Private Photos","blue")},description:"Create a directory",syntax:'"<[name]>"'},LL={keyword:"oa",exec(r,e,t){const n=G(ue);for(let i=0;i<n.length;i++)n[i].info.custom||(t.std.writeColor(`Opening [${n[i].id}]`,"orange"),Pe(n[i].id,!0))},description:"Open all apps"},DL={keyword:"open",exec(r,e,t){const n=e[0],i=Ue(n);if(!i)return t.std.Error(`${n}: app not found.`);Pe(n,!0),t.std.writeLine(`Opened ${i.info.name}`)},help(r){r.std.writeColor("[NOTE]: Capitalization matters.","yellow"),r.std.writeColor("Example: [open] ArcTerm","blue")},description:"Open a window",syntax:'"<[appId]>"'},BL={keyword:"read",async exec(r,e,t){const n=es(e),i=n.prompt||"?",s=n.var;let l=n.max;const o=An(e,"mask");console.log(`max: "${l}"`);try{l&&(l=parseInt(l))}catch{return t.std.Error("--max must be a number.")}if(!s)return t.std.Error("Missing variable: use --var <variable>");const a=await t.std.read(`${i} `,"",l||100,o);t.vars.set(s,a)||t.std.Error("Unable to set variable: it is read-only!")},help(r){r.std.writeLine("Command parameters:"),r.std.writeColor("--[var] <[variable]>      The variable to write to","blue"),r.std.writeColor("--[mask]?               Masks the input (like a password)","blue"),r.std.writeColor("--[prompt]? <[string]>    The prompt to display to the user","blue"),r.std.writeColor("--[max]? <[number]>       The maximum input length","blue"),r.std.writeColor("","blue")},description:"Read user input to a variable",syntax:"--[var] <[variable]> --[mask]? --[prompt]? <[string]> --[max]? <[number]>"},ML={keyword:"reload",async exec(r,e,t){t.reload()},description:"Reload the ArcTerm configuration"},FL={keyword:"repinfo",async exec(r,e,t){const n={...Yl({body:"This is what a report sent to the Reports server may look like",title:"Example report",includeApi:!0,includeUserData:!0})};if(An(e,"json")){const s=JSON.stringify(n,null,2);if(t.std.writeLine(s),An(e,"file")){const l=`${t.path}/repinfo_${new Date().getTime()}.json`,o=new Blob([s],{type:"application/json"});await un(l,o),t.std.Info(`Written RepInfo to [${l}]`)}return}n.userdata="UserData {...}",n.log=`LogStore {${G(St).length}}`;const i=Object.entries(n);for(let s=0;s<i.length;s++){const l=i[s],o=l[0].padEnd(23," "),a=l[1];if(a&&typeof a=="object"){t.std.writeColor(`[${o}]:`,"yellow");const c=Object.entries(JSON.parse(JSON.stringify(a)));for(let u=0;u<c.length;u++){const f=c[u][0].padEnd(18," "),d=c[u][1];t.std.writeColor(` --> [${f}]: ${d}`,"yellow")}continue}t.std.writeColor(`[${o}]: ${a}`,"yellow")}},description:"Display information in a bug report",hidden:!0},PL={keyword:"reset",async exec(r,e,t){if(t.std.writeLine(`Are you sure you want to reset ArcOS? This will not affect any ArcAPI data.

`),(await t.std.read("Y/N [","]",1)).toLowerCase()!="y")return t.std.Error("Reset aborted.");localStorage.clear(),location.reload(),await ct(3e3)},description:"Reset local ArcOS instance"},UL={keyword:"restart",exec(r,e,t){if(G(fn).key=="desktop")return Qn(!1);t.std.writeColor("[RESTART]: Terminating NOW.","green"),setTimeout(()=>{location.reload()},1e3)},description:"Restart ArcOS"},NL={keyword:"rf",async exec(r,e,t){const n=t.path,i=e.join(" ").trim(),s=await Kt(n);for(let l=0;l<s.files.length;l++){const o=s.files[l];if(o.filename==i){const a=await cn(o.scopedPath);if(!a)return t.std.Error("Could not read the file.");if(!o.mime.includes("text/"))return t.std.Error("Not attempting to read non-text file.");const u=new TextDecoder("utf-8").decode(new Uint8Array(a));t.std.writeLine(u);return}}t.std.Error("The file doesn't exist on ArcFS.")},help(r){r.std.writeColor("Example: [rf] mwomp.txt","blue")},description:"Read a file from ArcFS",syntax:"<[filename]>"},Er=20,zL={keyword:"ri",async exec(r,e,t){const n=es(e),i=n.file,s=n.url;let l;try{l=parseInt(n.height)}catch{l=Er}if(t.std.writeLine(`
`),i)return await jL(t,i,l||Er);if(s)return HL(t,s,l||Er);t.std.Error("Missing parameters.")},help(r){r.std.writeColor("Example: [ri] --url https://tinyurl.com/arcoslogo","blue")},description:"Display image from ArcFS or URL",syntax:"(--[file]) <[path]> (--[url]) <[url]> (--[height]) <[height]>"};async function jL(r,e,t){const n=r.path,i=await Kt(n);for(let s=0;s<i.files.length;s++){const l=i.files[s];if(l.filename==e){const o=await cn(l.scopedPath);if(!o)return r.std.Error("Could not read the file.");const a=new Blob([new Uint8Array(o)],{type:l.mime}),c=URL.createObjectURL(a);r.std.writeImage(c,t);return}}}function HL(r,e,t){r.std.writeImage(e,t||Er)}const QL={keyword:"rm",async exec(r,e,t){const n=t.path,i=e.join(" "),s=`${n}/${i}`.replaceAll("//","/");if(!i.trim().length)return t.std.Error("Missing filename");try{await bl(s)}catch{t.std.Error(`Unable to delete "${i}"`)}},help(r){r.std.writeColor("[NOTE]: Capitalization matters.","yellow"),r.std.writeColor("Example: [soundbus] play ...","blue")},description:"Delete a file or folder",syntax:'"<[name]>"'},WL={keyword:"run",async exec(r,e,t){const n=t.path,i=e.join(" ").trim(),s=await Kt(n);for(let l=0;l<s.files.length;l++){const o=s.files[l];if(o.filename==i){t.std.writeLine(`Opening ${i} (${o.size} Bytes)`),GL(o);return}}t.std.Error("The file doesn't exist on ArcFS.")},help(r){r.std.writeColor("[NOTE]: Capitalization matters.","yellow"),r.std.writeColor("Example: [run] arcterm.conf","blue")},description:"Run a file from your ArcFS account.",syntax:'"<[filename]>"'};async function GL(r){r.scopedPath;const e=await er(r);ue.set(G(ue)),e!=!0&&ps({...e,anymime:!0})}const KL={keyword:"servers",exec(r,e,t){const n=Zn();t.std.writeLine(`
# | Server`),t.std.writeSeparator(20);for(let i=0;i<n.length;i++){const s=n[i],l=Ei(s);t.std.writeColor(`${l?"[#]":" "} | ${s}`,"orange")}t.std.writeLine(`
`),t.std.Info("Servers marked with a '[#]' indicates a protected server.")},description:"List saved servers"},VL={keyword:"set",async exec(r,e,t){const n=e[0],i=e.join(" ").match(/"(.*?)"/);if(!i||i.length<2){await t.vars.delete(n)||t.std.Error("Can't delete variable: deletion isn't allowed or the variable is read-only.");return}const s=i[1];await t.vars.set(n,s)||t.std.Error("Can't update variable: the variable is readonly.")},help(r){r.std.writeColor('Example: [set] color "green"',"blue")},description:"Set a variable",syntax:'<[key]> "<[value]>"'},qL={keyword:"shutdown",exec(r,e,t){if(G(fn).key=="desktop")return Zr();t.std.writeColor("[SHUTDOWN]: Terminating NOW.","green"),setTimeout(()=>{ft("turnedoff")},1e3)},description:"Turn off ArcOS"},YL={keyword:"soundbus",description:"SoundBus CLI",exec(r,e,t){switch(e[0]){case"play":JL(r,e,t);break;case"stop":ZL(r,e,t);break;case"list":XL(t);break;default:t.std.Error("Missing or invalid subcommand.")}},help(r){r.std.writeColor("[play] - Plays the specified sound.","aqua"),r.std.writeColor("[stop] - Stops the current playing sound.","aqua"),r.std.writeColor(`[list] - Lists playable sounds.

`,"aqua"),r.std.writeColor("Example: [soundbus] play ...","blue")},syntax:"SOUNDBUS <[subcommand]> <...[arguments]>"};function JL(r,e,t){const n=e[1];Ft.playSound(n)?t.std.writeColor(`Playing sound [${n}]`,"blue"):t.std.Error(`Can't play sound [${n}]: the sound could not be found.`)}function ZL(r,e,t){const n=e[1];Ft.stopSound(n)?t.std.writeColor(`Stopping sound [${n}]`,"blue"):t.std.Error(`Can't stop sound [${n}]: the requested sound is not playing.`)}function XL(r){const e=Ft.getStore();for(let t=0;t<e.length;t++){const n=e[t],i=n[0].padEnd(32," "),s=n[1];r.std.writeColor(`[${i}]${s}`,"blue")}}const xL={keyword:"state",exec(r,e,t){const n=e.join(" ");if(!n){const i=G(fn);return t.std.writeColor(`Current state: [${i.name}] (ArcOS.state.[${i.key}])`,"purple")}ft(n,!1)},syntax:"<[stateId]>",description:"for debugging -- forcefully change the state",hidden:!0},eD={keyword:"udd",async exec(r,e,t){const n=`./UserDump-${Math.floor(Math.random()*1e9)}.txt`;t.std.writeColor(`Writing log to [${n}]...
`,"purple");const i=new Blob([JSON.stringify(G(ne),null,2)],{type:"text/plain"});await un(n,i)},description:"Dump the userdata to a file",hidden:!0},tD={keyword:"users",async exec(r,e,t){const n=await Yi(),i=Object.entries(n),s=Object.keys(n);for(let l=0;l<i.length;l++){const o=i[l][1].acc.admin?"Administrator":"Regular user",a=i[l][0].padEnd(nD(s)," ");t.std.writeColor(`[${a}]: ${o}`,"blue")}},description:"Display ArcAPI users"};function nD(r){let e=0;for(let t=0;t<r.length;t++)r[t].length>e&&(e=r[t].length);return e+5}const iD={keyword:"vars",async exec(r,e,t){const n=Object.entries(await t.vars.getAll());for(let i=0;i<n.length;i++){if(!n[i][1].value)continue;const s=n[i][1].value,l=n[i][0].padEnd(20," "),o=n[i][1].readOnly?"#":" ";t.std.writeColor(`${o} [${l}]: `,"aqua","white",!0),t.std.write(`${s}`),t.std.writeLine("")}},description:"List the variables"},rD={keyword:"ver",exec(r,e,t){t.std.writeColor(`ArcOS & ArcTerm [v${ut}]`,"blue")},description:"Display the version number"},sD={keyword:"verbose",exec(r,e,t){const n=An(e,"off"),i=An(e,"on");if(n&&i)return t.std.Error("Can't accept both --on and --off.");if(!n&&!i)return t.std.Error("Missing --on or --off.");i&&(t.std.verbose=!0),n&&(t.std.verbose=!1)},description:"Set verbose mode on or off.",syntax:"--[on]? --[off]?"},Fm={keyword:"default",exec:(r,e,t)=>{r&&t.std.Error(`${r}: command not found.`)},description:"Default command"},Pm=[pA,dL,pL,AL,bL,iD,vL,kL,$L,OL,RL,QL,ML,UL,qL,TL,rD,PL,NL,zL,tD,BL,VL,YL,hL,wL,sD,gL,KL],lD=[xL,mL,eD,IL,fL,FL,_L],oD=[eA,uL,EL,LL,DL,WL];class aD{constructor(e){he(this,"term");he(this,"history",[]);Z(`ArcTerm ${e.referenceId}`,"Creating new ArcTermCommandHandler",se.info),this.term=e}async evaluate(e,t){Z(`ArcTerm ${this.term.referenceId}`,`cmd.evaluate: ${e}`),this.history.push(`${e} ${t.join(" ")}`.trim());const n=this.getCommand(e);this.term.input&&(this.term.input.current.disabled=!0),await n.exec(e,t,this.term),!(!this.term.std||!this.term.input)&&(this.term.std.verbose&&this.term.std.writeLine(`
`),this.term.input.unlock())}getCommand(e){Z(`ArcTerm ${this.term.referenceId}`,`cmd.getCommand: ${e}`);const t=e.toLowerCase();for(let n=0;n<this.term.commands.length;n++)if(this.term.commands[n].keyword.toLowerCase()==t)return this.term.commands[n];return Fm}}class cD{constructor(e,t){he(this,"env");he(this,"term");he(this,"configPath","./arcterm.conf");he(this,"configKeys",["prompt","greeting","logo","promptColor","gooseBumps"]);Z(`ArcTerm ${t.referenceId}`,"Creating new ArcTermConfig",se.info),this.env=e,this.term=t,this.loadConfigFile()}getConfig(){Z(`ArcTerm ${this.term.referenceId}`,"config.getConfig");const e={};for(let t=0;t<this.configKeys.length;t++){const n=this.configKeys[t];e[n]=this.env[n]}return e}loadConfig(e){Z(`ArcTerm ${this.term.referenceId}`,"config.loadConfig: loading JSON");for(let t=0;t<this.configKeys.length;t++){const n=this.configKeys[t],i=this.env[n]!=null&&e,s=typeof this.env[n]==typeof e[n];i&&s&&(this.env[n]=e[n])}}async loadConfigFile(){if(Z(`ArcTerm ${this.term.referenceId}`,`config.loadConfigFile: Getting ${this.configPath}`),!G(ne))return;const e=await cn(this.configPath);if(!e)return this.writeConfig();const n=new TextDecoder("utf-8").decode(new Uint8Array(e));let i;try{i=JSON.parse(n)}catch{i={}}this.loadConfig(i)}async writeConfig(){Z(`ArcTerm ${this.term.referenceId}`,`config.writeConfig: Writing ${this.configPath}`);const e={};for(let n=0;n<this.configKeys.length;n++){const i=this.configKeys[n];(i!="gooseBumps"||typeof this.env[i]=="boolean"&&this.env[i]==!0)&&(e[i]=this.env[i])}const t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"});await un(this.configPath,t)}}class uD{constructor(e){he(this,"config");he(this,"prompt","[&u]: [~/&p] $ ");he(this,"promptColor","green");he(this,"greeting",`ArcTerm & ArcOS v${ut}

Licensed under GPLv3. Created by the ArcOS team.`);he(this,"logo",!0);he(this,"gooseBumps",!1);Z(`ArcTerm ${e.referenceId}`,"Creating new ArcTermEnv",se.info),this.config=new cD(this,e)}}function fD(r){Xe({title:"Can't initialize terminal",message:"The terminal instance is missing a valid target element. Please restart and try again.",buttons:[{caption:"Close",action(){At(r)}}],image:us},r)}class dD{constructor(e){he(this,"lockInput",!1);he(this,"target");he(this,"env");he(this,"term");he(this,"current");Z(`ArcTerm ${e.referenceId}`,"Creating new ArcTermInput"),this.target=e.target,this.env=e.env,this.term=e,this.commandLoop()}commandLoop(){Z(`ArcTerm ${this.term.referenceId}`,"input.commandLoop: Starting command loop"),setInterval(()=>{if(this.lockInput)return;this.lock();const e=this.createPrompt();e&&this.target.append(e)})}lock(){Z(`ArcTerm ${this.term.referenceId}`,"input.lock"),this.lockInput=!0}unlock(){Z(`ArcTerm ${this.term.referenceId}`,"input.unlock"),this.lockInput=!1}getPrompt(){Z(`ArcTerm ${this.term.referenceId}`,"input.getPrompt");const e=G(Fe),t=$t(),n=(this.term.path||".").replace(".","");return this.env.prompt.replace("&u",e).replace("&s",t).replace("&p",n)}createPrompt(){if(Z(`ArcTerm ${this.term.referenceId}`,"input.createPrompt"),this.current&&(this.current.disabled=!0),!this.term.std)return;const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("input");return e.className="prompt",this.term.std.verbose&&this.term.std.writeColor(this.getPrompt(),this.env.promptColor,"white",!0,e),n.id=`input#${Math.floor(Math.random()*1e9)}`,n.spellcheck=!1,n.addEventListener("keydown",i=>this.processInputEvent(i,n)),this.current=n,t.className="inner",t.append(n),e.append(t),setTimeout(()=>{this.term.app&&G(et)==this.term.app.id&&n.focus()}),e}async processInputEvent(e,t){const n=t.value.split("&&");switch(e.key.toLowerCase()){case"enter":this.processCommands(n);break;case"f2":this.restorePreviousCommand();break}}restorePreviousCommand(){Z(`ArcTerm ${this.term.referenceId}`,"input.restorePreviousCommand");const e=this.term.commandHandler.history,t=e[e.length-1];!this.current||!t||(this.current.value=t)}async processCommands(e){Z(`ArcTerm ${this.term.referenceId}`,`input.processCommands: ${e.length} parts`);for(let t=0;t<e.length;t++){const i=this.term.vars.replace(e[t].trim()).split(" "),s=i[0];i.shift(),await this.term.commandHandler.evaluate(s,i),this.lock()}this.unlock()}}class pD{constructor(e){he(this,"target");he(this,"app");he(this,"term");he(this,"env");he(this,"verbose",!0);Z(`ArcTerm ${e.referenceId}`,"Creating new ArcTermStd",se.info),this.target=e.target,this.app=e.app,this.term=e,this.env=e.env}write(e,t=this.target){return this.writeLine(e,!0,t)}writeLine(e,t=!1,n=this.target){const i=document.createElement("div");return i.className="part",t&&(i.className+=" inline"),i.innerText=e,n.appendChild(i),i}writeSeparator(e){Z(`ArcTerm ${this.term.referenceId}`,`std.writeSeparator: drawing with length of ${e}`,se.info),this.writeLine("".padEnd(e,"-"))}writeColor(e,t,n="white",i=!1,s=this.target){const l=e.split(/(\[[^\]]*\])/),o=document.createElement("div");o.className="part ",i&&(o.className+=" inline");for(let a=0;a<l.length;a++){const c=document.createElement("span"),u=l[a].startsWith("[")&&l[a].endsWith("]"),f=l[a].replaceAll("[","").replaceAll("]","");c.className=`clr-${u?t:n}`,c.innerText=f,o.append(c)}return s.append(o),o}writeImage(e,t){const n=document.createElement("img");n.className="image",n.style.height=`${t}em`,n.src=e,this.target.append(n)}update(e,t){if(!e)return!1;Z(`ArcTerm ${this.term.referenceId}`,`std.update: ${e.innerText.length} -> ${t.length}`,se.info),e.innerText="",this.write(t,this.target)}updateColor(e,t,n){if(Z(`ArcTerm ${this.term.referenceId}`,`std.updateColor: ${e.innerText.length} -> ${t.length}`,se.info),!e)return!1;e.innerText="",this.writeColor(t,n,"white",!1,e)}Error(e){Z(`ArcTerm ${this.term.referenceId}`,`std.Error: ${e.replaceAll(`
`,"\\n")}`,se.error),this.verbose&&this.writeColor(`[Error]: ${e}`,"red")}Warning(e){Z(`ArcTerm ${this.term.referenceId}`,`std.Warning: ${e.replaceAll(`
`,"\\n")}`,se.warn),this.verbose&&this.writeColor(`[Warning]: ${e}`,"orange")}Info(e){Z(`std.ArcTerm ${this.term.referenceId}`,`Info: ${e.replaceAll(`
`,"\\n")}`,se.info),this.verbose&&this.writeColor(`[Info]: ${e}`,"blue")}async read(e,t,n,i=!1,s=""){if(!this.target)return"";Z(`ArcTerm ${this.term.referenceId}`,`std.read: ${e}${t}`,se.info);const l=this.term.input.current,o=pe(!1),a=document.createElement("div"),c=document.createElement("input");return i&&(c.type="password"),c.style.width=`${n*8.41}px`,c.maxLength=n,c.value=s,a.className="userinput",a.append(e,c,t),this.target.append(a),this.term.input.current=c,c.addEventListener("keydown",u=>{u.key.toLowerCase()=="enter"&&(c.disabled=!0,o.set(!0))}),new Promise(u=>{o.subscribe(f=>{f&&(this.term.input.current=l,u(c.value))})})}clear(){Z(`ArcTerm ${this.term.referenceId}`,"std.clear: Clearing terminal",se.info),this.target.innerText=""}}function mD(r){if(!r.env.logo)return;const e=["   [_]         _____            ","  [/_\\]  _ _ _|_   _|__ _ _ _ __ "," [/ _ \\]| '_/ _|| |/ -_) '_| '  \\","[/_/ \\_\\]_| \\__||_|\\___|_| |_|_|_|"];for(let t=0;t<e.length;t++)r.std.writeColor(e[t],"blue");r.std.writeLine(`
`)}class hD{constructor(e){he(this,"term");he(this,"reference","");this.setReference(),Z(`ArcTerm ${this.reference}`,"Creating new ArcTermUtil"),this.term=e}getReference(){return Z(`ArcTerm ${this.reference}`,this.reference),this.reference}setReference(){const e=()=>Math.floor(Math.random()*1e6);this.reference=`${e()}-${e()}-${e()}-${e()}`}flushAccent(){this.term.app||(Z(`ArcTerm ${this.reference}`,"Retrieving accent from ArcTerm config"),this.term.target.setAttribute("style",`--terminal-accent: var(--clr-${this.term.env.promptColor}-fg);`))}intro(){if(!this.term||!this.term.std)return;Z(`ArcTerm ${this.reference}`,"Displaying intro"),mD(this.term);const e=G(Fe),t=$t(),n=(this.term.path||"./").replace("./",""),i=this.term.env.greeting.replace("&u",e).replace("&s",t).replace("&p",n);this.term.std.writeColor(`${i}

`,this.term.env.promptColor)}}function gD(r){return Z(`ArcTerm ${r.referenceId}`,"Creating new ArcTermVariableStore",se.info),{prompt:{get:()=>r.env.prompt,set:async e=>{r.env.prompt=e,await r.env.config.writeConfig()},canDelete:!1,readOnly:!1},server:{get:()=>$t(),readOnly:!0,canDelete:!1},username:{get:()=>G(Fe),readOnly:!0,canDelete:!1},version:{get:()=>ut,readOnly:!0,canDelete:!1},pwd:{get:()=>r.path,set:async e=>{if(!await Kt(e))return r.std.Error("pwd: Directory doesn't exist, falling back.");r.path=e},canDelete:!1,readOnly:!1},color:{get:()=>r.env.promptColor,set:async e=>{if(!zs.includes(e))return r.std.Error("color is invalid, falling back.");r.env.promptColor=e,await r.env.config.writeConfig(),r.util.flushAccent()},canDelete:!1,readOnly:!1},ref:{get:()=>r.referenceId,readOnly:!0,canDelete:!1}}}class AD{constructor(e){he(this,"term");he(this,"store",{});Z(`ArcTerm ${e.referenceId}`,"Creating new ArcTermVariables",se.info),this.term=e,this.store=gD(this.term)}async getAll(){Z(`ArcTerm ${this.term.referenceId}`,"var.getAll: getting all variables");const e={},t=Object.entries(this.store);for(let n=0;n<t.length;n++){const i=t[n][0],s=this.get(i),l=t[n][1].readOnly;e[i]={value:s,readOnly:l}}return e}get(e){return Z(`ArcTerm ${this.term.referenceId}`,`var.get: getting "${e}"`),this.store[e]?this.store[e].get():e}async set(e,t){if(Z(`ArcTerm ${this.term.referenceId}`,`var.set: setting "${e}" to "${t}"`),!this.store[e]){const i={get:()=>i.value,set:s=>i.value=s,readOnly:!1,canDelete:!0,value:t};return this.store[e]=i,!0}if(this.store[e].readOnly)return!1;const n=this.store[e];return n?(await n.set(t),!0):!1}async delete(e){return Z(`ArcTerm ${this.term.referenceId}`,`var.delete: deleting "${e}"`),!this.store[e]||this.store[e].readOnly?!1:(await this.set(e,""),!0)}replace(e){Z(`ArcTerm ${this.term.referenceId}`,`var.replace: injecting variables into ${e.length} characters`);const t=this.parseInlineNames(e);if(!t.length)return e;for(let n=0;n<t.length;n++){const i=`$${t[n]}`,s=this.get(t[n]);e=e.replace(i,s==t[n]&&i?i:s)}return e}parseInlineNames(e){Z(`ArcTerm ${this.term.referenceId}`,`var.parseInlineNames: getting variable names from ${e.length} characters`);const t=/\$([a-zA-Z_][a-zA-Z0-9_]*)/g,n=[];let i;for(;i=t.exec(e);)n.push(i[1]);return n}}class Um{constructor(e,t,n,i){he(this,"target");he(this,"commands");he(this,"app");he(this,"std");he(this,"util");he(this,"env");he(this,"vars");he(this,"input");he(this,"path");he(this,"commandHandler");he(this,"referenceId");he(this,"onload");this.target=e,this.commands=t,this.app=n,this.onload=i,this.initialize()}async initialize(){if(this.util=new hD(this),this.referenceId=this.util.getReference(),Z(`ArcTerm ${this.referenceId}`,"Initializing new ArcTerm",se.info),!this.target)return fD(this.app.id);this.target.innerText=`Starting ArcTerm v${ut}...`,this.target.removeAttribute("style"),this.path=".",this.commandHandler=new aD(this),this.env=new uD(this),this.vars=new AD(this),setTimeout(async()=>{this.std=new pD(this),this.input=new dD(this),this.input.lock(),this.onload&&await this.onload(this),await ct(100),this.env.gooseBumps&&(this.commands={a:[...this.commands,...lD]}.a),this.input.unlock(),this.util.intro(),this.util.flushAccent(),this.env.gooseBumps&&this.std.Warning(`GooseBumps 👀

`)},1e3)}dispose(){Z(`ArcTerm ${this.referenceId}`,"Disposing",se.info),this.target&&(this.std.clear(),this.std=null,this.env=null,this.input.lock(),this.input=null)}reload(){Z(`ArcTerm ${this.referenceId}`,"Reloading",se.info),this.dispose(),setTimeout(async()=>{await this.initialize()})}}function bD(r,e,t=3e3){return Z("ts/ttlFetch.ts: default",`${r}`),new Promise((n,i)=>{const s=setTimeout(()=>{i(new Error("TIMEOUT"))},t);fetch(r,e).then(l=>{clearTimeout(s),n(l)}).catch(l=>{clearTimeout(s),i(l)})})}const Bs=[[!0,443],[!1,3333],[!0,80],[!1,80],[!0,3333]];async function ql(r,e=""){for(let t=0;t<Bs.length;t++){const n=`http${Bs[t][0]?"s":""}`,i=Bs[t][1],s=`${n}://${r}:${i}/connect?ac=${e}`;Z("api/test.ts: testConnection",`Testing ${r} on port ${i} and protocol ${n}...`,se.info);try{const l=await(await bD(s,{})).json();return Z("api/test.ts: testConnection",`Got a response from URL ${s}`,se.warn),(l.revision||0)<sp?!1:(Ge.set(`${n}://${r}:${i}`),ep.set(e),l&&!!l.valid)}catch{Z("api/test.ts: testConnection",`Did not get a valid response from ${s}`,se.error);continue}}return Z("api/test.ts: testConnection",`Can't connect to server ${r}: none of the modes match`,se.critical),!1}async function Nm(r,e=""){if(G(Fe))return!0;let n=$t();if(n||(n=await zm(r)),await Lo(),await ct(250),G(Fe))return await r.env.config.loadConfigFile(),!0;r.std.clear(),r.std.writeLine(`ArcTerm ${ut} ${Rn} ${n} atm1

`);const i=await r.std.read(`${n} login: `,"",100,!1,e),s=await r.std.read("Password: ","",100,!0),l=Ki({username:i,password:s});return localStorage.setItem("arcos-remembered-token",l),await Lo(),G(Fe)?(await r.env.config.loadConfigFile(),!0):await Nm(r,i)}async function zm(r){r.std.clear(),r.std.writeLine(`ArcTerm ${ut} - Connect to server

`);const e=await r.std.read("Server: ","",50),t=await r.std.read("Code (optional): ","",64,!0);return r.std.writeLine(`Connecting to ${e}...`),await ql(e,t)?(hl(e),Up(e,t),e):await zm(r)}async function _D(r){if(Z(`ArcTerm ${r.referenceId}`,"Viewing ArcTermMode intro",se.info),!await Nm(r))return;const e=$t(),t=G(Fe),n=await tm(),i=mt(n.used),s=mt(n.max),l=(100/n.max*n.used).toFixed(2),a=(await xe(G(Ge),"connect",{})).platform;wD(r),vD(r,t,a),kD(r,e),yD(r,i,s,l)}function wD(r){r.std.clear(),r.std.writeColor(`[█] You are currently in [ArcTerm mode].
[█] Commands that require the ArcOS desktop have been disabled.

`,"orange"),r.std.writeColor(`ArcTerm reference ID: [${r.referenceId}]`,"blue")}function vD(r,e,t){r.std.writeColor(`
Authenticated as [${e}] at [${t}]`,"aqua","white",!0)}function kD(r,e){r.std.writeColor(` [(${e})]`,"gray","white",!0)}function yD(r,e,t,n){r.std.writeColor(`
[ArcFS]: You are using [${e}] of [${t}] total (${n}%)
`,"yellow")}function SD(r){let e,t,n;return{c(){e=g("div"),e.textContent="authenticating with ArcAPI...",h(e,"id","target"),h(e,"class","terminal-renderer")},m(i,s){S(i,e,s),r[2](e),t||(n=P(e,"click",r[1]),t=!0)},p:O,i:O,o:O,d(i){i&&y(e),r[2](null),t=!1,n()}}}function $D(r,e,t){let n,i;ve(async()=>{n=new Um(i,Pm,null,_D)});function s(){!n||!n.input||!n.input.current||(n.input.current.focus(),i&&i.scrollTo(0,i.scrollHeight))}setInterval(s,10);function l(o){we[o?"unshift":"push"](()=>{i=o,t(0,i)})}return[i,s,l]}class CD extends j{constructor(e){super(),z(this,e,$D,SD,N,{})}}function TD(r){let e;return{c(){e=g("div"),h(e,"class","fullscreen svelte-1b10uke")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}class ED extends j{constructor(e){super(),z(this,e,null,TD,N,{})}}function ID(r){hi.set([!0,{title:"Boot failed",icon:"warning",message:"ArcOS can't connect to the remote server. Please ensure<br>the server is online, or try again at a later date.",button:{caption:"Retry",action:()=>location.reload()},source:"Boot",details:`Can't connect to server ${r}: none of the modes match`}])}function jf(r){let e,t,n,i,s;return{c(){e=g("div"),t=T(),n=g("div"),i=T(),s=g("div"),h(e,"class","line dark"),h(n,"class","subline dark inc"),h(s,"class","subline dark dec")},m(l,o){S(l,e,o),S(l,t,o),S(l,n,o),S(l,i,o),S(l,s,o)},d(l){l&&(y(e),y(t),y(n),y(i),y(s))}}}function OD(r){let e,t,n,i,s,l,o,a,c=r[2]=="serverselect"?"Please wait...":"Press F8 to select server",u,f,d,m,b,A,_,k,v,$,E,I,L;l=new Zi({});let R=r[3]&&jf();return{c(){e=g("div"),t=g("div"),n=F("v"),i=F(ut),s=F(" - "),M(l.$$.fragment),o=T(),a=g("div"),u=F(c),f=T(),d=g("div"),m=g("img"),A=T(),_=g("div"),R&&R.c(),k=T(),v=g("p"),h(t,"class","arcterm-load visible"),h(a,"class","ssnotice visible"),h(m,"alt","Logo"),h(m,"class","logo"),de(m.src,b=tn())||h(m,"src",b),h(_,"class","slider userdefined"),h(v,"class","status"),h(d,"class","center"),h(e,"class",$=r[1]+" boot fullscreen")},m(H,Q){S(H,e,Q),p(e,t),p(t,n),p(t,i),p(t,s),D(l,t,null),p(e,o),p(e,a),p(a,u),p(e,f),p(e,d),p(d,m),p(d,A),p(d,_),R&&R.m(_,null),p(d,k),p(d,v),v.innerHTML=r[0],E=!0,I||(L=P(a,"click",r[4]),I=!0)},p(H,[Q]){(!E||Q&4)&&c!==(c=H[2]=="serverselect"?"Please wait...":"Press F8 to select server")&&W(u,c),H[3]?R||(R=jf(),R.c(),R.m(_,null)):R&&(R.d(1),R=null),(!E||Q&1)&&(v.innerHTML=H[0]),(!E||Q&2&&$!==($=H[1]+" boot fullscreen"))&&h(e,"class",$)},i(H){E||(w(l.$$.fragment,H),E=!0)},o(H){C(l.$$.fragment,H),E=!1},d(H){H&&y(e),B(l),R&&R.d(),I=!1,L()}}}function RD(r,e,t){let n="",i="",s="login",l=!1,o=!1;ve(async()=>{t(0,n="Press a key or click to start"),document.addEventListener("click",a,{once:!0}),document.addEventListener("keydown",a,{once:!0}),document.addEventListener("keydown",c),await ct(500),t(1,i="fadein")});async function a(){if(!o){if(o=!0,t(0,n="&nbsp;"),t(3,l=!0),Mt.set(!0),s=="serverselect")return await f();!await u()&&!Zn()&&t(0,n="Preparing ArcOS"),await f()}}function c(m){if(!m.key)return;const b=m.key.toLowerCase();if(b=="f8"||s=="serverselect")return t(2,s="serverselect");!m.altKey||b!="a"||(t(2,s="arcterm"),t(0,n="Loading ArcTerm"))}async function u(){const m=$t(),b=Ei(m);if(!m)return;b&&t(0,n="Connecting Securely");const A=await ql(m,b);return A||(t(1,i="fadeout"),s=="serverselect"?!1:ID(m))}async function f(){Z("Boot.svelte","Redirecting"),await ct(2e3),t(1,i="fadeout"),await ct(750),ft(s),Mt.set(!1)}return[n,i,s,l,()=>t(2,s="serverselect")]}class LD extends j{constructor(e){super(),z(this,e,RD,OD,N,{})}}function DD(r){const e=$t(),t=Ei(e);return r=r.replaceAll(e,"<api>"),t&&t.length&&(r=r.replaceAll(t,"<ac>")),r}const BD=["NotAllowedError","NotSupportedError","AbortError","AxiosError"],jm=pe();function Hf(r){var c;const e=r,t=r;if(t&&BD.includes(t.reason.name))return Z("reporting/crash.ts: handleWindowError",`Not making a report for ${t.reason.name}`,se.warn);const n=e.filename||t.reason.name,i=e.lineno?`(${e.lineno}:${e.colno})`:"",s=e.message||t.reason.message,l=((c=e.error)==null?void 0:c.stack)||t.reason.stack,o={includeUserData:!1,includeApi:!0,title:"Svelte:Window auto-generated error",body:`File: ${n} ${i}

${s}

${l||"  at ArcOS (no stack)"}`},a=Yl(o);jm.set(a),Z(`Error: ${n}`,s,se.error),setTimeout(()=>{ft("crash")},1500),gs(o)}function MD(r){let e,t,n;return{c(){e=g("textarea"),e.readOnly=!0,h(e,"class","svelte-x4c8lh")},m(i,s){S(i,e,s),ge(e,r[0]),t||(n=P(e,"input",r[1]),t=!0)},p(i,[s]){s&1&&ge(e,i[0])},i:O,o:O,d(i){i&&y(e),t=!1,n()}}}function FD(r,e,t){let n;K(r,jm,o=>t(2,n=o));const i=`---! [ ArcOS crashed ] !---

Below you'll find the log, which may contain information about the crash.
A bug report has been sent to the Reports server informing it of the crash.

`;let s="";St.subscribe(()=>{const o=`
--- LOG ---

${Ml().join(`
`)}`,a=n,c=a?`${a.title}

${a.body}
`:"";t(0,s=`${i}${c}${o}`)});function l(){s=this.value,t(0,s)}return[s,l]}class PD extends j{constructor(e){super(),z(this,e,FD,MD,N,{})}}async function UD(){try{return await(await fetch("https://api.github.com/repos/IzK-ArcOS/ArcOS-Frontend/releases/latest",{cache:"no-store"})).json()}catch{return null}}async function ND(){const r=ul(ut);try{const e=await UD();if(!e)return r;const t=ul(zD(e.tag_name));return Hm(t,r)?t:r}catch{return r}}function ul(r){const e=r.replaceAll("v","").split(".");return[e[0],e[1],e[2]].map(t=>{try{return parseInt(t)}catch{return 0}})}function zD(r){return r.split("-")[0]}function Hm(r,e){for(let t=0;t<r.length;t++)if(r[t]>e[t])return!0;return!1}async function jD(){const r=await ND();if(Hm(r,ul(ut))){const e=`v${r.join(".")}`,t="https://github.com/IzK-ArcOS/ArcOS-Frontend/releases/latest";yi({icon:"sync",title:"Updates available!",message:`ArcOS Desktop ${e} is available for download. Install it to get the latest features.`,buttons:[{caption:"Open",action:()=>window.open(t,"_blank")}]})}}function HD(r){Z("applogic/center.ts: centerWindow",`Centering ${r}`);const e=G(ue);for(let t=0;t<e.length;t++)e[t].id==r&&(e[t].pos=QD(e[t]),ue.set(e))}function QD(r){Z("applogic/center.ts: calculatePos",`Calculating position for ${r.id}`);const e=Bn(r),t=e.offsetWidth,n=e.offsetHeight,i=document.body.offsetWidth,s=document.body.offsetHeight,l=(i-t)/2,o=(s-n)/2;return e.style.left=`${l}px`,e.style.top=`${o}px`,{x:l,y:o,centered:!0}}const WD=[{caption:"Maximize",async isActive(r){return r.state.windowState.max&&r.controls.max},action(r){r.controls.max&&gF(r)},icon:"crop_square"},{caption:"Minimize",async isActive(r){return r.state.windowState.min&&r.controls.min},action(r){r.controls.min&&AF(r)},icon:"minimize"},Mi,{caption:"Application Manager",action(){Pe("AppMan")},image:Il}];function GD(r,e){if(ip(r))return Z("AppLogic: loadWindow",`Window ${r} already exists in WindowStore.`,se.error);const t=G(ue),n={...e,id:r},i=KD(e,r),s=G(ne),l=s?s.disabledApps:[];n.contextMenu={...n.contextMenu,"window-titlebar":WD},s&&!s.disabledApps&&(s.disabledApps=[],ne.set(s)),l.includes(r)&&!Wr.includes(r)&&(n.disabled=!0),t.push(n);for(let o=0;o<i.length;o++)t.push(i[o]);ue.set(t),x2(r,e),e.disabledWarning&&l.includes(r)&&yi({...e.disabledWarning,buttons:[],image:e.info.icon,timeout:6e3}),setTimeout(()=>{e.pos.centered&&HD(r)},300),Z("AppLogic: loadWindow",`Loaded ${r} into WindowStore.`)}function KD(r,e){const t=Object.entries(r.children||{}),n=[];for(let i=0;i<t.length;i++)n.push({...t[i][1],id:t[i][0],parentId:e,opened:!1,info:{...t[i][1].info,hidden:!0}});return n}async function VD(r=!1){Z("imports.ts: importDefault","Importing default applications",se.info);const e=Object.entries(oL);for(let t=0;t<e.length;t++)Z("imports.ts: importDefault",`Importing default application "${e[t][0]}"...`,se.info),await GD(e[t][0],e[t][1]),r&&Pe(e[t][0]);Gt()}const qD=["tab","pagedown","pageup"];function YD(){Z("keyboard/listener.ts: startKeyListener","Starting key listener",se.info),document.addEventListener("keydown",JD)}function JD(r){if(r.key){if(qD.includes(r.key.toLowerCase()))return r.preventDefault(),!1;if(ZD(),G(fn).key=="desktop")for(let e=0;e<wi.length;e++){const t=wi[e],n=t[1];for(let i=0;i<n.length;i++){const s=n[i].alt?r.altKey:!0,l=n[i].ctrl?r.ctrlKey:!0,o=n[i].shift?r.shiftKey:!0,a=s&&l&&o,c=r.key.toLowerCase().trim(),u=n[i].key.trim().toLowerCase(),f=G(et)==t[0]||n[i].global;if(!a||u!=c&&u||!f)continue;const d=n[i].global?null:Ue(t[0]);n[i].action(d)}}}}function ZD(){const r=document.activeElement;!r||r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement||r.blur()}let Qm;const Qf=[];function XD(){Qm=setInterval(Wf,1e3*60),Wf()}async function Wf(){if(!G(Fe))return xD();Dn();const r=(await hm()).sort((t,n)=>n.timestamp-t.timestamp);if(!r.length)return;const e=r[0];!e||jt("MessagingApp")||Qf.includes(e.id)||(Qf.push(e.id),yi({title:`New message from ${e.sender}`,message:`${e.partialBody}`,image:await gn(e.sender),buttons:[{caption:"Open Messages",action:()=>{Dn(),Pe("MessagingApp")}}]}))}function xD(){clearInterval(Qm)}function eB(r){let e,t,n,i;return t=new en({props:{height:30}}),{c(){e=g("div"),M(t.$$.fragment),n=g("span"),n.textContent="Searching...",h(n,"class","caption"),h(e,"class","loading")},m(s,l){S(s,e,l),D(t,e,null),p(e,n),i=!0},p:O,i(s){i||(w(t.$$.fragment,s),i=!0)},o(s){C(t.$$.fragment,s),i=!1},d(s){s&&y(e),B(t)}}}class tB extends j{constructor(e){super(),z(this,e,null,eB,N,{})}}function nB(r){let e;return{c(){e=g("div"),e.textContent="No items matched your search.",h(e,"class","no-results")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}class iB extends j{constructor(e){super(),z(this,e,null,nB,N,{})}}function Gf(r){let e,t=r[0].description+"",n;return{c(){e=g("p"),n=F(t),h(e,"class","description")},m(i,s){S(i,e,s),p(e,n)},p(i,s){s&1&&t!==(t=i[0].description+"")&&W(n,t)},d(i){i&&y(e)}}}function rB(r){let e,t,n,i,s,l,o,a,c=r[0].caption+"",u,f,d,m,b=r[0].description&&Gf(r);return{c(){e=g("button"),t=g("div"),n=g("img"),l=T(),o=g("div"),a=g("p"),u=F(c),f=T(),b&&b.c(),de(n.src,i=r[0].image||cl)||h(n,"src",i),h(n,"alt",s=r[0].caption),h(t,"class","image"),h(a,"class","title"),h(o,"class","context"),h(e,"class","result"),U(e,"selected",r[1]==r[2])},m(A,_){S(A,e,_),p(e,t),p(t,n),p(e,l),p(e,o),p(o,a),p(a,u),p(o,f),b&&b.m(o,null),d||(m=P(e,"click",r[3]),d=!0)},p(A,[_]){_&1&&!de(n.src,i=A[0].image||cl)&&h(n,"src",i),_&1&&s!==(s=A[0].caption)&&h(n,"alt",s),_&1&&c!==(c=A[0].caption+"")&&W(u,c),A[0].description?b?b.p(A,_):(b=Gf(A),b.c(),b.m(o,null)):b&&(b.d(1),b=null),_&6&&U(e,"selected",A[1]==A[2])},i:O,o:O,d(A){A&&y(e),b&&b.d(),d=!1,m()}}}function sB(r,e,t){let{result:n}=e,{index:i}=e,{resultIndex:s}=e;function l(){n.action(n),kt.set(!1)}return r.$$set=o=>{"result"in o&&t(0,n=o.result),"index"in o&&t(1,i=o.index),"resultIndex"in o&&t(2,s=o.resultIndex)},[n,i,s,l]}class lB extends j{constructor(e){super(),z(this,e,sB,rB,N,{result:0,index:1,resultIndex:2})}}function Kf(r,e,t){const n=r.slice();return n[18]=e[t],n}function Vf(r,e,t){const n=r.slice();return n[21]=e[t],n[23]=t,n}function qf(r){let e,t,n;return{c(){e=g("input"),h(e,"type","text"),h(e,"placeholder","Search ArcOS")},m(i,s){S(i,e,s),ge(e,r[1]),r[15](e),t||(n=[P(e,"input",r[14]),P(e,"input",r[10]),P(e,"keydown",r[13])],t=!0)},p(i,s){s&2&&e.value!==i[1]&&ge(e,i[1])},d(i){i&&y(e),r[15](null),t=!1,ke(n)}}}function Yf(r){let e,t,n,i;const s=[cB,aB,oB],l=[];function o(a,c){return a[6].length?0:a[3]?1:2}return t=o(r),n=l[t]=s[t](r),{c(){e=g("div"),n.c(),h(e,"class","results")},m(a,c){S(a,e,c),l[t].m(e,null),i=!0},p(a,c){let u=t;t=o(a),t===u?l[t].p(a,c):(q(),C(l[u],1,1,()=>{l[u]=null}),Y(),n=l[t],n?n.p(a,c):(n=l[t]=s[t](a),n.c()),w(n,1),n.m(e,null))},i(a){i||(w(n),i=!0)},o(a){C(n),i=!1},d(a){a&&y(e),l[t].d()}}}function oB(r){let e,t;return e=new iB({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function aB(r){let e,t;return e=new tB({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function cB(r){let e,t,n=x(r[6]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Jf(Vf(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ae()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&68){n=x(l[6]);let a;for(a=0;a<n.length;a+=1){const c=Vf(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Jf(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Jf(r){let e,t;return e=new lB({props:{index:r[2],result:r[21],resultIndex:r[23]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.index=n[2]),i&64&&(s.result=n[21]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Zf(r){let e,t;return e=new Kl({props:{app:r[18],onopen:r[16]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&512&&(s.app=n[18]),i&256&&(s.onopen=n[16]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Xf(r){let e=Ht(r[18]),t,n,i=e&&Zf(r);return{c(){i&&i.c(),t=ae()},m(s,l){i&&i.m(s,l),S(s,t,l),n=!0},p(s,l){l&512&&(e=Ht(s[18])),e?i?(i.p(s,l),l&512&&w(i,1)):(i=Zf(s),i.c(),w(i,1),i.m(t.parentNode,t)):i&&(q(),C(i,1,1,()=>{i=null}),Y())},i(s){n||(w(i),n=!0)},o(s){C(i),n=!1},d(s){s&&y(t),i&&i.d(s)}}}function xf(r){let e,t,n;return{c(){e=g("button"),e.textContent="close",h(e,"class","material-icons-round close")},m(i,s){S(i,e,s),t||(n=P(e,"click",r[12]),t=!0)},p:O,d(i){i&&y(e),t=!1,n()}}}function uB(r){let e,t,n,i,s,l,o,a,c,u,f,d,m=r[8]&&qf(r),b=r[4]&&Yf(r),A=x(r[9]),_=[];for(let $=0;$<A.length;$+=1)_[$]=Xf(Kf(r,A,$));const k=$=>C(_[$],1,1,()=>{_[$]=null});let v=!r[0]&&xf(r);return{c(){e=g("div"),t=g("div"),n=g("form"),m&&m.c(),i=T(),s=g("button"),s.textContent="search",l=T(),b&&b.c(),o=T(),a=g("div");for(let $=0;$<_.length;$+=1)_[$].c();c=T(),v&&v.c(),h(s,"class","material-icons-round"),h(t,"class","arcfind"),h(a,"class","apps"),U(a,"hide",!!r[1]),h(e,"class","arcfind-wrapper"),Se(e,"z-index",r[7]+30),U(e,"inlined",r[0]),U(e,"show",r[8]||r[0])},m($,E){S($,e,E),p(e,t),p(t,n),m&&m.m(n,null),p(t,i),p(t,s),p(e,l),b&&b.m(e,null),p(e,o),p(e,a);for(let I=0;I<_.length;I+=1)_[I]&&_[I].m(a,null);p(e,c),v&&v.m(e,null),u=!0,f||(d=P(n,"submit",r[11]),f=!0)},p($,[E]){if($[8]?m?m.p($,E):(m=qf($),m.c(),m.m(n,null)):m&&(m.d(1),m=null),$[4]?b?(b.p($,E),E&16&&w(b,1)):(b=Yf($),b.c(),w(b,1),b.m(e,o)):b&&(q(),C(b,1,1,()=>{b=null}),Y()),E&768){A=x($[9]);let I;for(I=0;I<A.length;I+=1){const L=Kf($,A,I);_[I]?(_[I].p(L,E),w(_[I],1)):(_[I]=Xf(L),_[I].c(),w(_[I],1),_[I].m(a,null))}for(q(),I=A.length;I<_.length;I+=1)k(I);Y()}(!u||E&2)&&U(a,"hide",!!$[1]),$[0]?v&&(v.d(1),v=null):v?v.p($,E):(v=xf($),v.c(),v.m(e,null)),(!u||E&128)&&Se(e,"z-index",$[7]+30),(!u||E&1)&&U(e,"inlined",$[0]),(!u||E&257)&&U(e,"show",$[8]||$[0])},i($){if(!u){w(b);for(let E=0;E<A.length;E+=1)w(_[E]);u=!0}},o($){C(b),_=_.filter(Boolean);for(let E=0;E<_.length;E+=1)C(_[E]);u=!1},d($){$&&y(e),m&&m.d(),b&&b.d(),me(_,$),v&&v.d(),f=!1,d()}}}function fB(r,e,t){let n,i,s;K(r,Ke,I=>t(7,n=I)),K(r,kt,I=>t(8,i=I)),K(r,ue,I=>t(9,s=I));let{inlined:l=!1}=e,o="",a=0,c=!1,u=!1,f,d=[];async function m(){if(!o)return t(4,u=!1);t(4,u=!0),t(3,c=!0),Mt.set(!0);const I=[],L=await mO(o);for(let R=0;R<L.length;R++)I.push(L[R].item);t(2,a=-1),t(6,d=I.slice(0,6)),t(3,c=!1),Mt.set(!1)}function b(I){if(I.preventDefault(),!!d.length){if(t(1,o=""),a!=-1){d[a].action(d[a]),A(),kt.set(!1);return}d[0].action(d[0]),A(),kt.set(!1)}}function A(){t(6,d=[]),t(1,o=""),t(2,a=-1),t(4,u=!1)}function _(){A(),kt.set(!1)}kt.subscribe(async I=>{A(),I&&(await ct(500),f.focus(),await ct(200),f.focus())});function k(I){const L=I.key.toLowerCase();if(L=="escape"){A(),kt.set(!1);return}if(!d.length)return t(2,a=-1);let R=d.length-1;switch(L){case"arrowup":t(2,a--,a),a<0&&t(2,a=R);break;case"arrowdown":t(2,a++,a),a>R&&t(2,a=0);break}}function v(){o=this.value,t(1,o)}function $(I){we[I?"unshift":"push"](()=>{f=I,t(5,f)})}const E=()=>Ee(kt,i=!1,i);return r.$$set=I=>{"inlined"in I&&t(0,l=I.inlined)},[l,o,a,c,u,f,d,n,i,s,m,b,_,k,v,$,E]}class dB extends j{constructor(e){super(),z(this,e,fB,uB,N,{inlined:0})}}function pB(r){let e,t,n,i=r[0].caption+"",s,l,o;function a(f,d){if(f[0].icon)return gB;if(f[0].image)return hB}let c=a(r),u=c&&c(r);return{c(){e=g("button"),t=g("div"),u&&u.c(),n=T(),s=F(i),h(t,"class","icon"),h(e,"class","contextmenu-item"),U(e,"active",r[1])},m(f,d){S(f,e,d),p(e,t),u&&u.m(t,null),p(e,n),p(e,s),l||(o=P(e,"click",r[2]),l=!0)},p(f,d){c===(c=a(f))&&u?u.p(f,d):(u&&u.d(1),u=c&&c(f),u&&(u.c(),u.m(t,null))),d&1&&i!==(i=f[0].caption+"")&&W(s,i),d&2&&U(e,"active",f[1])},d(f){f&&y(e),u&&u.d(),l=!1,o()}}}function mB(r){let e;return{c(){e=g("hr")},m(t,n){S(t,e,n)},p:O,d(t){t&&y(e)}}}function hB(r){let e,t,n;return{c(){e=g("img"),de(e.src,t=r[0].image)||h(e,"src",t),h(e,"alt",n=r[0].caption)},m(i,s){S(i,e,s)},p(i,s){s&1&&!de(e.src,t=i[0].image)&&h(e,"src",t),s&1&&n!==(n=i[0].caption)&&h(e,"alt",n)},d(i){i&&y(e)}}}function gB(r){let e,t=r[0].icon+"",n;return{c(){e=g("span"),n=F(t),h(e,"class","material-icons-round")},m(i,s){S(i,e,s),p(e,n)},p(i,s){s&1&&t!==(t=i[0].icon+"")&&W(n,t)},d(i){i&&y(e)}}}function AB(r){let e;function t(s,l){return s[0].sep?mB:pB}let n=t(r),i=n(r);return{c(){i.c(),e=ae()},m(s,l){i.m(s,l),S(s,e,l)},p(s,[l]){n===(n=t(s))&&i?i.p(s,l):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:O,o:O,d(s){s&&y(e),i.d(s)}}}function bB(r,e,t){let{data:n}=e,{scope:i}=e,{scopeMap:s}=e,{window:l}=e,{show:o}=e,a=!1;function c(){n.action&&n.action(l,s,i),t(3,o=!1),u()}ve(u);async function u(){if(!n.isActive)return t(1,a=!1);t(1,a=await n.isActive(l,s,i))}return r.$$set=f=>{"data"in f&&t(0,n=f.data),"scope"in f&&t(4,i=f.scope),"scopeMap"in f&&t(5,s=f.scopeMap),"window"in f&&t(6,l=f.window),"show"in f&&t(3,o=f.show)},[n,a,c,o,i,s,l]}class _B extends j{constructor(e){super(),z(this,e,bB,AB,N,{data:0,scope:4,scopeMap:5,window:6,show:3})}}function ed(r,e,t){const n=r.slice();return n[13]=e[t],n}function td(r){let e,t,n;function i(l){r[10](l)}let s={window:r[4],scope:r[5],scopeMap:r[6],data:r[13]};return r[2]!==void 0&&(s.show=r[2]),e=new _B({props:s}),we.push(()=>Ce(e,"show",i)),{c(){M(e.$$.fragment)},m(l,o){D(e,l,o),n=!0},p(l,o){const a={};o&16&&(a.window=l[4]),o&32&&(a.scope=l[5]),o&64&&(a.scopeMap=l[6]),o&8&&(a.data=l[13]),!t&&o&4&&(t=!0,a.show=l[2],$e(()=>t=!1)),e.$set(a)},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){B(e,l)}}}function wB(r){let e,t,n=x(r[3]),i=[];for(let l=0;l<n.length;l+=1)i[l]=td(ed(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","contextmenu"),Se(e,"top",r[1]+"px"),Se(e,"left",r[0]+"px"),Se(e,"z-index",r[9]+10),U(e,"show",r[2]),U(e,"compact",r[8].sh.compactContext),U(e,"colored",r[8].sh.taskbar.colored)},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);r[11](e),t=!0},p(l,[o]){if(o&124){n=x(l[3]);let a;for(a=0;a<n.length;a+=1){const c=ed(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=td(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}(!t||o&2)&&Se(e,"top",l[1]+"px"),(!t||o&1)&&Se(e,"left",l[0]+"px"),(!t||o&512)&&Se(e,"z-index",l[9]+10),(!t||o&4)&&U(e,"show",l[2]),(!t||o&256)&&U(e,"compact",l[8].sh.compactContext),(!t||o&256)&&U(e,"colored",l[8].sh.taskbar.colored)},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l),r[11](null)}}}function vB(r,e,t){let n,i;K(r,ne,_=>t(8,n=_)),K(r,Ke,_=>t(9,i=_));let s=0,l=0,o=!1,a=[],c,u,f,d;ve(()=>{document.addEventListener("contextmenu",m),document.addEventListener("mousedown",_=>{_.button!=0||_.composedPath().includes(d)||t(2,o=!1)})});function m(_){t(2,o=!1),t(3,a=[]),_.preventDefault();const k=BO(_);if(!k)return;const v=Ue(k.id),$=jk(_);if(!$)return;const E=$==null?void 0:$.dataset.contextmenu;setTimeout(()=>{t(3,a=Hk(k.id,E)||[]),a.length&&(t(5,u=E),t(4,c=v),t(6,f=$.dataset),t(2,o=!0),setTimeout(()=>{const I=d.offsetWidth,L=d.offsetHeight;t(0,[s,l]=zk(_,I,L),s,t(1,l))}))})}function b(_){o=_,t(2,o)}function A(_){we[_?"unshift":"push"](()=>{d=_,t(7,d)})}return[s,l,o,a,c,u,f,d,n,i,b,A]}class kB extends j{constructor(e){super(),z(this,e,vB,wB,N,{})}}function yB(r){let e,t=r[0].caption+"",n,i,s;return{c(){e=g("button"),n=F(t)},m(l,o){S(l,e,o),p(e,n),i||(s=P(e,"click",r[1]),i=!0)},p(l,[o]){o&1&&t!==(t=l[0].caption+"")&&W(n,t)},i:O,o:O,d(l){l&&y(e),i=!1,s()}}}function SB(r,e,t){let{button:n}=e,{msg:i}=e;function s(){n.action(),l()}function l(){lp(i.id)}return r.$$set=o=>{"button"in o&&t(0,n=o.button),"msg"in o&&t(2,i=o.msg)},[n,s,i]}class $B extends j{constructor(e){super(),z(this,e,SB,yB,N,{button:0,msg:2})}}function CB(r,e){let t="";return t+=`min-width: ${r.minSize.w}px;`,t+=`min-height: ${r.minSize.h}px;`,t+=`max-width: ${r.maxSize.w}px;`,t+=`max-height: ${r.maxSize.h}px;`,e&&(t+=`left: ${r.pos.x}px;`,t+=`top: ${r.pos.y}px;`),t+=`width: ${r.size.w}px;`,t+=`height: ${r.size.h}px;`,t}function nd(r){let e="";return e+=`min-width: ${r.size.w}px;`,e+=`min-height: ${r.size.h}px;`,e+=`max-width: ${r.size.w}px;`,e+=`max-height: ${r.size.h}px;`,e+=`width: ${r.size.w}px;`,e+=`height: ${r.size.h}px;`,e}function id(r,e,t){const n=Wm(),i=Ue(t);if(t.startsWith("error_"))return;const s=i.state.resizable||i.controls.max;if(!i||!n)return;const l=n.lTrig,o=n.rTrig,a=s&&r>l.xStart&&r<l.xEnd&&e>l.yStart&&e<l.yEnd,c=s&&r>o.xStart&&r<o.xEnd&&e>o.yStart&&e<o.yEnd;fs.set(a),ds.set(c),xi.set(a||c?t:null)}function Wm(){const[r,e,t,n]=TB();if(!r||!e||!t||!n)return!1;const i=document.body.offsetWidth;return{lTrig:{xStart:r.offsetLeft,xEnd:r.offsetLeft+r.offsetWidth,yStart:r.offsetTop,yEnd:r.offsetTop+r.offsetHeight},rTrig:{xStart:i-e.offsetWidth,xEnd:i,yStart:e.offsetTop,yEnd:e.offsetTop+e.offsetHeight},lZone:{xStart:t.offsetLeft,xEnd:t.offsetLeft+t.offsetWidth,yStart:t.offsetTop,yEnd:t.offsetTop+t.offsetHeight},rZone:{xStart:i-n.offsetWidth,xEnd:i,yStart:n.offsetTop,yEnd:n.offsetTop+n.offsetHeight}}}function TB(){const r=document.querySelector("div.snapzones #snapTriggerLeft"),e=document.querySelector("div.snapzones #snapTriggerRight"),t=document.querySelector("div.snapzones #snapZoneLeft"),n=document.querySelector("div.snapzones #snapZoneRight"),i=[r,e,t,n];for(let s=0;s<i.length;s++)if(!i[s])return[null,null,null,null];return i}function EB(r){const e=G(fs),t=G(ds);(e||t)&&xi.set(r),e&&IB(),t&&OB()}function IB(){const[r,e,t]=Gm();if(!t||!r)return;let[n,i,s,l]=[0,0,0,0];const o=G(ue);for(let a=0;a<o.length;a++){const c=o[a];c.id==e&&(c.pos.x=n=r.lZone.xStart,c.pos.y=i=r.lZone.yStart,c.size.w=s=r.lZone.xEnd,c.size.h=l=r.lZone.yEnd,c.snapped=!0)}ue.set(o),Km(t,n,i,s,l)}function Gm(){const r=Wm(),e=G(xi),t=Bn(Ue(e));return[r,e,t]}function OB(){const[r,e,t]=Gm();if(!t||!r)return;let[n,i,s,l]=[0,0,0,0];const o=G(ue);for(let a=0;a<o.length;a++){const c=o[a];c.id==e&&(c.pos.x=n=r.rZone.xStart,c.pos.y=i=r.rZone.yStart,c.size.w=s=r.rZone.xEnd-r.rZone.xStart,c.size.h=l=r.rZone.yEnd-r.rZone.yStart,c.snapped=!0)}ue.set(o),Km(t,n,i,s,l)}function Km(r,e,t,n,i){setTimeout(()=>{r.style.left=e+"px",r.style.top=t+"px",r.style.width=n+"px",r.style.height=i+"px",Pe(G(xi))},5)}function rd(r,e,t){!r||!e||!t||["mousedown","touchstart"].forEach(n=>e.addEventListener(n,i=>{let s,l;if(!r.info.custom&&(et.set(r.id),i.composedPath().includes(t))){let o=function(d,m){a=u-d,c=f-m,u=d,f=m;let b=e.offsetTop-c;const A=e.offsetLeft-a;b<0&&(b=0),e.style.top=b+"px",e.style.left=A+"px",r.pos.x=A,r.pos.y=b,id(u,f,r.id),[d,m]=[u,f]},a,c,u,f;document.onmousemove=d=>{r.snapped=!1,ue.set(G(ue)),o(d.clientX,d.clientY)},document.ontouchmove=d=>{r.snapped=!1,ue.set(G(ue)),!(!d.touches.length||n=="mousedown")&&o(d.touches[0].clientX,d.touches[0].clientY)},document.onmouseup=document.ontouchend=()=>{id(s,l,r.id),EB(r.id),fs.set(!1),ds.set(!1),document.onmouseup=null,document.onmousemove=null,document.ontouchend=null,document.ontouchmove=null}}},{passive:!0}))}function sd(r,e,t){const n=r.slice();return n[6]=e[t],n}function ld(r){let e,t,n,i;return{c(){e=g("div"),t=g("img"),de(t.src,n=r[0].image)||h(t,"src",n),h(t,"alt",i=r[0].title),h(e,"class","errimg")},m(s,l){S(s,e,l),p(e,t)},p(s,l){l&1&&!de(t.src,n=s[0].image)&&h(t,"src",n),l&1&&i!==(i=s[0].title)&&h(t,"alt",i)},d(s){s&&y(e)}}}function RB(r){let e,t=(r[0].message||"$error.message")+"",n;return{c(){e=new Vd(!1),n=ae(),e.a=n},m(i,s){e.m(t,i,s),S(i,n,s)},p(i,s){s&1&&t!==(t=(i[0].message||"$error.message")+"")&&e.p(t)},i:O,o:O,d(i){i&&(y(n),e.d())}}}function LB(r){let e,t,n;var i=r[0].component;function s(l,o){return{props:{error:l[0]}}}return i&&(t=Be(i,s(r))),{c(){e=g("div"),t&&M(t.$$.fragment),h(e,"class","component")},m(l,o){S(l,e,o),t&&D(t,e,null),n=!0},p(l,o){if(o&1&&i!==(i=l[0].component)){if(t){q();const a=t;C(a.$$.fragment,1,0,()=>{B(a,1)}),Y()}i?(t=Be(i,s(l)),M(t.$$.fragment),w(t.$$.fragment,1),D(t,e,null)):t=null}else if(i){const a={};o&1&&(a.error=l[0]),t.$set(a)}},i(l){n||(t&&w(t.$$.fragment,l),n=!0)},o(l){t&&C(t.$$.fragment,l),n=!1},d(l){l&&y(e),t&&B(t)}}}function od(r){let e,t=r[6].caption+"",n,i,s;function l(){return r[4](r[6])}return{c(){e=g("button"),n=F(t)},m(o,a){S(o,e,a),p(e,n),i||(s=P(e,"click",l),i=!0)},p(o,a){r=o,a&1&&t!==(t=r[6].caption+"")&&W(n,t)},d(o){o&&y(e),i=!1,s()}}}function DB(r){let e,t,n,i,s,l,o,a=r[0].title+"",c,u,f,d,m,b,A,_,k,v=r[0].image&&ld(r);const $=[LB,RB],E=[];function I(H,Q){return H[0].component?0:1}d=I(r),m=E[d]=$[d](r);let L=x(r[0].buttons),R=[];for(let H=0;H<L.length;H+=1)R[H]=od(sd(r,L,H));return{c(){e=g("div"),t=g("window"),n=g("div"),i=g("div"),v&&v.c(),s=T(),l=g("div"),o=g("h3"),c=F(a),u=T(),f=g("p"),m.c(),b=T(),A=g("div"),_=g("div");for(let H=0;H<R.length;H+=1)R[H].c();h(o,"class","error-title"),h(f,"class","error-message"),h(l,"class","error-content"),h(i,"class","error-overlay"),h(_,"class","inner"),h(A,"class","error-overlay-buttons"),h(n,"class","body overlay"),h(t,"class","window headless overlay overlayable-error"),U(t,"visible",r[1]),h(e,"class","overlay-wrapper"),U(e,"show",r[1])},m(H,Q){S(H,e,Q),p(e,t),p(t,n),p(n,i),v&&v.m(i,null),p(i,s),p(i,l),p(l,o),p(o,c),p(l,u),p(l,f),E[d].m(f,null),p(n,b),p(n,A),p(A,_);for(let ee=0;ee<R.length;ee+=1)R[ee]&&R[ee].m(_,null);k=!0},p(H,[Q]){H[0].image?v?v.p(H,Q):(v=ld(H),v.c(),v.m(i,s)):v&&(v.d(1),v=null),(!k||Q&1)&&a!==(a=H[0].title+"")&&W(c,a);let ee=d;if(d=I(H),d===ee?E[d].p(H,Q):(q(),C(E[ee],1,1,()=>{E[ee]=null}),Y(),m=E[d],m?m.p(H,Q):(m=E[d]=$[d](H),m.c()),w(m,1),m.m(f,null)),Q&5){L=x(H[0].buttons);let J;for(J=0;J<L.length;J+=1){const Ae=sd(H,L,J);R[J]?R[J].p(Ae,Q):(R[J]=od(Ae),R[J].c(),R[J].m(_,null))}for(;J<R.length;J+=1)R[J].d(1);R.length=L.length}(!k||Q&2)&&U(t,"visible",H[1]),(!k||Q&2)&&U(e,"show",H[1])},i(H){k||(w(m),k=!0)},o(H){C(m),k=!1},d(H){H&&y(e),v&&v.d(),E[d].d(),me(R,H)}}}function BB(r,e,t){let{app:n}=e,{error:i}=e,s=!1;function l(){t(1,s=!1),setTimeout(()=>{tp(i.id,n.id)},100)}ve(()=>{setTimeout(()=>{t(1,s=!0)},100)});function o(c){c(),l()}const a=c=>o(c.action);return r.$$set=c=>{"app"in c&&t(3,n=c.app),"error"in c&&t(0,i=c.error)},[i,s,o,n,a]}class MB extends j{constructor(e){super(),z(this,e,BB,DB,N,{app:3,error:0})}}function ad(r){let e,t,n,i,s;var l=r[0].content;function o(a,c){return{props:{overlay:a[0],app:a[1],id:a[2],runtime:a[3]}}}return l&&(i=Be(l,o(r))),{c(){e=g("div"),t=g("window"),n=g("div"),i&&M(i.$$.fragment),h(n,"class","body overlay"),h(t,"class","window headless overlay"),h(t,"style",r[5]),h(t,"id",r[2]),U(t,"visible",r[4]),h(e,"class","overlay-wrapper"),U(e,"show",r[4])},m(a,c){S(a,e,c),p(e,t),p(t,n),i&&D(i,n,null),s=!0},p(a,c){if(c&1&&l!==(l=a[0].content)){if(i){q();const u=i;C(u.$$.fragment,1,0,()=>{B(u,1)}),Y()}l?(i=Be(l,o(a)),M(i.$$.fragment),w(i.$$.fragment,1),D(i,n,null)):i=null}else if(l){const u={};c&1&&(u.overlay=a[0]),c&2&&(u.app=a[1]),c&4&&(u.id=a[2]),c&8&&(u.runtime=a[3]),i.$set(u)}(!s||c&32)&&h(t,"style",a[5]),(!s||c&4)&&h(t,"id",a[2]),(!s||c&16)&&U(t,"visible",a[4]),(!s||c&16)&&U(e,"show",a[4])},i(a){s||(i&&w(i.$$.fragment,a),s=!0)},o(a){i&&C(i.$$.fragment,a),s=!1},d(a){a&&y(e),i&&B(i)}}}function FB(r){let e,t,n=r[0]&&r[1]&&ad(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]&&i[1]?n?(n.p(i,s),s&3&&w(n,1)):(n=ad(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function PB(r,e,t){let{overlay:n}=e,{app:i}=e,{id:s}=e,{runtime:l}=e,o=!1,a="";return ve(()=>{t(5,a=nd(n))}),ue.subscribe(()=>{t(5,a=nd(n)),t(4,o=i.overlays[s]?i.overlays[s].show:!1)}),r.$$set=c=>{"overlay"in c&&t(0,n=c.overlay),"app"in c&&t(1,i=c.app),"id"in c&&t(2,s=c.id),"runtime"in c&&t(3,l=c.runtime)},[n,i,s,l,o,a]}class UB extends j{constructor(e){super(),z(this,e,PB,FB,N,{overlay:0,app:1,id:2,runtime:3})}}function NB(r){let e,t,n,i;var s=r[0].content;function l(c,u){return{props:{app:c[0],runtime:c[1],appdata:c[2]?c[2].appdata[c[0].id]||{}:{}}}}s&&(t=Be(s,l(r)));const o=r[4].default,a=ze(o,r,r[3],null);return{c(){e=g("div"),t&&M(t.$$.fragment),n=T(),a&&a.c(),h(e,"class","body")},m(c,u){S(c,e,u),t&&D(t,e,null),p(e,n),a&&a.m(e,null),i=!0},p(c,[u]){if(u&1&&s!==(s=c[0].content)){if(t){q();const f=t;C(f.$$.fragment,1,0,()=>{B(f,1)}),Y()}s?(t=Be(s,l(c)),M(t.$$.fragment),w(t.$$.fragment,1),D(t,e,n)):t=null}else if(s){const f={};u&1&&(f.app=c[0]),u&2&&(f.runtime=c[1]),u&5&&(f.appdata=c[2]?c[2].appdata[c[0].id]||{}:{}),t.$set(f)}a&&a.p&&(!i||u&8)&&He(a,o,c,c[3],i?je(o,c[3],u,null):Qe(c[3]),null)},i(c){i||(t&&w(t.$$.fragment,c),w(a,c),i=!0)},o(c){t&&C(t.$$.fragment,c),C(a,c),i=!1},d(c){c&&y(e),t&&B(t),a&&a.d(c)}}}function zB(r,e,t){let n;K(r,ne,a=>t(2,n=a));let{$$slots:i={},$$scope:s}=e,{app:l}=e,{runtime:o}=e;return r.$$set=a=>{"app"in a&&t(0,l=a.app),"runtime"in a&&t(1,o=a.runtime),"$$scope"in a&&t(3,s=a.$$scope)},[l,o,n,s,i]}class jB extends j{constructor(e){super(),z(this,e,zB,NB,N,{app:0,runtime:1})}}function HB(r){let e,t;return e=new wm({props:{app:r[1],cls:r[6],min:r[4],max:r[5],isBoot:r[2]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.app=n[1]),i&4&&(s.isBoot=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function QB(r){let e,t,n;var i=Hr[r[3].sh.window.buttons].content;function s(l,o){return{props:{cls:l[6],min:l[4],max:l[5],app:l[1],isBoot:l[2]}}}return i&&(e=Be(i,s(r))),{c(){e&&M(e.$$.fragment),t=ae()},m(l,o){e&&D(e,l,o),S(l,t,o),n=!0},p(l,o){if(o&8&&i!==(i=Hr[l[3].sh.window.buttons].content)){if(e){q();const a=e;C(a.$$.fragment,1,0,()=>{B(a,1)}),Y()}i?(e=Be(i,s(l)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(i){const a={};o&2&&(a.app=l[1]),o&4&&(a.isBoot=l[2]),e.$set(a)}},i(l){n||(e&&w(e.$$.fragment,l),n=!0)},o(l){e&&C(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&B(e,l)}}}function WB(r){let e,t,n=r[1].info.name+"",i,s=(r[1].info.titleSuffix||"")+"",l,o,a,c,u,f,d,m,b=r[1].info.name+"",A,_=(r[1].info.titleSuffix||"")+"",k,v,$,E,I,L,R,H,Q;const ee=[QB,HB],J=[];function Ae(ce,le){return ce[3]&&ce[3].sh.window.buttons?0:1}return E=Ae(r),I=J[E]=ee[E](r),{c(){e=g("div"),t=g("div"),i=F(n),l=F(s),o=T(),a=g("p"),c=g("img"),d=T(),m=g("span"),A=F(b),k=F(_),v=T(),$=g("div"),I.c(),h(t,"class","centeredtitle"),h(c,"class","icon"),de(c.src,u=yt(r[1]))||h(c,"src",u),h(c,"alt",f=r[1].info.name),h(a,"class","title"),h($,"class","controls"),h(e,"class","titlebar"),h(e,"data-contextmenu","window-titlebar"),h(e,"data-appid",L=r[1].id),U(e,"centered",r[3]&&r[3].sh.window.centertb)},m(ce,le){S(ce,e,le),p(e,t),p(t,i),p(t,l),p(e,o),p(e,a),p(a,c),p(a,d),p(a,m),p(m,A),p(m,k),p(e,v),p(e,$),J[E].m($,null),r[8](e),R=!0,H||(Q=P(e,"dblclick",r[5]),H=!0)},p(ce,[le]){(!R||le&2)&&n!==(n=ce[1].info.name+"")&&W(i,n),(!R||le&2)&&s!==(s=(ce[1].info.titleSuffix||"")+"")&&W(l,s),(!R||le&2&&!de(c.src,u=yt(ce[1])))&&h(c,"src",u),(!R||le&2&&f!==(f=ce[1].info.name))&&h(c,"alt",f),(!R||le&2)&&b!==(b=ce[1].info.name+"")&&W(A,b),(!R||le&2)&&_!==(_=(ce[1].info.titleSuffix||"")+"")&&W(k,_);let ie=E;E=Ae(ce),E===ie?J[E].p(ce,le):(q(),C(J[ie],1,1,()=>{J[ie]=null}),Y(),I=J[E],I?I.p(ce,le):(I=J[E]=ee[E](ce),I.c()),w(I,1),I.m($,null)),(!R||le&2&&L!==(L=ce[1].id))&&h(e,"data-appid",L),(!R||le&8)&&U(e,"centered",ce[3]&&ce[3].sh.window.centertb)},i(ce){R||(w(I),R=!0)},o(ce){C(I),R=!1},d(ce){ce&&y(e),J[E].d(),r[8](null),H=!1,Q()}}}function GB(r,e,t){let n;K(r,ne,d=>t(3,n=d));let{exttransition:i=!1}=e,{titlebar:s}=e,{app:l}=e,{isBoot:o=!1}=e;function a(){t(1,l.state.windowState.min=!l.state.windowState.min,l),Gt()}function c(){l.controls.max&&(t(1,l.state.windowState.max=!l.state.windowState.max,l),l.state.windowState.max?t(7,i=!0):setTimeout(()=>{t(7,i=!1)},200),Gt())}function u(){const d=l.id,m=d.startsWith("error_")?parseInt(d.replace("error_","")):-1;m>0?lp(m):At(l.id),o&&t(1,l.opened=!1,l)}function f(d){we[d?"unshift":"push"](()=>{s=d,t(0,s)})}return r.$$set=d=>{"exttransition"in d&&t(7,i=d.exttransition),"titlebar"in d&&t(0,s=d.titlebar),"app"in d&&t(1,l=d.app),"isBoot"in d&&t(2,o=d.isBoot)},[s,l,o,n,a,c,u,i,f]}class KB extends j{constructor(e){super(),z(this,e,GB,WB,N,{exttransition:7,titlebar:0,app:1,isBoot:2})}}function cd(r,e,t){const n=r.slice();return n[22]=e[t],n}function ud(r,e,t){const n=r.slice();return n[25]=e[t],n}function fd(r){let e,t;return e=new jB({props:{app:r[1],runtime:r[8],$$slots:{default:[VB]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.app=n[1]),i&256&&(s.runtime=n[8]),i&524288&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function VB(r){let e;const t=r[15].default,n=ze(t,r,r[19],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&524288)&&He(n,t,i,i[19],e?je(t,i[19],s,null):Qe(i[19]),null)},i(i){e||(w(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function dd(r){let e,t,n=x(Object.entries(r[1].overlays)),i=[];for(let l=0;l<n.length;l+=1)i[l]=pd(ud(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ae()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&258){n=x(Object.entries(l[1].overlays));let a;for(a=0;a<n.length;a+=1){const c=ud(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=pd(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function pd(r){let e,t;return e=new UB({props:{runtime:r[8],app:r[1],overlay:r[25][1],id:r[25][0]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&256&&(s.runtime=n[8]),i&2&&(s.app=n[1]),i&2&&(s.overlay=n[25][1]),i&2&&(s.id=n[25][0]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function md(r){let e,t,n=x(r[1].errorOverlays),i=[];for(let l=0;l<n.length;l+=1)i[l]=hd(cd(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ae()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&2){n=x(l[1].errorOverlays);let a;for(a=0;a<n.length;a+=1){const c=cd(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=hd(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function hd(r){let e,t;return e=new MB({props:{error:r[22],app:r[1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.error=n[22]),i&2&&(s.app=n[1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function qB(r){let e,t,n,i,s,l,o,a,c,u,f;function d(v){r[16](v)}function m(v){r[17](v)}let b={app:r[1],isBoot:r[4]};r[0]!==void 0&&(b.exttransition=r[0]),r[7]!==void 0&&(b.titlebar=r[7]),t=new KB({props:b}),we.push(()=>Ce(t,"exttransition",d)),we.push(()=>Ce(t,"titlebar",m));let A=(r[1].runtime?r[8]:!0)&&fd(r),_=r[1]&&r[1].overlays&&(r[1].runtime?r[8]:!0)&&dd(r),k=r[1]&&r[1].errorOverlays&&md(r);return{c(){e=g("window"),M(t.$$.fragment),s=T(),A&&A.c(),l=T(),_&&_.c(),o=T(),k&&k.c(),h(e,"style",r[5]),h(e,"id",a=r[1].id),U(e,"window",!r[1].info.custom),U(e,"focused",r[1].id==r[9]),U(e,"headless",r[1].state.headless||r[1].state.windowState.fll),U(e,"resizable",r[1].state.resizable),U(e,"min",r[1].state.windowState.min),U(e,"max",r[1].state.windowState.max||r[3]),U(e,"visible",r[1].opened||r[2]),U(e,"exttransition",r[0]),U(e,"fullscreen",r[1].state.windowState.fll||r[1].info.custom),U(e,"glass",r[1].glass),U(e,"lefttb",r[10]&&r[10].sh.window.lefttb),U(e,"custom",r[1].info.custom),U(e,"child",!!r[1].parentId),U(e,"snapped",r[1].snapped),U(e,"snapping",r[1].id==r[11]&&(r[12]||r[13]))},m(v,$){S(v,e,$),D(t,e,null),p(e,s),A&&A.m(e,null),p(e,l),_&&_.m(e,null),p(e,o),k&&k.m(e,null),r[18](e),c=!0,u||(f=P(e,"mousedown",r[14]),u=!0)},p(v,[$]){const E={};$&2&&(E.app=v[1]),$&16&&(E.isBoot=v[4]),!n&&$&1&&(n=!0,E.exttransition=v[0],$e(()=>n=!1)),!i&&$&128&&(i=!0,E.titlebar=v[7],$e(()=>i=!1)),t.$set(E),!v[1].runtime||v[8]?A?(A.p(v,$),$&258&&w(A,1)):(A=fd(v),A.c(),w(A,1),A.m(e,l)):A&&(q(),C(A,1,1,()=>{A=null}),Y()),v[1]&&v[1].overlays&&(!v[1].runtime||v[8])?_?(_.p(v,$),$&258&&w(_,1)):(_=dd(v),_.c(),w(_,1),_.m(e,o)):_&&(q(),C(_,1,1,()=>{_=null}),Y()),v[1]&&v[1].errorOverlays?k?(k.p(v,$),$&2&&w(k,1)):(k=md(v),k.c(),w(k,1),k.m(e,null)):k&&(q(),C(k,1,1,()=>{k=null}),Y()),(!c||$&32)&&h(e,"style",v[5]),(!c||$&2&&a!==(a=v[1].id))&&h(e,"id",a),(!c||$&2)&&U(e,"window",!v[1].info.custom),(!c||$&514)&&U(e,"focused",v[1].id==v[9]),(!c||$&2)&&U(e,"headless",v[1].state.headless||v[1].state.windowState.fll),(!c||$&2)&&U(e,"resizable",v[1].state.resizable),(!c||$&2)&&U(e,"min",v[1].state.windowState.min),(!c||$&10)&&U(e,"max",v[1].state.windowState.max||v[3]),(!c||$&6)&&U(e,"visible",v[1].opened||v[2]),(!c||$&1)&&U(e,"exttransition",v[0]),(!c||$&2)&&U(e,"fullscreen",v[1].state.windowState.fll||v[1].info.custom),(!c||$&2)&&U(e,"glass",v[1].glass),(!c||$&1024)&&U(e,"lefttb",v[10]&&v[10].sh.window.lefttb),(!c||$&2)&&U(e,"custom",v[1].info.custom),(!c||$&2)&&U(e,"child",!!v[1].parentId),(!c||$&2)&&U(e,"snapped",v[1].snapped),(!c||$&14338)&&U(e,"snapping",v[1].id==v[11]&&(v[12]||v[13]))},i(v){c||(w(t.$$.fragment,v),w(A),w(_),w(k),c=!0)},o(v){C(t.$$.fragment,v),C(A),C(_),C(k),c=!1},d(v){v&&y(e),B(t),A&&A.d(),_&&_.d(),k&&k.d(),r[18](null),u=!1,f()}}}function YB(r,e,t){let n,i,s,l,o;K(r,et,Q=>t(9,n=Q)),K(r,ne,Q=>t(10,i=Q)),K(r,xi,Q=>t(11,s=Q)),K(r,fs,Q=>t(12,l=Q)),K(r,ds,Q=>t(13,o=Q));let{$$slots:a={},$$scope:c}=e,{app:u=null}=e,{visible:f=!1}=e,{max:d=!1}=e,{isBoot:m=!1}=e,b="",A,_=!1,k,v,{exttransition:$=!1}=e;ve(()=>{et.set(u.id),E(),u.id.startsWith("error_")&&Ft.playSound("arcos.dialog.info")});function E(){u.minSize.w>u.size.w||u.minSize.h>u.size.h||u.maxSize.w<u.minSize.w||u.maxSize.h<u.minSize.h||(t(5,b=CB(u,!_)),_||(_=!0),u.info.custom||rd(u,A,k))}ue.subscribe(()=>{u.opened&&!u.info.custom&&rd(u,A,k),E()});function I(){Ee(et,n=u.id,n)}et.subscribe(Q=>{!u||!u.events||(Q==u.id&&u.events.focus&&u.events.focus(u),Q!=u.id&&u.events.blur&&u.events.blur(u))}),ve(()=>{u.runtime&&t(8,v=new u.runtime(u))});function L(Q){$=Q,t(0,$)}function R(Q){k=Q,t(7,k)}function H(Q){we[Q?"unshift":"push"](()=>{A=Q,t(6,A)})}return r.$$set=Q=>{"app"in Q&&t(1,u=Q.app),"visible"in Q&&t(2,f=Q.visible),"max"in Q&&t(3,d=Q.max),"isBoot"in Q&&t(4,m=Q.isBoot),"exttransition"in Q&&t(0,$=Q.exttransition),"$$scope"in Q&&t(19,c=Q.$$scope)},[$,u,f,d,m,b,A,k,v,n,i,s,l,o,I,a,L,R,H,c]}class Vm extends j{constructor(e){super(),z(this,e,YB,qB,N,{app:1,visible:2,max:3,isBoot:4,exttransition:0})}}function gd(r,e,t){const n=r.slice();return n[2]=e[t],n}function Ad(r,e,t){const n=r.slice();return n[5]=e[t],n}function bd(r,e,t){const n=r.slice();return n[8]=e[t],n}function _d(r){let e,t=r[5].message+"",n,i,s,l,o,a,c,u=x(r[5].buttons),f=[];for(let m=0;m<u.length;m+=1)f[m]=wd(bd(r,u,m));const d=m=>C(f[m],1,1,()=>{f[m]=null});return{c(){e=g("p"),n=T(),i=g("center"),s=g("br"),l=T();for(let m=0;m<f.length;m+=1)f[m].c();o=T(),a=g("br")},m(m,b){S(m,e,b),e.innerHTML=t,S(m,n,b),S(m,i,b),p(i,s),p(i,l);for(let A=0;A<f.length;A+=1)f[A]&&f[A].m(i,null);p(i,o),p(i,a),c=!0},p(m,b){if((!c||b&2)&&t!==(t=m[5].message+"")&&(e.innerHTML=t),b&2){u=x(m[5].buttons);let A;for(A=0;A<u.length;A+=1){const _=bd(m,u,A);f[A]?(f[A].p(_,b),w(f[A],1)):(f[A]=wd(_),f[A].c(),w(f[A],1),f[A].m(i,o))}for(q(),A=u.length;A<f.length;A+=1)d(A);Y()}},i(m){if(!c){for(let b=0;b<u.length;b+=1)w(f[b]);c=!0}},o(m){f=f.filter(Boolean);for(let b=0;b<f.length;b+=1)C(f[b]);c=!1},d(m){m&&(y(e),y(n),y(i)),me(f,m)}}}function wd(r){let e,t;return e=new $B({props:{button:r[8],msg:r[5]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.button=n[8]),i&2&&(s.msg=n[5]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function vd(r){let e,t,n=`error_${r[5].id}`==r[2].id&&_d(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,s){`error_${i[5].id}`==i[2].id?n?(n.p(i,s),s&3&&w(n,1)):(n=_d(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function JB(r){let e,t,n=x(r[1]),i=[];for(let l=0;l<n.length;l+=1)i[l]=vd(Ad(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=T()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&3){n=x(l[1]);let a;for(a=0;a<n.length;a+=1){const c=Ad(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=vd(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function kd(r){let e,t;return e=new Vm({props:{app:r[2],$$slots:{default:[JB]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.app=n[2]),i&2051&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function ZB(r){let e,t,n=x(r[0]),i=[];for(let l=0;l<n.length;l+=1)i[l]=kd(gd(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","winstore")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,[o]){if(o&3){n=x(l[0]);let a;for(a=0;a<n.length;a+=1){const c=gd(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=kd(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function XB(r,e,t){let n,i;return K(r,qt,s=>t(0,n=s)),K(r,gi,s=>t(1,i=s)),[n,i]}class xB extends j{constructor(e){super(),z(this,e,XB,ZB,N,{})}}function yd(r,e,t){const n=r.slice();return n[2]=e[t],n}function Sd(r){let e,t;return e=new Vm({props:{app:r[2]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.app=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function $d(r){let e,t,n=r[2]&&Sd(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,s){i[2]?n?(n.p(i,s),s&1&&w(n,1)):(n=Sd(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function eM(r){let e,t,n=x(r[0]),i=[];for(let l=0;l<n.length;l+=1)i[l]=$d(yd(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","winstore")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,[o]){if(o&1){n=x(l[0]);let a;for(a=0;a<n.length;a+=1){const c=yd(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=$d(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(q(),a=n.length;a<i.length;a+=1)s(a);Y()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function tM(r,e,t){let n;K(r,Ke,s=>t(1,n=s));let i=[];return ue.subscribe(s=>{t(0,i=[]),s&&t(0,i=s);const l=ti();for(let o=0;o<l.length;o++)if(l[o].state.windowState.fll)return xt.set(!0);xt.set(!1)}),et.subscribe(s=>{var a;if((a=Ue(s))!=null&&a.info.custom)return;if(Ee(Ke,n++,n),!s||s.startsWith("error_")){if(!s)return;const c=document.querySelector(`#${s}`);if(!c)return;c.style.zIndex=`${n}`;return}const l=Ue(s);if(!l)return;const o=Bn(l);o&&(o.style.zIndex=`${n}`)}),[i]}class nM extends j{constructor(e){super(),z(this,e,tM,eM,N,{})}}async function iM(){G(fn).key!="desktop"||Rn!="rc"||(await ct(1e3),yi({title:"Release Candidate",message:`You're currently running a release candidate build of ArcOS. This build can and will have unwanted behaviour and bugs. Any critical errors will be reported automatically.<br><br>ArcOS version ${ut}-rc`,buttons:[],image:tn(),timeout:3e3}))}function Cd(r){let e,t,n,i,s,l,o,a,c,u;return t=new nM({}),i=new xB({}),l=new kB({}),a=new dB({}),{c(){e=g("div"),M(t.$$.fragment),n=T(),M(i.$$.fragment),s=T(),M(l.$$.fragment),o=T(),M(a.$$.fragment),h(e,"class",c="desktop fullscreen "+r[1]+" theme-"+r[2].sh.desktop.theme+" tb-"+r[2].sh.taskbar.pos+" cursor-"+(r[2].sh.desktop.noCustomCursor?"":"custom")),Se(e,"--accent","#"+(r[2].sh.desktop.accent||"70D6FF"),1),U(e,"show",r[0])},m(f,d){S(f,e,d),D(t,e,null),p(e,n),D(i,e,null),p(e,s),D(l,e,null),p(e,o),D(a,e,null),u=!0},p(f,d){(!u||d&6&&c!==(c="desktop fullscreen "+f[1]+" theme-"+f[2].sh.desktop.theme+" tb-"+f[2].sh.taskbar.pos+" cursor-"+(f[2].sh.desktop.noCustomCursor?"":"custom")))&&h(e,"class",c),(!u||d&4)&&Se(e,"--accent","#"+(f[2].sh.desktop.accent||"70D6FF"),1),(!u||d&7)&&U(e,"show",f[0])},i(f){u||(w(t.$$.fragment,f),w(i.$$.fragment,f),w(l.$$.fragment,f),w(a.$$.fragment,f),u=!0)},o(f){C(t.$$.fragment,f),C(i.$$.fragment,f),C(l.$$.fragment,f),C(a.$$.fragment,f),u=!1},d(f){f&&y(e),B(t),B(i),B(l),B(a)}}}function rM(r){let e,t,n=r[2]&&r[3]&&Cd(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[2]&&i[3]?n?(n.p(i,s),s&12&&w(n,1)):(n=Cd(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function sM(r,e,t){let n,i,s;K(r,dl,c=>t(4,n=c)),K(r,ne,c=>t(2,i=c)),K(r,Fe,c=>t(3,s=c));let l=!1,o="";eh.subscribe(c=>t(1,o=c)),xm.subscribe(c=>t(0,l=c)),ve(async()=>{if(Ft.playSound("arcos.system.logon"),n){Qn(!1);return}Ee(dl,n=!0,n),await ct(0),mF(),VD(),a(),YD(),setTimeout(()=>t(0,l=!0),250),XD(),jD(),iM()});function a(){ue.set([]),xt.set(!1),Gt(),Ot.set(!1),gi.set([])}return[l,o,i,s]}class lM extends j{constructor(e){super(),z(this,e,sM,rM,N,{})}}const hs=""+new URL("connect-7fe4df73.svg",import.meta.url).href,qm=""+new URL("finish-b74612a1.svg",import.meta.url).href,Ym=""+new URL("license-c775bee3.svg",import.meta.url).href,oM=""+new URL("wave-1b0d0ba8.svg",import.meta.url).href;function aM(r){let e,t,n,i,s,l,o,a,c,u,f,d;return{c(){e=g("div"),t=g("div"),n=g("button"),i=g("span"),i.textContent="arrow_back_ios_new",l=T(),o=g("div"),a=g("button"),c=g("span"),c.textContent="arrow_forward_ios",h(i,"class","material-icons-round"),h(n,"class","nopad"),n.disabled=s=r[0].back.disabled,h(c,"class","material-icons-round"),h(a,"class","nopad"),a.disabled=u=r[0].forw.disabled,h(o,"class","alnr"),h(e,"class","nav")},m(m,b){S(m,e,b),p(e,t),p(t,n),p(n,i),p(e,l),p(e,o),p(o,a),p(a,c),f||(d=[P(n,"click",r[1]),P(a,"click",r[2])],f=!0)},p(m,[b]){b&1&&s!==(s=m[0].back.disabled)&&(n.disabled=s),b&1&&u!==(u=m[0].forw.disabled)&&(a.disabled=u)},i:O,o:O,d(m){m&&y(e),f=!1,ke(d)}}}function cM(r,e,t){let{data:n}=e;function i(){vi(n.back.redir)}function s(){vi(n.forw.redir)}return r.$$set=l=>{"data"in l&&t(0,n=l.data)},[n,i,s]}class uM extends j{constructor(e){super(),z(this,e,cM,aM,N,{data:0})}}function fM(r){let e;return{c(){e=F("Connecting...")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function dM(r){let e;return{c(){e=F("Connect to server")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function Td(r){let e;return{c(){e=g("p"),e.innerHTML='<span class="material-icons-round">error</span>Connection to ArcAPI failed!',h(e,"class","fullwidth centered connect-error")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function pM(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b;function A($,E){return $[1]?fM:dM}let _=A(r),k=_(r),v=r[2]&&Td();return f=new uM({props:{data:{back:{disabled:!1,redir:"license"},forw:{disabled:!0,redir:"authform"},prog:{max:4,val:3}}}}),{c(){e=g("div"),e.innerHTML=`<img src="${hs}" alt="Mode"/> <h1>Time to get connected</h1> <p class="subtitle">Enter the hostname of your ArcAPI:</p>`,t=T(),n=g("input"),i=T(),s=g("input"),l=T(),o=g("button"),k.c(),c=T(),v&&v.c(),u=T(),M(f.$$.fragment),h(e,"class","header centered"),h(n,"class","fullwidth centered"),h(n,"placeholder","Server name"),h(s,"class","fullwidth centered"),h(s,"placeholder","Server authentication code (optional)"),h(o,"class","fullwidth option centered"),o.disabled=a=!r[0]||r[1]},m($,E){S($,e,E),S($,t,E),S($,n,E),ge(n,r[0]),S($,i,E),S($,s,E),ge(s,r[3]),S($,l,E),S($,o,E),k.m(o,null),S($,c,E),v&&v.m($,E),S($,u,E),D(f,$,E),d=!0,m||(b=[P(n,"input",r[5]),P(s,"input",r[6]),P(o,"click",r[4])],m=!0)},p($,[E]){E&1&&n.value!==$[0]&&ge(n,$[0]),E&8&&s.value!==$[3]&&ge(s,$[3]),_!==(_=A($))&&(k.d(1),k=_($),k&&(k.c(),k.m(o,null))),(!d||E&3&&a!==(a=!$[0]||$[1]))&&(o.disabled=a),$[2]?v||(v=Td(),v.c(),v.m(u.parentNode,u)):v&&(v.d(1),v=null)},i($){d||(w(f.$$.fragment,$),d=!0)},o($){C(f.$$.fragment,$),d=!1},d($){$&&(y(e),y(t),y(n),y(i),y(s),y(l),y(o),y(c),y(u)),k.d(),v&&v.d($),B(f,$),m=!1,ke(b)}}}function mM(r,e,t){let n="community.arcapi.nl",i=!1,s=!1,l="";async function o(){t(1,i=!0),t(2,s=!1),await ql(n.trim(),l.trim())?(hl(n.trim()),Up(n.trim(),l.trim()),vi("finish")):(Ft.playSound("arcos.dialog.error"),t(2,s=!0)),t(1,i=!1)}function a(){n=this.value,t(0,n)}function c(){l=this.value,t(3,l)}return[n,i,s,l,o,a,c]}class hM extends j{constructor(e){super(),z(this,e,mM,pM,N,{})}}function gM(r){let e,t,n,i,s,l,o,a,c;return{c(){e=g("div"),e.innerHTML=`<img src="${qm}" alt="Mode"/> <h1>Thank you!</h1> <p class="subtitle">We greatly appreciate it.</p>`,t=T(),n=g("p"),n.textContent=`Thank you for checking out ArcOS! We hope you'll enjoy it as much as we love
  making it. Please restart ArcOS to use your ArcOS instance.`,i=T(),s=g("br"),l=T(),o=g("button"),o.textContent="Restart",h(e,"class","header centered"),h(n,"class","fullwidth centered justified"),h(o,"class","fullwidth option centered")},m(u,f){S(u,e,f),S(u,t,f),S(u,n,f),S(u,i,f),S(u,s,f),S(u,l,f),S(u,o,f),a||(c=P(o,"click",r[0]),a=!0)},p:O,i:O,o:O,d(u){u&&(y(e),y(t),y(n),y(i),y(s),y(l),y(o)),a=!1,c()}}}function AM(r){async function e(){Ft.playSound("arcos.system.logoff"),await ct(1e3),location.reload()}return[e]}class bM extends j{constructor(e){super(),z(this,e,AM,gM,N,{})}}function _M(r){let e,t,n,i,s,l,o;return{c(){e=g("div"),e.innerHTML=`<img src="${Ym}" alt="Mode"/> <h1>License agreement</h1> <p class="subtitle">By using ArcOS, you agree to the GPLv3 License.</p>`,t=T(),n=g("button"),n.textContent="Open license",i=T(),s=g("button"),s.textContent="I Agree",h(e,"class","header centered"),h(n,"class","fullwidth option centered"),h(s,"class","fullwidth option centered")},m(a,c){S(a,e,c),S(a,t,c),S(a,n,c),S(a,i,c),S(a,s,c),l||(o=[P(n,"click",wM),P(s,"click",r[0])],l=!0)},p:O,i:O,o:O,d(a){a&&(y(e),y(t),y(n),y(i),y(s)),l=!1,ke(o)}}}function wM(){window.open("https://www.gnu.org/licenses/gpl-3.0-standalone.html","_blank")}function vM(r){return[()=>vi("connecttocloud")]}class kM extends j{constructor(e){super(),z(this,e,vM,_M,N,{})}}function yM(r){let e,t,n,i,s,l,o,a,c,u,f,d;return{c(){e=g("div"),t=g("div"),n=g("img"),s=T(),l=g("h1"),l.textContent="Welcome",o=T(),a=g("p"),a.textContent="Time to set-up ArcOS.",c=T(),u=g("button"),u.textContent="Let's begin",de(n.src,i=tn())||h(n,"src",i),h(n,"alt","ArcOS"),h(n,"class","logo"),h(l,"class","center-header"),h(a,"class","center"),h(e,"class","center-flex")},m(m,b){S(m,e,b),p(e,t),p(t,n),p(t,s),p(t,l),p(t,o),p(t,a),p(t,c),p(t,u),f||(d=P(u,"click",r[0]),f=!0)},p:O,i:O,o:O,d(m){m&&y(e),f=!1,d()}}}function SM(r){return[()=>vi("license")]}class $M extends j{constructor(e){super(),z(this,e,SM,yM,N,{})}}const Qi=new Map([["welcome",{name:"Welcome",content:$M,attribs:{},key:"welcome",image:oM}],["license",{name:"License",content:kM,attribs:{},key:"license",image:Ym}],["connecttocloud",{name:"Connect to ArcOS",content:hM,attribs:{},key:"connecttocloud",image:hs}],["finish",{name:"Finish",content:bM,attribs:{},key:"finish",image:qm}]]),Gr=pe();function vi(r){if(Qi.has(r)){Z("applyFTSState",`Applying state ${r}`);const e=Qi.get(r);Gr.set(e),Ft.playSound("arcos.click");return}Al("FirstTimeSetup",r)}function Ed(r,e,t){const n=r.slice();return n[2]=e[t][0],n[3]=e[t][1],n}function Id(r){let e,t,n,i,s=r[3].name+"",l;return{c(){e=g("div"),t=g("img"),i=T(),l=F(s),de(t.src,n=r[3].image)||h(t,"src",n),h(t,"alt",r[3].name),h(e,"class","state"),U(e,"activated",r[0]&&r[0].key==r[2])},m(o,a){S(o,e,a),p(e,t),p(e,i),p(e,l)},p(o,a){a&1&&U(e,"activated",o[0]&&o[0].key==o[2])},d(o){o&&y(e)}}}function CM(r){let e,t,n,i,s,l=x([...Qi]),o=[];for(let a=0;a<l.length;a+=1)o[a]=Id(Ed(r,l,a));return{c(){e=g("div");for(let a=0;a<o.length;a+=1)o[a].c();t=T(),n=g("button"),n.innerHTML=`<img src="${us}" alt="ArcTerm"/> <span>Launch ArcTerm</span>`,h(n,"class","arcterm"),h(e,"class","left")},m(a,c){S(a,e,c);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);p(e,t),p(e,n),i||(s=P(n,"click",r[1]),i=!0)},p(a,[c]){if(c&1){l=x([...Qi]);let u;for(u=0;u<l.length;u+=1){const f=Ed(a,l,u);o[u]?o[u].p(f,c):(o[u]=Id(f),o[u].c(),o[u].m(e,t))}for(;u<o.length;u+=1)o[u].d(1);o.length=l.length}},i:O,o:O,d(a){a&&y(e),me(o,a),i=!1,s()}}}function TM(r,e,t){let n;K(r,Gr,s=>t(0,n=s));function i(){ft("arcterm")}return[n,i]}class EM extends j{constructor(e){super(),z(this,e,TM,CM,N,{})}}function IM(r){let e,t,n;return t=new en({props:{height:60}}),{c(){e=g("div"),M(t.$$.fragment),h(e,"class","center-absolute centertext")},m(i,s){S(i,e,s),D(t,e,null),n=!0},p:O,i(i){n||(w(t.$$.fragment,i),n=!0)},o(i){C(t.$$.fragment,i),n=!1},d(i){i&&y(e),B(t)}}}function OM(r){let e,t,n,i;var s=r[1].content;function l(o,a){return{}}return s&&(t=Be(s,l())),{c(){e=g("div"),t&&M(t.$$.fragment),h(e,"class",n="page "+r[0])},m(o,a){S(o,e,a),t&&D(t,e,null),i=!0},p(o,a){if(a&2&&s!==(s=o[1].content)){if(t){q();const c=t;C(c.$$.fragment,1,0,()=>{B(c,1)}),Y()}s?(t=Be(s,l()),M(t.$$.fragment),w(t.$$.fragment,1),D(t,e,null)):t=null}(!i||a&1&&n!==(n="page "+o[0]))&&h(e,"class",n)},i(o){i||(t&&w(t.$$.fragment,o),i=!0)},o(o){t&&C(t.$$.fragment,o),i=!1},d(o){o&&y(e),t&&B(t)}}}function RM(r){let e,t,n,i,s;const l=[OM,IM],o=[];function a(c,u){return c[1]?0:1}return t=a(r),n=o[t]=l[t](r),{c(){e=g("div"),n.c(),h(e,"class",i="right "+(r[1]?r[1].key:""))},m(c,u){S(c,e,u),o[t].m(e,null),s=!0},p(c,[u]){let f=t;t=a(c),t===f?o[t].p(c,u):(q(),C(o[f],1,1,()=>{o[f]=null}),Y(),n=o[t],n?n.p(c,u):(n=o[t]=l[t](c),n.c()),w(n,1),n.m(e,null)),(!s||u&2&&i!==(i="right "+(c[1]?c[1].key:"")))&&h(e,"class",i)},i(c){s||(w(n),s=!0)},o(c){C(n),s=!1},d(c){c&&y(e),o[t].d()}}}function LM(r,e,t){let n;K(r,Gr,l=>t(1,n=l));let i="",s=[];return Gr.subscribe(l=>{l&&t(0,i=l.name.split(" ")[0].toLowerCase())}),ve(()=>{s=[];for(const l of Qi)s.push(l[0])}),[i,n]}class DM extends j{constructor(e){super(),z(this,e,LM,RM,N,{})}}function BM(r){let e,t,n,i,s,l;return n=new EM({}),s=new DM({}),{c(){e=g("div"),t=g("div"),M(n.$$.fragment),i=T(),M(s.$$.fragment),h(t,"class","center-absolute"),h(e,"class","fts fullscreen"),U(e,"show",r[0])},m(o,a){S(o,e,a),p(e,t),D(n,t,null),p(t,i),D(s,t,null),l=!0},p(o,[a]){(!l||a&1)&&U(e,"show",o[0])},i(o){l||(w(n.$$.fragment,o),w(s.$$.fragment,o),l=!0)},o(o){C(n.$$.fragment,o),C(s.$$.fragment,o),l=!1},d(o){o&&y(e),B(n),B(s)}}}function MM(r,e,t){let n=!1;return ve(async()=>{await ct(500),t(0,n=!0),Ft.playSound("arcos.system.logon"),await ct(500),vi("welcome")}),[n]}class FM extends j{constructor(e){super(),z(this,e,MM,BM,N,{})}}function Od(r){let e;return{c(){e=g("div"),h(e,"class","background fullscreen"),U(e,"zoom",r[0].attribs.darken)},m(t,n){S(t,e,n)},p(t,n){n&1&&U(e,"zoom",t[0].attribs.darken)},d(t){t&&y(e)}}}function PM(r){let e,t=r[0]&&Od(r);return{c(){t&&t.c(),e=ae()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0]?t?t.p(n,i):(t=Od(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function UM(r,e,t){let n;return K(r,$i,i=>t(0,n=i)),[n]}class NM extends j{constructor(e){super(),z(this,e,UM,PM,N,{})}}function Rd(r){let e,t,n;var i=r[0].content;function s(l,o){return{}}return i&&(t=Be(i,s())),{c(){e=g("div"),t&&M(t.$$.fragment),h(e,"class","center-absolute")},m(l,o){S(l,e,o),t&&D(t,e,null),n=!0},p(l,o){if(o&1&&i!==(i=l[0].content)){if(t){q();const a=t;C(a.$$.fragment,1,0,()=>{B(a,1)}),Y()}i?(t=Be(i,s()),M(t.$$.fragment),w(t.$$.fragment,1),D(t,e,null)):t=null}},i(l){n||(t&&w(t.$$.fragment,l),n=!0)},o(l){t&&C(t.$$.fragment,l),n=!1},d(l){l&&y(e),t&&B(t)}}}function zM(r){let e,t,n=r[0]&&Rd(r);return{c(){n&&n.c(),e=ae()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=Rd(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(q(),C(n,1,1,()=>{n=null}),Y())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function jM(r,e,t){let n;return K(r,$i,i=>t(0,n=i)),[n]}class HM extends j{constructor(e){super(),z(this,e,jM,zM,N,{})}}function Ld(r){let e;return{c(){e=g("div"),h(e,"class","fullscreen darken"),U(e,"show",r[0].attribs.darken)},m(t,n){S(t,e,n)},p(t,n){n&1&&U(e,"show",t[0].attribs.darken)},d(t){t&&y(e)}}}function QM(r){let e,t=r[0]&&Ld(r);return{c(){t&&t.c(),e=ae()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0]?t?t.p(n,i):(t=Ld(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function WM(r,e,t){let n;return K(r,$i,i=>t(0,n=i)),[n]}class GM extends j{constructor(e){super(),z(this,e,WM,QM,N,{})}}function Dd(r,e,t){const n=r.slice();return n[9]=e[t],n}function Bd(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b=x(r[3]),A=[];for(let _=0;_<b.length;_+=1)A[_]=Md(Dd(r,b,_));return{c(){e=g("div"),t=g("select");for(let _=0;_<A.length;_+=1)A[_].c();n=g("option"),n.textContent="Add Server...",i=T(),s=g("div"),l=F(r[0]),o=T(),a=g("div"),c=g("button"),c.innerHTML='<span class="material-icons-round">power_settings_new</span>',u=T(),f=g("button"),f.innerHTML='<span class="material-icons-round">restart_alt</span>',n.__value="$new",ge(n,n.__value),h(t,"class","host"),r[1]===void 0&&En(()=>r[8].call(t)),h(s,"class","clock"),h(c,"class","nopad"),h(f,"class","nopad"),h(a,"class","right"),h(e,"class","topbar"),U(e,"show",(r[4].attribs.topbar||!1)&&r[2])},m(_,k){S(_,e,k),p(e,t);for(let v=0;v<A.length;v+=1)A[v]&&A[v].m(t,null);p(t,n),Tn(t,r[1],!0),p(e,i),p(e,s),p(s,l),p(e,o),p(e,a),p(a,c),p(a,u),p(a,f),d||(m=[P(t,"change",r[7]),P(t,"change",r[8]),P(c,"click",r[5]),P(f,"click",r[6])],d=!0)},p(_,k){if(k&8){b=x(_[3]);let v;for(v=0;v<b.length;v+=1){const $=Dd(_,b,v);A[v]?A[v].p($,k):(A[v]=Md($),A[v].c(),A[v].m(t,n))}for(;v<A.length;v+=1)A[v].d(1);A.length=b.length}k&10&&Tn(t,_[1]),k&1&&W(l,_[0]),k&20&&U(e,"show",(_[4].attribs.topbar||!1)&&_[2])},d(_){_&&y(e),me(A,_),d=!1,ke(m)}}}function Md(r){let e,t=r[9]+"",n,i;return{c(){e=g("option"),n=F(t),e.__value=i=r[9],ge(e,e.__value)},m(s,l){S(s,e,l),p(e,n)},p(s,l){l&8&&t!==(t=s[9]+"")&&W(n,t),l&8&&i!==(i=s[9])&&(e.__value=i,ge(e,e.__value))},d(s){s&&y(e)}}}function KM(r){let e,t=r[4]&&Bd(r);return{c(){t&&t.c(),e=ae()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[4]?t?t.p(n,i):(t=Bd(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function VM(r,e,t){let n;K(r,$i,d=>t(4,n=d));let i="",s=$t(),l=!1,o=[];ve(()=>{setInterval(()=>t(0,i=zt().format("HH:mm")),500),setTimeout(()=>t(2,l=!0),750),t(3,o=Zn())});function a(){Tt.set("ArcOS"),Et("shutdown")}function c(){Tt.set("ArcOS"),Et("restart")}function u(){setTimeout(()=>{if(s=="$new")return ft("fts");localStorage.setItem("arcos-current-server",s),c()})}function f(){s=Vr(this),t(1,s),t(3,o)}return[i,s,l,o,n,a,c,u,f]}class qM extends j{constructor(e){super(),z(this,e,VM,KM,N,{})}}function YM(r){let e,t,n,i,s,l,o,a,c;return t=new NM({}),i=new GM({}),l=new qM({}),a=new HM({}),{c(){e=g("div"),M(t.$$.fragment),n=T(),M(i.$$.fragment),s=T(),M(l.$$.fragment),o=T(),M(a.$$.fragment),h(e,"class","login fullscreen"),U(e,"show",r[0])},m(u,f){S(u,e,f),D(t,e,null),p(e,n),D(i,e,null),p(e,s),D(l,e,null),p(e,o),D(a,e,null),c=!0},p(u,[f]){(!c||f&1)&&U(e,"show",u[0])},i(u){c||(w(t.$$.fragment,u),w(i.$$.fragment,u),w(l.$$.fragment,u),w(a.$$.fragment,u),c=!0)},o(u){C(t.$$.fragment,u),C(i.$$.fragment,u),C(l.$$.fragment,u),C(a.$$.fragment,u),c=!1},d(u){u&&y(e),B(t),B(i),B(l),B(a)}}}function JM(r,e,t){let n=!1;return ve(async()=>{t(0,n=!1),await x1(),t(0,n=!0)}),[n]}class _r extends j{constructor(e){super(),z(this,e,JM,YM,N,{})}}function Fd(r){let e;return{c(){e=g("span"),e.textContent="lock",h(e,"class","material-icons-round")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function ZM(r){let e,t,n,i,s,l=r[1].hostname+"",o,a,c,u,f=r[1].private&&Fd();return{c(){e=g("button"),t=g("img"),i=T(),s=g("p"),o=F(l),a=T(),f&&f.c(),de(t.src,n=hs)||h(t,"src",n),h(t,"alt",""),h(t,"class","icon"),h(s,"class","caption"),h(e,"class","option"),U(e,"selected",r[0]==r[1].hostname)},m(d,m){S(d,e,m),p(e,t),p(e,i),p(e,s),p(s,o),p(e,a),f&&f.m(e,null),c||(u=P(e,"click",r[2]),c=!0)},p(d,[m]){m&2&&l!==(l=d[1].hostname+"")&&W(o,l),d[1].private?f||(f=Fd(),f.c(),f.m(e,null)):f&&(f.d(1),f=null),m&3&&U(e,"selected",d[0]==d[1].hostname)},i:O,o:O,d(d){d&&y(e),f&&f.d(),c=!1,u()}}}function XM(r,e,t){let{server:n}=e,{selected:i}=e;function s(){t(0,i=n.hostname)}return r.$$set=l=>{"server"in l&&t(1,n=l.server),"selected"in l&&t(0,i=l.selected)},[i,n,s]}class xM extends j{constructor(e){super(),z(this,e,XM,ZM,N,{server:1,selected:0})}}function Pd(r){let e,t,n,i,s,l,o,a;return{c(){e=g("div"),t=g("button"),t.innerHTML='<span>Add Server</span> <span class="material-icons-round">add</span>',n=T(),i=g("button"),i.innerHTML='<span>Restart</span> <span class="material-icons-round">sync</span>',s=T(),l=g("button"),l.innerHTML='<span>Continue</span> <span class="material-icons-round">arrow_forward_ios</span>',h(l,"class","clr-blue"),h(e,"class","actions")},m(c,u){S(c,e,u),p(e,t),p(e,n),p(e,i),p(e,s),p(e,l),o||(a=[P(t,"click",r[1]),P(i,"click",Jm),P(l,"click",r[2])],o=!0)},p:O,d(c){c&&y(e),o=!1,ke(a)}}}function eF(r){let e,t=r[0]&&r[0].length&&Pd(r);return{c(){t&&t.c(),e=ae()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0]&&n[0].length?t?t.p(n,i):(t=Pd(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function Jm(){location.reload()}function tF(r,e,t){let{servers:n=[]}=e,{selected:i=""}=e;function s(){ft("fts")}function l(){localStorage.setItem("arcos-current-server",i),Jm()}return r.$$set=o=>{"servers"in o&&t(0,n=o.servers),"selected"in o&&t(3,i=o.selected)},[n,s,l,i]}class nF extends j{constructor(e){super(),z(this,e,tF,eF,N,{servers:0,selected:3})}}function Ud(r,e,t){const n=r.slice();return n[4]=e[t],n}function Nd(r){let e,t,n;function i(l){r[2](l)}let s={server:r[4]};return r[0]!==void 0&&(s.selected=r[0]),e=new xM({props:s}),we.push(()=>Ce(e,"selected",i)),{c(){M(e.$$.fragment)},m(l,o){D(e,l,o),n=!0},p(l,o){const a={};o&2&&(a.server=l[4]),!t&&o&1&&(t=!0,a.selected=l[0],$e(()=>t=!1)),e.$set(a)},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){B(e,l)}}}function iF(r){let e,t,n,i,s,l=x(r[1]),o=[];for(let c=0;c<l.length;c+=1)o[c]=Nd(Ud(r,l,c));const a=c=>C(o[c],1,1,()=>{o[c]=null});return i=new nF({props:{selected:r[0],servers:r[1]}}),{c(){e=g("div"),t=g("div");for(let c=0;c<o.length;c+=1)o[c].c();n=T(),M(i.$$.fragment),h(t,"class","options"),h(e,"class","selector")},m(c,u){S(c,e,u),p(e,t);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(t,null);p(e,n),D(i,e,null),s=!0},p(c,[u]){if(u&3){l=x(c[1]);let d;for(d=0;d<l.length;d+=1){const m=Ud(c,l,d);o[d]?(o[d].p(m,u),w(o[d],1)):(o[d]=Nd(m),o[d].c(),w(o[d],1),o[d].m(t,null))}for(q(),d=l.length;d<o.length;d+=1)a(d);Y()}const f={};u&1&&(f.selected=c[0]),u&2&&(f.servers=c[1]),i.$set(f)},i(c){if(!s){for(let u=0;u<l.length;u+=1)w(o[u]);w(i.$$.fragment,c),s=!0}},o(c){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)C(o[u]);C(i.$$.fragment,c),s=!1},d(c){c&&y(e),me(o,c),B(i)}}}function rF(r,e,t){let{selected:n=""}=e,{servers:i=[]}=e;function s(){t(1,i=[]);const o=Zn().sort();for(let a=0;a<o.length;a++){const c=Ei(o[a]);i.push({hostname:o[a],private:!!c,authCode:c})}}ve(s);function l(o){n=o,t(0,n)}return r.$$set=o=>{"selected"in o&&t(0,n=o.selected),"servers"in o&&t(1,i=o.servers)},[n,i,l]}class sF extends j{constructor(e){super(),z(this,e,rF,iF,N,{selected:0,servers:1})}}function lF(r){let e,t,n,i,s,l,o,a;function c(d){r[3](d)}function u(d){r[4](d)}let f={};return r[0]!==void 0&&(f.selected=r[0]),r[1]!==void 0&&(f.servers=r[1]),s=new sF({props:f}),we.push(()=>Ce(s,"selected",c)),we.push(()=>Ce(s,"servers",u)),{c(){e=g("div"),t=g("div"),n=g("div"),n.innerHTML=`<img src="${hs}" alt="" class="logo"/> <h1 class="header">Select Server</h1>`,i=T(),M(s.$$.fragment),h(n,"class","left"),h(t,"class","ss-inner"),h(e,"class","serverselect"),U(e,"show",r[2])},m(d,m){S(d,e,m),p(e,t),p(t,n),p(t,i),D(s,t,null),a=!0},p(d,[m]){const b={};!l&&m&1&&(l=!0,b.selected=d[0],$e(()=>l=!1)),!o&&m&2&&(o=!0,b.servers=d[1],$e(()=>o=!1)),s.$set(b),(!a||m&4)&&U(e,"show",d[2])},i(d){a||(w(s.$$.fragment,d),a=!0)},o(d){C(s.$$.fragment,d),a=!1},d(d){d&&y(e),B(s)}}}function oF(r,e,t){let n="",i=[],s=!1;ve(async()=>{if(!Zn().length){ft("fts");return}t(0,n=$t()),await ct(500),t(2,s=!0)});function l(a){n=a,t(0,n)}function o(a){i=a,t(1,i)}return[n,i,s,l,o]}class aF extends j{constructor(e){super(),z(this,e,oF,lF,N,{})}}const cF=""+new URL("safetoturnoff-1aac1218.png",import.meta.url).href;function uF(r){let e;return{c(){e=g("div"),e.innerHTML=`<img src="${cF}" alt="It&#39;s now safe to turn off your computer." class="svelte-1kzg8gn"/>`,h(e,"class","svelte-1kzg8gn")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}class fF extends j{constructor(e){super(),z(this,e,null,uF,N,{})}}const fl=new Map([["boot",{name:"Booting...",content:LD,attribs:{},key:"boot"}],["serverselect",{name:"Server Select",content:aF,attribs:{},key:"serverselect"}],["login",{name:"Login",content:_r,attribs:{},key:"login"}],["fts",{name:"First Time Setup",content:FM,attribs:{},key:"fts"}],["desktop",{name:"Desktop",content:lM,attribs:{},key:"desktop"}],["logoff",{name:"Logoff",content:_r,attribs:{},onload:()=>{Et("logoff"),Tt.set(null)},key:"logoff"}],["restart",{name:"Restart",content:_r,attribs:{},onload:()=>{Et("restart"),Tt.set(null)},key:"restart"}],["shutdown",{name:"Shutdown",content:_r,attribs:{},onload:()=>{Et("shutdown"),Tt.set(null)},key:"shutdown"}],["arcterm",{name:"ArcTerm",content:CD,attribs:{},key:"arcterm"}],["crash",{name:"Aw, snap!",content:PD,attribs:{},key:"crash"}],["blank",{name:"",content:ED,attribs:{},key:"blank"}],["turnedoff",{name:"Turned off",content:fF,attribs:{},key:"turnedoff",onload(){window.close()}}]]),fn=pe(fl[0]);function ft(r,e=!0){if(fl.has(r)){Z("state/main.ts: applyState",`Applying state ${r}`,se.info);const t=fl.get(r);t.onload&&t.onload(),fn.set(t);const n=`ArcOS | ${t.name}`;document.title=n,r!="desktop"&&e&&Yr();return}Al("ArcOS State Switcher",r)}function dF(){const r=(e,t)=>{e.subscribe(n=>{n&&(xm.set(!1),setTimeout(()=>{Ft.playSound("arcos.system.logoff"),ft(t),e.set(!1)}))})};r(Zm,"shutdown"),r(Xm,"restart")}function pF(){Bl([{key:"q",alt:!0,action(){ti().length?(Ue(G(et)).state.windowState.fll&&xt.set(!1),At(G(et))):Pe("Exit"),Ot.set(!1),Nt.set(!1),Hn.set(null),et.set(null)},global:!0},{key:"s",shift:!0,alt:!0,global:!0,action:()=>{kt.set(!G(kt))}},{key:"n",alt:!0,global:!0,action:()=>{Nt.set(!G(Nt))}},{key:"z",alt:!0,shift:!0,global:!0,action:()=>{Pe("AppMan")}}])}const dl=pe(!1),Ot=pe(!1),Zm=pe(!1),Xm=pe(!1),xm=pe(!1),eh=pe("");function mF(){qh(),dF(),pF()}function Pe(r,e=!1){Z("events.ts: openWindow",`Opening ${r}`);const t=Ue(r);if(t&&t.core)return;if(!ip(r)||jt(r)){const i=Bn(t);if(!i)return;Ke.set(G(Ke)+1),i.style.zIndex=`${G(Ke)}`,bF(t);return}if(t.parentId&&!jt(t.parentId)){if(!e)return Z("events.ts: openWindow",`The parent "${t.parentId}" of child window "${t.id}" must be opened before the child can be opened.`,se.error),!1;Pe(t.parentId)}const n=G(ue);for(let i=0;i<n.length;i++)n[i].id==r&&(n[i].opened=!0);return ue.set(n),setTimeout(()=>{const i=Bn(t);i&&(Ke.set(G(Ke)+1),i.style.zIndex=`${G(Ke)}`,et.set(r))},10),Ot.set(!1),Nt.set(!1),Gt(),et.set(r),t.events&&t.events.open&&t.events.open(t),!0}function hF(r,e){const t=G(ue);for(let n=0;n<t.length;n++)if(t[n].parentId==r.id&&t[n].id==e)return At(e),!0;return!1}function At(r){if(Z("events.ts: closeWindow",`Closing ${r}`),!jt(r))return!1;const e=G(ue),t=Ue(r);if(!(t&&t.core)){for(let n=0;n<e.length;n++)if(e[n]&&e[n].id==r){e[n].opened=!1,e[n].openedFile=null;break}if(t.children){const n=Object.entries(t.children);for(let i=0;i<n.length;i++)hF(t,n[i][0])}if(t.errorOverlays)for(let n=0;n<t.errorOverlays.length;n++)tp(t.errorOverlays[n].id,t.id);if(t.overlays){const n=Object.entries(t.overlays);for(let i=0;i<n.length;i++)Ye(n[i][0],r)}return t.snapped=!1,ue.set(e),t.events&&t.events.close&&t.events.close(t),!0}}function gF(r){Z("events.ts: maximizeWindow",`Switching maximized state of ${r.id}`,se.info),!r.core&&(r.state.windowState.max=!r.state.windowState.max,et.set(r.id),r.events&&r.events.maximize&&r.events.maximize(r),Gt())}function AF(r){if(Z("events.ts: minimizeWindow",`Switching minimized state of ${r.id}`,se.info),!r.core){if(r.state.windowState.min=!r.state.windowState.min,et.set(null),r.state.windowState.min){const e=Bn(r);e.style.zIndex="0"}r.events&&r.events.minimize&&r.events.minimize(r),Gt()}}function bF(r){if(Z("events.ts: unminimizeWindow",`Disabling minimized state of ${r.id}`,se.info),r.core)return;const e=G(ue);for(let t=0;t<e.length;t++)e[t].id==r.id&&(e[t].state.windowState.min=!1);et.set(r.id),ue.set(e)}function th(r){Z("events.ts: fullscreenToggle",`Switching fullscreen state of ${r}`,se.info);const e=G(ue);for(let t=0;t<e.length;t++)e[t].id==r&&(e[t].core||(e[t].state.windowState.fll=!e[t].state.windowState.fll));ue.set(e)}const nh={includeApi:!0,includeUserData:!1,title:"Auto-generated report",body:"No user-input was provided when generating this report."},ih=new Gh("https://pb.arcapi.nl/");async function gs(r=nh){const e=Yl(r),t=(await ih.collection("bugrep").create(e)).id;return e.author&&_F(t),t}function _F(r){const e=Pr("Reporting","reports")||[];e.push({id:r,timestamp:new Date().getTime()}),Ll("Reporting","reports",e);const t=`br$${r}`,n=`Bug Report ${r} sent to ArcOS`;Rl({onOpen(){Pe("BugReports"),Fr(t)},identifier:t,image:Gi,title:n})}function Yl(r=nh){const e=()=>Math.floor(Math.random()*1e6);return{author:G(Fe),title:r.title,body:r.body||"No body",version:ut,log:DD(Ml().join(`
`)),userdata:r.includeUserData?G(ne):null,api:r.includeApi?$t():null,issueid:`${e()}-${e()}-${e()}-${e()}`,resolved:!1,closed:!1,desktop:Ui(),mode_file:Rn,useragent:navigator.userAgent,frontend:Ui()?"<desktop>":location.host,location,metaenv:{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1}}}async function Kr(r){try{return await ih.collection("bugrep").getOne(r,{$autoCancel:!1})}catch{return null}}async function rh(r){return!!await Kr(r)}const St=pe([]);function Z(r,e,t=se.info){const n={source:r,msg:e,level:t};n.timestamp=new Date().getTime();const i=G(St),s=Jd[se[n.level]].capt,l=zt(n.timestamp||0).format("HH:mm:ss.mmm");i.push(n),St.set(i),n.level==se.critical&&gs({includeUserData:!1,includeApi:!0,title:"Critical state",body:`A log item with state CRITICAL was sent:
${r}: ${e}

TS: ${l}`}),console.log(`ArcOS: ${l} [${s}] ${n.source}: ${n.msg}`)}const sh=pe([]),ue=pe([]),xt=pe(!1),Ke=pe(1e9),et=pe(null);function Ue(r){const e=G(ue);for(let t=0;t<e.length;t++)if(e[t]&&e[t].id==r)return e[t];return null}function ti(){const r=G(ue),e=[];for(let t=0;t<r.length;t++)r[t].opened&&e.push(r[t]);return e}function Gt(){Z("store.ts: updateStores","Flushing all stores");const r=G(ue),e=ti();xt.set(!1);for(let t=0;t<e.length;t++){const n=Ue(e[t].id);n&&(e[t]=n),e[t]&&e[t]&&e[t].state.windowState.fll&&!e[t].state.windowState.min&&xt.set(!0)}ue.set(r)}ue.subscribe(()=>{sh.set(ti())});function zd(r){let e,t,n,i,s,l,o,a,c=r[1].icon+"",u,f=r[1].title+"",d,m,b,A=r[1].message+"",_,k,v,$=r[1].button&&jd(r),E=r[1].details&&Hd(r);return{c(){e=g("div"),t=g("div"),n=g("div"),i=g("img"),l=T(),o=g("h3"),a=g("span"),u=F(c),d=F(f),m=T(),b=g("p"),_=T(),$&&$.c(),k=T(),v=g("div"),E&&E.c(),h(i,"class","logo"),de(i.src,s=tn())||h(i,"src",s),h(i,"alt","ArcOS"),h(a,"class","material-icons-round"),h(t,"class","content"),h(v,"class","details"),h(e,"class","bugrep fullscreen"),Se(e,"z-index",r[2]*10),U(e,"show",r[0])},m(I,L){S(I,e,L),p(e,t),p(t,n),p(n,i),p(n,l),p(n,o),p(o,a),p(a,u),p(o,d),p(n,m),p(n,b),b.innerHTML=A,p(e,_),$&&$.m(e,null),p(e,k),p(e,v),E&&E.m(v,null)},p(I,L){L&2&&c!==(c=I[1].icon+"")&&W(u,c),L&2&&f!==(f=I[1].title+"")&&W(d,f),L&2&&A!==(A=I[1].message+"")&&(b.innerHTML=A),I[1].button?$?$.p(I,L):($=jd(I),$.c(),$.m(e,k)):$&&($.d(1),$=null),I[1].details?E?E.p(I,L):(E=Hd(I),E.c(),E.m(v,null)):E&&(E.d(1),E=null),L&4&&Se(e,"z-index",I[2]*10),L&1&&U(e,"show",I[0])},d(I){I&&y(e),$&&$.d(),E&&E.d()}}}function jd(r){let e,t=r[1].button.caption+"",n,i,s;return{c(){e=g("button"),n=F(t)},m(l,o){S(l,e,o),p(e,n),i||(s=P(e,"click",r[3]),i=!0)},p(l,o){o&2&&t!==(t=l[1].button.caption+"")&&W(n,t)},d(l){l&&y(e),i=!1,s()}}}function Hd(r){let e,t,n,i=(r[1].source||"<anonymous>")+"",s,l,o,a,c,u,f=(r[1].details||"<anonymous>")+"",d;return{c(){e=g("p"),t=g("span"),t.textContent="Source :",n=T(),s=F(i),l=T(),o=g("p"),a=g("span"),a.textContent="Details:",c=T(),u=g("code"),d=F(f),h(t,"class","title"),h(a,"class","title")},m(m,b){S(m,e,b),p(e,t),p(e,n),p(e,s),S(m,l,b),S(m,o,b),p(o,a),p(o,c),p(o,u),p(u,d)},p(m,b){b&2&&i!==(i=(m[1].source||"<anonymous>")+"")&&W(s,i),b&2&&f!==(f=(m[1].details||"<anonymous>")+"")&&W(d,f)},d(m){m&&(y(e),y(l),y(o))}}}function wF(r){let e,t=r[0]&&zd(r);return{c(){t&&t.c(),e=ae()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0]?t?t.p(n,i):(t=zd(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function vF(r,e,t){let n;K(r,Ke,o=>t(2,n=o));let i=!1,s;function l(){s.button.action(),hi.set([!1,null])}return hi.subscribe(o=>{o&&(t(0,i=o[0]),t(1,s=o[1]))}),[i,s,n,l]}class kF extends j{constructor(e){super(),z(this,e,vF,wF,N,{})}}const{window:yF}=dh;function Qd(r){let e,t,n,i,s=r[4]&&Wd(r);return n=new kF({}),{c(){e=g("div"),s&&s.c(),t=T(),M(n.$$.fragment),h(e,"class","app fullscreen"),U(e,"cursor-busy",r[2]||r[3])},m(l,o){S(l,e,o),s&&s.m(e,null),p(e,t),D(n,e,null),i=!0},p(l,o){l[4]?s?(s.p(l,o),o&16&&w(s,1)):(s=Wd(l),s.c(),w(s,1),s.m(e,t)):s&&(q(),C(s,1,1,()=>{s=null}),Y()),(!i||o&12)&&U(e,"cursor-busy",l[2]||l[3])},i(l){i||(w(s),w(n.$$.fragment,l),i=!0)},o(l){C(s),C(n.$$.fragment,l),i=!1},d(l){l&&y(e),s&&s.d(),B(n)}}}function Wd(r){let e,t,n;var i=r[4].content;function s(l,o){return{}}return i&&(e=Be(i,s())),{c(){e&&M(e.$$.fragment),t=ae()},m(l,o){e&&D(e,l,o),S(l,t,o),n=!0},p(l,o){if(o&16&&i!==(i=l[4].content)){if(e){q();const a=e;C(a.$$.fragment,1,0,()=>{B(a,1)}),Y()}i?(e=Be(i,s()),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}},i(l){n||(e&&w(e.$$.fragment,l),n=!0)},o(l){e&&C(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&B(e,l)}}}function SF(r){let e,t,n,i,s,l,o=r[0]&&Qd(r);return{c(){e=g("link"),t=T(),o&&o.c(),n=ae(),h(e,"rel","icon"),h(e,"href",r[1])},m(a,c){p(document.head,e),S(a,t,c),o&&o.m(a,c),S(a,n,c),i=!0,s||(l=P(yF,"error",r[5]),s=!0)},p(a,[c]){(!i||c&2)&&h(e,"href",a[1]),a[0]?o?(o.p(a,c),c&1&&w(o,1)):(o=Qd(a),o.c(),w(o,1),o.m(n.parentNode,n)):o&&(q(),C(o,1,1,()=>{o=null}),Y())},i(a){i||(w(o),i=!0)},o(a){C(o),i=!1},d(a){a&&(y(t),y(n)),y(e),o&&o.d(a),s=!1,l()}}}function $F(r,e,t){let n,i,s;K(r,Xr,c=>t(2,n=c)),K(r,Mt,c=>t(3,i=c)),K(r,fn,c=>t(4,s=c));let l=!1,o="";return ve(async()=>{await n1(),await rA(),ft("boot"),window.addEventListener("beforeunload",Yr),t(1,o=tn()),t(0,l=!0),window.onunhandledrejection=c=>{Hf(c)}}),[l,o,n,i,s,c=>Hf(c)]}class CF extends j{constructor(e){super(),z(this,e,$F,SF,N,{})}}const TF=new MutationObserver(IF);function EF(){const r=document.querySelectorAll("a");for(let e=0;e<r.length;e++)r[e].addEventListener("click",t=>t.preventDefault())}function IF(r){for(let e=0;e<r.length;e++)r[e].type==="childList"&&EF()}function OF(){TF.observe(document.body,{childList:!0,subtree:!0})}Kh();OF();document.addEventListener("contextmenu",r=>r.preventDefault());console.warn=(r,...e)=>!r.includes("unknown prop")&&Z("Console",r+e.join(" "),se.warn);console.error=(r,...e)=>Z("Console",r+e.join(" "),se.error);new CF({target:document.getElementById("app")});
