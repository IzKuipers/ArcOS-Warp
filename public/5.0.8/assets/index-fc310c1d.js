var kh=Object.defineProperty;var yh=(r,e,t)=>e in r?kh(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ge=(r,e,t)=>(yh(r,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function O(){}function Dt(r,e){for(const t in e)r[t]=e[t];return r}function rp(r){return r()}function wo(){return Object.create(null)}function ke(r){r.forEach(rp)}function ct(r){return typeof r=="function"}function P(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let hr;function de(r,e){return r===e?!0:(hr||(hr=document.createElement("a")),hr.href=e,r===hr.href)}function Sh(r){return Object.keys(r).length===0}function qt(r,...e){if(r==null){for(const n of e)n(void 0);return O}const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function K(r){let e;return qt(r,t=>e=t)(),e}function G(r,e,t){r.$$.on_destroy.push(qt(e,t))}function je(r,e,t,n){if(r){const i=sp(r,e,t,n);return r[0](i)}}function sp(r,e,t,n){return r[1]&&n?Dt(t.ctx.slice(),r[1](n(e))):t.ctx}function He(r,e,t,n){if(r[2]&&n){const i=r[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],l=Math.max(e.dirty.length,i.length);for(let o=0;o<l;o+=1)s[o]=e.dirty[o]|i[o];return s}return e.dirty|i}return e.dirty}function Qe(r,e,t,n,i,s){if(i){const l=sp(e,t,n,s);r.p(l,i)}}function We(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function $h(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function vo(r,e){const t={};e=new Set(e);for(const n in r)!e.has(n)&&n[0]!=="$"&&(t[n]=r[n]);return t}function Ee(r,e,t){return r.set(t),e}const Ch=typeof window<"u";let Th=Ch?r=>requestAnimationFrame(r):O;const Eh=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function p(r,e){r.appendChild(e)}function S(r,e,t){r.insertBefore(e,t||null)}function y(r){r.parentNode&&r.parentNode.removeChild(r)}function me(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function g(r){return document.createElement(r)}function Ih(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function F(r){return document.createTextNode(r)}function T(){return F(" ")}function le(){return F("")}function N(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function h(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Oh(r){return Array.from(r.childNodes)}function W(r,e){e=""+e,r.data!==e&&(r.data=e)}function he(r,e){r.value=e??""}function Se(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function En(r,e,t){for(let n=0;n<r.options.length;n+=1){const i=r.options[n];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function Zr(r){const e=r.querySelector(":checked");return e&&e.__value}function j(r,e,t){r.classList.toggle(e,!!t)}function Rh(r,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:n})}class lp{constructor(e=!1){ge(this,"is_svg",!1);ge(this,"e");ge(this,"n");ge(this,"t");ge(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=Ih(t.nodeName):this.e=g(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)S(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(y)}}function De(r,e){return new r(e)}let Pi;function Mi(r){Pi=r}function Xr(){if(!Pi)throw new Error("Function called outside component initialization");return Pi}function ve(r){Xr().$$.on_mount.push(r)}function Lh(){const r=Xr();return(e,t,{cancelable:n=!1}={})=>{const i=r.$$.callbacks[e];if(i){const s=Rh(e,t,{cancelable:n});return i.slice().forEach(l=>{l.call(r,s)}),!s.defaultPrevented}return!0}}function Dh(r,e){return Xr().$$.context.set(r,e),e}function Bh(r){return Xr().$$.context.get(r)}const pi=[],we=[];let hi=[];const Us=[],Mh=Promise.resolve();let Ns=!1;function Fh(){Ns||(Ns=!0,Mh.then(op))}function In(r){hi.push(r)}function $e(r){Us.push(r)}const Os=new Set;let fi=0;function op(){if(fi!==0)return;const r=Pi;do{try{for(;fi<pi.length;){const e=pi[fi];fi++,Mi(e),Ph(e.$$)}}catch(e){throw pi.length=0,fi=0,e}for(Mi(null),pi.length=0,fi=0;we.length;)we.pop()();for(let e=0;e<hi.length;e+=1){const t=hi[e];Os.has(t)||(Os.add(t),t())}hi.length=0}while(pi.length);for(;Us.length;)Us.pop()();Ns=!1,Os.clear(),Mi(r)}function Ph(r){if(r.fragment!==null){r.update(),ke(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(In)}}function zh(r){const e=[],t=[];hi.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),hi=e}const yr=new Set;let Pn;function V(){Pn={r:0,c:[],p:Pn}}function q(){Pn.r||ke(Pn.c),Pn=Pn.p}function w(r,e){r&&r.i&&(yr.delete(r),r.i(e))}function C(r,e,t,n){if(r&&r.o){if(yr.has(r))return;yr.add(r),Pn.c.push(()=>{yr.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function X(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Zt(r,e){const t={},n={},i={$$scope:1};let s=r.length;for(;s--;){const l=r[s],o=e[s];if(o){for(const a in l)a in o||(n[a]=1);for(const a in o)i[a]||(t[a]=o[a],i[a]=1);r[s]=o}else for(const a in l)i[a]=1}for(const l in n)l in t||(t[l]=void 0);return t}function Xt(r){return typeof r=="object"&&r!==null?r:{}}function Ce(r,e,t){const n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function M(r){r&&r.c()}function D(r,e,t){const{fragment:n,after_update:i}=r.$$;n&&n.m(e,t),In(()=>{const s=r.$$.on_mount.map(rp).filter(ct);r.$$.on_destroy?r.$$.on_destroy.push(...s):ke(s),r.$$.on_mount=[]}),i.forEach(In)}function B(r,e){const t=r.$$;t.fragment!==null&&(zh(t.after_update),ke(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Uh(r,e){r.$$.dirty[0]===-1&&(pi.push(r),Fh(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function z(r,e,t,n,i,s,l=null,o=[-1]){const a=Pi;Mi(r);const c=r.$$={fragment:null,ctx:[],props:s,update:O,not_equal:i,bound:wo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:wo(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};l&&l(c.root);let u=!1;if(c.ctx=t?t(r,e.props||{},(f,d,...m)=>{const b=m.length?m[0]:d;return c.ctx&&i(c.ctx[f],c.ctx[f]=b)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](b),u&&Uh(r,f)),d}):[],c.update(),u=!0,ke(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const f=Oh(e.target);c.fragment&&c.fragment.l(f),f.forEach(y)}else c.fragment&&c.fragment.c();e.intro&&w(r.$$.fragment),D(r,e.target,e.anchor),op()}Mi(a)}class U{constructor(){ge(this,"$$");ge(this,"$$set")}$destroy(){B(this,1),this.$destroy=O}$on(e,t){if(!ct(t))return O;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Sh(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Nh="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Nh);const di=[];function pe(r,e=O){let t;const n=new Set;function i(o){if(P(r,o)&&(r=o,t)){const a=!di.length;for(const c of n)c[1](),di.push(c,r);if(a){for(let c=0;c<di.length;c+=2)di[c][0](di[c+1]);di.length=0}}}function s(o){i(o(r))}function l(o,a=O){const c=[o,a];return n.add(c),n.size===1&&(t=e(i,s)||O),o(r),()=>{n.delete(c),n.size===0&&t&&(t(),t=null)}}return{set:i,update:s,subscribe:l}}var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ap={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(jh,function(){var t=1e3,n=6e4,i=36e5,s="millisecond",l="second",o="minute",a="hour",c="day",u="week",f="month",d="quarter",m="year",b="date",A="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(se){var ne=["th","st","nd","rd"],Z=se%100;return"["+se+(ne[(Z-20)%10]||ne[Z]||ne[0])+"]"}},$=function(se,ne,Z){var re=String(se);return!re||re.length>=ne?se:""+Array(ne+1-re.length).join(Z)+se},E={s:$,z:function(se){var ne=-se.utcOffset(),Z=Math.abs(ne),re=Math.floor(Z/60),Y=Z%60;return(ne<=0?"+":"-")+$(re,2,"0")+":"+$(Y,2,"0")},m:function se(ne,Z){if(ne.date()<Z.date())return-se(Z,ne);var re=12*(Z.year()-ne.year())+(Z.month()-ne.month()),Y=ne.clone().add(re,f),ae=Z-Y<0,fe=ne.clone().add(re+(ae?-1:1),f);return+(-(re+(Z-Y)/(ae?Y-fe:fe-Y))||0)},a:function(se){return se<0?Math.ceil(se)||0:Math.floor(se)},p:function(se){return{M:f,y:m,w:u,d:c,D:b,h:a,m:o,s:l,ms:s,Q:d}[se]||String(se||"").toLowerCase().replace(/s$/,"")},u:function(se){return se===void 0}},I="en",R={};R[I]=k;var L="$isDayjsObject",H=function(se){return se instanceof Ae||!(!se||!se[L])},Q=function se(ne,Z,re){var Y;if(!ne)return I;if(typeof ne=="string"){var ae=ne.toLowerCase();R[ae]&&(Y=ae),Z&&(R[ae]=Z,Y=ae);var fe=ne.split("-");if(!Y&&fe.length>1)return se(fe[0])}else{var ye=ne.name;R[ye]=ne,Y=ye}return!re&&Y&&(I=Y),Y||!re&&I},x=function(se,ne){if(H(se))return se.clone();var Z=typeof ne=="object"?ne:{};return Z.date=se,Z.args=arguments,new Ae(Z)},J=E;J.l=Q,J.i=H,J.w=function(se,ne){return x(se,{locale:ne.$L,utc:ne.$u,x:ne.$x,$offset:ne.$offset})};var Ae=function(){function se(Z){this.$L=Q(Z.locale,null,!0),this.parse(Z),this.$x=this.$x||Z.x||{},this[L]=!0}var ne=se.prototype;return ne.parse=function(Z){this.$d=function(re){var Y=re.date,ae=re.utc;if(Y===null)return new Date(NaN);if(J.u(Y))return new Date;if(Y instanceof Date)return new Date(Y);if(typeof Y=="string"&&!/Z$/i.test(Y)){var fe=Y.match(_);if(fe){var ye=fe[2]-1||0,_e=(fe[7]||"0").substring(0,3);return ae?new Date(Date.UTC(fe[1],ye,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,_e)):new Date(fe[1],ye,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,_e)}}return new Date(Y)}(Z),this.init()},ne.init=function(){var Z=this.$d;this.$y=Z.getFullYear(),this.$M=Z.getMonth(),this.$D=Z.getDate(),this.$W=Z.getDay(),this.$H=Z.getHours(),this.$m=Z.getMinutes(),this.$s=Z.getSeconds(),this.$ms=Z.getMilliseconds()},ne.$utils=function(){return J},ne.isValid=function(){return this.$d.toString()!==A},ne.isSame=function(Z,re){var Y=x(Z);return this.startOf(re)<=Y&&Y<=this.endOf(re)},ne.isAfter=function(Z,re){return x(Z)<this.startOf(re)},ne.isBefore=function(Z,re){return this.endOf(re)<x(Z)},ne.$g=function(Z,re,Y){return J.u(Z)?this[re]:this.set(Y,Z)},ne.unix=function(){return Math.floor(this.valueOf()/1e3)},ne.valueOf=function(){return this.$d.getTime()},ne.startOf=function(Z,re){var Y=this,ae=!!J.u(re)||re,fe=J.p(Z),ye=function(Et,at){var zt=J.w(Y.$u?Date.UTC(Y.$y,at,Et):new Date(Y.$y,at,Et),Y);return ae?zt:zt.endOf(c)},_e=function(Et,at){return J.w(Y.toDate()[Et].apply(Y.toDate("s"),(ae?[0,0,0,0]:[23,59,59,999]).slice(at)),Y)},Ie=this.$W,Be=this.$M,Fe=this.$D,Ke="set"+(this.$u?"UTC":"");switch(fe){case m:return ae?ye(1,0):ye(31,11);case f:return ae?ye(1,Be):ye(0,Be+1);case u:var it=this.$locale().weekStart||0,kn=(Ie<it?Ie+7:Ie)-it;return ye(ae?Fe-kn:Fe+(6-kn),Be);case c:case b:return _e(Ke+"Hours",0);case a:return _e(Ke+"Minutes",1);case o:return _e(Ke+"Seconds",2);case l:return _e(Ke+"Milliseconds",3);default:return this.clone()}},ne.endOf=function(Z){return this.startOf(Z,!1)},ne.$set=function(Z,re){var Y,ae=J.p(Z),fe="set"+(this.$u?"UTC":""),ye=(Y={},Y[c]=fe+"Date",Y[b]=fe+"Date",Y[f]=fe+"Month",Y[m]=fe+"FullYear",Y[a]=fe+"Hours",Y[o]=fe+"Minutes",Y[l]=fe+"Seconds",Y[s]=fe+"Milliseconds",Y)[ae],_e=ae===c?this.$D+(re-this.$W):re;if(ae===f||ae===m){var Ie=this.clone().set(b,1);Ie.$d[ye](_e),Ie.init(),this.$d=Ie.set(b,Math.min(this.$D,Ie.daysInMonth())).$d}else ye&&this.$d[ye](_e);return this.init(),this},ne.set=function(Z,re){return this.clone().$set(Z,re)},ne.get=function(Z){return this[J.p(Z)]()},ne.add=function(Z,re){var Y,ae=this;Z=Number(Z);var fe=J.p(re),ye=function(Be){var Fe=x(ae);return J.w(Fe.date(Fe.date()+Math.round(Be*Z)),ae)};if(fe===f)return this.set(f,this.$M+Z);if(fe===m)return this.set(m,this.$y+Z);if(fe===c)return ye(1);if(fe===u)return ye(7);var _e=(Y={},Y[o]=n,Y[a]=i,Y[l]=t,Y)[fe]||1,Ie=this.$d.getTime()+Z*_e;return J.w(Ie,this)},ne.subtract=function(Z,re){return this.add(-1*Z,re)},ne.format=function(Z){var re=this,Y=this.$locale();if(!this.isValid())return Y.invalidDate||A;var ae=Z||"YYYY-MM-DDTHH:mm:ssZ",fe=J.z(this),ye=this.$H,_e=this.$m,Ie=this.$M,Be=Y.weekdays,Fe=Y.months,Ke=Y.meridiem,it=function(at,zt,yn,pn){return at&&(at[zt]||at(re,ae))||yn[zt].slice(0,pn)},kn=function(at){return J.s(ye%12||12,at,"0")},Et=Ke||function(at,zt,yn){var pn=at<12?"AM":"PM";return yn?pn.toLowerCase():pn};return ae.replace(v,function(at,zt){return zt||function(yn){switch(yn){case"YY":return String(re.$y).slice(-2);case"YYYY":return J.s(re.$y,4,"0");case"M":return Ie+1;case"MM":return J.s(Ie+1,2,"0");case"MMM":return it(Y.monthsShort,Ie,Fe,3);case"MMMM":return it(Fe,Ie);case"D":return re.$D;case"DD":return J.s(re.$D,2,"0");case"d":return String(re.$W);case"dd":return it(Y.weekdaysMin,re.$W,Be,2);case"ddd":return it(Y.weekdaysShort,re.$W,Be,3);case"dddd":return Be[re.$W];case"H":return String(ye);case"HH":return J.s(ye,2,"0");case"h":return kn(1);case"hh":return kn(2);case"a":return Et(ye,_e,!0);case"A":return Et(ye,_e,!1);case"m":return String(_e);case"mm":return J.s(_e,2,"0");case"s":return String(re.$s);case"ss":return J.s(re.$s,2,"0");case"SSS":return J.s(re.$ms,3,"0");case"Z":return fe}return null}(at)||fe.replace(":","")})},ne.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ne.diff=function(Z,re,Y){var ae,fe=this,ye=J.p(re),_e=x(Z),Ie=(_e.utcOffset()-this.utcOffset())*n,Be=this-_e,Fe=function(){return J.m(fe,_e)};switch(ye){case m:ae=Fe()/12;break;case f:ae=Fe();break;case d:ae=Fe()/3;break;case u:ae=(Be-Ie)/6048e5;break;case c:ae=(Be-Ie)/864e5;break;case a:ae=Be/i;break;case o:ae=Be/n;break;case l:ae=Be/t;break;default:ae=Be}return Y?ae:J.a(ae)},ne.daysInMonth=function(){return this.endOf(f).$D},ne.$locale=function(){return R[this.$L]},ne.locale=function(Z,re){if(!Z)return this.$L;var Y=this.clone(),ae=Q(Z,re,!0);return ae&&(Y.$L=ae),Y},ne.clone=function(){return J.w(this.$d,this)},ne.toDate=function(){return new Date(this.valueOf())},ne.toJSON=function(){return this.isValid()?this.toISOString():null},ne.toISOString=function(){return this.$d.toISOString()},ne.toString=function(){return this.$d.toUTCString()},se}(),ce=Ae.prototype;return x.prototype=ce,[["$ms",s],["$s",l],["$m",o],["$H",a],["$W",c],["$M",f],["$y",m],["$D",b]].forEach(function(se){ce[se[1]]=function(ne){return this.$g(ne,se[0],se[1])}}),x.extend=function(se,ne){return se.$i||(se(ne,Ae,x),se.$i=!0),x},x.locale=Q,x.isDayjs=H,x.unix=function(se){return x(1e3*se)},x.en=R[I],x.Ls=R,x.p={},x})})(ap);var Qh=ap.exports;const jt=Hh(Qh);var oe=(r=>(r[r.info=0]="info",r[r.warn=1]="warn",r[r.error=2]="error",r[r.critical=3]="critical",r))(oe||{});const cp={info:{capt:"INFO"},warn:{capt:"WARN"},error:{capt:"ERRR"},critical:{capt:"CRIT"}};var js=function(r,e){return js=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},js(r,e)};function ht(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}js(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Hs=function(){return Hs=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Hs.apply(this,arguments)};function dt(r,e,t,n){return new(t||(t=Promise))(function(i,s){function l(c){try{a(n.next(c))}catch(u){s(u)}}function o(c){try{a(n.throw(c))}catch(u){s(u)}}function a(c){c.done?i(c.value):function(f){return f instanceof t?f:new t(function(d){d(f)})}(c.value).then(l,o)}a((n=n.apply(r,e||[])).next())})}function pt(r,e){var t,n,i,s,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(a){return function(c){return function(f){if(t)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(l=0)),l;)try{if(t=1,n&&(i=2&f[0]?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,i&&(f=[2&f[0],i.value]),f[0]){case 0:case 1:i=f;break;case 4:return l.label++,{value:f[1],done:!1};case 5:l.label++,n=f[1],f=[0];continue;case 7:f=l.ops.pop(),l.trys.pop();continue;default:if(i=l.trys,!((i=i.length>0&&i[i.length-1])||f[0]!==6&&f[0]!==2)){l=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){l.label=f[1];break}if(f[0]===6&&l.label<i[1]){l.label=i[1],i=f;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(f);break}i[2]&&l.ops.pop(),l.trys.pop();continue}f=e.call(r,l)}catch(d){f=[6,d],n=0}finally{t=i=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([a,c])}}}var up,$n=function(r){function e(t){var n,i,s,l,o=this;return(o=r.call(this,"ClientResponseError")||this).url="",o.status=0,o.response={},o.isAbort=!1,o.originalError=null,Object.setPrototypeOf(o,e.prototype),t!==null&&typeof t=="object"&&(o.url=typeof t.url=="string"?t.url:"",o.status=typeof t.status=="number"?t.status:0,o.isAbort=!!t.isAbort,o.originalError=t.originalError,t.response!==null&&typeof t.response=="object"?o.response=t.response:t.data!==null&&typeof t.data=="object"?o.response=t.data:o.response={}),o.originalError||t instanceof e||(o.originalError=t),typeof DOMException<"u"&&t instanceof DOMException&&(o.isAbort=!0),o.name="ClientResponseError "+o.status,o.message=(n=o.response)===null||n===void 0?void 0:n.message,o.message||(o.isAbort?o.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((l=(s=(i=o.originalError)===null||i===void 0?void 0:i.cause)===null||s===void 0?void 0:s.message)===null||l===void 0)&&l.includes("ECONNREFUSED ::1")?o.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":o.message="Something went wrong while processing your request."),o}return ht(e,r),Object.defineProperty(e.prototype,"data",{get:function(){return this.response},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return Hs({},this)},e}(Error),gr=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function ko(r,e,t){var n=Object.assign({},t||{}),i=n.encode||Kh;if(!gr.test(r))throw new TypeError("argument name is invalid");var s=i(e);if(s&&!gr.test(s))throw new TypeError("argument val is invalid");var l=r+"="+s;if(n.maxAge!=null){var o=n.maxAge-0;if(isNaN(o)||!isFinite(o))throw new TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(o)}if(n.domain){if(!gr.test(n.domain))throw new TypeError("option domain is invalid");l+="; Domain="+n.domain}if(n.path){if(!gr.test(n.path))throw new TypeError("option path is invalid");l+="; Path="+n.path}if(n.expires){if(!function(c){return Object.prototype.toString.call(c)==="[object Date]"||c instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");l+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(l+="; HttpOnly"),n.secure&&(l+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":l+="; Priority=Low";break;case"medium":l+="; Priority=Medium";break;case"high":l+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l}function Wh(r){return r.indexOf("%")!==-1?decodeURIComponent(r):r}function Kh(r){return encodeURIComponent(r)}function fp(r){if(r)try{var e=decodeURIComponent(up(r.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}function Gh(r,e){e===void 0&&(e=0);var t=fp(r);return!(Object.keys(t).length>0&&(!t.exp||t.exp-e>Date.now()/1e3))}up=typeof atob=="function"?atob:function(r){var e=String(r).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,n,i=0,s=0,l="";n=e.charAt(s++);~n&&(t=i%4?64*t+n:n,i++%4)?l+=String.fromCharCode(255&t>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return l};var Ki=function(){function r(e){e===void 0&&(e={}),this.$load(e||{})}return r.prototype.load=function(e){return this.$load(e)},r.prototype.$load=function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var i=n[t],s=i[0],l=i[1];this[s]=l}this.id=e.id!==void 0?e.id:"",this.created=e.created!==void 0?e.created:"",this.updated=e.updated!==void 0?e.updated:""},Object.defineProperty(r.prototype,"$isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),r.prototype.clone=function(){return this.$clone()},r.prototype.$clone=function(){var e=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(e)},r.prototype.export=function(){return this.$export()},r.prototype.$export=function(){return typeof structuredClone=="function"?structuredClone(this):Object.assign({},this)},r}(),Lr=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.$load=function(t){r.prototype.$load.call(this,t),this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.collectionName=typeof t.collectionName=="string"?t.collectionName:"",this._loadExpand(t.expand)},e.prototype._loadExpand=function(t){for(var n in t=t||{},this.expand={},t)Array.isArray(t[n])?this.expand[n]=t[n].map(function(i){return new e(i||{})}):this.expand[n]=new e(t[n]||{})},e}(Ki),Al=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.$load=function(t){r.prototype.$load.call(this,t),this.avatar=typeof t.avatar=="number"?t.avatar:0,this.email=typeof t.email=="string"?t.email:""},e}(Ki),yo="pb_auth",Vh=function(){function r(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(r.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isValid",{get:function(){return!Gh(this.token)},enumerable:!1,configurable:!0}),r.prototype.save=function(e,t){this.baseToken=e||"",this.baseModel=t!==null&&typeof t=="object"?t.collectionId!==void 0?new Lr(t):new Al(t):null,this.triggerChange()},r.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},r.prototype.loadFromCookie=function(e,t){t===void 0&&(t=yo);var n=function(l,o){var a={};if(typeof l!="string")return a;for(var c=Object.assign({},o||{}).decode||Wh,u=0;u<l.length;){var f=l.indexOf("=",u);if(f===-1)break;var d=l.indexOf(";",u);if(d===-1)d=l.length;else if(d<f){u=l.lastIndexOf(";",f-1)+1;continue}var m=l.slice(u,f).trim();if(a[m]===void 0){var b=l.slice(f+1,d).trim();b.charCodeAt(0)===34&&(b=b.slice(1,-1));try{a[m]=c(b)}catch{a[m]=b}}u=d+1}return a}(e||"")[t]||"",i={};try{(typeof(i=JSON.parse(n))===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.model||null)},r.prototype.exportToCookie=function(e,t){var n,i,s;t===void 0&&(t=yo);var l={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},o=fp(this.token);o!=null&&o.exp?l.expires=new Date(1e3*o.exp):l.expires=new Date("1970-01-01"),e=Object.assign({},l,e);var a={token:this.token,model:((n=this.model)===null||n===void 0?void 0:n.export())||null},c=ko(t,JSON.stringify(a),e),u=typeof Blob<"u"?new Blob([c]).size:c.length;return a.model&&u>4096&&(a.model={id:(i=a==null?void 0:a.model)===null||i===void 0?void 0:i.id,email:(s=a==null?void 0:a.model)===null||s===void 0?void 0:s.email},this.model instanceof Lr&&(a.model.username=this.model.username,a.model.verified=this.model.verified,a.model.collectionId=this.model.collectionId),c=ko(t,JSON.stringify(a),e)),c},r.prototype.onChange=function(e,t){var n=this;return t===void 0&&(t=!1),this._onChangeCallbacks.push(e),t&&e(this.token,this.model),function(){for(var i=n._onChangeCallbacks.length-1;i>=0;i--)if(n._onChangeCallbacks[i]==e)return delete n._onChangeCallbacks[i],void n._onChangeCallbacks.splice(i,1)}},r.prototype.triggerChange=function(){for(var e=0,t=this._onChangeCallbacks;e<t.length;e++){var n=t[e];n&&n(this.token,this.model)}},r}(),qh=function(r){function e(t){t===void 0&&(t="pocketbase_auth");var n=r.call(this)||this;return n.storageFallback={},n.storageKey=t,n}return ht(e,r),Object.defineProperty(e.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){var t,n=this._storageGet(this.storageKey)||{};return n===null||typeof n!="object"||n.model===null||typeof n.model!="object"?null:((t=n.model)===null||t===void 0?void 0:t.collectionId)===void 0?new Al(n.model):new Lr(n.model)},enumerable:!1,configurable:!0}),e.prototype.save=function(t,n){this._storageSet(this.storageKey,{token:t,model:n}),r.prototype.save.call(this,t,n)},e.prototype.clear=function(){this._storageRemove(this.storageKey),r.prototype.clear.call(this)},e.prototype._storageGet=function(t){if(typeof window<"u"&&(window!=null&&window.localStorage)){var n=window.localStorage.getItem(t)||"";try{return JSON.parse(n)}catch{return n}}return this.storageFallback[t]},e.prototype._storageSet=function(t,n){if(typeof window<"u"&&(window!=null&&window.localStorage)){var i=n;typeof n!="string"&&(i=JSON.stringify(n)),window.localStorage.setItem(t,i)}else this.storageFallback[t]=n},e.prototype._storageRemove=function(t){var n;typeof window<"u"&&(window!=null&&window.localStorage)&&((n=window.localStorage)===null||n===void 0||n.removeItem(t)),delete this.storageFallback[t]},e}(Vh),Zn=function(e){this.client=e},Yh=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.getAll=function(t){return t===void 0&&(t={}),this.client.send("/api/settings",{method:"GET",params:t}).then(function(n){return n||{}})},e.prototype.update=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),this.client.send("/api/settings",{method:"PATCH",params:n,body:t}).then(function(i){return i||{}})},e.prototype.testS3=function(t,n){t===void 0&&(t="storage"),n===void 0&&(n={});var i={filesystem:t};return this.client.send("/api/settings/test/s3",{method:"POST",params:n,body:i}).then(function(){return!0})},e.prototype.testEmail=function(t,n,i){i===void 0&&(i={});var s={email:t,template:n};return this.client.send("/api/settings/test/email",{method:"POST",params:i,body:s}).then(function(){return!0})},e.prototype.generateAppleClientSecret=function(t,n,i,s,l,o,a){return o===void 0&&(o={}),a===void 0&&(a={}),o=Object.assign({clientId:t,teamId:n,keyId:i,privateKey:s,duration:l},o),this.client.send("/api/settings/apple/generate-client-secret",{method:"POST",params:a,body:o})},e}(Zn),dp=function(e,t,n,i,s){this.page=e>0?e:1,this.perPage=t>=0?t:0,this.totalItems=n>=0?n:0,this.totalPages=i>=0?i:0,this.items=s||[]},bl=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.getFullList=function(t,n){if(typeof t=="number")return this._getFullList(this.baseCrudPath,t,n);var i=Object.assign({},t,n);return this._getFullList(this.baseCrudPath,i.batch||200,i)},e.prototype.getList=function(t,n,i){return t===void 0&&(t=1),n===void 0&&(n=30),i===void 0&&(i={}),this._getList(this.baseCrudPath,t,n,i)},e.prototype.getFirstListItem=function(t,n){return n===void 0&&(n={}),this._getFirstListItem(this.baseCrudPath,t,n)},e.prototype.getOne=function(t,n){return n===void 0&&(n={}),this._getOne(this.baseCrudPath,t,n)},e.prototype.create=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),this._create(this.baseCrudPath,t,n)},e.prototype.update=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),this._update(this.baseCrudPath,t,n,i)},e.prototype.delete=function(t,n){return n===void 0&&(n={}),this._delete(this.baseCrudPath,t,n)},e}(function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype._getFullList=function(t,n,i){var s=this;n===void 0&&(n=200),i===void 0&&(i={});var l=[],o=function(a){return dt(s,void 0,void 0,function(){return pt(this,function(c){return[2,this._getList(t,a,n||200,i).then(function(u){var f=u,d=f.items,m=f.totalItems;return l=l.concat(d),d.length&&m>l.length?o(a+1):l})]})})};return o(1)},e.prototype._getList=function(t,n,i,s){var l=this;return n===void 0&&(n=1),i===void 0&&(i=30),s===void 0&&(s={}),s=Object.assign({page:n,perPage:i},s),this.client.send(t,{method:"GET",params:s}).then(function(o){var a=[];if(o!=null&&o.items){o.items=o.items||[];for(var c=0,u=o.items;c<u.length;c++){var f=u[c];a.push(l.decode(f))}}return new dp((o==null?void 0:o.page)||1,(o==null?void 0:o.perPage)||0,(o==null?void 0:o.totalItems)||0,(o==null?void 0:o.totalPages)||0,a)})},e.prototype._getOne=function(t,n,i){var s=this;return i===void 0&&(i={}),this.client.send(t+"/"+encodeURIComponent(n),{method:"GET",params:i}).then(function(l){return s.decode(l)})},e.prototype._getFirstListItem=function(t,n,i){return i===void 0&&(i={}),i=Object.assign({filter:n,$cancelKey:"one_by_filter_"+t+"_"+n},i),this._getList(t,1,1,i).then(function(s){var l;if(!(!((l=s==null?void 0:s.items)===null||l===void 0)&&l.length))throw new $n({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return s.items[0]})},e.prototype._create=function(t,n,i){var s=this;return n===void 0&&(n={}),i===void 0&&(i={}),this.client.send(t,{method:"POST",params:i,body:n}).then(function(l){return s.decode(l)})},e.prototype._update=function(t,n,i,s){var l=this;return i===void 0&&(i={}),s===void 0&&(s={}),this.client.send(t+"/"+encodeURIComponent(n),{method:"PATCH",params:s,body:i}).then(function(o){return l.decode(o)})},e.prototype._delete=function(t,n,i){return i===void 0&&(i={}),this.client.send(t+"/"+encodeURIComponent(n),{method:"DELETE",params:i}).then(function(){return!0})},e}(Zn)),Jh=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.decode=function(t){return new Al(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),e.prototype.update=function(t,n,i){var s=this;return n===void 0&&(n={}),i===void 0&&(i={}),r.prototype.update.call(this,t,n,i).then(function(l){var o,a;return s.client.authStore.model&&((o=s.client.authStore.model)===null||o===void 0?void 0:o.collectionId)===void 0&&((a=s.client.authStore.model)===null||a===void 0?void 0:a.id)===(l==null?void 0:l.id)&&s.client.authStore.save(s.client.authStore.token,l),l})},e.prototype.delete=function(t,n){var i=this;return n===void 0&&(n={}),r.prototype.delete.call(this,t,n).then(function(s){var l,o;return s&&i.client.authStore.model&&((l=i.client.authStore.model)===null||l===void 0?void 0:l.collectionId)===void 0&&((o=i.client.authStore.model)===null||o===void 0?void 0:o.id)===t&&i.client.authStore.clear(),s})},e.prototype.authResponse=function(t){var n=this.decode((t==null?void 0:t.admin)||{});return t!=null&&t.token&&(t!=null&&t.admin)&&this.client.authStore.save(t.token,n),Object.assign({},t,{token:(t==null?void 0:t.token)||"",admin:n})},e.prototype.authWithPassword=function(t,n,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({identity:t,password:n},i),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:s,body:i}).then(this.authResponse.bind(this))},e.prototype.authRefresh=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:n,body:t}).then(this.authResponse.bind(this))},e.prototype.requestPasswordReset=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({email:t},n),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmPasswordReset=function(t,n,i,s,l){return s===void 0&&(s={}),l===void 0&&(l={}),s=Object.assign({token:t,password:n,passwordConfirm:i},s),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:l,body:s}).then(function(){return!0})},e}(bl),Zh=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.$load=function(t){r.prototype.$load.call(this,t),this.recordId=typeof t.recordId=="string"?t.recordId:"",this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.provider=typeof t.provider=="string"?t.provider:"",this.providerId=typeof t.providerId=="string"?t.providerId:""},e}(Ki),Xh=function(r){function e(t,n){var i=r.call(this,t)||this;return i.collectionIdOrName=n,i}return ht(e,r),e.prototype.decode=function(t){return new Lr(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),e.prototype.subscribeOne=function(t,n){return dt(this,void 0,void 0,function(){return pt(this,function(i){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,n)]})})},e.prototype.subscribe=function(t,n){return dt(this,void 0,void 0,function(){var i;return pt(this,function(s){if(typeof t=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,t)];if(!n)throw new Error("Missing subscription callback.");if(t==="")throw new Error("Missing topic.");return i=this.collectionIdOrName,t!=="*"&&(i+="/"+t),[2,this.client.realtime.subscribe(i,n)]})})},e.prototype.unsubscribe=function(t){return dt(this,void 0,void 0,function(){return pt(this,function(n){return t==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:t?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},e.prototype.getFullList=function(t,n){if(typeof t=="number")return r.prototype.getFullList.call(this,t,n);var i=Object.assign({},t,n);return r.prototype.getFullList.call(this,i)},e.prototype.getList=function(t,n,i){return t===void 0&&(t=1),n===void 0&&(n=30),i===void 0&&(i={}),r.prototype.getList.call(this,t,n,i)},e.prototype.getFirstListItem=function(t,n){return n===void 0&&(n={}),r.prototype.getFirstListItem.call(this,t,n)},e.prototype.getOne=function(t,n){return n===void 0&&(n={}),r.prototype.getOne.call(this,t,n)},e.prototype.create=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),r.prototype.create.call(this,t,n)},e.prototype.update=function(t,n,i){var s=this;return n===void 0&&(n={}),i===void 0&&(i={}),r.prototype.update.call(this,t,n,i).then(function(l){var o,a,c;return((o=s.client.authStore.model)===null||o===void 0?void 0:o.id)!==(l==null?void 0:l.id)||((a=s.client.authStore.model)===null||a===void 0?void 0:a.collectionId)!==s.collectionIdOrName&&((c=s.client.authStore.model)===null||c===void 0?void 0:c.collectionName)!==s.collectionIdOrName||s.client.authStore.save(s.client.authStore.token,l),l})},e.prototype.delete=function(t,n){var i=this;return n===void 0&&(n={}),r.prototype.delete.call(this,t,n).then(function(s){var l,o,a;return!s||((l=i.client.authStore.model)===null||l===void 0?void 0:l.id)!==t||((o=i.client.authStore.model)===null||o===void 0?void 0:o.collectionId)!==i.collectionIdOrName&&((a=i.client.authStore.model)===null||a===void 0?void 0:a.collectionName)!==i.collectionIdOrName||i.client.authStore.clear(),s})},e.prototype.authResponse=function(t){var n=this.decode((t==null?void 0:t.record)||{});return this.client.authStore.save(t==null?void 0:t.token,n),Object.assign({},t,{token:(t==null?void 0:t.token)||"",record:n})},e.prototype.listAuthMethods=function(t){return t===void 0&&(t={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:t}).then(function(n){return Object.assign({},n,{usernamePassword:!!(n!=null&&n.usernamePassword),emailPassword:!!(n!=null&&n.emailPassword),authProviders:Array.isArray(n==null?void 0:n.authProviders)?n==null?void 0:n.authProviders:[]})})},e.prototype.authWithPassword=function(t,n,i,s){var l=this;return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({identity:t,password:n},i),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:s,body:i}).then(function(o){return l.authResponse(o)})},e.prototype.authWithOAuth2Code=function(t,n,i,s,l,o,a){var c=this;return l===void 0&&(l={}),o===void 0&&(o={}),a===void 0&&(a={}),o=Object.assign({provider:t,code:n,codeVerifier:i,redirectUrl:s,createData:l},o),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:a,body:o}).then(function(u){return c.authResponse(u)})},e.prototype.authWithOAuth2=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return dt(this,void 0,void 0,function(){var i,s,l,o,a=this;return pt(this,function(c){switch(c.label){case 0:return t.length>1||typeof(t==null?void 0:t[0])=="string"?(console.warn("PocketBase: This form of authWithOAuth2() is deprecated and may get removed in the future. Please replace with authWithOAuth2Code() OR use the authWithOAuth2() realtime form as shown in https://pocketbase.io/docs/authentication/#oauth2-integration."),[2,this.authWithOAuth2Code((t==null?void 0:t[0])||"",(t==null?void 0:t[1])||"",(t==null?void 0:t[2])||"",(t==null?void 0:t[3])||"",(t==null?void 0:t[4])||{},(t==null?void 0:t[5])||{},(t==null?void 0:t[6])||{})]):(i=(t==null?void 0:t[0])||{},[4,this.listAuthMethods()]);case 1:if(s=c.sent(),!(l=s.authProviders.find(function(u){return u.name===i.provider})))throw new $n(new Error('Missing or invalid provider "'.concat(i.provider,'".')));return o=this.client.buildUrl("/api/oauth2-redirect"),[2,new Promise(function(u,f){return dt(a,void 0,void 0,function(){var d,m,b,A,_,v=this;return pt(this,function(k){switch(k.label){case 0:return k.trys.push([0,3,,4]),[4,this.client.realtime.subscribe("@oauth2",function($){return dt(v,void 0,void 0,function(){var E,I,R;return pt(this,function(L){switch(L.label){case 0:E=this.client.realtime.clientId,L.label=1;case 1:if(L.trys.push([1,3,,4]),d(),!$.state||E!==$.state)throw new Error("State parameters don't match.");return[4,this.authWithOAuth2Code(l.name,$.code,l.codeVerifier,o,i.createData,i.body,i.query)];case 2:return I=L.sent(),u(I),[3,4];case 3:return R=L.sent(),f(new $n(R)),[3,4];case 4:return[2]}})})})];case 1:return d=k.sent(),m={state:this.client.realtime.clientId},!((_=i.scopes)===null||_===void 0)&&_.length&&(m.scope=i.scopes.join(" ")),b=this._replaceQueryParams(l.authUrl+o,m),[4,i.urlCallback?i.urlCallback(b):this._defaultUrlCallback(b)];case 2:return k.sent(),[3,4];case 3:return A=k.sent(),f(new $n(A)),[3,4];case 4:return[2]}})})})]}})})},e.prototype.authRefresh=function(t,n){var i=this;return t===void 0&&(t={}),n===void 0&&(n={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:n,body:t}).then(function(s){return i.authResponse(s)})},e.prototype.requestPasswordReset=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({email:t},n),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmPasswordReset=function(t,n,i,s,l){return s===void 0&&(s={}),l===void 0&&(l={}),s=Object.assign({token:t,password:n,passwordConfirm:i},s),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:l,body:s}).then(function(){return!0})},e.prototype.requestVerification=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({email:t},n),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmVerification=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({token:t},n),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.requestEmailChange=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({newEmail:t},n),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmEmailChange=function(t,n,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({token:t,password:n},i),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:s,body:i}).then(function(){return!0})},e.prototype.listExternalAuths=function(t,n){return n===void 0&&(n={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",{method:"GET",params:n}).then(function(i){var s=[];if(Array.isArray(i))for(var l=0,o=i;l<o.length;l++){var a=o[l];s.push(new Zh(a))}return s})},e.prototype.unlinkExternalAuth=function(t,n,i){return i===void 0&&(i={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(n),{method:"DELETE",params:i}).then(function(){return!0})},e.prototype._replaceQueryParams=function(t,n){n===void 0&&(n={});var i=t,s="";t.indexOf("?")>=0&&(i=t.substring(0,t.indexOf("?")),s=t.substring(t.indexOf("?")+1));for(var l={},o=0,a=s.split("&");o<a.length;o++){var c=a[o];if(c!=""){var u=c.split("=");l[decodeURIComponent(u[0].replace(/\+/g," "))]=decodeURIComponent((u[1]||"").replace(/\+/g," "))}}for(var f in n)n.hasOwnProperty(f)&&(n[f]==null?delete l[f]:l[f]=n[f]);for(var f in s="",l)l.hasOwnProperty(f)&&(s!=""&&(s+="&"),s+=encodeURIComponent(f.replace(/%20/g,"+"))+"="+encodeURIComponent(l[f].replace(/%20/g,"+")));return s!=""?i+"?"+s:i},e.prototype._defaultUrlCallback=function(t){if(typeof window>"u"||!(window!=null&&window.open))throw new $n(new Error("Not in a browser context - please pass a custom urlCallback function."));var n=1024,i=768,s=window.innerWidth,l=window.innerHeight,o=s/2-(n=n>s?s:n)/2,a=l/2-(i=i>l?l:i)/2;window.open(t,"oauth2-popup","width="+n+",height="+i+",top="+a+",left="+o+",resizable,menubar=no")},e}(bl),xh=function(e){e===void 0&&(e={}),this.id=e.id!==void 0?e.id:"",this.name=e.name!==void 0?e.name:"",this.type=e.type!==void 0?e.type:"text",this.system=!!e.system,this.required=!!e.required,this.options=typeof e.options=="object"&&e.options!==null?e.options:{}},eg=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.$load=function(t){r.prototype.$load.call(this,t),this.system=!!t.system,this.name=typeof t.name=="string"?t.name:"",this.type=typeof t.type=="string"?t.type:"base",this.options=t.options!==void 0&&t.options!==null?t.options:{},this.indexes=Array.isArray(t.indexes)?t.indexes:[],this.listRule=typeof t.listRule=="string"?t.listRule:null,this.viewRule=typeof t.viewRule=="string"?t.viewRule:null,this.createRule=typeof t.createRule=="string"?t.createRule:null,this.updateRule=typeof t.updateRule=="string"?t.updateRule:null,this.deleteRule=typeof t.deleteRule=="string"?t.deleteRule:null,t.schema=Array.isArray(t.schema)?t.schema:[],this.schema=[];for(var n=0,i=t.schema;n<i.length;n++){var s=i[n];this.schema.push(new xh(s))}},Object.defineProperty(e.prototype,"isBase",{get:function(){return this.$isBase},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAuth",{get:function(){return this.$isAuth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isView",{get:function(){return this.$isView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$isView",{get:function(){return this.type==="view"},enumerable:!1,configurable:!0}),e}(Ki),tg=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.decode=function(t){return new eg(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),e.prototype.import=function(t,n,i){return n===void 0&&(n=!1),i===void 0&&(i={}),dt(this,void 0,void 0,function(){return pt(this,function(s){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:i,body:{collections:t,deleteMissing:n}}).then(function(){return!0})]})})},e}(bl),So=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.$load=function(t){r.prototype.$load.call(this,t),t.remoteIp=t.remoteIp||t.ip,this.url=typeof t.url=="string"?t.url:"",this.method=typeof t.method=="string"?t.method:"GET",this.status=typeof t.status=="number"?t.status:200,this.auth=typeof t.auth=="string"?t.auth:"guest",this.remoteIp=typeof t.remoteIp=="string"?t.remoteIp:"",this.userIp=typeof t.userIp=="string"?t.userIp:"",this.referer=typeof t.referer=="string"?t.referer:"",this.userAgent=typeof t.userAgent=="string"?t.userAgent:"",this.meta=typeof t.meta=="object"&&t.meta!==null?t.meta:{}},e}(Ki),ng=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.getRequestsList=function(t,n,i){return t===void 0&&(t=1),n===void 0&&(n=30),i===void 0&&(i={}),i=Object.assign({page:t,perPage:n},i),this.client.send("/api/logs/requests",{method:"GET",params:i}).then(function(s){var l=[];if(s!=null&&s.items){s.items=(s==null?void 0:s.items)||[];for(var o=0,a=s.items;o<a.length;o++){var c=a[o];l.push(new So(c))}}return new dp((s==null?void 0:s.page)||1,(s==null?void 0:s.perPage)||0,(s==null?void 0:s.totalItems)||0,(s==null?void 0:s.totalPages)||0,l)})},e.prototype.getRequest=function(t,n){return n===void 0&&(n={}),this.client.send("/api/logs/requests/"+encodeURIComponent(t),{method:"GET",params:n}).then(function(i){return new So(i)})},e.prototype.getRequestsStats=function(t){return t===void 0&&(t={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:t}).then(function(n){return n})},e}(Zn),ig=function(r){function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.clientId="",t.eventSource=null,t.subscriptions={},t.lastSentTopics=[],t.maxConnectTimeout=15e3,t.reconnectAttempts=0,t.maxReconnectAttempts=1/0,t.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],t.pendingConnects=[],t}return ht(e,r),Object.defineProperty(e.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(t,n){var i;return dt(this,void 0,void 0,function(){var s,l=this;return pt(this,function(o){switch(o.label){case 0:if(!t)throw new Error("topic must be set.");return s=function(a){var c,u=a;try{c=JSON.parse(u==null?void 0:u.data)}catch{}n(c||{})},this.subscriptions[t]||(this.subscriptions[t]=[]),this.subscriptions[t].push(s),this.isConnected?[3,2]:[4,this.connect()];case 1:return o.sent(),[3,5];case 2:return this.subscriptions[t].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return o.sent(),[3,5];case 4:(i=this.eventSource)===null||i===void 0||i.addEventListener(t,s),o.label=5;case 5:return[2,function(){return dt(l,void 0,void 0,function(){return pt(this,function(a){return[2,this.unsubscribeByTopicAndListener(t,s)]})})}]}})})},e.prototype.unsubscribe=function(t){var n;return dt(this,void 0,void 0,function(){var i,s,l;return pt(this,function(o){switch(o.label){case 0:if(!this.hasSubscriptionListeners(t))return[2];if(t){for(i=0,s=this.subscriptions[t];i<s.length;i++)l=s[i],(n=this.eventSource)===null||n===void 0||n.removeEventListener(t,l);delete this.subscriptions[t]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:o.sent(),o.label=3;case 3:return[2]}})})},e.prototype.unsubscribeByPrefix=function(t){var n;return dt(this,void 0,void 0,function(){var i,s,l,o,a;return pt(this,function(c){switch(c.label){case 0:for(s in i=!1,this.subscriptions)if(s.startsWith(t)){for(i=!0,l=0,o=this.subscriptions[s];l<o.length;l++)a=o[l],(n=this.eventSource)===null||n===void 0||n.removeEventListener(s,a);delete this.subscriptions[s]}return i?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return c.sent(),[3,3];case 2:this.disconnect(),c.label=3;case 3:return[2]}})})},e.prototype.unsubscribeByTopicAndListener=function(t,n){var i;return dt(this,void 0,void 0,function(){var s,l;return pt(this,function(o){switch(o.label){case 0:if(!Array.isArray(this.subscriptions[t])||!this.subscriptions[t].length)return[2];for(s=!1,l=this.subscriptions[t].length-1;l>=0;l--)this.subscriptions[t][l]===n&&(s=!0,delete this.subscriptions[t][l],this.subscriptions[t].splice(l,1),(i=this.eventSource)===null||i===void 0||i.removeEventListener(t,n));return s?(this.subscriptions[t].length||delete this.subscriptions[t],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:o.sent(),o.label=3;case 3:return[2]}})})},e.prototype.hasSubscriptionListeners=function(t){var n,i;if(this.subscriptions=this.subscriptions||{},t)return!!(!((n=this.subscriptions[t])===null||n===void 0)&&n.length);for(var s in this.subscriptions)if(!((i=this.subscriptions[s])===null||i===void 0)&&i.length)return!0;return!1},e.prototype.submitSubscriptions=function(){return dt(this,void 0,void 0,function(){return pt(this,function(t){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:this.getSubscriptionsCancelKey()}}).catch(function(n){if(!(n!=null&&n.isAbort))throw n})]):[2]})})},e.prototype.getSubscriptionsCancelKey=function(){return"realtime_"+this.clientId},e.prototype.getNonEmptySubscriptionTopics=function(){var t=[];for(var n in this.subscriptions)this.subscriptions[n].length&&t.push(n);return t},e.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.removeAllSubscriptionListeners(),this.subscriptions)for(var n=0,i=this.subscriptions[t];n<i.length;n++){var s=i[n];this.eventSource.addEventListener(t,s)}},e.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.subscriptions)for(var n=0,i=this.subscriptions[t];n<i.length;n++){var s=i[n];this.eventSource.removeEventListener(t,s)}},e.prototype.connect=function(){return dt(this,void 0,void 0,function(){var t=this;return pt(this,function(n){return this.reconnectAttempts>0?[2]:[2,new Promise(function(i,s){t.pendingConnects.push({resolve:i,reject:s}),t.pendingConnects.length>1||t.initConnect()})]})})},e.prototype.initConnect=function(){var t=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){t.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(n){t.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(n){var i=n;t.clientId=i==null?void 0:i.lastEventId,t.submitSubscriptions().then(function(){return dt(t,void 0,void 0,function(){var s;return pt(this,function(l){switch(l.label){case 0:s=3,l.label=1;case 1:return this.hasUnsentSubscriptions()&&s>0?(s--,[4,this.submitSubscriptions()]):[3,3];case 2:return l.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var s=0,l=t.pendingConnects;s<l.length;s++)l[s].resolve();t.pendingConnects=[],t.reconnectAttempts=0,clearTimeout(t.reconnectTimeoutId),clearTimeout(t.connectTimeoutId)}).catch(function(s){t.clientId="",t.connectErrorHandler(s)})})},e.prototype.hasUnsentSubscriptions=function(){var t=this.getNonEmptySubscriptionTopics();if(t.length!=this.lastSentTopics.length)return!0;for(var n=0,i=t;n<i.length;n++){var s=i[n];if(!this.lastSentTopics.includes(s))return!0}return!1},e.prototype.connectErrorHandler=function(t){var n=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var i=0,s=this.pendingConnects;i<s.length;i++)s[i].reject(new $n(t));return this.pendingConnects=[],void this.disconnect()}this.disconnect(!0);var l=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){n.initConnect()},l)},e.prototype.disconnect=function(t){var n;if(t===void 0&&(t=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),this.client.cancelRequest(this.getSubscriptionsCancelKey()),(n=this.eventSource)===null||n===void 0||n.close(),this.eventSource=null,this.clientId="",!t){this.reconnectAttempts=0;for(var i=0,s=this.pendingConnects;i<s.length;i++)s[i].resolve();this.pendingConnects=[]}},e}(Zn),rg=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.check=function(t){return t===void 0&&(t={}),this.client.send("/api/health",{method:"GET",params:t})},e}(Zn),sg=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.getUrl=function(t,n,i){i===void 0&&(i={});var s=[];s.push("api"),s.push("files"),s.push(encodeURIComponent(t.collectionId||t.collectionName)),s.push(encodeURIComponent(t.id)),s.push(encodeURIComponent(n));var l=this.client.buildUrl(s.join("/"));if(Object.keys(i).length){var o=new URLSearchParams(i);l+=(l.includes("?")?"&":"?")+o}return l},e.prototype.getToken=function(t){return t===void 0&&(t={}),this.client.send("/api/files/token",{method:"POST",params:t}).then(function(n){return(n==null?void 0:n.token)||""})},e}(Zn),lg=function(r){function e(){return r!==null&&r.apply(this,arguments)||this}return ht(e,r),e.prototype.getFullList=function(t){return t===void 0&&(t={}),this.client.send("/api/backups",{method:"GET",params:t})},e.prototype.create=function(t,n){n===void 0&&(n={});var i={name:t};return this.client.send("/api/backups",{method:"POST",params:n,body:i}).then(function(){return!0})},e.prototype.delete=function(t,n){return n===void 0&&(n={}),this.client.send("/api/backups/".concat(encodeURIComponent(t)),{method:"DELETE",params:n}).then(function(){return!0})},e.prototype.restore=function(t,n){return n===void 0&&(n={}),this.client.send("/api/backups/".concat(encodeURIComponent(t),"/restore"),{method:"POST",params:n}).then(function(){return!0})},e.prototype.getDownloadUrl=function(t,n){return this.client.buildUrl("/api/backups/".concat(encodeURIComponent(n),"?token=").concat(encodeURIComponent(t)))},e}(Zn),og=function(){function r(e,t,n){e===void 0&&(e="/"),n===void 0&&(n="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=n,this.authStore=t||new qh,this.admins=new Jh(this),this.collections=new tg(this),this.files=new sg(this),this.logs=new ng(this),this.settings=new Yh(this),this.realtime=new ig(this),this.health=new rg(this),this.backups=new lg(this)}return r.prototype.collection=function(e){return this.recordServices[e]||(this.recordServices[e]=new Xh(this,e)),this.recordServices[e]},r.prototype.autoCancellation=function(e){return this.enableAutoCancellation=!!e,this},r.prototype.cancelRequest=function(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this},r.prototype.cancelAllRequests=function(){for(var e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this},r.prototype.send=function(e,t){var n,i,s,l,o,a,c,u;return dt(this,void 0,void 0,function(){var f,d,m,b,A,_,v,k,$,E=this;return pt(this,function(I){switch(I.label){case 0:return f=Object.assign({method:"GET"},t),this.isFormData(f.body)||(f.body&&typeof f.body!="string"&&(f.body=JSON.stringify(f.body)),((n=f==null?void 0:f.headers)===null||n===void 0?void 0:n["Content-Type"])===void 0&&(f.headers=Object.assign({},f.headers,{"Content-Type":"application/json"}))),((i=f==null?void 0:f.headers)===null||i===void 0?void 0:i["Accept-Language"])===void 0&&(f.headers=Object.assign({},f.headers,{"Accept-Language":this.lang})),!((s=this.authStore)===null||s===void 0)&&s.token&&((l=f==null?void 0:f.headers)===null||l===void 0?void 0:l.Authorization)===void 0&&(f.headers=Object.assign({},f.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((o=f.params)===null||o===void 0?void 0:o.$autoCancel)!==!1&&(d=((a=f.params)===null||a===void 0?void 0:a.$cancelKey)||(f.method||"GET")+e,this.cancelRequest(d),m=new AbortController,this.cancelControllers[d]=m,f.signal=m.signal),(c=f.params)===null||c===void 0||delete c.$autoCancel,(u=f.params)===null||u===void 0||delete u.$cancelKey,b=this.buildUrl(e),f.params!==void 0&&((A=this.serializeQueryParams(f.params))&&(b+=(b.includes("?")?"&":"?")+A),delete f.params),this.beforeSend?(k=(v=Object).assign,$=[{}],[4,this.beforeSend(b,f)]):[3,2];case 1:(_=k.apply(v,$.concat([I.sent()]))).url!==void 0||_.options!==void 0?(b=_.url||b,f=_.options||f):Object.keys(_).length&&(f=_,console!=null&&console.warn&&console.warn("Deprecated format of beforeSend return: please use `return { url, options }`, instead of `return options`.")),I.label=2;case 2:return[2,fetch(b,f).then(function(R){return dt(E,void 0,void 0,function(){var L;return pt(this,function(H){switch(H.label){case 0:L={},H.label=1;case 1:return H.trys.push([1,3,,4]),[4,R.json()];case 2:return L=H.sent(),[3,4];case 3:return H.sent(),[3,4];case 4:return this.afterSend?[4,this.afterSend(R,L)]:[3,6];case 5:L=H.sent(),H.label=6;case 6:if(R.status>=400)throw new $n({url:R.url,status:R.status,data:L});return[2,L]}})})}).catch(function(R){throw new $n(R)})]}})})},r.prototype.getFileUrl=function(e,t,n){return n===void 0&&(n={}),this.files.getUrl(e,t,n)},r.prototype.buildUrl=function(e){var t,n=this.baseUrl;return typeof window>"u"||!window.location||n.startsWith("https://")||n.startsWith("http://")||(n=!((t=window.location.origin)===null||t===void 0)&&t.endsWith("/")?window.location.origin.substring(0,window.location.origin.length-1):window.location.origin||"",this.baseUrl.startsWith("/")||(n+=window.location.pathname||"/",n+=n.endsWith("/")?"":"/"),n+=this.baseUrl),e&&(n+=n.endsWith("/")?"":"/",n+=e.startsWith("/")?e.substring(1):e),n},r.prototype.isFormData=function(e){return e&&(e.constructor.name==="FormData"||typeof FormData<"u"&&e instanceof FormData)},r.prototype.serializeQueryParams=function(e){var t=[];for(var n in e)if(e[n]!==null){var i=e[n],s=encodeURIComponent(n);if(Array.isArray(i))for(var l=0,o=i;l<o.length;l++){var a=o[l];t.push(s+"="+encodeURIComponent(a))}else i instanceof Date?t.push(s+"="+encodeURIComponent(i.toISOString())):typeof i!==null&&typeof i=="object"?t.push(s+"="+encodeURIComponent(JSON.stringify(i))):t.push(s+"="+encodeURIComponent(i))}return t.join("&")},r}();const Gi=""+new URL("bugreports-744772f4.svg",import.meta.url).href;function Tt(){if(ie("api/server.ts: getServer","Getting current server (arcos-current-server)",oe.info),!localStorage.getItem("arcos-current-server")){ie("api/server.ts: getServer","arcos-current-server does not exist, falling back to remembered servers",oe.warn);const e=Vi();return e.length?(localStorage.setItem("arcos-current-server",e[e.length-1]),e[e.length-1]):(ie("api/server.ts: getServer","Fallback failed: no servers to select from",oe.error),null)}return localStorage.getItem("arcos-current-server")}function Vi(){return ie("api/server.ts: getAllServers","Retrieving all servers from arcos-servers",oe.info),localStorage.getItem("arcos-servers")?JSON.parse(localStorage.getItem("arcos-servers")):[]}function _l(r,e=!0){ie("api/server.ts: addServer",`Adding server ${r} to arcos-servers`,oe.info);const t=Vi();t.includes(r)||t.push(r),localStorage.setItem("arcos-servers",JSON.stringify(t)),e&&localStorage.setItem("arcos-current-server",r)}function ag(){ie("api/server.ts: migrateToMulti","Migrating single-API localStorage state to multi-API",oe.info);const r=localStorage.getItem("arcos-server");r&&(_l(r),localStorage.removeItem("arcos-server"))}const Nt=pe(!1);function cg(){const r=!K(Nt);Nt.set(r)}const te=pe(),Pe=pe(),st=pe();function ug(){te.subscribe(r=>{if(r){const e=r;let t="";e.sh.taskbar.docked&&(t+="tbdocked "),e.sh.anim||(t+="noani "),e.sh.noGlass&&(t+="noglass "),e.sh.window.bigtb&&(t+="bigtitlebars "),e.sh.desktop.sharp&&(t+="sharp "),e.sh.taskbar.isLauncher&&(t+="is-launcher "),e.sh.taskbar.docked&&(t+="tb-docked "),gh.set(t)}})}function wl(r){let e="?";const t=Object.entries(r);for(let n=0;n<t.length;n++)e+=`${t[n][0]}=${t[n][1]}&`;return e}const Ge=pe(null),pp=pe(null);async function et(r,e,t,n,i,s,l){const o=qi(i),a={headers:{Authorization:n?`Bearer ${n}`:`Basic ${o}`},body:s,method:s?"post":"get"},c=!i&&!n,u=wl({...t,ac:K(pp)});let f;try{f=await fetch(`${r}/${e}${u}`,c?{body:s}:a)}catch{return{}}const d=f.status,m=await f.text();if(!f.ok&&n&&!"200|304".includes(`${f.status}`)&&K(dn).name=="Desktop")return{statusCode:d};if(!l)try{return{...JSON.parse(m),statusCode:d}}catch{return{statusCode:d}}return{statusCode:d}}function qi(r){return r?btoa(`${r.username}:${r.password}`):""}async function fg(r,e,t,n){if(ie("ts/api/cred.ts: changePassword",`Attempting to change password for user ${r}`,oe.info),t!=n)return!1;const s=(await et(K(Ge),"user/changepswd",{new:btoa(t)},null,{username:r,password:e})).statusCode==200,l=localStorage.getItem("arcos-remembered-token");return!l||!s?(ie("ts/api/cred.ts: changePassword","Password change failed: not valid or no remembered token",oe.error),s):atob(l).split(":")[0]!=r?(ie("ts/api/cred.ts: changePassword","Password change failed: the username does not match the current user",oe.error),s):(localStorage.setItem("arcos-remembered-token",btoa(`${r}:${t}`)),s)}async function dg(r,e){if(ie("ts/api/cred.ts: changeUsername",`Attempting to change the username for user ${r}`,oe.info),K(Pe)!=r)return ie("ts/api/cred.ts: changeUsername","Username change failed: the old username does not match the current user",oe.error),!1;const n=(await et(K(Ge),"user/rename",{newname:btoa(e)},K(st))).statusCode==200;if(Pe.set(e),!n)return ie("ts/api/cred.ts: changeUsername","Username change failed: the API did not permit the username change",oe.error),!1;const i=localStorage.getItem("arcos-remembered-token");return i?atob(i).split(":")[0]!=r?(ie("ts/api/cred.ts: changeUsername","Could not update remembered token: the token's ",oe.warn),!1):(localStorage.setItem("arcos-remembered-token",btoa(`${e}:${atob(i).split(":")[1]}`)),n):(ie("ts/api/cred.ts: changeUsername","Could not update remembered token: it doesn't exist",oe.warn),!1)}async function xr(){ie("ts/api/cred.ts: logoffToken","Discontinuing token if present",oe.info);const r=K(st),e=K(Ge);if(!(!r||!e))return await et(e,"logoff",{},r)}const gi=pe();function vl(r,e){ie("ts/bugrep.ts: InvalidStateBugrep",`${r}: ${e}`,oe.info),gi.set([!0,{icon:"broken_image",title:"Broken page",message:"ArcOS tried to open a page or location that doesn't exist.<br>This session can't continue. You can choose to restart.",button:{action:()=>gt("boot"),caption:"Restart"},source:r,details:`applyState for ${r}: Can't apply a non-existent state '${e}'.`}])}const jn={files:[],directories:[],name:"",scopedPath:""},vn=""+new URL("error-3c4c2c86.svg",import.meta.url).href;async function Gt(r="./"){ie("fs/directory.ts: getDirectory",`Requesting directory contents of "${r}" from ArcAPI`,oe.info);const e=K(Ge);if(!e)return!1;const t=await et(e,"fs/dir/get",{path:r?btoa(r):null},K(st));return!t||!t.valid?!1:t.data}async function Yi(r){ie("fs/directory.ts: createDirectory",`Creating ${r}`);const e=K(Ge);return e?(await et(e,"fs/dir/create",{path:btoa(r)},K(st))).valid:!1}const pg=""+new URL("Error-35b4aff9.wav",import.meta.url).href,mg=""+new URL("Warning-ab00a839.wav",import.meta.url).href,hg=""+new URL("Info-ccd624fe.wav",import.meta.url).href,gg=""+new URL("Notification-2d6e0e95.wav",import.meta.url).href,Ag=""+new URL("logon-aa2b9d46.wav",import.meta.url).href,bg=""+new URL("logoff-62e8a4e4.wav",import.meta.url).href,_g=""+new URL("click-loud-74bfb009.wav",import.meta.url).href,wg=""+new URL("mwomp-71d2eb2a.mp3",import.meta.url).href,vg={"arcos.dialog.error":pg,"arcos.dialog.warning":mg,"arcos.dialog.info":hg,"arcos.notification":gg,"arcos.system.logon":Ag,"arcos.system.logoff":bg,"arcos.click":_g,"arcos.mwomp":wg};class kg{constructor(e){ge(this,"store",{});ge(this,"_bus",{});if(!e){ie("SoundBus","Can't create SoundBus without valid store.",oe.error);return}this.store=e}playSound(e){if(!this.store[e])return!1;ie("SoundBus.playSound",`Playing sound ${e} from store`);const t=document.createElement("audio");t.muted=!0,t.src=this.store[e],t.volume=1;try{t.play(),setTimeout(()=>{t.muted=!1},10)}catch{return ie("SoundBus.playSound",`Can't play ${e}: User didn't interact with the page first`,oe.error),!1}return this._bus[e]||(this._bus[e]=[]),this._bus[e].push(t),t.onended=()=>delete this._bus[e],!0}stopSound(e){if(ie("SoundBus.stopSound",`Stopping ${e}`),!this._bus[e])return!1;const t=this._bus[e];for(let n=0;n<t.length;n++)t[n].src=null,t[n].currentTime=-1,t[n].pause();return!0}getStore(){return Object.entries(this.store)}loadExternal(e,t=!1){const n=`${Math.floor(Math.random()*1e9)}`;this.store[n]=e,t&&this.playSound(n)}}const Pt=new kg(vg);function Ze(r,e){ie("errorlogic/overlay.ts",`Creating error "${r.title}" for parent ${e}`,oe.info);const t=K(ue);for(let n=0;n<t.length;n++){const i=t[n];if(i.id==e)return i.errorOverlays||(i.errorOverlays=[]),i.errorOverlays.push({...r,id:`${Math.floor(Math.random()*1e9)}`}),ue.set(t),Pt.playSound("arcos.dialog.info"),!0}return!1}function mp(r,e){const t=K(ue);for(let n=0;n<t.length;n++){const i=t[n];if(i.id!=e||!i.errorOverlays)continue;const s=i.errorOverlays;for(let l=0;l<s.length;l++)if(s[l].id==r)return s.splice(l,1),ue.set(t),!0}return!1}function Xe(r,e){const t=K(ue);for(let n=0;n<t.length;n++)if(t[n].id==e){if(!t[n].overlays||!t[n].overlays[r])return!1;t[n].overlays[r].show=!0}ue.set(t)}function Je(r,e){const t=K(ue);for(let n=0;n<t.length;n++)if(t[n].id==e){if(!t[n].overlays||!t[n].overlays[r])return!1;t[n].overlays[r].show=!1}ue.set(t)}const Si=""+new URL("clear-675017c3.svg",import.meta.url).href;async function kl(r){ie("fs/file.ts: deleteItem",`Deleting item "${r}" from ArcFS`,oe.info);const e=K(Ge);return e?(await et(e,"fs/rm",{path:btoa(r)},K(st),null,null,!0)).valid!=!1:!1}let kt=pe("./"),Bt=pe(jn),qe=pe(null),mn=pe(null),es=pe(null),yl=pe(null),Qs=pe(!1),Dr=pe(!1),hp=pe(0),On=pe(null),Br=pe(null);Qs.subscribe(r=>{r&&(Ze({title:"Open cancelled",message:"The opening procedure was cancelled by the user.",buttons:[{caption:"OK",action(){}}],image:vn},"FileManager"),Qs.set(!1))});class yg{async refresh(e=!0){ie("FileBrowser: refresh","Refreshing current directory contents",oe.info),Dr.set(!0),e&&(Bt.set(jn),qe.set(null));const t=K(kt),n=await Gt(t);Bt.set(n||{...jn,scopedPath:t}),Dr.set(!1)}async goToDirectory(e){ie("FileBrowser: goToDirectory",`Navigating to "${e}"`),qe.set(null),kt.set(e),Pt.playSound("arcos.click"),await this.refresh()}async deleteItem(e,t){es.set(e),Xe("deletingItem","FileManager"),await kl(t)||Ze({title:"Unable to delete item",message:"ArcAPI was not able to delete the item from the file system. A permission error may have occured. Please try again later.",buttons:[{caption:"OK",action(){}}],image:Si},"FileManager"),qe.set(null),nt.refresh(),setTimeout(()=>{Je("deletingItem","FileManager")},100)}}const nt=new yg,Ai=pe([]),Yt=pe([]),hn=pe(null),bi=pe(null),zi=pe(null),Rn=pe(!1);async function Sl(){const r=K(Ge);if(!r)return[];const e=await et(r,"messages/list",{},K(st));return e.valid?e.data:[]}async function $l(r){const e=K(Ge);if(!e)return!1;const t=await et(e,"messages/get",{id:btoa(r)},K(st));return t.valid?t.data:!1}function gp(r){return!!K(ue).filter(t=>t&&t.id==r).length}function on(r){const e=Ue(r);return e?e.opened:!1}function Ap(r){return!!K(ue).filter(t=>t&&t.id==r&&t.state.windowState.min).length}function _i(r){return!!K(ue).filter(t=>t&&t.id==r&&t.disabled).length}function Ht(r){return K(te).sh.showHiddenApps&&!r.disabled&&!r.core?!0:!r.disabled&&!r.info.hidden&&!r.info.custom}const Sg=""+new URL("bugreports-744772f4.svg",import.meta.url).href,ut=r=>new Promise(e=>setTimeout(e,r)),ft="5.0.8",bp=1,St=pe(!1);St.subscribe(async r=>{r&&(await ut(1e4),St.set(!1))});function Ji(r,e,t,n,...i){ie("errorlogic/main.ts: errorMessage",`Generating "${r}"`,oe.info);const s={title:r,message:e,opened:!1,buttons:i,id:Math.floor(Math.random()*1e10),image:t,parentId:n},l=K(Ai);l.push(s),Ai.set(l),Cg(s)}function _p(r){ie("errorlogic/main.ts: closeError",`Closing error ${r}`);const e=K(Yt);for(let t=0;t<e.length;t++)e[t].id==`error_${r}`&&(e[t].opened=!1,setTimeout(()=>{e.splice(t,1),Yt.set(e)},500));Yt.set(e)}function $g(r){ie("errorlogic/main.ts: openError",`Opening error ${r}`);const e=K(Yt);for(let t=0;t<e.length;t++)e[t].id==`error_${r}`&&(e[t].opened=!0);Yt.set(e)}function Cg(r){ie("errorlogic/main.ts: createErrorAppData",`Generating error appData for ${r.title}`,oe.info);const e={info:{name:r.title,description:"ArcOS.Desktop.ErrorLogicwindow",builtin:!0,version:ft,author:"Generated by ArcOS",icon:r.image||Sg},size:{w:NaN,h:NaN},pos:{x:60,y:60},minSize:{w:200,h:NaN},maxSize:{w:600,h:NaN},controls:{min:!1,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:null,glass:!1,id:`error_${r.id}`,opened:!1,parentId:r.parentId},t=K(Yt);t.push(e),Yt.set(t),setTimeout(()=>{$g(r.id);const n=document.querySelector(`window#${e.id}`);if(!n)return ie("ErrorLogic: createErrorAppData",`Can't bring window ${e.id} to front, no associated element could be found.`,oe.error);Ve.set(K(Ve)+1),n.style.zIndex=`${K(Ve)}`},5)}const Hn=pe(null),an=pe({});let $o;function $i(r){if(_i("ArcShell")){Ji(r.title,r.message,r.image,null,{caption:"OK",action(){}},...r.buttons);return}clearTimeout($o);const e=`${Math.floor(Math.random()*1e9)}`,t=K(an);return t[e]=r,an.set(t),setTimeout(()=>{Hn.set(e)},100),r.timeout&&($o=setTimeout(()=>{Hn.set(null)},r.timeout)),e}function wp(){Hn.set(null)}function Cl(r){const e=K(an);delete e[r],an.set(e)}async function vp(){ie("applogic/close.ts: closeAllProgressively","Closing entire WindowStore");const r=K(ue);for(let e=0;e<r.length;e++)bt(r[e].id),await ut(50)}function ts(){vp(),xr(),ph.set(!0)}function Qn(r=!1){vp(),r&&(localStorage.removeItem("arcos-remembered-token"),xr()),mh.set(!0)}const Co="UserLogic: UserData watch";let kp;function Tg(r){if(r){if(clearTimeout(kp),ns.set(!0),K(Pe)){const e=Og(r);To(),e||(ie(Co,"Commit failed, setter returned false",oe.error),K(gi)||Eg());return}To(),ie(Co,"Not committing, no username",oe.warn)}}function To(){kp=setTimeout(()=>{ns.set(!1)},1500)}function Eg(){gi.set([!0,{icon:"person_off",title:"User data commit failed",message:"The user data could not be saved. This happens if the<br>user data is altered while ArcOS is running.",details:"UserLogic: UserData watch: setter returned false",button:{action:()=>{gt("fts")},caption:"Reset"}}])}const ns=pe(!1);async function Zi(){ie("userlogic/main.ts: getUsers","Getting users");const r=K(Ge);if(!r)return[];const e=await et(r,"users/get",{},null,null);let t={};const n=e.data;for(let i=0;i<n.length;i++)t[n[i].username]=n[i];return t}async function Ig(){ie("userlogic/main.ts: deleteUsers","Delete users");const r=K(Ge),e=K(st);r&&(et(r,"user/delete",{},e),K(dn).name=="Desktop"&&Qn())}async function Og(r){const e=K(Ge);if(!e)return!1;(await et(e,"user/properties/update",{},K(st),null,JSON.stringify(r))).valid&&ie("userlogic/main.ts: setUserdata","Userdata committed to API",oe.info)}te.subscribe(Tg);const Qt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAgMAAACJFjxpAAAADFBMVEXFxcX////p6enW1tbAmiBwAAAFiElEQVR4AezAgQAAAACAoP2pF6kAAAAAAAAAAAAAAIDbu2MkvY0jiuMWWQoUmI50BB+BgRTpCAz4G6C8CJDrC3AEXGKPoMTlYA/gAJfwETawI8cuBs5Nk2KtvfiLW+gLfK9m+r3X82G653+JP/zjF8afP1S//y+An4/i51//AsB4aH+/QPD6EQAY/zwZwN8BAP50bh786KP4+VT+3fs4/noigEc+jnHeJrzxX+NWMDDh4g8+EXcnLcC9T8U5S/CdT8bcUeBEIrwBOiI8ki7Ba5+NrePgWUy89/nYyxQ8Iw3f+pWY4h1gb3eAW7sDTPEOsLc7wK1TIeDuDB+I/OA1QOUHv/dFsZQkhKkh4QlEfOULYz2nGj2/Nn1LmwR/86VxlCoAW6kCsHRGANx1RgCMo5Qh2EsZgrXNQZZShp5Liv7Il8eIc5C91EHY2hxk6bwYmNscZIReDBwtCdhbErC1JGBpScBcOgFMLQsZMQs5Whayd+UQsLYsZGlZyNyykKllISNmIUfAwifw8NXvTojAjGFrdYi11SGWVoeYWx1i6lmQCiEjFkKOVgjZ+xxIhZCtFULWHkCqxCw9gNQKmP9vNHzipdEPrRcxtVbAeDkAvve0iM2QozVD9hfjhp4YP/UrkJYDbD2AtBxgfSkAvvHEeNcDSAsilgtAWxIy91J8AXgZAJ5e33+4tuACcAG4AFwALgBXRXQB6AFcB5MXAuA6nl9/0Vx/011/1V5/1/dfTPJvRtdnu/zL6beeFO/7r+fXBYbrEkt/j+i6ytXfpuvvE/ZXOnsA/a3a/l5xf7O6v1t+Xe/vOyz6HpO8yyboM8o7rfJes77bru83THk48p7TvOs27zvOO6/73vO++z7l4cgnMPQzKPopHC0N9noSSz6LJp/Gk88jyicy5TOp6qlc+VyyfDJbPpuuns6XzyfMJzTmMyrrKZ35nNJ8Ums+q7af1tvPK+4nNodEnPKp3fnc8npyez67/qVP7+/fL8hfcMjfsOhf8cjfMclfcnn9+BkOnLECP8Q58OYeyJ40eoyF6Ee/En/JHlP6mIlRVXprF4BxtAvArV0AxtEuALd2ARhHuwDc2gVgHPX/hFv9fMBddjIGeKg/WCxlCsI46u+Ga5mCcJd+sIG9UkGAW32ZbApFAHhod4Bb3eo04h3god0BbiUHYApVCNjbHeBW+QDAXT4a7qg7r7e214057vg0QhkEHkoSwq0kIdydXw4/Q3H8hjYJ3vL0WConBJhCHQaOToeBrU0BljYFmEoVgHGUKgAPnREAt84IgLuqFgAYSUEOAHszDwuAtSkHAZhLGYIpdCLgKGUIHtocZG1zkLmUIRhxDnJU1RDA1uYga5uDzKUOwhTnIEfnxcDe5iBrcyQAYGlzkKkUYhhxDrKXQgxbSwLWUohhbknA1JKAEZOAvSUBW0sC1pYEzC0JmFoSMMJyCDhaFrK3JGDtyiFgaVnI3LKQqWUhI2YhR8tC9paFrC0LWVoWMrcsZGpZyIhZyNGykL2rSIGtlQHWVgZYWhlgbmWAqZUBRiwDHK0MsLcywNbKAGsOoNUhllaHmFsdYmp1iBHrEEerQ+w5gFYI2VodYm11iKXVIeYcQCuETK0QMmIh5MgBtELI3gohWyuErDmAVolZWiFkzgG0SszUKjGjfj6gVmKOVonZcwCtFbB9HQC+ozWDbz1bvGu9iKW1AuYcQOtFTLEX1GbIaFegN0OOHEBrhuw5gNYM2XIArRuz5gDacoB3bTnAEktxXQ4wfw0AvveM8b4tiJjSJOwLIsbXsAKeNeKCiOO3D+AVbUl0AfjGs8ZPbUnIdgFoa1LWC0BblfMuB9AeC1j6gqQE0J9LmC8AOYD2ZMb7i4bt2ZTpWoHfPoB7Tj2fXzT8N1X41vkq/QHOAAAAAElFTkSuQmCC",Rg=""+new URL("1-ce0ed19a.png",import.meta.url).href,Lg=""+new URL("10-a17f4986.png",import.meta.url).href,Dg=""+new URL("11-0772df5b.png",import.meta.url).href,Bg=""+new URL("12-e9d77a32.png",import.meta.url).href,Mg=""+new URL("13-0dcda114.png",import.meta.url).href,Fg="data:image/png;base64,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",Pg="data:image/png;base64,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",zg="data:image/png;base64,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",Ug=""+new URL("17-662a7167.png",import.meta.url).href,Ng=""+new URL("18-240e69f8.png",import.meta.url).href,jg=""+new URL("19-42714701.png",import.meta.url).href,Hg=""+new URL("2-73afb162.png",import.meta.url).href,Qg="data:image/png;base64,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",Wg=""+new URL("21-6ad724fd.png",import.meta.url).href,Kg="data:image/png;base64,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",Gg="data:image/png;base64,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",Vg="data:image/png;base64,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",qg="data:image/png;base64,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",Yg="data:image/png;base64,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",Jg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAIAAABt+uBvAAAFHUlEQVR42u3cA5zrShvH8a7x8tq2bdu2bdu2bdu2bSOdam3v1sr8bp9r34NumvTM//McrIpvMMlgffhN/V0ZAgNkgAyQATJABsgAGSBTBsgAGSADZIAMkAEyQKbcClRJcCpUPf4KVA0GSCD8VahGeg6g50DaNyfxDv2n0bUzIzfRvDSB/0hNoUCWj9Y1Gb6G3qPJ9WDHyIQB8kPkegGijxN7htF7CE495QFF5qN1dUbvBtBJsPljdP5Hr4FzGDiXyLxTBpDlI/B/Ys/JO88P8s+x0Vl0jt5Dfzw9lTlQ06J070vaz0RF50l+KAddywplDRT4D9En0Bl0lkmIzsm53CpXIFVF0yLEnmWSo9Py4z2HoOrLEah1DTJKWqvJTCZMaLZyBOrYAnuUyU/qEzo2J/Cv8gLq2JrYC8UB0hnyA3Rsg1U+QNUMX08Rkx+hcwdUTVkAqWraNmDsQXSOYkWnyQTpPQp/lfeBQrOQ9jMeGbkNVedxIFUt95zJDyh+8iRelyY/0OhZIMtH2/pkQthxxinZFrlH8+4eJKdSO8b4JfWltI+B/3gRqEJ04i9hRxm/SJM/ROcuWJ4DUrWM3IEDsWN07Y6q8RSQqqF9Y6KPQZ7xjs5Ik993IqraO0DhueXc7GTG7kc1eARI1UivTepTnItN4i16DyfwHy8AtW9GJiJNu8PJdUhvnOV+oK490SmcT9qic3sC/3UzUCVduxJ/WXYf56OzchPbvQ+Wa4FUg9yUljA6SfcBqFpXAqlaOfvEnga7dEBZafL7T0eM3AYUWUjujNyQ6OME/u0yIFVD66qkv6b00STfldHawP9cA2T56NhWdh87gUuS66V5GSzX7EFyatRZ3JNMkM6dCfzfBUCqiu69iL+CTuKe6Cx2lJ6DsUoP9G9puVwYnZGbD1VbUiBVT8eWxJ4HjdsiTX6YgfNQ9aUDal6SbAdoXJv4i3LzUSKgSlqWJ23h5iTfRzr2/1MKoLZ1RcdO8k954dOPjrvjxhPuvKmIVXjAwsNOeJPvNNCP1z72GBOQ4++40bfByr6NVytiFR6w8LBMSJLvEpnPcSBVJz3BE3ZvUdjg8pY2W7OIVXjAwsMyIbGjjD1McBpngZoWk9MzeAAIZOQyNJOzQMHpiD4KtgeAdJbBiwj821mg8BxEn/AEkCQ/QPtGWI4BWT7aN8GOeuQQs0m8S9PiDh9iUzN4CTrlkUPsUlSDw61YAyO3gvbGIZb2E57VWaDAv2WsTidBux0o/a3MzFZ1jgJJhWdn9F4vAFkluFCUCvxfxjPB1UB2XMZ4I/OXAkjVSFdZ7Dl00rVAch6ILIC/snQdZt17ozOuBLIRoAd+bL9KBtS6mqyCy4TAdheQDJCdIh0ype60r5QBlv4zXLQH6Qzk5f4rOC2WS4Z9Wlcn+pQsENTJ0gMl3pTu+rZ1ijKLungzEgONMi0oEybbTLYdSR70eALd/MsyKTQ6TfwFGbzsO0FoLDdOXqihZUWZGD1wDrk+WW6abUUnTrjlBN/GqxcbaPUTbj5OOsNA+hWiT8r/m5eUw0o1uH4KXnAqYQpOLXN0ew844YolfZsUU0dqk7VOuGJRmhen9whpyIP/JzQj/kpPLmY5/tK5fRutXXhLRazCAxYeFuXD8vxiFt8td860xhFLrn3UEkWswgPefOdMqLJYDpX6unL08+qiV+Fhy2hBnSp6uW5JpvnlJqYMkAEyQAbIABkgA2SATBkgA2SADJABMkAGyACZ+g5eG3xTXD3mYQAAAABJRU5ErkJggg==",Zg="data:image/png;base64,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",Xg="data:image/png;base64,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",xg=""+new URL("3-f0871c58.png",import.meta.url).href,e1=""+new URL("4-61f6a6d6.png",import.meta.url).href,t1=""+new URL("5-17c42ca6.png",import.meta.url).href,n1=""+new URL("6-ae5f3eff.png",import.meta.url).href,i1=""+new URL("7-8a53975d.png",import.meta.url).href,r1=""+new URL("8-0ff7188c.png",import.meta.url).href,s1=""+new URL("9-fdbbb4a2.png",import.meta.url).href,yp={pfp1:Rg,pfp2:Hg,pfp3:xg,pfp4:e1,pfp5:t1,pfp6:n1,pfp7:i1,pfp8:r1,pfp9:s1,pfp10:Lg,pfp11:Dg,pfp12:Bg,pfp13:Mg,pfp14:Fg,pfp15:Pg,pfp16:zg,pfp17:Ug,pfp18:Ng,pfp19:jg,pfp20:Qg,pfp21:Wg,pfp22:Kg,pfp23:Gg,pfp24:Vg,pfp25:qg,pfp26:Yg,pfp27:Jg,pfp28:Zg,pfp29:Xg,def:Qt};function gn(r){return typeof r=="number"?yp[`pfp${r}`]||Qt:r.toString()}async function l1(r){const e=K(te);e.acc.profilePicture=r,te.set(e)}const Ar={};async function An(r){if(!K(Ge))return Qt;if(Ar[r])return gn(Ar[r]);const t=await Zi();return t[r]?(Ar[r]=gn(t[r].acc.profilePicture),Ar[r]):Qt}function o1(r){let e,t;return{c(){e=g("div"),h(e,"class",t="pfprenderer "+r[2]+" pfp svelte-11jeot8"),Se(e,"background-image","url('"+r[0]+"')"),Se(e,"height",r[1]+"px")},m(n,i){S(n,e,i)},p(n,[i]){i&4&&t!==(t="pfprenderer "+n[2]+" pfp svelte-11jeot8")&&h(e,"class",t),i&1&&Se(e,"background-image","url('"+n[0]+"')"),i&2&&Se(e,"height",n[1]+"px")},i:O,o:O,d(n){n&&y(e)}}}function a1(r,e,t){let{src:n}=e,{height:i}=e,{className:s=""}=e;return r.$$set=l=>{"src"in l&&t(0,n=l.src),"height"in l&&t(1,i=l.height),"className"in l&&t(2,s=l.className)},[n,i,s]}let At=class extends U{constructor(e){super(),z(this,e,a1,o1,P,{src:0,height:1,className:2})}};const c1=""+new URL("spinner-14f81f00.svg",import.meta.url).href;function u1(r){let e,t;return{c(){e=g("img"),de(e.src,t=c1)||h(e,"src",t),h(e,"alt","spinner"),Se(e,"height",r[0]+"px"),h(e,"class","spinner-svg")},m(n,i){S(n,e,i)},p(n,[i]){i&1&&Se(e,"height",n[0]+"px")},i:O,o:O,d(n){n&&y(e)}}}function f1(r,e,t){let{height:n}=e;return r.$$set=i=>{"height"in i&&t(0,n=i.height)},[n]}class Vt extends U{constructor(e){super(),z(this,e,f1,u1,P,{height:0})}}const Sp=""+new URL("systemIcon-393c5507.svg",import.meta.url).href,d1=""+new URL("devIcon-567f5f60.svg",import.meta.url).href,p1=""+new URL("unstIcon-118758aa.png",import.meta.url).href,m1=""+new URL("adminIcon-11dc6ee1.png",import.meta.url).href,h1=""+new URL("siegeIcon-bce24d4a.png",import.meta.url).href,g1=""+new URL("rc-d6342559.png",import.meta.url).href,A1={release:Sp,development:d1,unstable:p1,admin:m1,siege:h1,rc:g1};let Wn="release";async function b1(){ie("ts/branding.ts: getMode","Attempting to retrieve mode from /mode",oe.info);try{Wn=(await(await fetch("./mode")).text()).trim()}catch{Wn="release"}}const tn=r=>A1[r||Wn]||Sp;function Eo(r){let e,t,n,i,s,l,o,a,c,u,f,d;return t=new At({props:{src:r[2],height:151}}),a=new Vt({props:{height:23}}),{c(){e=g("div"),M(t.$$.fragment),n=T(),i=g("h1"),s=F(r[1]),l=T(),o=g("h3"),M(a.$$.fragment),c=F(""),u=g("span"),f=F(r[0]),h(e,"class","userlogin show")},m(m,b){S(m,e,b),D(t,e,null),p(e,n),p(e,i),p(i,s),p(e,l),p(e,o),D(a,o,null),p(o,c),p(o,u),p(u,f),d=!0},p(m,b){const A={};b&4&&(A.src=m[2]),t.$set(A),(!d||b&2)&&W(s,m[1]),(!d||b&1)&&W(f,m[0])},i(m){d||(w(t.$$.fragment,m),w(a.$$.fragment,m),d=!0)},o(m){C(t.$$.fragment,m),C(a.$$.fragment,m),d=!1},d(m){m&&y(e),B(t),B(a)}}}function _1(r){let e,t,n=r[2]&&Eo(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[2]?n?(n.p(i,s),s&4&&w(n,1)):(n=Eo(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function w1(r,e,t){let n,i;G(r,Pe,c=>t(4,n=c)),G(r,It,c=>t(5,i=c));let{caption:s}=e,{username:l=""}=e,o="",a="";return ve(async()=>{t(1,o=i||n||l),t(2,a=await An(o)),a==Qt&&t(2,a=tn())}),r.$$set=c=>{"caption"in c&&t(0,s=c.caption),"username"in c&&t(3,l=c.username)},[s,o,a,l]}let Ci=class extends U{constructor(e){super(),z(this,e,w1,_1,P,{caption:0,username:3})}};function v1(r){let e,t;return e=new Ci({props:{caption:"Welcome"}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}class k1 extends U{constructor(e){super(),z(this,e,null,v1,P,{})}}function $p(){Pe.set(void 0),It.set(void 0),an.set({}),Ai.set([])}function y1(r){let e,t;return e=new Ci({props:{caption:"Goodbye",username:r[0]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,[i]){const s={};i&1&&(s.username=n[0]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function S1(r,e,t){let n;return G(r,Pe,i=>t(0,n=i)),ve(()=>{setTimeout(()=>{$p(),Ot("selector")},2e3)}),[n]}class $1 extends U{constructor(e){super(),z(this,e,S1,y1,P,{})}}function C1(r){let e,t;return e=new Ci({props:{caption:"Restarting"}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function T1(r){return setTimeout(()=>{location.reload()},2e3),[]}let E1=class extends U{constructor(e){super(),z(this,e,T1,C1,P,{})}};function Io(r){let e,t,n,i,s,l,o,a;return t=new At({props:{src:r[2],height:76}}),{c(){e=g("button"),M(t.$$.fragment),n=T(),i=g("p"),s=F(r[1]),h(i,"class","username"),h(e,"class","user"),j(e,"drop",r[1]=="space")},m(c,u){S(c,e,u),D(t,e,null),p(e,n),p(e,i),p(i,s),l=!0,o||(a=N(e,"click",r[3]),o=!0)},p(c,u){const f={};u&4&&(f.src=c[2]),t.$set(f),(!l||u&2)&&W(s,c[1]),(!l||u&2)&&j(e,"drop",c[1]=="space")},i(c){l||(w(t.$$.fragment,c),l=!0)},o(c){C(t.$$.fragment,c),l=!1},d(c){c&&y(e),B(t),o=!1,a()}}}function I1(r){let e,t,n=r[0].acc.enabled&&Io(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0].acc.enabled?n?(n.p(i,s),s&1&&w(n,1)):(n=Io(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function O1(r,e,t){let n="",{data:i}=e,{name:s}=e;function l(){It.set(s),Ot("todesktop")}return ve(()=>{t(2,n=gn(i.acc.profilePicture))}),r.$$set=o=>{"data"in o&&t(0,i=o.data),"name"in o&&t(1,s=o.name)},[i,s,n,l]}let R1=class extends U{constructor(e){super(),z(this,e,O1,I1,P,{data:0,name:1})}};function Oo(r,e,t){const n=r.slice();return n[1]=e[t],n}function Ro(r){let e,t,n=X(Object.keys(r[0])),i=[];for(let l=0;l<n.length;l+=1)i[l]=Lo(Oo(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=le()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&1){n=X(Object.keys(l[0]));let a;for(a=0;a<n.length;a+=1){const c=Oo(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Lo(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Lo(r){let e,t;return e=new R1({props:{data:r[0][r[1]],name:r[1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.data=n[0][n[1]]),i&1&&(s.name=n[1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function L1(r){let e,t,n=r[0]&&Ro(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=Ro(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function D1(r,e,t){let n;return ve(async()=>{t(0,n=await Zi())}),[n]}class B1 extends U{constructor(e){super(),z(this,e,D1,L1,P,{})}}function M1(r){let e,t,n;return{c(){e=g("button"),e.textContent="Create Account",h(e,"class","createacc")},m(i,s){S(i,e,s),t||(n=N(e,"click",r[0]),t=!0)},p:O,i:O,o:O,d(i){i&&y(e),t=!1,n()}}}function F1(r){return[()=>Ot("newapiuser")]}let P1=class extends U{constructor(e){super(),z(this,e,F1,M1,P,{})}};function z1(r){let e,t,n,i,s;return t=new B1({}),i=new P1({}),{c(){e=g("div"),M(t.$$.fragment),n=T(),M(i.$$.fragment),h(e,"class","user-selector")},m(l,o){S(l,e,o),D(t,e,null),p(e,n),D(i,e,null),s=!0},p:O,i(l){s||(w(t.$$.fragment,l),w(i.$$.fragment,l),s=!0)},o(l){C(t.$$.fragment,l),C(i.$$.fragment,l),s=!1},d(l){l&&y(e),B(t),B(i)}}}let U1=class extends U{constructor(e){super(),z(this,e,null,z1,P,{})}};function N1(r){let e,t;return e=new Ci({props:{caption:"Shutting down"}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function j1(r){return ve(()=>{setTimeout(()=>{$p(),gt("turnedoff")},2e3)}),[]}let H1=class extends U{constructor(e){super(),z(this,e,j1,N1,P,{})}};function Q1(r){let e,t,n,i,s,l,o,a;return{c(){e=g("form"),t=g("input"),n=T(),i=g("button"),s=F("arrow_forward_ios"),t.autofocus=!0,h(t,"type","password"),h(t,"placeholder","Password"),j(t,"wrongpswd",r[0]),h(i,"class","material-icons-round"),i.disabled=l=!r[1]},m(c,u){S(c,e,u),p(e,t),he(t,r[1]),S(c,n,u),S(c,i,u),p(i,s),t.focus(),o||(a=[N(t,"input",r[6]),N(t,"input",r[7]),N(e,"submit",r[2]),N(i,"click",r[3])],o=!0)},p(c,[u]){u&2&&t.value!==c[1]&&he(t,c[1]),u&1&&j(t,"wrongpswd",c[0]),u&2&&l!==(l=!c[1])&&(i.disabled=l)},i:O,o:O,d(c){c&&(y(e),y(n),y(i)),o=!1,ke(a)}}}function W1(r,e,t){let n;G(r,It,d=>t(8,n=d));let{authenticating:i}=e,s,{wrongpswd:l=!1}=e,{pfp:o=""}=e;ve(async()=>{n||Ot("selector"),t(5,o=await An(n))});function a(d){return d.preventDefault(),c(),!1}async function c(){t(4,i=!0);const d=await is(qi({username:n,password:s}));if(!d){t(4,i=!1),t(0,l=!0);return}localStorage.setItem("arcos-remembered-token",btoa(`${n}:${s}`)),te.set(d),Pe.set(n),gt("desktop")}function u(){s=this.value,t(1,s)}const f=()=>t(0,l=!1);return r.$$set=d=>{"authenticating"in d&&t(4,i=d.authenticating),"wrongpswd"in d&&t(0,l=d.wrongpswd),"pfp"in d&&t(5,o=d.pfp)},[l,s,a,c,i,o,u,f]}class K1 extends U{constructor(e){super(),z(this,e,W1,Q1,P,{authenticating:4,wrongpswd:0,pfp:5})}}function Do(r){let e,t,n,i,s;return e=new At({props:{src:r[1],height:151}}),{c(){M(e.$$.fragment),t=T(),n=g("h1"),i=F(r[3])},m(l,o){D(e,l,o),S(l,t,o),S(l,n,o),p(n,i),s=!0},p(l,o){const a={};o&2&&(a.src=l[1]),e.$set(a),(!s||o&8)&&W(i,l[3])},i(l){s||(w(e.$$.fragment,l),s=!0)},o(l){C(e.$$.fragment,l),s=!1},d(l){l&&(y(t),y(n)),B(e,l)}}}function G1(r){let e;return{c(){e=g("p"),e.textContent="The password is incorrect. Try again.",h(e,"class","error")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}function V1(r){let e,t,n,i,s,l;function o(f){r[5](f)}function a(f){r[6](f)}function c(f){r[7](f)}let u={};return r[0]!==void 0&&(u.authenticating=r[0]),r[1]!==void 0&&(u.pfp=r[1]),r[2]!==void 0&&(u.wrongpswd=r[2]),t=new K1({props:u}),we.push(()=>Ce(t,"authenticating",o)),we.push(()=>Ce(t,"pfp",a)),we.push(()=>Ce(t,"wrongpswd",c)),{c(){e=g("div"),M(t.$$.fragment),h(e,"class","field"),j(e,"hidden",r[0])},m(f,d){S(f,e,d),D(t,e,null),l=!0},p(f,d){const m={};!n&&d&1&&(n=!0,m.authenticating=f[0],$e(()=>n=!1)),!i&&d&2&&(i=!0,m.pfp=f[1],$e(()=>i=!1)),!s&&d&4&&(s=!0,m.wrongpswd=f[2],$e(()=>s=!1)),t.$set(m),(!l||d&1)&&j(e,"hidden",f[0])},i(f){l||(w(t.$$.fragment,f),l=!0)},o(f){C(t.$$.fragment,f),l=!1},d(f){f&&y(e),B(t)}}}function q1(r){let e,t;return e=new Ci({props:{caption:"Welcome"}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Y1(r){let e,t=r[2]?"Okay":"Cancel",n,i,s;return{c(){e=g("button"),n=F(t),h(e,"class","switchuser"),h(e,"type","button")},m(l,o){S(l,e,o),p(e,n),i||(s=N(e,"click",r[4]),i=!0)},p(l,o){o&4&&t!==(t=l[2]?"Okay":"Cancel")&&W(n,t)},i:O,o:O,d(l){l&&y(e),i=!1,s()}}}function J1(r){let e,t,n,i,s,l,o,a,c=!r[0]&&Do(r);const u=[V1,G1],f=[];function d(_,v){return _[2]?1:0}n=d(r),i=f[n]=u[n](r);const m=[Y1,q1],b=[];function A(_,v){return _[0]?1:0}return l=A(r),o=b[l]=m[l](r),{c(){c&&c.c(),e=T(),t=g("div"),i.c(),s=T(),o.c(),h(t,"class","cloudlogin")},m(_,v){c&&c.m(_,v),S(_,e,v),S(_,t,v),f[n].m(t,null),p(t,s),b[l].m(t,null),a=!0},p(_,[v]){_[0]?c&&(V(),C(c,1,1,()=>{c=null}),q()):c?(c.p(_,v),v&1&&w(c,1)):(c=Do(_),c.c(),w(c,1),c.m(e.parentNode,e));let k=n;n=d(_),n===k?f[n].p(_,v):(V(),C(f[k],1,1,()=>{f[k]=null}),q(),i=f[n],i?i.p(_,v):(i=f[n]=u[n](_),i.c()),w(i,1),i.m(t,s));let $=l;l=A(_),l===$?b[l].p(_,v):(V(),C(b[$],1,1,()=>{b[$]=null}),q(),o=b[l],o?o.p(_,v):(o=b[l]=m[l](_),o.c()),w(o,1),o.m(t,null))},i(_){a||(w(c),w(i),w(o),a=!0)},o(_){C(c),C(i),C(o),a=!1},d(_){_&&(y(e),y(t)),c&&c.d(_),f[n].d(),b[l].d()}}}function Z1(r,e,t){let n;G(r,It,f=>t(3,n=f));let{authenticating:i=!1}=e,s,l=!1;async function o(){if(l)return t(2,l=!1);It.set(void 0),Ot("selector")}function a(f){i=f,t(0,i)}function c(f){s=f,t(1,s)}function u(f){l=f,t(2,l)}return r.$$set=f=>{"authenticating"in f&&t(0,i=f.authenticating)},[i,s,l,n,o,a,c,u]}class X1 extends U{constructor(e){super(),z(this,e,Z1,J1,P,{authenticating:0})}}function x1(r){let e,t,n,i;function s(o){r[2](o)}let l={};return r[0]!==void 0&&(l.authenticating=r[0]),t=new X1({props:l}),we.push(()=>Ce(t,"authenticating",s)),{c(){e=g("div"),M(t.$$.fragment),h(e,"class","userlogin"),j(e,"show",r[1])},m(o,a){S(o,e,a),D(t,e,null),i=!0},p(o,[a]){const c={};!n&&a&1&&(n=!0,c.authenticating=o[0],$e(()=>n=!1)),t.$set(c),(!i||a&2)&&j(e,"show",o[1])},i(o){i||(w(t.$$.fragment,o),i=!0)},o(o){C(t.$$.fragment,o),i=!1},d(o){o&&y(e),B(t)}}}function eA(r,e,t){let n=!1,i=!1;ve(async()=>{setTimeout(()=>{t(1,i=!0)},10)});function s(l){n=l,t(0,n)}return[n,i,s]}class tA extends U{constructor(e){super(),z(this,e,eA,x1,P,{})}}function nA(r){let e,t,n;return{c(){e=g("button"),e.textContent="Cancel",h(e,"class","switchuser"),j(e,"show",r[0])},m(i,s){S(i,e,s),t||(n=N(e,"click",r[1]),t=!0)},p(i,[s]){s&1&&j(e,"show",i[0])},i:O,o:O,d(i){i&&y(e),t=!1,n()}}}function iA(r,e,t){let{show:n}=e;const i=()=>Ot("selector");return r.$$set=s=>{"show"in s&&t(0,n=s.show)},[n,i]}let rA=class extends U{constructor(e){super(),z(this,e,iA,nA,P,{show:0})}};function sA(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v,k,$,E,I;return e=new At({props:{src:Qt,height:151}}),{c(){M(e.$$.fragment),t=T(),n=g("h1"),n.textContent="New user",i=T(),s=g("form"),l=g("input"),o=T(),a=g("input"),u=T(),f=g("div"),d=g("form"),m=g("input"),A=T(),_=g("button"),v=F("arrow_forward_ios"),h(l,"type","text"),h(l,"placeholder","Username"),h(l,"class","block"),l.disabled=r[0],h(a,"type","password"),h(a,"placeholder","Password"),h(a,"class","block"),a.disabled=c=r[0]||!r[1],h(m,"type","password"),h(m,"placeholder","Confirm Password"),h(m,"class","block"),m.disabled=b=r[0]||!r[1],_.disabled=k=r[0]||!r[1]||!r[2]||r[2]!=r[3],h(_,"class","createbutton material-icons-round"),h(_,"type","button"),h(f,"class","input-wrapper")},m(R,L){D(e,R,L),S(R,t,L),S(R,n,L),S(R,i,L),S(R,s,L),p(s,l),he(l,r[1]),S(R,o,L),S(R,a,L),he(a,r[2]),S(R,u,L),S(R,f,L),p(f,d),p(d,m),he(m,r[3]),p(f,A),p(f,_),p(_,v),$=!0,E||(I=[N(l,"input",r[6]),N(s,"submit",r[4]),N(a,"input",r[7]),N(m,"input",r[8]),N(d,"submit",r[4]),N(_,"click",r[4])],E=!0)},p(R,[L]){(!$||L&1)&&(l.disabled=R[0]),L&2&&l.value!==R[1]&&he(l,R[1]),(!$||L&3&&c!==(c=R[0]||!R[1]))&&(a.disabled=c),L&4&&a.value!==R[2]&&he(a,R[2]),(!$||L&3&&b!==(b=R[0]||!R[1]))&&(m.disabled=b),L&8&&m.value!==R[3]&&he(m,R[3]),(!$||L&15&&k!==(k=R[0]||!R[1]||!R[2]||R[2]!=R[3]))&&(_.disabled=k)},i(R){$||(w(e.$$.fragment,R),$=!0)},o(R){C(e.$$.fragment,R),$=!1},d(R){R&&(y(t),y(n),y(i),y(s),y(o),y(a),y(u),y(f)),B(e,R),E=!1,ke(I)}}}function lA(r,e,t){let n;G(r,Ge,m=>t(9,n=m));let{loading:i}=e,{username:s}=e,{password:l}=e,o,{errored:a=!1}=e;async function c(m){if(m&&m.preventDefault(),l!=o||!s||!l||i)return!1;It.set(s),St.set(!1),t(0,i=!0),await et(n,"user/create",{},null,{username:s,password:l});const b=await is(qi({username:s,password:l}));return b?(te.set(b),Pe.set(s),gt("desktop"),!1):(St.set(!1),t(5,a=!0),t(0,i=!1))}function u(){s=this.value,t(1,s)}function f(){l=this.value,t(2,l)}function d(){o=this.value,t(3,o)}return r.$$set=m=>{"loading"in m&&t(0,i=m.loading),"username"in m&&t(1,s=m.username),"password"in m&&t(2,l=m.password),"errored"in m&&t(5,a=m.errored)},[i,s,l,o,c,a,u,f,d]}class oA extends U{constructor(e){super(),z(this,e,lA,sA,P,{loading:0,username:1,password:2,errored:5})}}function aA(r){let e,t;return e=new Ci({props:{caption:"Welcome"}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function cA(r){let e,t,n,i;const s=[fA,uA],l=[];function o(a,c){return a[4]?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=le()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,c){let u=e;e=o(a),e===u?l[e].p(a,c):(V(),C(l[u],1,1,()=>{l[u]=null}),q(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function uA(r){let e,t,n,i,s,l;function o(d){r[5](d)}function a(d){r[6](d)}function c(d){r[7](d)}function u(d){r[8](d)}let f={};return r[2]!==void 0&&(f.loading=r[2]),r[0]!==void 0&&(f.username=r[0]),r[1]!==void 0&&(f.password=r[1]),r[4]!==void 0&&(f.errored=r[4]),e=new oA({props:f}),we.push(()=>Ce(e,"loading",o)),we.push(()=>Ce(e,"username",a)),we.push(()=>Ce(e,"password",c)),we.push(()=>Ce(e,"errored",u)),{c(){M(e.$$.fragment)},m(d,m){D(e,d,m),l=!0},p(d,m){const b={};!t&&m&4&&(t=!0,b.loading=d[2],$e(()=>t=!1)),!n&&m&1&&(n=!0,b.username=d[0],$e(()=>n=!1)),!i&&m&2&&(i=!0,b.password=d[1],$e(()=>i=!1)),!s&&m&16&&(s=!0,b.errored=d[4],$e(()=>s=!1)),e.$set(b)},i(d){l||(w(e.$$.fragment,d),l=!0)},o(d){C(e.$$.fragment,d),l=!1},d(d){B(e,d)}}}function fA(r){let e,t,n;return{c(){e=g("h1"),e.textContent="Oh no",t=T(),n=g("p"),n.textContent=`Sorry! Couldn't create your account... It may already exist. Please try
        again or contact your server administrator.`},m(i,s){S(i,e,s),S(i,t,s),S(i,n,s)},p:O,i:O,o:O,d(i){i&&(y(e),y(t),y(n))}}}function Bo(r){let e,t;return e=new rA({props:{show:r[3]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&8&&(s.show=n[3]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function dA(r){let e,t,n,i,s;const l=[cA,aA],o=[];function a(u,f){return u[2]?1:0}t=a(r),n=o[t]=l[t](r);let c=!r[2]&&Bo(r);return{c(){e=g("div"),n.c(),i=T(),c&&c.c(),h(e,"class","userlogin newuser"),j(e,"errored",r[4]),j(e,"show",r[3]),j(e,"loading",r[2])},m(u,f){S(u,e,f),o[t].m(e,null),p(e,i),c&&c.m(e,null),s=!0},p(u,[f]){let d=t;t=a(u),t===d?o[t].p(u,f):(V(),C(o[d],1,1,()=>{o[d]=null}),q(),n=o[t],n?n.p(u,f):(n=o[t]=l[t](u),n.c()),w(n,1),n.m(e,i)),u[2]?c&&(V(),C(c,1,1,()=>{c=null}),q()):c?(c.p(u,f),f&4&&w(c,1)):(c=Bo(u),c.c(),w(c,1),c.m(e,null)),(!s||f&16)&&j(e,"errored",u[4]),(!s||f&8)&&j(e,"show",u[3]),(!s||f&4)&&j(e,"loading",u[2])},i(u){s||(w(n),w(c),s=!0)},o(u){C(n),C(c),s=!1},d(u){u&&y(e),o[t].d(),c&&c.d()}}}function pA(r,e,t){let n="",i="",s=!1,l=!1,o=!1;ve(()=>{setTimeout(()=>{t(3,l=!0)})});function a(d){s=d,t(2,s)}function c(d){n=d,t(0,n)}function u(d){i=d,t(1,i)}function f(d){o=d,t(4,o)}return[n,i,s,l,o,a,c,u,f]}class mA extends U{constructor(e){super(),z(this,e,pA,dA,P,{})}}const Mo=new Map([["selector",{name:"User Selector",content:U1,attribs:{topbar:!0,darken:!1},key:"selector"}],["todesktop",{name:"Login Redirector -> Desktop",content:tA,attribs:{topbar:!1,darken:!0},key:"todesktop"}],["logoff",{name:"Desktop -> Logoff -> User Selector",content:$1,attribs:{topbar:!1,darken:!0},key:"logoff"}],["shutdown",{name:"Desktop -> Logoff -> End",content:H1,attribs:{topbar:!1,darken:!0},key:"shutdown"}],["restart",{name:"Desktop -> Logoff -> Boot",content:E1,attribs:{topbar:!1,darken:!0},key:"restart"}],["newapiuser",{name:"New User",content:mA,attribs:{topbar:!1,darken:!0},key:"newapiuser"}],["autologin",{name:"Auto Login",content:k1,attribs:{topbar:!1,darken:!0},key:"autologin"}]]),Ti=pe(),It=pe();function Ot(r){if(Mo.has(r)){ie("login/main.ts: applyLoginState",`Applying state ${r}`,oe.info);const e=Mo.get(r);Ti.set(e);return}vl("Login",r)}async function hA(){const r=await Zi(),e=localStorage.getItem("arcos-remembered-token"),t=K(Ti),n=K(Ge);if(setTimeout(()=>{if(t||Ot(e?"autologin":"selector"),!Object.keys(r).length&&!e){n?Ot("newapiuser"):gt("fts");return}},100),e&&(!t||t.key!="shutdown"&&t.key!="restart")){const i=await is(e),s=atob(e).split(":")[0];if(!i){Ot("selector"),localStorage.removeItem("arcos-remembered-token");return}It.set(s),te.set(i),Pe.set(s),setTimeout(()=>{gt("desktop")},2e3)}}async function is(r){ie("ts/api/getter.ts: loginUsingCreds","Authenticating using <token>",oe.info);let[e,t]=atob(r).split(":");const n=K(Ge);It.set(e);let i=await et(K(Ge),"auth",{},null,{username:e,password:t});return!i.valid||(st.set(i.data.token),Pe.set(e),i=await et(n,"user/properties",{},K(st),null),!i.valid)?!1:i}async function Fo(){ie("ts/api/getter.ts: rememberedLogin","Attempting login using arcos-remembered-token",oe.warn);const r=localStorage.getItem("arcos-remembered-token");if(!r)return!1;const[e,t]=atob(r).split(":"),n=await is(qi({username:e,password:t}));return n?(te.set(n),Pe.set(e),!0):!1}function rs(r){ie("ArcTerm",`getSwitches: parsing argv with ${r.length} items...`,oe.info);let e={},t="";const n="--";for(let i=0;i<r.length;i++)if(r[i].startsWith(n)){const s=r[i].replace(n,"");t=s==t?t:s,e[t]||(e[t]="")}else t&&(e[t]+=`${r[i]} `);for(const i in e)e[i]=e[i].trim();return e}function bn(r,e){ie("ArcTerm",`switchExists: ${e}`);const t=rs(r);for(const n in t)if(n==e)return!0;return!1}const gA={keyword:"applist",exec(r,e,t){const n=bn(e,"open")?ti():K(ue);bA(t);for(let i=0;i<n.length;i++)AA(t,n[i])},description:"List all- or opened ArcOS apps.",syntax:"([opened?])"};function AA(r,e){const t=e.id.padEnd(30," "),n=e.info.name.padEnd(30," "),i=e.info.version;r.std.writeColor(`${n}[${t}]${i}`,"gray")}function bA(r){const e="Name".padEnd(30," "),t="ID".padEnd(30," "),i=`${e}${t}Version`;r.std.writeColor(`[${i}]`,"yellow"),r.std.writeSeperator(i.length)}const _A=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];function mt(r){let e=0,t=r;for(;t>=1024&&++e;)t=t/1024;return t.toFixed(t<10&&e>0?1:0)+" "+_A[e]}function wA(){return{cores:navigator.hardwareConcurrency||4}}const vA=/(intel|nvidia|sis|amd|apple|powervr)\W? (.+)/i,kA=/(((?:radeon|adreno|geforce|mali).+))/i,yA=/ ?(\(.+?\)| direct3d.+| opengl.+|\/.+$| gpu$)/gi;function SA(){const r={supported:"WebGLRenderingContext"in globalThis,active:!1,vendor:void 0,model:void 0},e=document.createElement("canvas"),t=e.getContext("webgl2")||e.getContext("webgl")||e.getContext("experimental-webgl");if(!t)return r;r.active=!0;const n=t.getExtension("WEBGL_debug_renderer_info");r.vendor=t.getParameter(n.UNMASKED_VENDOR_WEBGL);const i=t.getParameter(n.UNMASKED_RENDERER_WEBGL)??"",s=i.match(vA),l=i.match(kA);return s&&(r.vendor=s[1]),r.model=l?l[1]:i,r.model=r.model.replace(yA,""),r}function $A(){return{kb:(navigator.deviceMemory||1)*1024**3}}const CA={downlink:0,effectiveType:"0G",rtt:0,saveData:!1,online:!1};function TA(){const r=navigator.connection;return r||CA}function Cp(){return{gpu:SA(),cpu:wA(),mem:$A(),net:TA()}}const Ws="red,orange,yellow,green,aqua,blue,purple".split(",");let Mr;async function EA(){try{Mr=(await(await fetch("./desktop")).text()).includes("desktop")?"desktop":"browser"}catch{Mr="browser"}}const Ui=()=>Mr=="desktop",IA={keyword:"arcfetch",async exec(r,e,t){t.std.writeLine(`
`),await LA(t),t.std.writeLine(""),RA(t)},description:"Show system information"};async function OA(r){const e=Cp(),t=Ui();return Object.entries({Server:`${Tt()} @ rev ${bp}`,Username:K(Pe),Processor:`${e.cpu.cores} cores`,GPU:`${e.gpu.vendor} ${e.gpu.model}`,Memory:`~ ${mt(e.mem.kb)}`,Mode:(t?"Desktop":"Browser")+` (state ${K(dn).key})`,Reference:r.referenceId})}function RA(r){r.std.write(`
                            `);for(let e=0;e<Ws.length;e++)r.std.writeColor("[ ]",Ws[e],"white",!0)}async function LA(r){const e=await OA(r),t=["        ","    _   ","   /_\\  ","  / _ \\ "," /_/ \\_\\","        ","        "];for(let n=0;n<t.length;n++)r.std.writeColor(`  [${t[n]}]    `,"blue","white",!0),e[n]&&r.std.writeColor(`[${e[n][0].padEnd(12," ")}]: ${e[n][1]}`,"purple","white",!0),r.std.writeLine("")}function Tp(r,e){return function(){return r.apply(e,arguments)}}const{toString:DA}=Object.prototype,{getPrototypeOf:Tl}=Object,{iterator:ss,toStringTag:Ep}=Symbol,ls=(r=>e=>{const t=DA.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),nn=r=>(r=r.toLowerCase(),e=>ls(e)===r),os=r=>e=>typeof e===r,{isArray:Ei}=Array,Ni=os("undefined");function BA(r){return r!==null&&!Ni(r)&&r.constructor!==null&&!Ni(r.constructor)&&Rt(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Ip=nn("ArrayBuffer");function MA(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&Ip(r.buffer),e}const FA=os("string"),Rt=os("function"),Op=os("number"),as=r=>r!==null&&typeof r=="object",PA=r=>r===!0||r===!1,Sr=r=>{if(ls(r)!=="object")return!1;const e=Tl(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Ep in r)&&!(ss in r)},zA=nn("Date"),UA=nn("File"),NA=nn("Blob"),jA=nn("FileList"),HA=r=>as(r)&&Rt(r.pipe),QA=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Rt(r.append)&&((e=ls(r))==="formdata"||e==="object"&&Rt(r.toString)&&r.toString()==="[object FormData]"))},WA=nn("URLSearchParams"),[KA,GA,VA,qA]=["ReadableStream","Request","Response","Headers"].map(nn),YA=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xi(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),Ei(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{const s=t?Object.getOwnPropertyNames(r):Object.keys(r),l=s.length;let o;for(n=0;n<l;n++)o=s[n],e.call(null,r[o],o,r)}}function Rp(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const zn=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Lp=r=>!Ni(r)&&r!==zn;function Ks(){const{caseless:r}=Lp(this)&&this||{},e={},t=(n,i)=>{const s=r&&Rp(e,i)||i;Sr(e[s])&&Sr(n)?e[s]=Ks(e[s],n):Sr(n)?e[s]=Ks({},n):Ei(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Xi(arguments[n],t);return e}const JA=(r,e,t,{allOwnKeys:n}={})=>(Xi(e,(i,s)=>{t&&Rt(i)?r[s]=Tp(i,t):r[s]=i},{allOwnKeys:n}),r),ZA=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),XA=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},xA=(r,e,t,n)=>{let i,s,l;const o={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),s=i.length;s-- >0;)l=i[s],(!n||n(l,r,e))&&!o[l]&&(e[l]=r[l],o[l]=!0);r=t!==!1&&Tl(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},e0=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},t0=r=>{if(!r)return null;if(Ei(r))return r;let e=r.length;if(!Op(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},n0=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Tl(Uint8Array)),i0=(r,e)=>{const n=(r&&r[ss]).call(r);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(r,s[0],s[1])}},r0=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},s0=nn("HTMLFormElement"),l0=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),Po=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),o0=nn("RegExp"),Dp=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Xi(t,(i,s)=>{let l;(l=e(i,s,r))!==!1&&(n[s]=l||i)}),Object.defineProperties(r,n)},a0=r=>{Dp(r,(e,t)=>{if(Rt(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(Rt(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},c0=(r,e)=>{const t={},n=i=>{i.forEach(s=>{t[s]=!0})};return Ei(r)?n(r):n(String(r).split(e)),t},u0=()=>{},f0=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function d0(r){return!!(r&&Rt(r.append)&&r[Ep]==="FormData"&&r[ss])}const p0=r=>{const e=new Array(10),t=(n,i)=>{if(as(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=Ei(n)?[]:{};return Xi(n,(l,o)=>{const a=t(l,i+1);!Ni(a)&&(s[o]=a)}),e[i]=void 0,s}}return n};return t(r,0)},m0=nn("AsyncFunction"),h0=r=>r&&(as(r)||Rt(r))&&Rt(r.then)&&Rt(r.catch),Bp=((r,e)=>r?setImmediate:e?((t,n)=>(zn.addEventListener("message",({source:i,data:s})=>{i===zn&&s===t&&n.length&&n.shift()()},!1),i=>{n.push(i),zn.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Rt(zn.postMessage)),g0=typeof queueMicrotask<"u"?queueMicrotask.bind(zn):typeof process<"u"&&process.nextTick||Bp,A0=r=>r!=null&&Rt(r[ss]),ee={isArray:Ei,isArrayBuffer:Ip,isBuffer:BA,isFormData:QA,isArrayBufferView:MA,isString:FA,isNumber:Op,isBoolean:PA,isObject:as,isPlainObject:Sr,isReadableStream:KA,isRequest:GA,isResponse:VA,isHeaders:qA,isUndefined:Ni,isDate:zA,isFile:UA,isBlob:NA,isRegExp:o0,isFunction:Rt,isStream:HA,isURLSearchParams:WA,isTypedArray:n0,isFileList:jA,forEach:Xi,merge:Ks,extend:JA,trim:YA,stripBOM:ZA,inherits:XA,toFlatObject:xA,kindOf:ls,kindOfTest:nn,endsWith:e0,toArray:t0,forEachEntry:i0,matchAll:r0,isHTMLForm:s0,hasOwnProperty:Po,hasOwnProp:Po,reduceDescriptors:Dp,freezeMethods:a0,toObjectSet:c0,toCamelCase:l0,noop:u0,toFiniteNumber:f0,findKey:Rp,global:zn,isContextDefined:Lp,isSpecCompliantForm:d0,toJSONObject:p0,isAsyncFn:m0,isThenable:h0,setImmediate:Bp,asap:g0,isIterable:A0};function Me(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}ee.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const Mp=Me.prototype,Fp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Fp[r]={value:r}});Object.defineProperties(Me,Fp);Object.defineProperty(Mp,"isAxiosError",{value:!0});Me.from=(r,e,t,n,i,s)=>{const l=Object.create(Mp);return ee.toFlatObject(r,l,function(a){return a!==Error.prototype},o=>o!=="isAxiosError"),Me.call(l,r.message,e,t,n,i),l.cause=r,l.name=r.name,s&&Object.assign(l,s),l};const b0=null;function Gs(r){return ee.isPlainObject(r)||ee.isArray(r)}function Pp(r){return ee.endsWith(r,"[]")?r.slice(0,-2):r}function zo(r,e,t){return r?r.concat(e).map(function(i,s){return i=Pp(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function _0(r){return ee.isArray(r)&&!r.some(Gs)}const w0=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)});function cs(r,e,t){if(!ee.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=ee.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,_){return!ee.isUndefined(_[A])});const n=t.metaTokens,i=t.visitor||u,s=t.dots,l=t.indexes,a=(t.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(i))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(ee.isDate(b))return b.toISOString();if(!a&&ee.isBlob(b))throw new Me("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(b)||ee.isTypedArray(b)?a&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function u(b,A,_){let v=b;if(b&&!_&&typeof b=="object"){if(ee.endsWith(A,"{}"))A=n?A:A.slice(0,-2),b=JSON.stringify(b);else if(ee.isArray(b)&&_0(b)||(ee.isFileList(b)||ee.endsWith(A,"[]"))&&(v=ee.toArray(b)))return A=Pp(A),v.forEach(function($,E){!(ee.isUndefined($)||$===null)&&e.append(l===!0?zo([A],E,s):l===null?A:A+"[]",c($))}),!1}return Gs(b)?!0:(e.append(zo(_,A,s),c(b)),!1)}const f=[],d=Object.assign(w0,{defaultVisitor:u,convertValue:c,isVisitable:Gs});function m(b,A){if(!ee.isUndefined(b)){if(f.indexOf(b)!==-1)throw Error("Circular reference detected in "+A.join("."));f.push(b),ee.forEach(b,function(v,k){(!(ee.isUndefined(v)||v===null)&&i.call(e,v,ee.isString(k)?k.trim():k,A,d))===!0&&m(v,A?A.concat(k):[k])}),f.pop()}}if(!ee.isObject(r))throw new TypeError("data must be an object");return m(r),e}function Uo(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function El(r,e){this._pairs=[],r&&cs(r,this,e)}const zp=El.prototype;zp.append=function(e,t){this._pairs.push([e,t])};zp.toString=function(e){const t=e?function(n){return e.call(this,n,Uo)}:Uo;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function v0(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Up(r,e,t){if(!e)return r;const n=t&&t.encode||v0;ee.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=ee.isURLSearchParams(e)?e.toString():new El(e,t).toString(n),s){const l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}class k0{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(n){n!==null&&e(n)})}}const No=k0,Np={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},y0=typeof URLSearchParams<"u"?URLSearchParams:El,S0=typeof FormData<"u"?FormData:null,$0=typeof Blob<"u"?Blob:null,C0={isBrowser:!0,classes:{URLSearchParams:y0,FormData:S0,Blob:$0},protocols:["http","https","file","blob","url","data"]},Il=typeof window<"u"&&typeof document<"u",Vs=typeof navigator=="object"&&navigator||void 0,T0=Il&&(!Vs||["ReactNative","NativeScript","NS"].indexOf(Vs.product)<0),E0=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),I0=Il&&window.location.href||"http://localhost",O0=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Il,hasStandardBrowserEnv:T0,hasStandardBrowserWebWorkerEnv:E0,navigator:Vs,origin:I0},Symbol.toStringTag,{value:"Module"})),vt={...O0,...C0};function R0(r,e){return cs(r,new vt.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,s){return vt.isNode&&ee.isBuffer(t)?(this.append(n,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function L0(r){return ee.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function D0(r){const e={},t=Object.keys(r);let n;const i=t.length;let s;for(n=0;n<i;n++)s=t[n],e[s]=r[s];return e}function jp(r){function e(t,n,i,s){let l=t[s++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),a=s>=t.length;return l=!l&&ee.isArray(i)?i.length:l,a?(ee.hasOwnProp(i,l)?i[l]=[i[l],n]:i[l]=n,!o):((!i[l]||!ee.isObject(i[l]))&&(i[l]=[]),e(t,n,i[l],s)&&ee.isArray(i[l])&&(i[l]=D0(i[l])),!o)}if(ee.isFormData(r)&&ee.isFunction(r.entries)){const t={};return ee.forEachEntry(r,(n,i)=>{e(L0(n),i,t,0)}),t}return null}function B0(r,e,t){if(ee.isString(r))try{return(e||JSON.parse)(r),ee.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const Ol={transitional:Np,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,s=ee.isObject(e);if(s&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return i?JSON.stringify(jp(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e)||ee.isReadableStream(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return R0(e,this.formSerializer).toString();if((o=ee.isFileList(e))||n.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return cs(o?{"files[]":e}:e,a&&new a,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),B0(e)):e}],transformResponse:[function(e){const t=this.transitional||Ol.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ee.isResponse(e)||ee.isReadableStream(e))return e;if(e&&ee.isString(e)&&(n&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(l)throw o.name==="SyntaxError"?Me.from(o,Me.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vt.classes.FormData,Blob:vt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],r=>{Ol.headers[r]={}});const Rl=Ol,M0=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),F0=r=>{const e={};let t,n,i;return r&&r.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),n=l.substring(i+1).trim(),!(!t||e[t]&&M0[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},jo=Symbol("internals");function Ri(r){return r&&String(r).trim().toLowerCase()}function $r(r){return r===!1||r==null?r:ee.isArray(r)?r.map($r):String(r)}function P0(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const z0=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Rs(r,e,t,n,i){if(ee.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!ee.isString(e)){if(ee.isString(n))return e.indexOf(n)!==-1;if(ee.isRegExp(n))return n.test(e)}}function U0(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function N0(r,e){const t=ee.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,s,l){return this[n].call(this,e,i,s,l)},configurable:!0})})}class us{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function s(o,a,c){const u=Ri(a);if(!u)throw new Error("header name must be a non-empty string");const f=ee.findKey(i,u);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||a]=$r(o))}const l=(o,a)=>ee.forEach(o,(c,u)=>s(c,u,a));if(ee.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(ee.isString(e)&&(e=e.trim())&&!z0(e))l(F0(e),t);else if(ee.isObject(e)&&ee.isIterable(e)){let o={},a,c;for(const u of e){if(!ee.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(a=o[c])?ee.isArray(a)?[...a,u[1]]:[a,u[1]]:u[1]}l(o,t)}else e!=null&&s(t,e,n);return this}get(e,t){if(e=Ri(e),e){const n=ee.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return P0(i);if(ee.isFunction(t))return t.call(this,i,n);if(ee.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ri(e),e){const n=ee.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Rs(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function s(l){if(l=Ri(l),l){const o=ee.findKey(n,l);o&&(!t||Rs(n,n[o],o,t))&&(delete n[o],i=!0)}}return ee.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const s=t[n];(!e||Rs(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,n={};return ee.forEach(this,(i,s)=>{const l=ee.findKey(n,s);if(l){t[l]=$r(i),delete t[s];return}const o=e?U0(s):String(s).trim();o!==s&&delete t[s],t[o]=$r(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ee.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&ee.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[jo]=this[jo]={accessors:{}}).accessors,i=this.prototype;function s(l){const o=Ri(l);n[o]||(N0(i,l),n[o]=!0)}return ee.isArray(e)?e.forEach(s):s(e),this}}us.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(us.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});ee.freezeMethods(us);const Jt=us;function Ls(r,e){const t=this||Rl,n=e||t,i=Jt.from(n.headers);let s=n.data;return ee.forEach(r,function(o){s=o.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Hp(r){return!!(r&&r.__CANCEL__)}function Ii(r,e,t){Me.call(this,r??"canceled",Me.ERR_CANCELED,e,t),this.name="CanceledError"}ee.inherits(Ii,Me,{__CANCEL__:!0});function Qp(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new Me("Request failed with status code "+t.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function j0(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function H0(r,e){r=r||10;const t=new Array(r),n=new Array(r);let i=0,s=0,l;return e=e!==void 0?e:1e3,function(a){const c=Date.now(),u=n[s];l||(l=c),t[i]=a,n[i]=c;let f=s,d=0;for(;f!==i;)d+=t[f++],f=f%r;if(i=(i+1)%r,i===s&&(s=(s+1)%r),c-l<e)return;const m=u&&c-u;return m?Math.round(d*1e3/m):void 0}}function Q0(r,e){let t=0,n=1e3/e,i,s;const l=(c,u=Date.now())=>{t=u,i=null,s&&(clearTimeout(s),s=null),r.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-t;f>=n?l(c,u):(i=c,s||(s=setTimeout(()=>{s=null,l(i)},n-f)))},()=>i&&l(i)]}const Fr=(r,e,t=3)=>{let n=0;const i=H0(50,250);return Q0(s=>{const l=s.loaded,o=s.lengthComputable?s.total:void 0,a=l-n,c=i(a),u=l<=o;n=l;const f={loaded:l,total:o,progress:o?l/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&u?(o-l)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};r(f)},t)},Ho=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},Qo=r=>(...e)=>ee.asap(()=>r(...e)),W0=vt.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,vt.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(vt.origin),vt.navigator&&/(msie|trident)/i.test(vt.navigator.userAgent)):()=>!0,K0=vt.hasStandardBrowserEnv?{write(r,e,t,n,i,s){const l=[r+"="+encodeURIComponent(e)];ee.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),ee.isString(n)&&l.push("path="+n),ee.isString(i)&&l.push("domain="+i),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function G0(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function V0(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function Wp(r,e,t){let n=!G0(e);return r&&(n||t==!1)?V0(r,e):e}const Wo=r=>r instanceof Jt?{...r}:r;function Kn(r,e){e=e||{};const t={};function n(c,u,f,d){return ee.isPlainObject(c)&&ee.isPlainObject(u)?ee.merge.call({caseless:d},c,u):ee.isPlainObject(u)?ee.merge({},u):ee.isArray(u)?u.slice():u}function i(c,u,f,d){if(ee.isUndefined(u)){if(!ee.isUndefined(c))return n(void 0,c,f,d)}else return n(c,u,f,d)}function s(c,u){if(!ee.isUndefined(u))return n(void 0,u)}function l(c,u){if(ee.isUndefined(u)){if(!ee.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function o(c,u,f){if(f in e)return n(c,u);if(f in r)return n(void 0,c)}const a={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(c,u,f)=>i(Wo(c),Wo(u),f,!0)};return ee.forEach(Object.keys(Object.assign({},r,e)),function(u){const f=a[u]||i,d=f(r[u],e[u],u);ee.isUndefined(d)&&f!==o||(t[u]=d)}),t}const Kp=r=>{const e=Kn({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:l,auth:o}=e;e.headers=l=Jt.from(l),e.url=Up(Wp(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let a;if(ee.isFormData(t)){if(vt.hasStandardBrowserEnv||vt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((a=l.getContentType())!==!1){const[c,...u]=a?a.split(";").map(f=>f.trim()).filter(Boolean):[];l.setContentType([c||"multipart/form-data",...u].join("; "))}}if(vt.hasStandardBrowserEnv&&(n&&ee.isFunction(n)&&(n=n(e)),n||n!==!1&&W0(e.url))){const c=i&&s&&K0.read(s);c&&l.set(i,c)}return e},q0=typeof XMLHttpRequest<"u",Y0=q0&&function(r){return new Promise(function(t,n){const i=Kp(r);let s=i.data;const l=Jt.from(i.headers).normalize();let{responseType:o,onUploadProgress:a,onDownloadProgress:c}=i,u,f,d,m,b;function A(){m&&m(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function v(){if(!_)return;const $=Jt.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),I={data:!o||o==="text"||o==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:$,config:r,request:_};Qp(function(L){t(L),A()},function(L){n(L),A()},I),_=null}"onloadend"in _?_.onloadend=v:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(v)},_.onabort=function(){_&&(n(new Me("Request aborted",Me.ECONNABORTED,r,_)),_=null)},_.onerror=function(){n(new Me("Network Error",Me.ERR_NETWORK,r,_)),_=null},_.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const I=i.transitional||Np;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),n(new Me(E,I.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,r,_)),_=null},s===void 0&&l.setContentType(null),"setRequestHeader"in _&&ee.forEach(l.toJSON(),function(E,I){_.setRequestHeader(I,E)}),ee.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),o&&o!=="json"&&(_.responseType=i.responseType),c&&([d,b]=Fr(c,!0),_.addEventListener("progress",d)),a&&_.upload&&([f,m]=Fr(a),_.upload.addEventListener("progress",f),_.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(u=$=>{_&&(n(!$||$.type?new Ii(null,r,_):$),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const k=j0(i.url);if(k&&vt.protocols.indexOf(k)===-1){n(new Me("Unsupported protocol "+k+":",Me.ERR_BAD_REQUEST,r));return}_.send(s||null)})},J0=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,i;const s=function(c){if(!i){i=!0,o();const u=c instanceof Error?c:this.reason;n.abort(u instanceof Me?u:new Ii(u instanceof Error?u.message:u))}};let l=e&&setTimeout(()=>{l=null,s(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const o=()=>{r&&(l&&clearTimeout(l),l=null,r.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),r=null)};r.forEach(c=>c.addEventListener("abort",s));const{signal:a}=n;return a.unsubscribe=()=>ee.asap(o),a}},Z0=J0,X0=function*(r,e){let t=r.byteLength;if(!e||t<e){yield r;return}let n=0,i;for(;n<t;)i=n+e,yield r.slice(n,i),n=i},x0=async function*(r,e){for await(const t of eb(r))yield*X0(t,e)},eb=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},Ko=(r,e,t,n)=>{const i=x0(r,e);let s=0,l,o=a=>{l||(l=!0,n&&n(a))};return new ReadableStream({async pull(a){try{const{done:c,value:u}=await i.next();if(c){o(),a.close();return}let f=u.byteLength;if(t){let d=s+=f;t(d)}a.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(a){return o(a),i.return()}},{highWaterMark:2})},fs=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Gp=fs&&typeof ReadableStream=="function",tb=fs&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),Vp=(r,...e)=>{try{return!!r(...e)}catch{return!1}},nb=Gp&&Vp(()=>{let r=!1;const e=new Request(vt.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),Go=64*1024,qs=Gp&&Vp(()=>ee.isReadableStream(new Response("").body)),Pr={stream:qs&&(r=>r.body)};fs&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Pr[e]&&(Pr[e]=ee.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,n)})})})(new Response);const ib=async r=>{if(r==null)return 0;if(ee.isBlob(r))return r.size;if(ee.isSpecCompliantForm(r))return(await new Request(vt.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(r)||ee.isArrayBuffer(r))return r.byteLength;if(ee.isURLSearchParams(r)&&(r=r+""),ee.isString(r))return(await tb(r)).byteLength},rb=async(r,e)=>{const t=ee.toFiniteNumber(r.getContentLength());return t??ib(e)},sb=fs&&(async r=>{let{url:e,method:t,data:n,signal:i,cancelToken:s,timeout:l,onDownloadProgress:o,onUploadProgress:a,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:d}=Kp(r);c=c?(c+"").toLowerCase():"text";let m=Z0([i,s&&s.toAbortSignal()],l),b;const A=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let _;try{if(a&&nb&&t!=="get"&&t!=="head"&&(_=await rb(u,n))!==0){let I=new Request(e,{method:"POST",body:n,duplex:"half"}),R;if(ee.isFormData(n)&&(R=I.headers.get("content-type"))&&u.setContentType(R),I.body){const[L,H]=Ho(_,Fr(Qo(a)));n=Ko(I.body,Go,L,H)}}ee.isString(f)||(f=f?"include":"omit");const v="credentials"in Request.prototype;b=new Request(e,{...d,signal:m,method:t.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:v?f:void 0});let k=await fetch(b);const $=qs&&(c==="stream"||c==="response");if(qs&&(o||$&&A)){const I={};["status","statusText","headers"].forEach(Q=>{I[Q]=k[Q]});const R=ee.toFiniteNumber(k.headers.get("content-length")),[L,H]=o&&Ho(R,Fr(Qo(o),!0))||[];k=new Response(Ko(k.body,Go,L,()=>{H&&H(),A&&A()}),I)}c=c||"text";let E=await Pr[ee.findKey(Pr,c)||"text"](k,r);return!$&&A&&A(),await new Promise((I,R)=>{Qp(I,R,{data:E,headers:Jt.from(k.headers),status:k.status,statusText:k.statusText,config:r,request:b})})}catch(v){throw A&&A(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,r,b),{cause:v.cause||v}):Me.from(v,v&&v.code,r,b)}}),Ys={http:b0,xhr:Y0,fetch:sb};ee.forEach(Ys,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const Vo=r=>`- ${r}`,lb=r=>ee.isFunction(r)||r===null||r===!1,qp={getAdapter:r=>{r=ee.isArray(r)?r:[r];const{length:e}=r;let t,n;const i={};for(let s=0;s<e;s++){t=r[s];let l;if(n=t,!lb(t)&&(n=Ys[(l=String(t)).toLowerCase()],n===void 0))throw new Me(`Unknown adapter '${l}'`);if(n)break;i[l||"#"+s]=n}if(!n){const s=Object.entries(i).map(([o,a])=>`adapter ${o} `+(a===!1?"is not supported by the environment":"is not available in the build"));let l=e?s.length>1?`since :
`+s.map(Vo).join(`
`):" "+Vo(s[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Ys};function Ds(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Ii(null,r)}function qo(r){return Ds(r),r.headers=Jt.from(r.headers),r.data=Ls.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),qp.getAdapter(r.adapter||Rl.adapter)(r).then(function(n){return Ds(r),n.data=Ls.call(r,r.transformResponse,n),n.headers=Jt.from(n.headers),n},function(n){return Hp(n)||(Ds(r),n&&n.response&&(n.response.data=Ls.call(r,r.transformResponse,n.response),n.response.headers=Jt.from(n.response.headers))),Promise.reject(n)})}const Yp="1.9.0",ds={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{ds[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const Yo={};ds.transitional=function(e,t,n){function i(s,l){return"[Axios v"+Yp+"] Transitional option '"+s+"'"+l+(n?". "+n:"")}return(s,l,o)=>{if(e===!1)throw new Me(i(l," has been removed"+(t?" in "+t:"")),Me.ERR_DEPRECATED);return t&&!Yo[l]&&(Yo[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,l,o):!0}};ds.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function ob(r,e,t){if(typeof r!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let i=n.length;for(;i-- >0;){const s=n[i],l=e[s];if(l){const o=r[s],a=o===void 0||l(o,s,r);if(a!==!0)throw new Me("option "+s+" must be "+a,Me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Me("Unknown option "+s,Me.ERR_BAD_OPTION)}}const Cr={assertOptions:ob,validators:ds},sn=Cr.validators;class zr{constructor(e){this.defaults=e||{},this.interceptors={request:new No,response:new No}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Kn(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:s}=t;n!==void 0&&Cr.assertOptions(n,{silentJSONParsing:sn.transitional(sn.boolean),forcedJSONParsing:sn.transitional(sn.boolean),clarifyTimeoutError:sn.transitional(sn.boolean)},!1),i!=null&&(ee.isFunction(i)?t.paramsSerializer={serialize:i}:Cr.assertOptions(i,{encode:sn.function,serialize:sn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Cr.assertOptions(t,{baseUrl:sn.spelling("baseURL"),withXsrfToken:sn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=s&&ee.merge(s.common,s[t.method]);s&&ee.forEach(["delete","get","head","post","put","patch","common"],b=>{delete s[b]}),t.headers=Jt.concat(l,s);const o=[];let a=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(t)===!1||(a=a&&A.synchronous,o.unshift(A.fulfilled,A.rejected))});const c=[];this.interceptors.response.forEach(function(A){c.push(A.fulfilled,A.rejected)});let u,f=0,d;if(!a){const b=[qo.bind(this),void 0];for(b.unshift.apply(b,o),b.push.apply(b,c),d=b.length,u=Promise.resolve(t);f<d;)u=u.then(b[f++],b[f++]);return u}d=o.length;let m=t;for(f=0;f<d;){const b=o[f++],A=o[f++];try{m=b(m)}catch(_){A.call(this,_);break}}try{u=qo.call(this,m)}catch(b){return Promise.reject(b)}for(f=0,d=c.length;f<d;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=Kn(this.defaults,e);const t=Wp(e.baseURL,e.url,e.allowAbsoluteUrls);return Up(t,e.params,e.paramsSerializer)}}ee.forEach(["delete","get","head","options"],function(e){zr.prototype[e]=function(t,n){return this.request(Kn(n||{},{method:e,url:t,data:(n||{}).data}))}});ee.forEach(["post","put","patch"],function(e){function t(n){return function(s,l,o){return this.request(Kn(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}zr.prototype[e]=t(),zr.prototype[e+"Form"]=t(!0)});const Tr=zr;class Ll{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const l=new Promise(o=>{n.subscribe(o),s=o}).then(i);return l.cancel=function(){n.unsubscribe(s)},l},e(function(s,l,o){n.reason||(n.reason=new Ii(s,l,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ll(function(i){e=i}),cancel:e}}}const ab=Ll;function cb(r){return function(t){return r.apply(null,t)}}function ub(r){return ee.isObject(r)&&r.isAxiosError===!0}const Js={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Js).forEach(([r,e])=>{Js[e]=r});const fb=Js;function Jp(r){const e=new Tr(r),t=Tp(Tr.prototype.request,e);return ee.extend(t,Tr.prototype,e,{allOwnKeys:!0}),ee.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Jp(Kn(r,i))},t}const ot=Jp(Rl);ot.Axios=Tr;ot.CanceledError=Ii;ot.CancelToken=ab;ot.isCancel=Hp;ot.VERSION=Yp;ot.toFormData=cs;ot.AxiosError=Me;ot.Cancel=ot.CanceledError;ot.all=function(e){return Promise.all(e)};ot.spread=cb;ot.isAxiosError=ub;ot.mergeConfig=Kn;ot.AxiosHeaders=Jt;ot.formToJSON=r=>jp(ee.isHTMLForm(r)?new FormData(r):r);ot.getAdapter=qp.getAdapter;ot.HttpStatusCode=fb;ot.default=ot;const db=ot;function Zp(r,e){ie("api/authcode.ts: setAuthcode",`Adding authcode to ${r}`,oe.info);let t=localStorage.getItem("arcos-authcodes");t||(t="{}"),t=JSON.parse(t),t[r]=e,localStorage.setItem("arcos-authcodes",JSON.stringify(t))}function xi(r){ie("api/authcode.ts: getAuthcode",`Getting authcode for ${r}`,oe.info);let e=localStorage.getItem("arcos-authcodes");return e||(e="{}"),e=JSON.parse(e),e[r]}const Er=pe(!1);async function un(r){ie("fs/file.ts: readFile",`Requesting file contents of "${r}" from ArcAPI`,oe.info);const e=K(Ge),t=xi(Tt());if(!e)return!1;const n={headers:{Authorization:`Bearer ${K(st)}`}},i=new AbortController,s=wl({ac:t,path:btoa(r)});let l=await fetch(`${e}/fs/file/get${s}`,{...n,signal:i.signal});if(Er.set(!1),Er.subscribe(a=>{a&&(ie("fs/file.ts: readFile",`Aborting readFile for "${r}" as requested by the user...`,oe.error),i.abort(),Qs.set(!0),Er.set(!1))}),l.status!=200)return!1;const o=await l.blob();return l=null,await o.arrayBuffer()}async function fn(r,e){ie("fs/directory.ts: writeFile",`Creating ${r}`);const t=K(Ge),n=xi(Tt());if(!t)return!1;const i=wl({path:btoa(r),ac:n});return(await db.post(`${t}/fs/file/write${i}`,e,{headers:{Authorization:`Bearer ${K(st)}`},onUploadProgress(l){const o=l.loaded/l.total*100;hp.set(o)}})).status==200}const Xp=""+new URL("apppoker-d7ed29fe.svg",import.meta.url).href,Zs=""+new URL("loadtheme-61b4520f.svg",import.meta.url).href,pb=""+new URL("openinnew-33fae09f.svg",import.meta.url).href,mb=""+new URL("pdfopener-7ec41537.svg",import.meta.url).href,Jo=["anim","noGlass","sharp","theme","wallpaper","accent","docked","taskbarCentered","taskbarLabels","taskbarPosition","taskbarColored","smallStart","titleButtons","titlebarLarge","titlebarLeft"];function xp(r){const e=K(te);e.sh.anim=r.anim,e.sh.noGlass=r.noGlass,e.sh.desktop.sharp=r.sharp,e.sh.desktop.theme=r.theme,e.sh.desktop.wallpaper=r.wallpaper,e.sh.desktop.accent=r.accent,e.sh.taskbar.docked=r.docked,e.sh.taskbar.centered=r.taskbarCentered,e.sh.taskbar.labels=r.taskbarLabels,e.sh.taskbar.pos=r.taskbarPosition,e.sh.start.small=r.smallStart,e.sh.window.buttons=r.titleButtons,e.sh.window.bigtb=r.titlebarLarge,e.sh.window.lefttb=r.titlebarLeft,e.sh.taskbar.colored=r.taskbarColored,e.sh.window.centertb=!!r.titlebarCentered,e.sh.taskbar.isLauncher=!!r.isLauncher,te.set(e)}function hb(r){const e=`${Math.floor(Math.random()*1e6)}`,t=K(te),n={version:"1.0.0",name:r,author:K(Pe),anim:t.sh.anim,noGlass:t.sh.noGlass,sharp:t.sh.desktop.sharp,theme:t.sh.desktop.theme,wallpaper:t.sh.desktop.wallpaper,accent:t.sh.desktop.accent,docked:t.sh.taskbar.docked,taskbarCentered:t.sh.taskbar.centered,taskbarLabels:t.sh.taskbar.labels,taskbarPosition:t.sh.taskbar.pos,smallStart:t.sh.start.small,titleButtons:t.sh.window.buttons,titlebarLarge:t.sh.window.bigtb,titlebarLeft:t.sh.window.lefttb,taskbarColored:t.sh.taskbar.colored,titlebarCentered:t.sh.taskbar.centered,isLauncher:t.sh.taskbar.isLauncher};t.sh.userThemes||(t.sh.userThemes={}),t.sh.userThemes[e]=n,te.set(t)}function gb(r){const e=K(te);return!e.sh.userThemes||!e.sh.userThemes[r]?!1:(delete e.sh.userThemes[r],te.set(e),!0)}function Ab(r){const e=Object.keys(r);for(let t=0;t<Jo.length;t++)if(!e.includes(Jo[t]))return!1;return!0}const ps=""+new URL("apps-5c65dab6.svg",import.meta.url).href;function bb(r){let e,t,n,i,s,l,o,a,c=r[1].name+"",u,f,d,m=r[1].description+"",b,A,_;return{c(){e=g("button"),t=g("div"),n=g("img"),l=T(),o=g("div"),a=g("div"),u=F(c),f=T(),d=g("div"),b=F(m),de(n.src,i=r[1].icon)||h(n,"src",i),h(n,"alt",s=r[1].name),h(t,"class","icon"),h(a,"class","name"),h(d,"class","description"),h(e,"class","option loader"),j(e,"selected",r[0]==r[1].name)},m(v,k){S(v,e,k),p(e,t),p(t,n),p(e,l),p(e,o),p(o,a),p(a,u),p(o,f),p(o,d),p(d,b),A||(_=[N(e,"click",r[2]),N(e,"dblclick",r[3])],A=!0)},p(v,[k]){k&2&&!de(n.src,i=v[1].icon)&&h(n,"src",i),k&2&&s!==(s=v[1].name)&&h(n,"alt",s),k&2&&c!==(c=v[1].name+"")&&W(u,c),k&2&&m!==(m=v[1].description+"")&&W(b,m),k&3&&j(e,"selected",v[0]==v[1].name)},i:O,o:O,d(v){v&&y(e),A=!1,ke(_)}}}function _b(r,e,t){let{loader:n}=e,{file:i}=e,{selected:s=""}=e,{loaderOptions:l}=e,{options:o}=e;function a(){t(0,s=n.name)}function c(){n.loader(i),bt("OpenWithApp"),t(4,l=[]),t(5,o=[])}return r.$$set=u=>{"loader"in u&&t(1,n=u.loader),"file"in u&&t(6,i=u.file),"selected"in u&&t(0,s=u.selected),"loaderOptions"in u&&t(4,l=u.loaderOptions),"options"in u&&t(5,o=u.options)},[s,n,a,c,l,o,i]}class wb extends U{constructor(e){super(),z(this,e,_b,bb,P,{loader:1,file:6,selected:0,loaderOptions:4,options:5})}}function vb(r){let e,t,n,i,s,l,o,a,c=r[1].info.name+"",u,f,d,m=r[1].info.description+"",b,A,_,v=r[1].id+"",k,$,E;return{c(){e=g("button"),t=g("div"),n=g("img"),l=T(),o=g("div"),a=g("div"),u=F(c),f=T(),d=g("div"),b=F(m),A=T(),_=g("div"),k=F(v),de(n.src,i=r[1].info.icon)||h(n,"src",i),h(n,"alt",s=r[1].info.name),h(t,"class","icon"),h(a,"class","name"),h(d,"class","description"),h(_,"class","id"),h(e,"class","option"),j(e,"selected",r[0]==r[1].id)},m(I,R){S(I,e,R),p(e,t),p(t,n),p(e,l),p(e,o),p(o,a),p(a,u),p(o,f),p(o,d),p(d,b),p(e,A),p(e,_),p(_,k),$||(E=[N(e,"click",r[2]),N(e,"dblclick",r[3])],$=!0)},p(I,[R]){R&2&&!de(n.src,i=I[1].info.icon)&&h(n,"src",i),R&2&&s!==(s=I[1].info.name)&&h(n,"alt",s),R&2&&c!==(c=I[1].info.name+"")&&W(u,c),R&2&&m!==(m=I[1].info.description+"")&&W(b,m),R&2&&v!==(v=I[1].id+"")&&W(k,v),R&3&&j(e,"selected",I[0]==I[1].id)},i:O,o:O,d(I){I&&y(e),$=!1,ke(E)}}}function kb(r,e,t){let{app:n}=e,{file:i}=e,{selected:s=""}=e,{loaderOptions:l}=e,{options:o}=e;function a(){t(0,s=n.id)}function c(){bs(n.id,i,i.anymime),setTimeout(()=>{Cn.set(null)},1e3),bt("OpenWithApp"),t(4,l=[]),t(5,o=[])}return r.$$set=u=>{"app"in u&&t(1,n=u.app),"file"in u&&t(6,i=u.file),"selected"in u&&t(0,s=u.selected),"loaderOptions"in u&&t(4,l=u.loaderOptions),"options"in u&&t(5,o=u.options)},[s,n,a,c,l,o,i]}let yb=class extends U{constructor(e){super(),z(this,e,kb,vb,P,{app:1,file:6,selected:0,loaderOptions:4,options:5})}};function Zo(r,e,t){const n=r.slice();return n[13]=e[t],n}function Xo(r,e,t){const n=r.slice();return n[16]=e[t],n}function xo(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v,k,$,E,I,R,L,H=X(r[0]),Q=[];for(let Z=0;Z<H.length;Z+=1)Q[Z]=ea(Xo(r,H,Z));const x=Z=>C(Q[Z],1,1,()=>{Q[Z]=null});let J=!r[0].length&&ta(),Ae=X(r[1]),ce=[];for(let Z=0;Z<Ae.length;Z+=1)ce[Z]=na(Zo(r,Ae,Z));const se=Z=>C(ce[Z],1,1,()=>{ce[Z]=null});let ne=!r[1].length&&ia();return{c(){e=g("div"),t=g("p"),n=F("Select an item to open "),i=F(r[3]),s=T(),l=g("div"),o=g("p"),o.textContent="Apps",a=T();for(let Z=0;Z<Q.length;Z+=1)Q[Z].c();c=T(),J&&J.c(),u=T(),f=g("p"),f.textContent="Handlers",d=T();for(let Z=0;Z<ce.length;Z+=1)ce[Z].c();m=T(),ne&&ne.c(),b=T(),A=g("div"),_=g("button"),v=F("Open"),$=T(),E=g("button"),E.textContent="Cancel",h(t,"class","title"),h(o,"class","category"),h(f,"class","category"),h(l,"class","options"),_.disabled=k=!r[2],h(A,"class","actions"),h(e,"class","content")},m(Z,re){S(Z,e,re),p(e,t),p(t,n),p(t,i),p(e,s),p(e,l),p(l,o),p(l,a);for(let Y=0;Y<Q.length;Y+=1)Q[Y]&&Q[Y].m(l,null);p(l,c),J&&J.m(l,null),p(l,u),p(l,f),p(l,d);for(let Y=0;Y<ce.length;Y+=1)ce[Y]&&ce[Y].m(l,null);p(l,m),ne&&ne.m(l,null),p(e,b),p(e,A),p(A,_),p(_,v),p(A,$),p(A,E),I=!0,R||(L=[N(_,"click",r[5]),N(E,"click",r[6])],R=!0)},p(Z,re){if((!I||re&8)&&W(i,Z[3]),re&23){H=X(Z[0]);let Y;for(Y=0;Y<H.length;Y+=1){const ae=Xo(Z,H,Y);Q[Y]?(Q[Y].p(ae,re),w(Q[Y],1)):(Q[Y]=ea(ae),Q[Y].c(),w(Q[Y],1),Q[Y].m(l,c))}for(V(),Y=H.length;Y<Q.length;Y+=1)x(Y);q()}if(Z[0].length?J&&(J.d(1),J=null):J||(J=ta(),J.c(),J.m(l,u)),re&23){Ae=X(Z[1]);let Y;for(Y=0;Y<Ae.length;Y+=1){const ae=Zo(Z,Ae,Y);ce[Y]?(ce[Y].p(ae,re),w(ce[Y],1)):(ce[Y]=na(ae),ce[Y].c(),w(ce[Y],1),ce[Y].m(l,m))}for(V(),Y=Ae.length;Y<ce.length;Y+=1)se(Y);q()}Z[1].length?ne&&(ne.d(1),ne=null):ne||(ne=ia(),ne.c(),ne.m(l,null)),(!I||re&4&&k!==(k=!Z[2]))&&(_.disabled=k)},i(Z){if(!I){for(let re=0;re<H.length;re+=1)w(Q[re]);for(let re=0;re<Ae.length;re+=1)w(ce[re]);I=!0}},o(Z){Q=Q.filter(Boolean);for(let re=0;re<Q.length;re+=1)C(Q[re]);ce=ce.filter(Boolean);for(let re=0;re<ce.length;re+=1)C(ce[re]);I=!1},d(Z){Z&&y(e),me(Q,Z),J&&J.d(),me(ce,Z),ne&&ne.d(),R=!1,ke(L)}}}function ea(r){let e,t,n,i,s;function l(u){r[7](u)}function o(u){r[8](u)}function a(u){r[9](u)}let c={file:r[4],app:r[16]};return r[1]!==void 0&&(c.loaderOptions=r[1]),r[0]!==void 0&&(c.options=r[0]),r[2]!==void 0&&(c.selected=r[2]),e=new yb({props:c}),we.push(()=>Ce(e,"loaderOptions",l)),we.push(()=>Ce(e,"options",o)),we.push(()=>Ce(e,"selected",a)),{c(){M(e.$$.fragment)},m(u,f){D(e,u,f),s=!0},p(u,f){const d={};f&16&&(d.file=u[4]),f&1&&(d.app=u[16]),!t&&f&2&&(t=!0,d.loaderOptions=u[1],$e(()=>t=!1)),!n&&f&1&&(n=!0,d.options=u[0],$e(()=>n=!1)),!i&&f&4&&(i=!0,d.selected=u[2],$e(()=>i=!1)),e.$set(d)},i(u){s||(w(e.$$.fragment,u),s=!0)},o(u){C(e.$$.fragment,u),s=!1},d(u){B(e,u)}}}function ta(r){let e;return{c(){e=g("p"),e.textContent="No apps found",h(e,"class","noitems")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function na(r){let e,t,n,i,s;function l(u){r[10](u)}function o(u){r[11](u)}function a(u){r[12](u)}let c={loader:r[13],file:r[4]};return r[1]!==void 0&&(c.loaderOptions=r[1]),r[0]!==void 0&&(c.options=r[0]),r[2]!==void 0&&(c.selected=r[2]),e=new wb({props:c}),we.push(()=>Ce(e,"loaderOptions",l)),we.push(()=>Ce(e,"options",o)),we.push(()=>Ce(e,"selected",a)),{c(){M(e.$$.fragment)},m(u,f){D(e,u,f),s=!0},p(u,f){const d={};f&2&&(d.loader=u[13]),f&16&&(d.file=u[4]),!t&&f&2&&(t=!0,d.loaderOptions=u[1],$e(()=>t=!1)),!n&&f&1&&(n=!0,d.options=u[0],$e(()=>n=!1)),!i&&f&4&&(i=!0,d.selected=u[2],$e(()=>i=!1)),e.$set(d)},i(u){s||(w(e.$$.fragment,u),s=!0)},o(u){C(e.$$.fragment,u),s=!1},d(u){B(e,u)}}}function ia(r){let e;return{c(){e=g("p"),e.textContent="No handlers found",h(e,"class","noitems")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function Sb(r){let e,t,n=r[4]&&xo(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[4]?n?(n.p(i,s),s&16&&w(n,1)):(n=xo(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function $b(r,e,t){let n;G(r,Cn,_=>t(4,n=_));let i=[],s=[],l="",o="";Cn.subscribe(_=>{if(!_)return t(3,o="file");t(3,o=_.name),t(0,i=[]),t(1,s=[]);let v=[];_.anymime?v=uD():v=Xm(_.mime);for(let $=0;$<v.length;$++)i.push(Ue(v[$]));t(2,l="");const k=Object.entries(Zl);for(let $=0;$<k.length;$++){const I=k[$][1];for(let R=0;R<I.extensions.length;R++)o.endsWith(I.extensions[R])&&s.push(I);I.extensions.length||s.push(I)}});function a(){const _=Ue(l);if(_)bs(_.id,n,n.anymime);else for(let v=0;v<s.length;v++)s[v].name==l&&s[v].loader(n),Ee(Cn,n=null,n);setTimeout(()=>{Cn.set(null)},1e3),c()}function c(){en.set(!1),bt("OpenWithApp")}function u(_){s=_,t(1,s)}function f(_){i=_,t(0,i)}function d(_){l=_,t(2,l)}function m(_){s=_,t(1,s)}function b(_){i=_,t(0,i)}function A(_){l=_,t(2,l)}return[i,s,l,o,n,a,c,u,f,d,m,b,A]}class Cb extends U{constructor(e){super(),z(this,e,$b,Sb,P,{})}}const Tb={info:{name:"Open With",description:"Open a file with an app",builtin:!0,version:"1.0.0",author:"Izaak Kuipers",hidden:!0,icon:ps},size:{w:450,h:550},pos:{x:30,y:40},minSize:{w:450,h:550},maxSize:{w:450,h:550},controls:{min:!1,max:!1,cls:!1},state:{headless:!0,resizable:!1,windowState:{min:!1,max:!1,fll:!0}},content:Cb,glass:!0,events:{close(){Cn.set(null)}}},Cn=pe(null),Eb=""+new URL("testapp-fd93573e.svg",import.meta.url).href;const Ib=""+new URL("unknown-41ebe866.svg",import.meta.url).href;function Ob(r,e){ie("icon.ts: hotSwapAppIcon",`Changing app icon for ${e} to ${r}`,oe.info);const t=K(ue);for(let n=0;n<t.length;n++)t[n].id==e&&(Xs[e]||(Xs[e]=`${$t(t[n])}`),t[n].info.icon=r);ue.set(t)}function Wt(r){return Xs[r]}function $t(r){return r.info.builtin?r.info.icon:Ib}const Xs={};function ra(r){let e,t,n,i,s,l,o,a,c=r[0].info.name+"",u,f,d,m=r[0].info.description+"",b,A,_,v,k,$,E,I,R,L,H,Q,x=(r[0].size.w||_t)+"",J,Ae,ce=(r[0].size.h||_t)+"",se,ne,Z,re,Y,ae,fe=(r[0].minSize.w||_t)+"",ye,_e,Ie=(r[0].minSize.h||_t)+"",Be,Fe,Ke,it,kn,Et,at=(r[0].maxSize.w||_t)+"",zt,yn,pn=(r[0].maxSize.h||_t)+"",vs,eo,to,no,ni,ks,io,ii,rr=(r[0].pos.x||_t)+"",ys,ro,sr=(r[0].pos.y||_t)+"",Ss,so,ri,$s,lo,lr,or=r[0].core+"",Cs,oo,si,Ts,ao,ar,Sn,li,co,cr,uo,oi,fo,ur,po,ai,mo,fr,ho,ci,Es,go,dr,ui,Ao,pr,Is,bo;function _o(Ne,xe){return Ne[0].parentId?Lb:Rb}let mr=_o(r),rn=mr(r);return{c(){e=g("div"),t=g("div"),n=g("img"),l=T(),o=g("div"),a=g("p"),u=F(c),f=T(),d=g("p"),b=F(m),A=T(),rn.c(),_=T(),v=g("div"),k=g("input"),E=T(),I=g("div"),R=g("div"),L=g("div"),L.textContent="Size:",H=T(),Q=g("div"),J=F(x),Ae=F("x"),se=F(ce),ne=T(),Z=g("div"),re=g("div"),re.textContent="Minimal size:",Y=T(),ae=g("div"),ye=F(fe),_e=F("x"),Be=F(Ie),Fe=T(),Ke=g("div"),it=g("div"),it.textContent="Maximal size:",kn=T(),Et=g("div"),zt=F(at),yn=F("x"),vs=F(pn),eo=T(),to=g("hr"),no=T(),ni=g("div"),ks=g("div"),ks.textContent="Start position:",io=T(),ii=g("div"),ys=F(rr),ro=F("x"),Ss=F(sr),so=T(),ri=g("div"),$s=g("div"),$s.textContent="Core Application:",lo=T(),lr=g("div"),Cs=F(or),oo=T(),si=g("div"),Ts=g("div"),Ts.textContent="Window controls:",ao=T(),ar=g("div"),Sn=g("div"),li=g("button"),co=F("minimize"),uo=T(),oi=g("button"),fo=F("crop_square"),po=T(),ai=g("button"),mo=F("close"),ho=T(),ci=g("div"),Es=g("div"),Es.textContent="Actions",go=T(),dr=g("div"),ui=g("button"),Ao=F("Open"),de(n.src,i=$t(r[0]))||h(n,"src",i),h(n,"alt",s=r[0].info.name),h(a,"class","appname"),h(d,"class","description"),h(k,"type","checkbox"),h(k,"class","switch"),k.disabled=$=qr.includes(r[2]),h(v,"class","actions"),h(e,"class","name"),h(Q,"class","value"),h(R,"class","property"),h(ae,"class","value"),h(Z,"class","property"),h(Et,"class","value"),h(Ke,"class","property"),h(ii,"class","value"),h(ni,"class","property"),h(lr,"class","value"),h(ri,"class","property"),h(li,"class","material-icons-round"),li.disabled=cr=!r[0].controls.min,h(oi,"class","material-icons-round"),oi.disabled=ur=!r[0].controls.max,h(ai,"class","material-icons-round"),ai.disabled=fr=!r[0].controls.cls,h(Sn,"class","controls"),h(ar,"class","value"),h(si,"class","property"),ui.disabled=pr=r[0].opened||r[0].disabled||r[0].core,h(dr,"class","value"),h(ci,"class","property"),h(I,"class","properties")},m(Ne,xe){S(Ne,e,xe),p(e,t),p(t,n),p(e,l),p(e,o),p(o,a),p(a,u),p(o,f),p(o,d),p(d,b),p(d,A),rn.m(d,null),p(e,_),p(e,v),p(v,k),k.checked=r[1],S(Ne,E,xe),S(Ne,I,xe),p(I,R),p(R,L),p(R,H),p(R,Q),p(Q,J),p(Q,Ae),p(Q,se),p(I,ne),p(I,Z),p(Z,re),p(Z,Y),p(Z,ae),p(ae,ye),p(ae,_e),p(ae,Be),p(I,Fe),p(I,Ke),p(Ke,it),p(Ke,kn),p(Ke,Et),p(Et,zt),p(Et,yn),p(Et,vs),p(I,eo),p(I,to),p(I,no),p(I,ni),p(ni,ks),p(ni,io),p(ni,ii),p(ii,ys),p(ii,ro),p(ii,Ss),p(I,so),p(I,ri),p(ri,$s),p(ri,lo),p(ri,lr),p(lr,Cs),p(I,oo),p(I,si),p(si,Ts),p(si,ao),p(si,ar),p(ar,Sn),p(Sn,li),p(li,co),p(Sn,uo),p(Sn,oi),p(oi,fo),p(Sn,po),p(Sn,ai),p(ai,mo),p(I,ho),p(I,ci),p(ci,Es),p(ci,go),p(ci,dr),p(dr,ui),p(ui,Ao),Is||(bo=[N(k,"change",r[4]),N(k,"change",r[3]),N(ui,"click",r[5])],Is=!0)},p(Ne,xe){xe&1&&!de(n.src,i=$t(Ne[0]))&&h(n,"src",i),xe&1&&s!==(s=Ne[0].info.name)&&h(n,"alt",s),xe&1&&c!==(c=Ne[0].info.name+"")&&W(u,c),xe&1&&m!==(m=Ne[0].info.description+"")&&W(b,m),mr===(mr=_o(Ne))&&rn?rn.p(Ne,xe):(rn.d(1),rn=mr(Ne),rn&&(rn.c(),rn.m(d,null))),xe&4&&$!==($=qr.includes(Ne[2]))&&(k.disabled=$),xe&2&&(k.checked=Ne[1]),xe&1&&x!==(x=(Ne[0].size.w||_t)+"")&&W(J,x),xe&1&&ce!==(ce=(Ne[0].size.h||_t)+"")&&W(se,ce),xe&1&&fe!==(fe=(Ne[0].minSize.w||_t)+"")&&W(ye,fe),xe&1&&Ie!==(Ie=(Ne[0].minSize.h||_t)+"")&&W(Be,Ie),xe&1&&at!==(at=(Ne[0].maxSize.w||_t)+"")&&W(zt,at),xe&1&&pn!==(pn=(Ne[0].maxSize.h||_t)+"")&&W(vs,pn),xe&1&&rr!==(rr=(Ne[0].pos.x||_t)+"")&&W(ys,rr),xe&1&&sr!==(sr=(Ne[0].pos.y||_t)+"")&&W(Ss,sr),xe&1&&or!==(or=Ne[0].core+"")&&W(Cs,or),xe&1&&cr!==(cr=!Ne[0].controls.min)&&(li.disabled=cr),xe&1&&ur!==(ur=!Ne[0].controls.max)&&(oi.disabled=ur),xe&1&&fr!==(fr=!Ne[0].controls.cls)&&(ai.disabled=fr),xe&1&&pr!==(pr=Ne[0].opened||Ne[0].disabled||Ne[0].core)&&(ui.disabled=pr)},d(Ne){Ne&&(y(e),y(E),y(I)),rn.d(),Is=!1,ke(bo)}}}function Rb(r){let e,t=r[0].id+"",n,i;return{c(){e=F("("),n=F(t),i=F(")")},m(s,l){S(s,e,l),S(s,n,l),S(s,i,l)},p(s,l){l&1&&t!==(t=s[0].id+"")&&W(n,t)},d(s){s&&(y(e),y(n),y(i))}}}function Lb(r){let e,t=r[0].parentId+"",n,i,s=r[0].id+"",l,o;return{c(){e=F("("),n=F(t),i=F("."),l=F(s),o=F(")")},m(a,c){S(a,e,c),S(a,n,c),S(a,i,c),S(a,l,c),S(a,o,c)},p(a,c){c&1&&t!==(t=a[0].parentId+"")&&W(n,t),c&1&&s!==(s=a[0].id+"")&&W(l,s)},d(a){a&&(y(e),y(n),y(i),y(l),y(o))}}}function Db(r){let e,t=r[0]&&ra(r);return{c(){t&&t.c(),e=le()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0]?t?t.p(n,i):(t=ra(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}let _t="(unset)";function Bb(r,e,t){let n;G(r,ji,u=>t(2,n=u));let i,s=!0;function l(){s?Zm(n):Jm(n),t(0,i=Ue(n)),i&&t(1,s=!Ue(n).disabled)}ji.subscribe(o),ue.subscribe(o);function o(){n&&(t(0,i=Ue(n)),i&&t(1,s=!Ue(n).disabled))}function a(){s=this.checked,t(1,s)}return[i,s,n,l,a,()=>ze(n)]}let Mb=class extends U{constructor(e){super(),z(this,e,Bb,Db,P,{})}};const Fb={info:{name:"Application Info",description:"View information about an application",builtin:!0,version:"1.0.0",author:"Izaak Kuipers",hidden:!0,icon:Eb},size:{w:500,h:450},pos:{x:30,y:40},minSize:{w:500,h:450},maxSize:{w:500,h:450},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:Mb,glass:!1,events:{close(){ji.set(null)}}},ji=pe(null),Dl=""+new URL("appmanager-60c1ea43.svg",import.meta.url).href;const Pb=[{caption:"Run...",icon:"directions_run",action:()=>{Xe("run","AppMan")}}],Gn=pe();function sa(r){let e,t,n,i,s,l,o=r[0].info.name+"",a,c,u,f,d,m,b=r[1]&&la();function A(k,$){return k[0].parentId?Ub:zb}let _=A(r),v=_(r);return{c(){e=g("div"),t=g("div"),n=g("img"),s=T(),l=g("div"),a=F(o),c=T(),b&&b.c(),u=T(),f=g("div"),v.c(),de(n.src,i=Wt(r[0].id)||$t(r[0]))||h(n,"src",i),h(n,"alt",""),h(l,"class","appname"),h(f,"class","id"),h(e,"class","appinstance"),j(e,"closed",!r[0].opened),j(e,"selected",r[2]==r[0].id)},m(k,$){S(k,e,$),p(e,t),p(t,n),p(e,s),p(e,l),p(l,a),p(l,c),b&&b.m(l,null),p(e,u),p(e,f),v.m(f,null),d||(m=N(e,"click",r[3]),d=!0)},p(k,$){$&1&&!de(n.src,i=Wt(k[0].id)||$t(k[0]))&&h(n,"src",i),$&1&&o!==(o=k[0].info.name+"")&&W(a,o),k[1]?b||(b=la(),b.c(),b.m(l,null)):b&&(b.d(1),b=null),_===(_=A(k))&&v?v.p(k,$):(v.d(1),v=_(k),v&&(v.c(),v.m(f,null))),$&1&&j(e,"closed",!k[0].opened),$&5&&j(e,"selected",k[2]==k[0].id)},d(k){k&&y(e),b&&b.d(),v.d(),d=!1,m()}}}function la(r){let e;return{c(){e=F("(Dialog)")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function zb(r){let e=r[0].id+"",t;return{c(){t=F(e)},m(n,i){S(n,t,i)},p(n,i){i&1&&e!==(e=n[0].id+"")&&W(t,e)},d(n){n&&y(t)}}}function Ub(r){let e=r[0].parentId+"",t,n,i=r[0].id+"",s;return{c(){t=F(e),n=F("."),s=F(i)},m(l,o){S(l,t,o),S(l,n,o),S(l,s,o)},p(l,o){o&1&&e!==(e=l[0].parentId+"")&&W(t,e),o&1&&i!==(i=l[0].id+"")&&W(s,i)},d(l){l&&(y(t),y(n),y(s))}}}function Nb(r){let e=r[0]&&(!_i(r[0].id)&&on(r[0].id)||r[1]),t,n=e&&sa(r);return{c(){n&&n.c(),t=le()},m(i,s){n&&n.m(i,s),S(i,t,s)},p(i,[s]){s&3&&(e=i[0]&&(!_i(i[0].id)&&on(i[0].id)||i[1])),e?n?n.p(i,s):(n=sa(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:O,o:O,d(i){i&&y(t),n&&n.d(i)}}}function jb(r,e,t){let n;G(r,Gn,o=>t(2,n=o));let{app:i}=e,{error:s=!1}=e;function l(){Ee(Gn,n=i.id,n)}return r.$$set=o=>{"app"in o&&t(0,i=o.app),"error"in o&&t(1,s=o.error)},[i,s,n,l]}let Hb=class extends U{constructor(e){super(),z(this,e,jb,Nb,P,{app:0,error:1})}};const em=""+new URL("default-fc91861d.svg",import.meta.url).href;function oa(r){let e,t,n,i,s=r[1].info.name+"",l,o,a,c=r[2].id+"",u,f,d;return{c(){e=g("div"),t=g("div"),t.innerHTML=`<img src="${em}" alt=""/>`,n=T(),i=g("div"),l=F(s),o=T(),a=g("div"),u=F(c),f=F("."),d=F(r[0]),h(i,"class","appname"),h(a,"class","id"),h(e,"class","appinstance"),j(e,"closed",!r[1].show)},m(m,b){S(m,e,b),p(e,t),p(e,n),p(e,i),p(i,l),p(e,o),p(e,a),p(a,u),p(a,f),p(a,d)},p(m,b){b&2&&s!==(s=m[1].info.name+"")&&W(l,s),b&4&&c!==(c=m[2].id+"")&&W(u,c),b&1&&W(d,m[0]),b&2&&j(e,"closed",!m[1].show)},d(m){m&&y(e)}}}function Qb(r){let e,t=r[1]&&on(r[2].id),n=t&&oa(r);return{c(){e=g("div"),n&&n.c(),h(e,"class","indent")},m(i,s){S(i,e,s),n&&n.m(e,null)},p(i,[s]){s&6&&(t=i[1]&&on(i[2].id)),t?n?n.p(i,s):(n=oa(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},i:O,o:O,d(i){i&&y(e),n&&n.d()}}}function Wb(r,e,t){let{id:n}=e,{overlay:i}=e,{parent:s}=e;return r.$$set=l=>{"id"in l&&t(0,n=l.id),"overlay"in l&&t(1,i=l.overlay),"parent"in l&&t(2,s=l.parent)},[n,i,s]}class Kb extends U{constructor(e){super(),z(this,e,Wb,Qb,P,{id:0,overlay:1,parent:2})}}function aa(r,e,t){const n=r.slice();return n[3]=e[t],n}function ca(r,e,t){const n=r.slice();return n[6]=e[t],n}function ua(r){let e,t,n,i,s;t=new Hb({props:{app:r[0],error:r[2]}});let l=r[0].children&&fa(r),o=r[0].overlays&&pa(r);return{c(){e=g("div"),M(t.$$.fragment),n=T(),l&&l.c(),i=T(),o&&o.c(),j(e,"indent",!r[1])},m(a,c){S(a,e,c),D(t,e,null),p(e,n),l&&l.m(e,null),p(e,i),o&&o.m(e,null),s=!0},p(a,c){const u={};c&1&&(u.app=a[0]),c&4&&(u.error=a[2]),t.$set(u),a[0].children?l?(l.p(a,c),c&1&&w(l,1)):(l=fa(a),l.c(),w(l,1),l.m(e,i)):l&&(V(),C(l,1,1,()=>{l=null}),q()),a[0].overlays?o?(o.p(a,c),c&1&&w(o,1)):(o=pa(a),o.c(),w(o,1),o.m(e,null)):o&&(V(),C(o,1,1,()=>{o=null}),q()),(!s||c&2)&&j(e,"indent",!a[1])},i(a){s||(w(t.$$.fragment,a),w(l),w(o),s=!0)},o(a){C(t.$$.fragment,a),C(l),C(o),s=!1},d(a){a&&y(e),B(t),l&&l.d(),o&&o.d()}}}function fa(r){let e,t,n=X(Object.keys(r[0].children)),i=[];for(let l=0;l<n.length;l+=1)i[l]=da(ca(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=le()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&1){n=X(Object.keys(l[0].children));let a;for(a=0;a<n.length;a+=1){const c=ca(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=da(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function da(r){let e,t;return e=new Bl({props:{window:Ue(r[6])}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.window=Ue(n[6])),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function pa(r){let e,t,n=X(Object.entries(r[0].overlays)),i=[];for(let l=0;l<n.length;l+=1)i[l]=ma(aa(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=le()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&1){n=X(Object.entries(l[0].overlays));let a;for(a=0;a<n.length;a+=1){const c=aa(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=ma(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function ma(r){let e,t;return e=new Kb({props:{overlay:r[3][1],parent:r[0],id:r[3][0]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.overlay=n[3][1]),i&1&&(s.parent=n[0]),i&1&&(s.id=n[3][0]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Gb(r){let e,t,n=r[0]&&ua(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=ua(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function Vb(r,e,t){let{window:n}=e,{top:i=!1}=e,{error:s=!1}=e;return r.$$set=l=>{"window"in l&&t(0,n=l.window),"top"in l&&t(1,i=l.top),"error"in l&&t(2,s=l.error)},[n,i,s]}let Bl=class extends U{constructor(e){super(),z(this,e,Vb,Gb,P,{window:0,top:1,error:2})}};function ha(r,e,t){const n=r.slice();return n[2]=e[t],n}function ga(r,e,t){const n=r.slice();return n[5]=e[t],n}function Aa(r){let e,t;return e=new Bl({props:{window:r[5],top:!0}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.window=n[5]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function ba(r){let e,t,n=!r[5].parentId&&Aa(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,s){i[5].parentId?n&&(V(),C(n,1,1,()=>{n=null}),q()):n?(n.p(i,s),s&2&&w(n,1)):(n=Aa(i),n.c(),w(n,1),n.m(e.parentNode,e))},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function _a(r){let e,t;return e=new Bl({props:{window:r[2],top:!0,error:!0}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.window=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function qb(r){let e,t,n,i=X(r[1]),s=[];for(let u=0;u<i.length;u+=1)s[u]=ba(ga(r,i,u));const l=u=>C(s[u],1,1,()=>{s[u]=null});let o=X(r[0]),a=[];for(let u=0;u<o.length;u+=1)a[u]=_a(ha(r,o,u));const c=u=>C(a[u],1,1,()=>{a[u]=null});return{c(){e=g("div");for(let u=0;u<s.length;u+=1)s[u].c();t=T();for(let u=0;u<a.length;u+=1)a[u].c();h(e,"class","apps")},m(u,f){S(u,e,f);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(e,null);p(e,t);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(e,null);n=!0},p(u,[f]){if(f&2){i=X(u[1]);let d;for(d=0;d<i.length;d+=1){const m=ga(u,i,d);s[d]?(s[d].p(m,f),w(s[d],1)):(s[d]=ba(m),s[d].c(),w(s[d],1),s[d].m(e,t))}for(V(),d=i.length;d<s.length;d+=1)l(d);q()}if(f&1){o=X(u[0]);let d;for(d=0;d<o.length;d+=1){const m=ha(u,o,d);a[d]?(a[d].p(m,f),w(a[d],1)):(a[d]=_a(m),a[d].c(),w(a[d],1),a[d].m(e,null))}for(V(),d=o.length;d<a.length;d+=1)c(d);q()}},i(u){if(!n){for(let f=0;f<i.length;f+=1)w(s[f]);for(let f=0;f<o.length;f+=1)w(a[f]);n=!0}},o(u){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)C(s[f]);a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)C(a[f]);n=!1},d(u){u&&y(e),me(s,u),me(a,u)}}}function Yb(r,e,t){let n;G(r,ue,s=>t(1,n=s));let i=[];return Yt.subscribe(s=>{t(0,i=s)}),[i,n]}class Jb extends U{constructor(e){super(),z(this,e,Yb,qb,P,{})}}function wa(r){let e,t,n=Ue(r[0]).snapped?"yes":"no",i;return{c(){e=g("div"),t=F("Snapped: "),i=F(n),h(e,"class","section")},m(s,l){S(s,e,l),p(e,t),p(e,i)},p(s,l){l&1&&n!==(n=Ue(s[0]).snapped?"yes":"no")&&W(i,n)},d(s){s&&y(e)}}}function Zb(r){let e,t,n=r[0]&&!r[0].startsWith("error_"),i,s,l,o=r[1].length+"",a,c,u,f,d=r[2].length+"",m,b,A,_,v=r[3].length+"",k,$=n&&wa(r);return{c(){e=g("div"),t=g("div"),$&&$.c(),i=T(),s=g("div"),l=F("Running: "),a=F(o),c=T(),u=g("div"),f=F("Loaded: "),m=F(d),b=T(),A=g("div"),_=F("Dialogs: "),k=F(v),h(s,"class","section"),h(u,"class","section"),h(A,"class","section"),h(t,"class","right"),h(e,"class","bottombar")},m(E,I){S(E,e,I),p(e,t),$&&$.m(t,null),p(t,i),p(t,s),p(s,l),p(s,a),p(t,c),p(t,u),p(u,f),p(u,m),p(t,b),p(t,A),p(A,_),p(A,k)},p(E,[I]){I&1&&(n=E[0]&&!E[0].startsWith("error_")),n?$?$.p(E,I):($=wa(E),$.c(),$.m(t,i)):$&&($.d(1),$=null),I&2&&o!==(o=E[1].length+"")&&W(a,o),I&4&&d!==(d=E[2].length+"")&&W(m,d),I&8&&v!==(v=E[3].length+"")&&W(k,v)},i:O,o:O,d(E){E&&y(e),$&&$.d()}}}function Xb(r,e,t){let n,i,s,l;return G(r,Gn,o=>t(0,n=o)),G(r,vh,o=>t(1,i=o)),G(r,ue,o=>t(2,s=o)),G(r,Yt,o=>t(3,l=o)),[n,i,s,l]}class xb extends U{constructor(e){super(),z(this,e,Xb,Zb,P,{})}}function e_(r){let e,t,n=r[0].icon+"",i,s,l,o=r[0].caption+"",a,c,u;return{c(){e=g("button"),t=g("span"),i=F(n),s=T(),l=g("p"),a=F(o),h(t,"class","material-icons-round"),h(l,"class","caption"),h(e,"class","action")},m(f,d){S(f,e,d),p(e,t),p(t,i),p(e,s),p(e,l),p(l,a),c||(u=N(e,"click",function(){ct(r[0].action)&&r[0].action.apply(this,arguments)}),c=!0)},p(f,[d]){r=f,d&1&&n!==(n=r[0].icon+"")&&W(i,n),d&1&&o!==(o=r[0].caption+"")&&W(a,o)},i:O,o:O,d(f){f&&y(e),c=!1,u()}}}function t_(r,e,t){let{action:n}=e;return r.$$set=i=>{"action"in i&&t(0,n=i.action)},[n]}let n_=class extends U{constructor(e){super(),z(this,e,t_,e_,P,{action:0})}};function i_(r){let e,t,n,i,s,l,o;return{c(){e=g("button"),t=g("span"),t.textContent="settings",n=T(),i=g("p"),i.textContent="App info",h(t,"class","material-icons-round"),h(i,"class","caption"),h(e,"class","action"),e.disabled=s=!r[0]},m(a,c){S(a,e,c),p(e,t),p(e,n),p(e,i),l||(o=N(e,"click",r[1]),l=!0)},p(a,[c]){c&1&&s!==(s=!a[0])&&(e.disabled=s)},i:O,o:O,d(a){a&&y(e),l=!1,o()}}}function r_(r,e,t){let n;G(r,Gn,s=>t(0,n=s));function i(){ji.set(n),ze("AppInfo")}return[n,i]}class s_ extends U{constructor(e){super(),z(this,e,r_,i_,P,{})}}function l_(r){let e,t,n,i,s,l,o;return{c(){e=g("button"),t=g("span"),t.textContent="close",n=T(),i=g("p"),i.textContent="Close",h(t,"class","material-icons-round"),h(i,"class","caption"),h(e,"class","action"),e.disabled=s=!r[0]},m(a,c){S(a,e,c),p(e,t),p(e,n),p(e,i),l||(o=N(e,"click",r[1]),l=!0)},p(a,[c]){c&1&&s!==(s=!a[0])&&(e.disabled=s)},i:O,o:O,d(a){a&&y(e),l=!1,o()}}}function o_(r,e,t){let n;G(r,Gn,s=>t(0,n=s));function i(){bt(n),Ee(Gn,n=null,n)}return[n,i]}class a_ extends U{constructor(e){super(),z(this,e,o_,l_,P,{})}}function c_(r){let e,t,n,i,s,l,o;return{c(){e=g("button"),t=g("span"),t.textContent="block",n=T(),i=g("p"),i.textContent="Disable",h(t,"class","material-icons-round"),h(i,"class","caption"),h(e,"class","action"),e.disabled=s=!r[0]},m(a,c){S(a,e,c),p(e,t),p(e,n),p(e,i),l||(o=N(e,"click",r[1]),l=!0)},p(a,[c]){c&1&&s!==(s=!a[0])&&(e.disabled=s)},i:O,o:O,d(a){a&&y(e),l=!1,o()}}}function u_(r,e,t){let n;G(r,Gn,s=>t(0,n=s));function i(){Jm(n)}return[n,i]}class f_ extends U{constructor(e){super(),z(this,e,u_,c_,P,{})}}function d_(r,e,t){const n=r.slice();return n[0]=e[t],n}function p_(r){let e,t;return e=new n_({props:{action:r[0]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function m_(r){let e,t,n,i,s,l,o,a,c,u,f,d,m;n=new s_({}),o=new f_({}),c=new a_({});let b=X(Pb),A=[];for(let _=0;_<b.length;_+=1)A[_]=p_(d_(r,b,_));return{c(){e=g("div"),t=g("div"),M(n.$$.fragment),i=T(),s=g("div"),l=T(),M(o.$$.fragment),a=T(),M(c.$$.fragment),u=T(),f=g("div"),d=T();for(let _=0;_<A.length;_+=1)A[_].c();h(s,"class","sep"),h(f,"class","sep"),h(t,"class","actions"),h(e,"class","topbar")},m(_,v){S(_,e,v),p(e,t),D(n,t,null),p(t,i),p(t,s),p(t,l),D(o,t,null),p(t,a),D(c,t,null),p(t,u),p(t,f),p(t,d);for(let k=0;k<A.length;k+=1)A[k]&&A[k].m(t,null);m=!0},p:O,i(_){if(!m){w(n.$$.fragment,_),w(o.$$.fragment,_),w(c.$$.fragment,_);for(let v=0;v<b.length;v+=1)w(A[v]);m=!0}},o(_){C(n.$$.fragment,_),C(o.$$.fragment,_),C(c.$$.fragment,_),A=A.filter(Boolean);for(let v=0;v<A.length;v+=1)C(A[v]);m=!1},d(_){_&&y(e),B(n),B(o),B(c),me(A,_)}}}let h_=class extends U{constructor(e){super(),z(this,e,null,m_,P,{})}};function g_(r){let e,t,n,i,s,l;return e=new h_({}),n=new Jb({}),s=new xb({}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment),i=T(),M(s.$$.fragment)},m(o,a){D(e,o,a),S(o,t,a),D(n,o,a),S(o,i,a),D(s,o,a),l=!0},p:O,i(o){l||(w(e.$$.fragment,o),w(n.$$.fragment,o),w(s.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),C(n.$$.fragment,o),C(s.$$.fragment,o),l=!1},d(o){o&&(y(t),y(i)),B(e,o),B(n,o),B(s,o)}}}let A_=class extends U{constructor(e){super(),z(this,e,null,g_,P,{})}};function va(r,e,t){const n=r.slice();return n[5]=e[t],n}function ka(r){let e,t=r[5].id+"",n,i;return{c(){e=g("option"),n=F(t),e.__value=i=r[5].id,he(e,e.__value)},m(s,l){S(s,e,l),p(e,n)},p(s,l){l&2&&t!==(t=s[5].id+"")&&W(n,t),l&2&&i!==(i=s[5].id)&&(e.__value=i,he(e,e.__value))},d(s){s&&y(e)}}}function ya(r){let e=!on(r[5].id)&&!r[5].info.custom&&!_i(r[5].id),t,n=e&&ka(r);return{c(){n&&n.c(),t=le()},m(i,s){n&&n.m(i,s),S(i,t,s)},p(i,s){s&2&&(e=!on(i[5].id)&&!i[5].info.custom&&!_i(i[5].id)),e?n?n.p(i,s):(n=ka(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(i){i&&y(t),n&&n.d(i)}}}function b_(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v,k,$=X(r[1]),E=[];for(let I=0;I<$.length;I+=1)E[I]=ya(va(r,$,I));return{c(){e=g("div"),t=g("img"),i=T(),s=g("div"),l=g("p"),l.textContent="Select the ID of the app you want to run from the following list:",o=T(),a=g("select");for(let I=0;I<E.length;I+=1)E[I].c();c=T(),u=g("div"),f=g("div"),d=g("button"),m=F("Run"),A=T(),_=g("button"),_.textContent="Cancel",de(t.src,n=ps)||h(t,"src",n),h(t,"alt","Run"),h(t,"class","svelte-1pwxzgl"),h(l,"class","caption svelte-1pwxzgl"),h(a,"class","svelte-1pwxzgl"),r[0]===void 0&&In(()=>r[4].call(a)),h(s,"class","inner"),h(e,"class","wrapper svelte-1pwxzgl"),d.disabled=b=!r[0],h(f,"class","inner svelte-1pwxzgl"),h(u,"class","actions svelte-1pwxzgl")},m(I,R){S(I,e,R),p(e,t),p(e,i),p(e,s),p(s,l),p(s,o),p(s,a);for(let L=0;L<E.length;L+=1)E[L]&&E[L].m(a,null);En(a,r[0],!0),S(I,c,R),S(I,u,R),p(u,f),p(f,d),p(d,m),p(f,A),p(f,_),v||(k=[N(a,"change",r[4]),N(d,"click",r[2]),N(_,"click",r[3])],v=!0)},p(I,[R]){if(R&2){$=X(I[1]);let L;for(L=0;L<$.length;L+=1){const H=va(I,$,L);E[L]?E[L].p(H,R):(E[L]=ya(H),E[L].c(),E[L].m(a,null))}for(;L<E.length;L+=1)E[L].d(1);E.length=$.length}R&3&&En(a,I[0]),R&3&&b!==(b=!I[0])&&(d.disabled=b)},i:O,o:O,d(I){I&&(y(e),y(c),y(u)),me(E,I),v=!1,ke(k)}}}function __(r,e,t){let n;G(r,ue,a=>t(1,n=a));let i;function s(){ze(i,!0),l()}function l(){Je("run","AppMan")}function o(){i=Zr(this),t(0,i)}return[i,n,s,l,o]}class w_ extends U{constructor(e){super(),z(this,e,__,b_,P,{})}}const wi=pe([]);function Ml(r){if(v_(r.identifier))return!1;const e=K(wi);e.push(r),wi.set(e)}function Ur(r){const e=K(wi);for(let t=0;t<e.length;t++)e[t].identifier==r&&e.splice(t,1);wi.set(e)}function v_(r){const e=K(wi);for(let t=0;t<e.length;t++)if(e[t].identifier==r)return!0;return!1}const tm={info:{name:"Application Manager",description:"Manage Open Apps",builtin:!0,version:"1.5.0",author:"Izaak Kuipers",icon:Dl,appGroup:"systemTools"},size:{w:600,h:500},pos:{x:30,y:40},minSize:{w:600,h:500},maxSize:{w:600,h:500},controls:{min:!1,max:!0,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:A_,glass:!0,events:{open(){Ml({image:tm.info.icon,identifier:"Application Manager",onOpen(){}})},close(){Ur("Application Manager")}},overlays:{run:{info:{name:"Run",author:"ArcOS Team",version:"1.0.0"},size:{w:NaN,h:NaN},show:!1,content:w_}}},Fl=""+new URL("arcterm-b608c3ab.svg",import.meta.url).href;function k_(r){let e,t,n;return{c(){e=g("div"),h(e,"class","terminal-renderer")},m(i,s){S(i,e,s),r[3](e),t||(n=N(e,"click",r[1]),t=!0)},p:O,i:O,o:O,d(i){i&&y(e),r[3](null),t=!1,n()}}}function y_(r,e,t){let n;G(r,tt,c=>t(5,n=c));let{app:i}=e,s,l;ve(()=>{t(2,i.events.close=()=>{s&&(s.dispose(),s=null)},i),t(2,i.events.open=()=>{s||(s=new th(l,[...eh,...oB],i,c=>{c.std.clear()})),i.state.windowState.fll&&Ah(i.id)},i),t(2,i.events.blur=()=>{s&&s.input&&s.input.current&&(s.input.current.disabled=!0)},i),t(2,i.events.focus=()=>{s&&s.input&&s.input.current&&(s.input.current.disabled=!1)},i)});function o(){!s||!s.input||!s.input.current||n!="ArcTerm"||(s.input.current.focus(),l&&l.scrollTo(0,l.scrollHeight))}setInterval(o,10);function a(c){we[c?"unshift":"push"](()=>{l=c,t(0,l)})}return r.$$set=c=>{"app"in c&&t(2,i=c.app)},[l,o,i,a]}let S_=class extends U{constructor(e){super(),z(this,e,y_,k_,P,{app:2})}};const $_={info:{name:"ArcTerm",description:"ArcOS Terminal",builtin:!0,version:"2.0.0",author:"ArcOS Team",icon:Fl},size:{w:640,h:480},pos:{x:60,y:60},minSize:{w:350,h:250},maxSize:{w:NaN,h:NaN},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:S_,glass:!0,events:{keyboardShortcuts:[{alt:!0,shift:!0,key:"f",action(r){Ah(r.id)}}]}};const Vn=""+new URL("file-0d0c64f1.svg",import.meta.url).href;function C_(r){let e,t,n,i,s,l,o=(r[0].title||`Report from ${r[0].author}`)+"",a,c,u,f,d=r[0].author+"",m,b,A=(r[0].api||"No API")+"",_,v,k,$,E;return{c(){e=g("div"),t=g("img"),i=T(),s=g("div"),l=g("h1"),a=F(o),c=T(),u=g("p"),f=g("span"),m=F(d),b=F(" - "),_=F(A),v=T(),k=g("button"),k.textContent="chat",de(t.src,n=Vn)||h(t,"src",n),h(t,"alt",""),h(l,"data-contextmenu","report-export"),h(l,"data-id",r[1]),h(f,"class","author"),h(k,"class","material-icons-round show-body"),h(k,"title","View report body"),h(e,"class","header")},m(I,R){S(I,e,R),p(e,t),p(e,i),p(e,s),p(s,l),p(l,a),p(s,c),p(s,u),p(u,f),p(f,m),p(u,b),p(u,_),p(e,v),p(e,k),$||(E=N(k,"click",r[2]),$=!0)},p(I,[R]){R&1&&o!==(o=(I[0].title||`Report from ${I[0].author}`)+"")&&W(a,o),R&2&&h(l,"data-id",I[1]),R&1&&d!==(d=I[0].author+"")&&W(m,d),R&1&&A!==(A=(I[0].api||"No API")+"")&&W(_,A)},i:O,o:O,d(I){I&&y(e),$=!1,E()}}}function T_(r,e,t){let{report:n}=e,{id:i}=e;function s(){Xe("bodyView","BugReports")}return r.$$set=l=>{"report"in l&&t(0,n=l.report),"id"in l&&t(1,i=l.id)},[n,i,s]}let E_=class extends U{constructor(e){super(),z(this,e,T_,C_,P,{report:0,id:1})}};function I_(r){let e;return{c(){e=g("div"),e.innerHTML=`<div class="not-found"><img src="${Gi}" alt="Bug Reports"/> <p class="header">No Report Selected</p> <p>There is no report selected or the selected report no longer exists.</p></div>`,h(e,"class","not-found-wrapper")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}let O_=class extends U{constructor(e){super(),z(this,e,null,I_,P,{})}};function R_(r){let e,t,n,i,s=r[0].userdata?"Show Data":"Not Provided",l,o,a,c;return{c(){e=g("div"),t=g("div"),t.innerHTML="<h1>User Data</h1> <p>Your ArcOS Settings</p>",n=T(),i=g("button"),l=F(s),h(t,"class","left"),i.disabled=o=!r[0].userdata,h(e,"class","detail")},m(u,f){S(u,e,f),p(e,t),p(e,n),p(e,i),p(i,l),a||(c=N(i,"click",r[1]),a=!0)},p(u,[f]){f&1&&s!==(s=u[0].userdata?"Show Data":"Not Provided")&&W(l,s),f&1&&o!==(o=!u[0].userdata)&&(i.disabled=o)},i:O,o:O,d(u){u&&y(e),a=!1,c()}}}function L_(r,e,t){let{report:n}=e;function i(){Xe("udataExplorer","BugReports")}return r.$$set=s=>{"report"in s&&t(0,n=s.report)},[n,i]}let D_=class extends U{constructor(e){super(),z(this,e,L_,R_,P,{report:0})}};function B_(r){let e,t,n,i,s,l;return{c(){e=g("div"),t=g("div"),t.innerHTML="<h1>System Log</h1> <p>The Log from when it happened</p>",n=T(),i=g("button"),i.textContent="Show Data",h(t,"class","left"),h(e,"class","detail")},m(o,a){S(o,e,a),p(e,t),p(e,n),p(e,i),s||(l=N(i,"click",r[0]),s=!0)},p:O,i:O,o:O,d(o){o&&y(e),s=!1,l()}}}function M_(r){function e(){Xe("systemLogView","BugReports")}return[e]}let F_=class extends U{constructor(e){super(),z(this,e,M_,B_,P,{})}},Bs=[];async function nm(r){const e=await Jr(r);if(!e)return null;let t=[];if(Bs.length)t=[...Bs];else{if(t=await(await fetch("https://api.github.com/repos/IzK-ArcOS/ArcOS-Reports/issues?per_page=100")).json(),!t.length)return null;Bs=[...t]}if(!t.length)return null;for(let n=0;n<t.length;n++)if(t[n].body.includes(`br$${e.issueid}`))return t[n];return null}function P_(r){let e;return{c(){e=g("p"),e.textContent="No GitHub issue has referenced your report yet.",h(e,"class","context none")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}function z_(r){let e,t,n=r[1].user.login+"",i,s,l,o,a,c,u,f,d=r[1].number+"",m,b,A,_=r[0].issueid+"",v,k,$,E;return{c(){e=g("p"),t=F("Good news! Team member "),i=F(n),s=F(" created a"),l=g("br"),o=F(`
      GitHub issue referencing your report.`),a=T(),c=g("p"),u=g("a"),f=F("Issue #"),m=F(d),b=F(` (References
      `),A=g("b"),v=F(_),k=F(")"),h(e,"class","context"),h(c,"class","ref")},m(I,R){S(I,e,R),p(e,t),p(e,i),p(e,s),p(e,l),p(e,o),S(I,a,R),S(I,c,R),p(c,u),p(u,f),p(u,m),p(c,b),p(c,A),p(A,v),p(c,k),$||(E=N(u,"click",r[3]),$=!0)},p(I,R){R&2&&n!==(n=I[1].user.login+"")&&W(i,n),R&2&&d!==(d=I[1].number+"")&&W(m,d),R&1&&_!==(_=I[0].issueid+"")&&W(v,_)},i:O,o:O,d(I){I&&(y(e),y(a),y(c)),$=!1,E()}}}function U_(r){let e,t,n,i,s;return t=new Vt({props:{height:30}}),{c(){e=g("div"),M(t.$$.fragment),n=T(),i=g("p"),i.textContent="Searching...",h(e,"class","loading")},m(l,o){S(l,e,o),D(t,e,null),p(e,n),p(e,i),s=!0},p:O,i(l){s||(w(t.$$.fragment,l),s=!0)},o(l){C(t.$$.fragment,l),s=!1},d(l){l&&y(e),B(t)}}}function N_(r){let e,t,n,i,s,l;const o=[U_,z_,P_],a=[];function c(u,f){return u[2]?0:u[1]?1:2}return i=c(r),s=a[i]=o[i](r),{c(){e=g("div"),t=g("h1"),t.textContent="GitHub Issue",n=T(),s.c(),h(e,"class","issue-detail")},m(u,f){S(u,e,f),p(e,t),p(e,n),a[i].m(e,null),l=!0},p(u,[f]){let d=i;i=c(u),i===d?a[i].p(u,f):(V(),C(a[d],1,1,()=>{a[d]=null}),q(),s=a[i],s?s.p(u,f):(s=a[i]=o[i](u),s.c()),w(s,1),s.m(e,null))},i(u){l||(w(s),l=!0)},o(u){C(s),l=!1},d(u){u&&y(e),a[i].d()}}}function j_(r,e,t){let{id:n}=e,{report:i}=e,s,l=!1;ve(o);async function o(){t(2,l=!0);const c=await nm(n);t(1,s=c),t(2,l=!1)}function a(){window.open(s.html_url,"_blank")}return r.$$set=c=>{"id"in c&&t(4,n=c.id),"report"in c&&t(0,i=c.report)},[i,s,l,a,n]}class H_ extends U{constructor(e){super(),z(this,e,j_,N_,P,{id:4,report:0})}}function Q_(r){let e,t,n,i,s,l,o,a,c,u=r[0].version+"",f,d,m,b,A,_,v=(r[0].mode_file||"<unknown>")+"",k,$,E,I,R,L,H=r[0].desktop?"Yes":"No",Q,x,J,Ae,ce,se,ne=(r[0].useragent||"Not provided")+"",Z;return{c(){e=g("div"),t=g("h1"),t.textContent="More Information",n=T(),i=g("p"),i.textContent="Below follows more information about this bug report.",s=T(),l=g("div"),o=g("p"),o.textContent="ArcOS Version",a=T(),c=g("p"),f=F(u),d=T(),m=g("div"),b=g("p"),b.textContent="Mode",A=T(),_=g("p"),k=F(v),$=T(),E=g("div"),I=g("p"),I.textContent="Desktop app",R=T(),L=g("p"),Q=F(H),x=T(),J=g("div"),Ae=g("p"),Ae.textContent="User Agent",ce=T(),se=g("p"),Z=F(ne),h(i,"class","subtitle"),h(o,"class","name"),h(c,"class","value"),h(l,"class","info"),h(b,"class","name"),h(_,"class","value"),h(m,"class","info"),h(I,"class","name"),h(L,"class","value"),h(E,"class","info"),h(Ae,"class","name"),h(se,"class","value"),h(J,"class","info"),h(e,"class","more-info")},m(re,Y){S(re,e,Y),p(e,t),p(e,n),p(e,i),p(e,s),p(e,l),p(l,o),p(l,a),p(l,c),p(c,f),p(e,d),p(e,m),p(m,b),p(m,A),p(m,_),p(_,k),p(e,$),p(e,E),p(E,I),p(E,R),p(E,L),p(L,Q),p(e,x),p(e,J),p(J,Ae),p(J,ce),p(J,se),p(se,Z)},p(re,[Y]){Y&1&&u!==(u=re[0].version+"")&&W(f,u),Y&1&&v!==(v=(re[0].mode_file||"<unknown>")+"")&&W(k,v),Y&1&&H!==(H=re[0].desktop?"Yes":"No")&&W(Q,H),Y&1&&ne!==(ne=(re[0].useragent||"Not provided")+"")&&W(Z,ne)},i:O,o:O,d(re){re&&y(e)}}}function W_(r,e,t){let{report:n}=e;return r.$$set=i=>{"report"in i&&t(0,n=i.report)},[n]}class K_ extends U{constructor(e){super(),z(this,e,W_,Q_,P,{report:0})}}function G_(r){let e,t;return e=new O_({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function V_(r){let e,t,n,i,s,l,o,a,c,u;return e=new E_({props:{report:r[0],id:r[1]}}),n=new D_({props:{report:r[0]}}),s=new F_({}),o=new H_({props:{report:r[0],id:r[1]}}),c=new K_({props:{report:r[0]}}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment),i=T(),M(s.$$.fragment),l=T(),M(o.$$.fragment),a=T(),M(c.$$.fragment)},m(f,d){D(e,f,d),S(f,t,d),D(n,f,d),S(f,i,d),D(s,f,d),S(f,l,d),D(o,f,d),S(f,a,d),D(c,f,d),u=!0},p(f,d){const m={};d&1&&(m.report=f[0]),d&2&&(m.id=f[1]),e.$set(m);const b={};d&1&&(b.report=f[0]),n.$set(b);const A={};d&1&&(A.report=f[0]),d&2&&(A.id=f[1]),o.$set(A);const _={};d&1&&(_.report=f[0]),c.$set(_)},i(f){u||(w(e.$$.fragment,f),w(n.$$.fragment,f),w(s.$$.fragment,f),w(o.$$.fragment,f),w(c.$$.fragment,f),u=!0)},o(f){C(e.$$.fragment,f),C(n.$$.fragment,f),C(s.$$.fragment,f),C(o.$$.fragment,f),C(c.$$.fragment,f),u=!1},d(f){f&&(y(t),y(i),y(l),y(a)),B(e,f),B(n,f),B(s,f),B(o,f),B(c,f)}}}function q_(r){let e,t,n,i;const s=[V_,G_],l=[];function o(a,c){return a[0]?0:1}return t=o(r),n=l[t]=s[t](r),{c(){e=g("div"),n.c(),h(e,"class","content")},m(a,c){S(a,e,c),l[t].m(e,null),i=!0},p(a,[c]){let u=t;t=o(a),t===u?l[t].p(a,c):(V(),C(l[u],1,1,()=>{l[u]=null}),q(),n=l[t],n?n.p(a,c):(n=l[t]=s[t](a),n.c()),w(n,1),n.m(e,null))},i(a){i||(w(n),i=!0)},o(a){C(n),i=!1},d(a){a&&y(e),l[t].d()}}}function Y_(r,e,t){let{runtime:n}=e,i,s;return ve(()=>{n.Selected.subscribe(async l=>{t(0,i=null),l&&(await ut(0),t(0,i=await n.getReport(l)),t(1,s=l))})}),r.$$set=l=>{"runtime"in l&&t(2,n=l.runtime)},[i,s,n]}let J_=class extends U{constructor(e){super(),z(this,e,Y_,q_,P,{runtime:2})}};const im=""+new URL("helpcenter-dc574bdf.svg",import.meta.url).href;function Sa(r){let e,t,n;return{c(){e=g("button"),e.textContent="close",h(e,"class","delete material-icons-round"),h(e,"title","Remove Report")},m(i,s){S(i,e,s),t||(n=N(e,"click",r[5]),t=!0)},p:O,d(i){i&&y(e),t=!1,n()}}}function Z_(r){let e,t,n,i,s,l=jt(r[0].timestamp).format("D MMM YYYY, HH:mm:ss")+"",o,a,c,u,f=r[2]&&Sa(r);return{c(){e=g("button"),t=g("img"),i=T(),s=g("span"),o=F(l),a=T(),f&&f.c(),de(t.src,n=r[3][r[1]])||h(t,"src",n),h(t,"alt",""),h(t,"class","icon"),j(e,"selected",r[2]),j(e,"deleted",r[1]=="deleted")},m(d,m){S(d,e,m),p(e,t),p(e,i),p(e,s),p(s,o),p(e,a),f&&f.m(e,null),c||(u=N(e,"click",r[4]),c=!0)},p(d,[m]){m&2&&!de(t.src,n=d[3][d[1]])&&h(t,"src",n),m&1&&l!==(l=jt(d[0].timestamp).format("D MMM YYYY, HH:mm:ss")+"")&&W(o,l),d[2]?f?f.p(d,m):(f=Sa(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null),m&4&&j(e,"selected",d[2]),m&2&&j(e,"deleted",d[1]=="deleted")},i:O,o:O,d(d){d&&y(e),f&&f.d(),c=!1,u()}}}function X_(r,e,t){const n={deleted:Si,issue:im,report:Vn};let i="report",{runtime:s}=e,{report:l}=e,o=!1;ve(async()=>{if(s.Selected.subscribe(u=>t(2,o=u==l.id)),!await wh(l.id))return t(1,i="deleted");await nm(l.id)&&t(1,i="issue")});function a(){s.Selected.set(l.id)}function c(){Ze({title:"Remove Report",message:"Are you sure you want to remove this report from your account? It will not be deleted from the Reports server, though nobody outside of the ArcOS Team will have access to the report.",buttons:[{caption:"Keep",action(){}},{caption:"Remove Report",action:()=>{s.deleteReport(l.id)}}],image:Gi},"BugReports")}return r.$$set=u=>{"runtime"in u&&t(6,s=u.runtime),"report"in u&&t(0,l=u.report)},[l,i,o,n,a,c,s]}class x_ extends U{constructor(e){super(),z(this,e,X_,Z_,P,{runtime:6,report:0})}}function ew(r){let e,t,n,i,s,l;return{c(){e=g("div"),t=g("button"),t.textContent="autorenew",n=T(),i=g("button"),i.textContent="add",h(t,"class","refresh material-icons-round"),h(i,"class","new material-icons-round"),h(e,"class","bottom")},m(o,a){S(o,e,a),p(e,t),p(e,n),p(e,i),s||(l=[N(t,"click",r[0]),N(i,"click",r[1])],s=!0)},p:O,i:O,o:O,d(o){o&&y(e),s=!1,ke(l)}}}function tw(r,e,t){let{runtime:n}=e;function i(){n.refreshStore()}function s(){Xe("createReport","BugReports")}return r.$$set=l=>{"runtime"in l&&t(2,n=l.runtime)},[i,s,n]}let nw=class extends U{constructor(e){super(),z(this,e,tw,ew,P,{runtime:2})}};function $a(r,e,t){const n=r.slice();return n[2]=e[t],n}function Ca(r){let e,t;return e=new x_({props:{runtime:r[0],report:r[2]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.runtime=n[0]),i&2&&(s.report=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function iw(r){let e,t,n,i,s,l=X(r[1]),o=[];for(let c=0;c<l.length;c+=1)o[c]=Ca($a(r,l,c));const a=c=>C(o[c],1,1,()=>{o[c]=null});return i=new nw({props:{runtime:r[0]}}),{c(){e=g("div"),t=g("div");for(let c=0;c<o.length;c+=1)o[c].c();n=T(),M(i.$$.fragment),h(t,"class","list"),h(e,"class","sidebar")},m(c,u){S(c,e,u),p(e,t);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(t,null);p(e,n),D(i,e,null),s=!0},p(c,[u]){if(u&3){l=X(c[1]);let d;for(d=0;d<l.length;d+=1){const m=$a(c,l,d);o[d]?(o[d].p(m,u),w(o[d],1)):(o[d]=Ca(m),o[d].c(),w(o[d],1),o[d].m(t,null))}for(V(),d=l.length;d<o.length;d+=1)a(d);q()}const f={};u&1&&(f.runtime=c[0]),i.$set(f)},i(c){if(!s){for(let u=0;u<l.length;u+=1)w(o[u]);w(i.$$.fragment,c),s=!0}},o(c){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)C(o[u]);C(i.$$.fragment,c),s=!1},d(c){c&&y(e),me(o,c),B(i)}}}function rw(r,e,t){let{runtime:n}=e,i=[];return ve(()=>{n.Store.subscribe(s=>t(1,i=s))}),r.$$set=s=>{"runtime"in s&&t(0,n=s.runtime)},[n,i]}let sw=class extends U{constructor(e){super(),z(this,e,rw,iw,P,{runtime:0})}};function lw(r){let e,t,n,i;return e=new sw({props:{runtime:r[0]}}),n=new J_({props:{runtime:r[0]}}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment)},m(s,l){D(e,s,l),S(s,t,l),D(n,s,l),i=!0},p(s,[l]){const o={};l&1&&(o.runtime=s[0]),e.$set(o);const a={};l&1&&(a.runtime=s[0]),n.$set(a)},i(s){i||(w(e.$$.fragment,s),w(n.$$.fragment,s),i=!0)},o(s){C(e.$$.fragment,s),C(n.$$.fragment,s),i=!1},d(s){s&&y(t),B(e,s),B(n,s)}}}function ow(r,e,t){let{runtime:n}=e;return r.$$set=i=>{"runtime"in i&&t(0,n=i.runtime)},[n]}let aw=class extends U{constructor(e){super(),z(this,e,ow,lw,P,{runtime:0})}};function cw(r){let e,t,n;return{c(){e=g("button"),e.textContent="close",h(e,"class","overlay-close material-icons-round")},m(i,s){S(i,e,s),t||(n=N(e,"click",r[0]),t=!0)},p:O,i:O,o:O,d(i){i&&y(e),t=!1,n()}}}function uw(r,e,t){let{app:n}=e,{id:i}=e;function s(){Je(i,n.id)}return r.$$set=l=>{"app"in l&&t(1,n=l.app),"id"in l&&t(2,i=l.id)},[s,n,i]}class Xn extends U{constructor(e){super(),z(this,e,uw,cw,P,{app:1,id:2})}}function Ta(r){let e;return{c(){e=g("textarea"),e.value=r[2],h(e,"class","svelte-1ov8mi7")},m(t,n){S(t,e,n)},p(t,n){n&4&&(e.value=t[2])},d(t){t&&y(e)}}}function fw(r){let e,t,n,i=r[2]&&Ta(r);return t=new Xn({props:{app:r[0],id:r[1]}}),{c(){i&&i.c(),e=T(),M(t.$$.fragment)},m(s,l){i&&i.m(s,l),S(s,e,l),D(t,s,l),n=!0},p(s,[l]){s[2]?i?i.p(s,l):(i=Ta(s),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null);const o={};l&1&&(o.app=s[0]),l&2&&(o.id=s[1]),t.$set(o)},i(s){n||(w(t.$$.fragment,s),n=!0)},o(s){C(t.$$.fragment,s),n=!1},d(s){s&&y(e),i&&i.d(s),B(t,s)}}}function dw(r,e,t){let{runtime:n}=e,{app:i}=e,{id:s}=e,l="";return n.OpenedReport.subscribe(o=>{o&&t(2,l=`${o.title}
${o.author} - ${o.issueid}

${o.body}`)}),r.$$set=o=>{"runtime"in o&&t(3,n=o.runtime),"app"in o&&t(0,i=o.app),"id"in o&&t(1,s=o.id)},[i,s,l,n]}class pw extends U{constructor(e){super(),z(this,e,dw,fw,P,{runtime:3,app:0,id:1})}}function mw(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_;return{c(){e=g("p"),e.textContent=`In order to make bug reports useful for the ArcOS developers, we collect some
  required data that we use to resolve the problem.`,t=T(),n=g("h4"),n.textContent="This data includes:",i=T(),s=g("ul"),l=g("li"),l.textContent="The ArcOS Log (without API and AuthCode);",o=T(),a=g("li"),a.textContent=`The version of ArcOS and its mode (${Wn.toUpperCase()} in this case);`,c=T(),u=g("li"),u.textContent="Your User Agent string;",f=T(),d=g("li"),d.textContent="The frontend URL;",m=T(),b=g("li"),b.textContent="and the development metadata.",A=T(),_=g("p"),_.innerHTML=`By clicking <b>I agree</b> you acknowledge that Bug Reports may include the
  aforementioned
  <b>required</b> data in the report, optionally including the
  <i>ArcAPI hostname</i> and your ArcOS Account preferences.`},m(v,k){S(v,e,k),S(v,t,k),S(v,n,k),S(v,i,k),S(v,s,k),p(s,l),p(s,o),p(s,a),p(s,c),p(s,u),p(s,f),p(s,d),p(s,m),p(s,b),S(v,A,k),S(v,_,k)},p:O,i:O,o:O,d(v){v&&(y(e),y(t),y(n),y(i),y(s),y(A),y(_))}}}class hw extends U{constructor(e){super(),z(this,e,null,mw,P,{})}}function gw(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v,k,$,E,I,R,L,H,Q,x,J,Ae,ce,se,ne,Z,re,Y;return{c(){e=g("div"),t=g("h2"),t.textContent="Create Bug Report",n=T(),i=g("p"),i.textContent=`You're submitting a bug report for ArcOS ${ft}.`,s=T(),l=g("div"),o=g("input"),a=T(),c=g("textarea"),u=T(),f=g("div"),d=g("div"),m=g("p"),m.textContent="Include preferences",b=T(),A=g("input"),_=T(),v=g("div"),k=g("p"),k.textContent="Include ArcAPI",$=T(),E=g("input"),I=T(),R=g("div"),L=g("div"),L.textContent=`ArcOS ${ft}-${Wn} - ${Mr}`,H=T(),Q=g("button"),Q.textContent="Data Privacy",x=T(),J=g("button"),Ae=F("Cancel"),ce=T(),se=g("button"),ne=F("Send Report"),h(t,"class","header"),h(i,"class","subheader"),h(e,"class","overlay-head"),h(o,"type","text"),h(o,"class","title"),h(o,"placeholder","Report Title"),h(c,"class","body"),h(c,"placeholder","Report Body: Provide any particular information about the bug here."),h(l,"class","form"),h(m,"class","caption"),h(A,"type","checkbox"),A.disabled=r[0],h(d,"class","choice"),h(k,"class","caption"),h(E,"type","checkbox"),E.disabled=r[0],h(v,"class","choice"),h(f,"class","choices"),h(L,"class","left"),J.disabled=r[0],se.disabled=Z=!r[1].title||r[0],h(R,"class","bottom")},m(ae,fe){S(ae,e,fe),p(e,t),p(e,n),p(e,i),S(ae,s,fe),S(ae,l,fe),p(l,o),he(o,r[1].title),p(l,a),p(l,c),he(c,r[1].body),S(ae,u,fe),S(ae,f,fe),p(f,d),p(d,m),p(d,b),p(d,A),A.checked=r[1].includeUserData,p(f,_),p(f,v),p(v,k),p(v,$),p(v,E),E.checked=r[1].includeApi,S(ae,I,fe),S(ae,R,fe),p(R,L),p(R,H),p(R,Q),p(R,x),p(R,J),p(J,Ae),p(R,ce),p(R,se),p(se,ne),re||(Y=[N(o,"input",r[6]),N(c,"input",r[7]),N(A,"change",r[8]),N(E,"change",r[9]),N(Q,"click",r[4]),N(J,"click",r[3]),N(se,"click",r[2])],re=!0)},p(ae,[fe]){fe&2&&o.value!==ae[1].title&&he(o,ae[1].title),fe&2&&he(c,ae[1].body),fe&1&&(A.disabled=ae[0]),fe&2&&(A.checked=ae[1].includeUserData),fe&1&&(E.disabled=ae[0]),fe&2&&(E.checked=ae[1].includeApi),fe&1&&(J.disabled=ae[0]),fe&3&&Z!==(Z=!ae[1].title||ae[0])&&(se.disabled=Z)},i:O,o:O,d(ae){ae&&(y(e),y(s),y(l),y(u),y(f),y(I),y(R)),re=!1,ke(Y)}}}function Aw(r,e,t){let{runtime:n}=e;const i={title:"",body:"",includeApi:!0,includeUserData:!1};let s=!1,l={...i};async function o(){t(0,s=!0);const b=await ws(l);n.refreshStore(),Ze({title:"Report Sent",message:`Thank you! Report ${b} has been sent to the Reports server. Keep in mind that an issue may be created on GitHub referencing your report by an ArcOS team member.`,buttons:[{caption:"Understood",action(){}}]},"BugReports"),a()}function a(){t(1,l={...i}),t(0,s=!1),Je("createReport","BugReports")}function c(){t(0,s=!0),Ze({title:"Please keep in mind",component:hw,buttons:[{caption:"I agree",action(){t(0,s=!1)}},{caption:"Decline",action:a}]},"BugReports")}function u(){l.title=this.value,t(1,l)}function f(){l.body=this.value,t(1,l)}function d(){l.includeUserData=this.checked,t(1,l)}function m(){l.includeApi=this.checked,t(1,l)}return r.$$set=b=>{"runtime"in b&&t(5,n=b.runtime)},[s,l,o,a,c,n,u,f,d,m]}class bw extends U{constructor(e){super(),z(this,e,Aw,gw,P,{runtime:5})}}function Ea(r){let e,t;return{c(){e=g("textarea"),e.readOnly=!0,e.value=t=r[2].log,h(e,"class","svelte-1ov8mi7")},m(n,i){S(n,e,i)},p(n,i){i&4&&t!==(t=n[2].log)&&(e.value=t)},d(n){n&&y(e)}}}function _w(r){let e,t,n,i=r[2]&&r[2].log&&Ea(r);return t=new Xn({props:{app:r[0],id:r[1]}}),{c(){i&&i.c(),e=T(),M(t.$$.fragment)},m(s,l){i&&i.m(s,l),S(s,e,l),D(t,s,l),n=!0},p(s,[l]){s[2]&&s[2].log?i?i.p(s,l):(i=Ea(s),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null);const o={};l&1&&(o.app=s[0]),l&2&&(o.id=s[1]),t.$set(o)},i(s){n||(w(t.$$.fragment,s),n=!0)},o(s){C(t.$$.fragment,s),n=!1},d(s){s&&y(e),i&&i.d(s),B(t,s)}}}function ww(r,e,t){let{runtime:n}=e,{app:i}=e,{id:s}=e,l;return ve(()=>{n&&n.OpenedReport.subscribe(o=>t(2,l=o))}),r.$$set=o=>{"runtime"in o&&t(3,n=o.runtime),"app"in o&&t(0,i=o.app),"id"in o&&t(1,s=o.id)},[i,s,l,n]}class vw extends U{constructor(e){super(),z(this,e,ww,_w,P,{runtime:3,app:0,id:1})}}function Ia(r){let e,t,n;return{c(){e=g("div"),t=F(r[1]),h(e,"class","value"),h(e,"data-type",n=typeof r[1]),h(e,"data-value",r[1])},m(i,s){S(i,e,s),p(e,t)},p(i,s){s&2&&W(t,i[1]),s&2&&n!==(n=typeof i[1])&&h(e,"data-type",n),s&2&&h(e,"data-value",i[1])},d(i){i&&y(e)}}}function kw(r){let e,t,n,i,s=typeof r[1]!="object"&&Ia(r);return{c(){e=g("div"),t=g("div"),n=F(r[0]),i=T(),s&&s.c(),h(t,"class","key"),h(e,"class","nodeinstance")},m(l,o){S(l,e,o),p(e,t),p(t,n),p(e,i),s&&s.m(e,null)},p(l,[o]){o&1&&W(n,l[0]),typeof l[1]!="object"?s?s.p(l,o):(s=Ia(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:O,o:O,d(l){l&&y(e),s&&s.d()}}}function yw(r,e,t){let{key:n}=e,{value:i}=e;return r.$$set=s=>{"key"in s&&t(0,n=s.key),"value"in s&&t(1,i=s.value)},[n,i]}class rm extends U{constructor(e){super(),z(this,e,yw,kw,P,{key:0,value:1})}}function Oa(r,e,t){const n=r.slice();return n[3]=e[t],n}function Ra(r){let e,t,n=X(Object.entries(r[1])),i=[];for(let l=0;l<n.length;l+=1)i[l]=La(Oa(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=le()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&2){n=X(Object.entries(l[1]));let a;for(a=0;a<n.length;a+=1){const c=Oa(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=La(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function La(r){let e,t;return e=new sm({props:{key:r[3][0],value:r[3][1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.key=n[3][0]),i&2&&(s.value=n[3][1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Sw(r){let e,t,n,i;t=new rm({props:{key:r[0],value:r[1]}});let s=typeof r[1]=="object"&&r[1]&&Ra(r);return{c(){e=g("div"),M(t.$$.fragment),n=T(),s&&s.c(),j(e,"indent",!r[2])},m(l,o){S(l,e,o),D(t,e,null),p(e,n),s&&s.m(e,null),i=!0},p(l,[o]){const a={};o&1&&(a.key=l[0]),o&2&&(a.value=l[1]),t.$set(a),typeof l[1]=="object"&&l[1]?s?(s.p(l,o),o&2&&w(s,1)):(s=Ra(l),s.c(),w(s,1),s.m(e,null)):s&&(V(),C(s,1,1,()=>{s=null}),q()),(!i||o&4)&&j(e,"indent",!l[2])},i(l){i||(w(t.$$.fragment,l),w(s),i=!0)},o(l){C(t.$$.fragment,l),C(s),i=!1},d(l){l&&y(e),B(t),s&&s.d()}}}function $w(r,e,t){let{key:n}=e,{value:i}=e,{top:s=!1}=e;return r.$$set=l=>{"key"in l&&t(0,n=l.key),"value"in l&&t(1,i=l.value),"top"in l&&t(2,s=l.top)},[n,i,s]}class sm extends U{constructor(e){super(),z(this,e,$w,Sw,P,{key:0,value:1,top:2})}}function Da(r,e,t){const n=r.slice();return n[1]=e[t],n}function Ba(r){let e,t,n=X(Object.entries(r[0])),i=[];for(let l=0;l<n.length;l+=1)i[l]=Ma(Da(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","userdata-explorer")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,o){if(o&1){n=X(Object.entries(l[0]));let a;for(a=0;a<n.length;a+=1){const c=Da(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Ma(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Cw(r){let e,t;return e=new rm({props:{key:r[1][0],value:r[1][1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.key=n[1][0]),i&1&&(s.value=n[1][1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Tw(r){let e,t;return e=new sm({props:{key:r[1][0],value:r[1][1],top:!0}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.key=n[1][0]),i&1&&(s.value=n[1][1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Ma(r){let e,t,n,i,s;const l=[Tw,Cw],o=[];function a(c,u){return typeof c[1][1]=="object"?0:1}return t=a(r),n=o[t]=l[t](r),{c(){e=g("div"),n.c(),i=T(),h(e,"class","toplevel-item")},m(c,u){S(c,e,u),o[t].m(e,null),p(e,i),s=!0},p(c,u){let f=t;t=a(c),t===f?o[t].p(c,u):(V(),C(o[f],1,1,()=>{o[f]=null}),q(),n=o[t],n?n.p(c,u):(n=o[t]=l[t](c),n.c()),w(n,1),n.m(e,i))},i(c){s||(w(n),s=!0)},o(c){C(n),s=!1},d(c){c&&y(e),o[t].d()}}}function Ew(r){let e,t,n=r[0]&&Ba(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=Ba(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function Iw(r,e,t){let{data:n}=e;return r.$$set=i=>{"data"in i&&t(0,n=i.data)},[n]}class lm extends U{constructor(e){super(),z(this,e,Iw,Ew,P,{data:0})}}function Fa(r){let e,t;return e=new lm({props:{data:r[2].userdata}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.data=n[2].userdata),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Ow(r){let e,t,n,i=r[2]&&Fa(r);return t=new Xn({props:{app:r[0],id:r[1]}}),{c(){i&&i.c(),e=T(),M(t.$$.fragment)},m(s,l){i&&i.m(s,l),S(s,e,l),D(t,s,l),n=!0},p(s,[l]){s[2]?i?(i.p(s,l),l&4&&w(i,1)):(i=Fa(s),i.c(),w(i,1),i.m(e.parentNode,e)):i&&(V(),C(i,1,1,()=>{i=null}),q());const o={};l&1&&(o.app=s[0]),l&2&&(o.id=s[1]),t.$set(o)},i(s){n||(w(i),w(t.$$.fragment,s),n=!0)},o(s){C(i),C(t.$$.fragment,s),n=!1},d(s){s&&y(e),i&&i.d(s),B(t,s)}}}function Rw(r,e,t){let{runtime:n}=e,{app:i}=e,{id:s}=e,l;return ve(()=>{n&&n.OpenedReport.subscribe(o=>t(2,l=o))}),r.$$set=o=>{"runtime"in o&&t(3,n=o.runtime),"app"in o&&t(0,i=o.app),"id"in o&&t(1,s=o.id)},[i,s,l,n]}class Lw extends U{constructor(e){super(),z(this,e,Rw,Ow,P,{runtime:3,app:0,id:1})}}function Nr(r,e){ie("applogic/pref.ts: getAppPreference",`Getting ${e} from ${r}...`);const t=K(te);if(!(!t.appdata||!t.appdata[r]))return t.appdata[r][e]}function Pl(r,e,t){ie("applogic/pref.ts: setAppPreference",`Setting ${e} in ${r}...`);const n=K(te);return n.appdata?(n.appdata[r]||(n.appdata[r]={}),n.appdata[r][e]=t,te.set(n),!0):!1}class om{constructor(e){ge(this,"app");if(!e.id){ie("applogic/runtime/main.ts","Can't create AppRuntime without valid app ID",oe.error);return}this.app=e}Log(e,t="<anonymous>",n=oe.info){ie(`${this.app.id}Runtime: ${t}`,e,n)}}class Dw extends om{constructor(t){super(t);ge(this,"Selected",pe());ge(this,"Store",pe([]));ge(this,"OpenedReport",pe(null));this.refreshStore(),this.Selected.subscribe(async n=>{this.OpenedReport.set(await Jr(n))})}getReports(){return this.Log("Getting reports","getReports"),Nr("Reporting","reports")||[]}async getReport(t){return t?(this.Log(`Getting report ${t}`,"getReport"),await wh(t)?await Jr(t):(Ze({title:"Report Deleted!",message:`Report ${t} has been deleted from the reports server and it cannot be accessed. Do you want to delete it from your account?`,buttons:[{caption:"Keep",action(){}},{caption:"Remove Report",action:()=>{this.deleteReport(t)}}],image:Gi},"BugReports"),null)):void 0}deleteReport(t){this.Log(`Deleting local report ${t}...`,"deleteReport",oe.warn);const i=this.getReports().filter(l=>l.id!=t);Pl("Reporting","reports",i),this.refreshStore(),K(this.Selected)==t&&(this.Selected.set(null),this.OpenedReport.set(null))}async refreshStore(){this.Log("Refreshing store","refreshStore"),this.Store.set([]),await ut(0),this.Store.set(this.getReports()||[])}}const Bw={info:{name:"Bug Reports",description:"View and manage your bug reports",builtin:!0,version:"1.0.0",author:"ArcOS Team",icon:Gi,appGroup:"support"},size:{w:750,h:500},pos:{x:30,y:40},minSize:{w:750,h:500},maxSize:{w:900,h:700},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:aw,glass:!0,runtime:Dw,overlays:{udataExplorer:{info:{name:"User Data",version:"1.0.0",author:"ArcOS Team"},content:Lw,size:{w:550,h:400},show:!1},systemLogView:{info:{name:"View System Log",version:"1.0.0",author:"ArcOS Team"},content:vw,size:{w:700,h:450},show:!1},createReport:{info:{name:"Create Report",version:"1.0.0",author:"ArcOS Team"},content:bw,size:{w:550,h:400},show:!1},bodyView:{info:{name:"View Body",version:"1.0.0",author:"ArcOS Team"},content:pw,size:{w:550,h:400},show:!1}}},Mw=""+new URL("calculator-a55e0dfc.svg",import.meta.url).href;var Fw={isPrime:function(r){for(var e=2;e<r;e++)if(r%e===0)return!1;return r>1},isEven:function(r){return r%2===0},isOdd:function(r){return!this.isEven(r)},format:function(r,e){return r.toFixed(e)/1},dropFirstDigit:function(r){return Number(r.toString().substring(1))},dropLastDigit:function(r){return Number(r.toString().substring(0,r.toString().length-1))},dropDigit:function(r,e){return Number(r.toString().substring(0,e-1).concat(r.toString().substring(e,r)))}},Pw={minElement:function(r){return Math.min.apply(null,r)},maxElement:function(r){return Math.max.apply(null,r)},between:function(r,e,t){return e<=r==r<=t}},zw={random:function(){return Math.random()},randomElement:function(r){return r[Math.floor(Math.random()*r.length)]},factorial:function(r){return r*(r-1)}},Uw={ceil:function(r){return Math.ceil(r/10)*10},round:function(r){return Math.round(r)},fround:function(r){return Math.fround(r)},floor:function(r){return Math.floor(r)},sign:function(r){return Math.sign(r)},abs:function(r){return Math.abs(r)},imul:function(r,e){return Math.imul(r,e)},pow:function(r,e){return Math.pow(r,e)},square:function(r){return r*r},cube:function(r){return r*r*r},sqrt:function(r){return Math.sqrt(r)},cbrt:function(r){return Math.cbrt(r)},exp:function(r){return Math.exp(r)},expm1:function(r){return Math.expm1(r)},trunc:function(r){return Math.trunc(r)},greatestCommonDivisor:function r(e,t){var n=e%t;return n===0?t:r(t,n)},log:function(r){return Math.log(r)},log2:function(r){return Math.log2(r)},log10:function(r){return Math.log10(r)},log1p:function(r){return Math.log1p(r)},hypot:function(...r){return Math.hypot(...r)},dCeil:function(r,e){let t=Math.pow(10,e);return console.log("dCeil",r,e,t,Math.ceil(r/t)*t),Math.ceil(r*t)/t},dRound:function(r,e){let t=Math.pow(10,e);return Math.round(r*t)/t},dFloor:function(r,e){let t=Math.pow(10,e);return Math.floor(r*t)/t},dTrunc:function(r,e){let t=Math.pow(10,e);return Math.trunc(r*t)/t}},Nw=Object.freeze({PI:Math.PI,E:Math.E,LN10:Math.LN10,LN2:Math.LN2,LOG10E:Math.LOG10E,LOG2E:Math.LOG2E,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,FEET_TO_INCHES_FACTOR:12,FEET_TO_METERS_FACTOR:.3048,FEET_TO_MILES_FACTOR:1/5280,FEET_TO_YARDS_FACTOR:1/3,INCHES_TO_FEET_FACTOR:1/12,INCHES_TO_METERS_FACTOR:.0254,INCHES_TO_MILES_FACTOR:1/63360,INCHES_TO_YARDS_FACTOR:1/36,MILES_TO_FEET_FACTOR:5280,MILES_TO_INCHES_FACTOR:63360,MILES_TO_METERS_FACTOR:1609.344,MILES_TO_YARDS_FACTOR:1760,YARDS_TO_INCHES_FACTOR:36,YARDS_TO_FEET_FACTOR:3,YARDS_TO_METERS_FACTOR:.9144,YARDS_TO_MILES_FACTOR:1/1760,CELSIUS_TO_FAHRENEIT_MUTLIPLIER_FACTOR:9/5,CELSIUS_TO_FAHRENEIT_FACTOR:32}),lt=Nw,jw={yardsToFeet:function(r){return r*lt.YARDS_TO_FEET_FACTOR},feetToYards:function(r){return r*lt.FEET_TO_YARDS_FACTOR},yardsToInches:function(r){return r*lt.YARDS_TO_INCHES_FACTOR},inchesToYards:function(r){return lt.INCHES_TO_YARDS_FACTOR*r},inchesToMiles:function(r){return lt.INCHES_TO_MILES_FACTOR*r},feetToInches:function(r){return lt.FEET_TO_INCHES_FACTOR*r},feetToMeters:function(r){return lt.FEET_TO_METERS_FACTOR*r},feetToMiles:function(r){return lt.FEET_TO_MILES_FACTOR*r},inchesToFeet:function(r){return lt.INCHES_TO_FEET_FACTOR*r},inchesToMeters:function(r){return lt.INCHES_TO_METERS_FACTOR*r},milesToYards:function(r){return lt.MILES_TO_YARDS_FACTOR*r},milesToMeters:function(r){return lt.MILES_TO_METERS_FACTOR*r},milesToInches:function(r){return lt.MILES_TO_INCHES_FACTOR*r},milesToFeet:function(r){return lt.MILES_TO_FEET_FACTOR*r},yardsToMiles:function(r){return lt.YARDS_TO_MILES_FACTOR*r},yardsToMeters:function(r){return lt.YARDS_TO_METERS_FACTOR*r},toFahrenheit:function(r){return r*lt.CELSIUS_TO_FAHRENEIT_MUTLIPLIER_FACTOR+lt.CELSIUS_TO_FAHRENEIT_FACTOR},toCelsius:function(r){return(r-lt.CELSIUS_TO_FAHRENEIT_FACTOR)/lt.CELSIUS_TO_FAHRENEIT_MUTLIPLIER_FACTOR}},Hw={sin:function(r){return Math.sin(r)},cos:function(r){return Math.cos(r)},tan:function(r){return Math.tan(r)},acos:function(r){return Math.acos(r)},asin:function(r){return Math.asin(r)},acosh:function(r){return Math.acosh(r)},atan:function(r){return Math.atan(r)},atan2:function(r,e){return Math.atan2(r,e)}};Object.assign({},Fw,Pw,zw,Uw,jw,Hw);class Qw{constructor(){ge(this,"Source","Calculator/main.ts:");ge(this,"AllowedKeys",["+","-","/","*","7","8","9","**","4","5","6","%","1","2","3","%%C",".","0","00","%%E"]);ge(this,"Shortcuts",["0","1","2","3","4","5","6","7","8","9","/","+","-","*"]);ge(this,"Overrides",{"*":"x","**":"^","%":"mod"});ge(this,"altClasses",["+","-","/","*","**","%","."])}}const Ut=new Qw,Mt=pe("");class Ww{constructor(){ge(this,"keys",[]);ge(this,"Functions",{"%%C":["C",()=>Mt.set(""),"clear"],"%%E":["=",()=>this.evaluate(),"process"]});this.keys=this.compileKeys(Ut.AllowedKeys,Ut.Overrides)}eval(e){return Function(`'use strict'; return (${e})`)()}compileKeys(e,t){const n=[];for(let i=0;i<e.length;i++){let s=[null,null];s[0]=t[e[i]]||e[i],s[1]=e[i],n.push(s)}return n}evaluate(){if(ie(`${Ut.Source} evaluate`,`Evaluating sum ("${K(Mt)}")`,oe.info),!Tn.isValid(K(Mt)))return!1;const e=this.eval(K(Mt));return Mt.set(e),e}isValid(e){if(ie(`${Ut.Source} isValid`,`Verifying input "${e}"...`,oe.info),e.startsWith("%%"))return!1;for(let t=0;t<e.length;t++)if(!Ut.AllowedKeys.includes(e[t]))return ie(`${Ut.Source} isValid`,`Input "${e}" not valid.`,oe.warn),!1;return!0}generateKeyboardShortcuts(){let e=[];for(let t=0;t<Ut.Shortcuts.length;t++)e.push({key:Ut.Shortcuts[t],action:()=>this.processKey(Ut.Shortcuts[t])});return e}processKey(e){if(ie(`${Ut.Source} processKey`,`Processing key "${e}"`),!this.isValid(e))return!1;const t=`${K(Mt)}${e}0`;if(!this.validate(t))return ie(`${Ut.Source} Calculator/main.ts: processKey`,`Test sum "${t}" is not valid. Aborting.`,oe.error),!1;Mt.set(K(Mt)+e)}validate(e){return/(?:(?:^|[-+_*%\/])(?:\s*-?\d+(\.\d+)?(?:[eE][+-]?\d+)?\s*))+$/.test(e)}}const Tn=new Ww;function Kw(r,e,t){const n=r.slice();return n[4]=e[t],n}function Gw(r){let e,t,n;return{c(){e=g("button"),e.textContent=`${Tn.Functions[r[4][1]][0]} `,h(e,"class",Tn.Functions[r[4][1]][2])},m(i,s){S(i,e,s),t||(n=N(e,"click",Tn.Functions[r[4][0]][1]),t=!0)},p(i,s){r=i},d(i){i&&y(e),t=!1,n()}}}function Vw(r){let e,t,n;function i(){return r[1](r[4])}return{c(){e=g("button"),e.textContent=`${r[4][0]} `,j(e,"empty",!r[4][0]),j(e,"alt",Ut.altClasses.includes(r[4][1]))},m(s,l){S(s,e,l),t||(n=N(e,"click",i),t=!0)},p(s,l){r=s},d(s){s&&y(e),t=!1,n()}}}function qw(r){let e;function t(s,l){return s[4][0].startsWith("%%")?Gw:Vw}let i=t(r)(r);return{c(){i.c(),e=le()},m(s,l){i.m(s,l),S(s,e,l)},p:O,d(s){s&&y(e),i.d(s)}}}function Yw(r){let e,t,n,i=X(Tn.keys),s=[];for(let l=0;l<i.length;l+=1)s[l]=qw(Kw(r,i,l));return{c(){e=g("input"),t=T(),n=g("div");for(let l=0;l<s.length;l+=1)s[l].c();h(e,"type","text"),h(e,"class","display"),e.readOnly=!0,e.value=r[0],h(n,"class","keys")},m(l,o){S(l,e,o),S(l,t,o),S(l,n,o);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(n,null)},p(l,[o]){o&1&&e.value!==l[0]&&(e.value=l[0])},i:O,o:O,d(l){l&&(y(e),y(t),y(n)),me(s,l)}}}function Jw(r,e,t){let n;G(r,Mt,l=>t(2,n=l));let i="";return ve(()=>{Mt.subscribe(l=>{ie("Calculator: CalculatorValue.subscribe",`Value of CalculatorValue<string> changed to "${n}"`,oe.info),t(0,i=l||"0")})}),[i,l=>Tn.processKey(l[1])]}class Zw extends U{constructor(e){super(),z(this,e,Jw,Yw,P,{})}}const Xw={info:{name:"Calculator",description:"ArcOS Calculator",builtin:!0,version:"2.0.0",author:"Izaak Kuipers",icon:Mw,appGroup:"utilities"},size:{w:340,h:NaN},pos:{x:60,y:60},minSize:{w:340,h:NaN},maxSize:{w:340,h:NaN},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:Zw,glass:!0,events:{close(){Mt.set("")},open(){Mt.set("")},keyboardShortcuts:[...Tn.generateKeyboardShortcuts(),{key:"enter",action:()=>Tn.evaluate()},{key:"escape",action:()=>Mt.set("")}]}},xw=""+new URL("donut-041054d9.png",import.meta.url).href;let Li=1,br=1;function ev(){const r=[],e=[];Li+=.07,br+=.03;let t=Math.cos(Li),n=Math.sin(Li),i=Math.cos(br),s=Math.sin(br);for(let l=0;l<1760;l++)r[l]=l%80==79?`
`:" ",e[l]=0;for(let l=0;l<6.28;l+=.07){let o=Math.cos(l),a=Math.sin(l);for(let c=0;c<6.28;c+=.02){let u=Math.sin(c),f=Math.cos(c),d=o+2,m=1/(u*d*n+a*t+5),b=u*d*t-a*n,A=0|40+30*m*(f*d*i-b*s),_=0|12+15*m*(f*d*s+b*i),v=A+80*_,k=0|8*((a*n-u*o*t)*i-u*o*n-a*t-f*o*s);_<22&&_>=0&&A>=0&&A<79&&m>e[v]&&(e[v]=m,r[v]=".,-~:;=!*#$@"[k>0?k:0]);const $={o:v,A:Li,B:br,N:k,st:a,sA:n,sp:u,ct:o,cA:t,cB:i,cp:f,sB:s,D:m,t:b,h:d,i:c,j:l,x:A,y:_,cycles:(Li/.07/89.71428571428571).toFixed(2)};am.set($)}}return r.join("")}const am=pe();function Pa(r,e,t){const n=r.slice();return n[3]=e[t],n}function za(r){let e,t=X(Object.entries(r[1])),n=[];for(let i=0;i<t.length;i+=1)n[i]=Ua(Pa(r,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=le()},m(i,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(i,s);S(i,e,s)},p(i,s){if(s&2){t=X(Object.entries(i[1]));let l;for(l=0;l<t.length;l+=1){const o=Pa(i,t,l);n[l]?n[l].p(o,s):(n[l]=Ua(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(i){i&&y(e),me(n,i)}}}function tv(r){let e=r[3][1]+"",t;return{c(){t=F(e)},m(n,i){S(n,t,i)},p(n,i){i&2&&e!==(e=n[3][1]+"")&&W(t,e)},d(n){n&&y(t)}}}function nv(r){let e=r[3][1].toFixed(8)+"",t;return{c(){t=F(e)},m(n,i){S(n,t,i)},p(n,i){i&2&&e!==(e=n[3][1].toFixed(8)+"")&&W(t,e)},d(n){n&&y(t)}}}function Ua(r){let e,t,n=r[3][0]+"",i,s,l,o;function a(f,d){return typeof f[3][1]=="number"?nv:tv}let c=a(r),u=c(r);return{c(){e=g("tr"),t=g("td"),i=F(n),s=T(),l=g("td"),u.c(),o=T(),h(t,"class","svelte-u78920"),h(l,"class","svelte-u78920"),h(e,"class","svelte-u78920")},m(f,d){S(f,e,d),p(e,t),p(t,i),p(e,s),p(e,l),u.m(l,null),p(e,o)},p(f,d){d&2&&n!==(n=f[3][0]+"")&&W(i,n),c===(c=a(f))&&u?u.p(f,d):(u.d(1),u=c(f),u&&(u.c(),u.m(l,null)))},d(f){f&&y(e),u.d()}}}function iv(r){let e,t,n,i,s,l=r[1]&&za(r);return{c(){e=g("div"),t=g("pre"),n=F(r[0]),i=T(),s=g("table"),l&&l.c(),h(t,"class","svelte-u78920"),h(s,"class","svelte-u78920"),h(e,"data-contextmenu","donut-target"),h(e,"class","svelte-u78920")},m(o,a){S(o,e,a),p(e,t),p(t,n),p(e,i),p(e,s),l&&l.m(s,null)},p(o,[a]){a&1&&W(n,o[0]),o[1]?l?l.p(o,a):(l=za(o),l.c(),l.m(s,null)):l&&(l.d(1),l=null)},i:O,o:O,d(o){o&&y(e),l&&l.d()}}}let rv=30;function sv(r,e,t){let n,i;G(r,Di,l=>t(2,n=l)),G(r,am,l=>t(1,i=l));let s="";return setInterval(()=>{n&&t(0,s=ev())},1e3/rv),[s,i]}class lv extends U{constructor(e){super(),z(this,e,sv,iv,P,{})}}const ov={info:{name:"Donut",description:"A spinning ASCII donut",builtin:!0,version:ft,author:"Andy Sloane (ArcOS port by IzK)",icon:xw,appGroup:"entertainment"},size:{w:850,h:520},pos:{x:30,y:40},minSize:{w:850,h:520},maxSize:{w:850,h:NaN},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:lv,glass:!0,events:{open(){Di.set(!0)},close(){Di.set(!1)},blur(){Di.set(!1)},focus(){Di.set(!0)}}},Di=pe(!1);function av(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v;return{c(){e=g("p"),e.textContent="Specify the title and message to create an error message:",t=T(),n=g("br"),i=T(),s=g("input"),l=T(),o=g("input"),a=T(),c=g("input"),u=T(),f=g("input"),d=T(),m=g("button"),b=F("Create"),h(s,"placeholder","title"),h(s,"class","fullwidth"),h(o,"placeholder","message"),h(o,"class","fullwidth"),h(c,"placeholder","button caption 1"),h(c,"class","fullwidth"),h(f,"placeholder","button caption 2"),h(f,"class","fullwidth"),m.disabled=A=!r[0]||!r[1]},m(k,$){S(k,e,$),S(k,t,$),S(k,n,$),S(k,i,$),S(k,s,$),he(s,r[0]),S(k,l,$),S(k,o,$),he(o,r[1]),S(k,a,$),S(k,c,$),he(c,r[2]),S(k,u,$),S(k,f,$),he(f,r[3]),S(k,d,$),S(k,m,$),p(m,b),_||(v=[N(s,"input",r[5]),N(o,"input",r[6]),N(c,"input",r[7]),N(f,"input",r[8]),N(m,"click",r[4])],_=!0)},p(k,[$]){$&1&&s.value!==k[0]&&he(s,k[0]),$&2&&o.value!==k[1]&&he(o,k[1]),$&4&&c.value!==k[2]&&he(c,k[2]),$&8&&f.value!==k[3]&&he(f,k[3]),$&3&&A!==(A=!k[0]||!k[1])&&(m.disabled=A)},i:O,o:O,d(k){k&&(y(e),y(t),y(n),y(i),y(s),y(l),y(o),y(a),y(c),y(u),y(f),y(d),y(m)),_=!1,ke(v)}}}function cv(r,e,t){let n,i,s,l;function o(){Ji(n,i,null,"ErrCre",{caption:s,action:()=>{}},{caption:l,action:()=>{}})}function a(){n=this.value,t(0,n)}function c(){i=this.value,t(1,i)}function u(){s=this.value,t(2,s)}function f(){l=this.value,t(3,l)}return[n,i,s,l,o,a,c,u,f]}let uv=class extends U{constructor(e){super(),z(this,e,cv,av,P,{})}};const fv={info:{name:"Error Message Summoner",description:"Use for testing only -- error message creator",builtin:!0,version:ft,author:"Izaak Kuipers",icon:vn,hidden:!0},size:{w:300,h:267},pos:{x:30,y:40},minSize:{w:300,h:253},maxSize:{w:300,h:253},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:uv,glass:!0},xs=""+new URL("exit-ccaa87b5.svg",import.meta.url).href;function Na(r){let e,t,n;return{c(){e=g("button"),e.innerHTML='<span class="material-icons-round">terminal</span> <p class="caption">ArcTerm</p>',h(e,"class","option")},m(i,s){S(i,e,s),t||(n=N(e,"click",r[2]),t=!0)},p:O,d(i){i&&y(e),t=!1,n()}}}function dv(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A=r[0]&&Na(r);return{c(){e=g("div"),t=g("div"),n=g("h3"),n.textContent="ArcOS",i=T(),s=g("button"),s.innerHTML='<span class="material-icons-round">power_settings_new</span> <p class="caption">Shutdown</p>',l=T(),o=g("button"),o.innerHTML='<span class="material-icons-round">logout</span> <p class="caption">Logoff</p>',a=T(),c=g("button"),c.innerHTML='<span class="material-icons-round">refresh</span> <p class="caption">Restart</p>',u=T(),A&&A.c(),f=T(),d=g("button"),d.textContent="Cancel",h(n,"class","header"),h(s,"class","option"),h(o,"class","option"),h(c,"class","option"),h(d,"class","cancel"),h(t,"class","flex-stop"),h(e,"class","center-flex")},m(_,v){S(_,e,v),p(e,t),p(t,n),p(t,i),p(t,s),p(t,l),p(t,o),p(t,a),p(t,c),p(t,u),A&&A.m(t,null),p(t,f),p(t,d),m||(b=[N(s,"click",ts),N(o,"click",r[4]),N(c,"click",r[5]),N(d,"click",r[1])],m=!0)},p(_,[v]){_[0]?A?A.p(_,v):(A=Na(_),A.c(),A.m(t,f)):A&&(A.d(1),A=null)},i:O,o:O,d(_){_&&y(e),A&&A.d(),m=!1,ke(b)}}}function pv(r,e,t){let n;G(r,el,c=>t(0,n=c));let{app:i}=e;function s(){en.set(!1),bt(i.id)}function l(){kt.set("./"),qe.set(null),Bt.set(jn),es.set(null),an.set({}),Yt.set([]),Ai.set([]),ue.set([]),hn.set(null),gt("arcterm")}const o=()=>Qn(!0),a=()=>Qn(!1);return r.$$set=c=>{"app"in c&&t(3,i=c.app)},[n,s,l,i,o,a]}let mv=class extends U{constructor(e){super(),z(this,e,pv,dv,P,{app:3})}};const hv={info:{name:"Exit",description:"ArcOS Exit Menu",builtin:!0,version:"2.0.0",author:"Izaak Kuipers",icon:xs,hidden:!0},size:{w:280,h:50},pos:{x:30,y:40},minSize:{w:280,h:50},maxSize:{w:280,h:50},controls:{min:!1,max:!1,cls:!0},state:{headless:!0,resizable:!1,windowState:{min:!1,max:!1,fll:!0}},content:mv,glass:!0,events:{keyboardShortcuts:[{shift:!0,key:"",action(){el.set(!0)}}],close(r){el.set(!1)}}},el=pe(!1),cm=""+new URL("filemanager-cb441701.svg",import.meta.url).href;function um(r){ie("fs/main.ts: getParentDirectory",`Getting parent of ${r}`,oe.info);const e=r.split("/");return r=="./"||!e.length?r:e.length==1?"./":(e.splice(-1),e.join("/"))}function fm(r){ie("fs/main.ts: closeFile",`Closing file of ${r}`);const e=K(ue);for(let t=0;t<e.length;t++)e[t].id==r&&(e[t].openedFile=null);ue.set(e)}const xt=""+new URL("folder-f520676e.svg",import.meta.url).href;function gv(r){let e,t,n,i,s,l,o,a=r[0].name+"",c,u,f,d,m,b,A,_,v;return{c(){e=g("button"),t=g("div"),n=g("img"),l=T(),o=g("div"),c=F(a),u=T(),f=g("div"),f.textContent="Folder",d=T(),m=g("div"),m.textContent="-",de(n.src,i=xt)||h(n,"src",i),h(n,"alt",s=r[0].name),h(t,"class","image"),h(o,"class","name"),h(f,"class","mime"),h(m,"class","size"),h(e,"class","item dir"),h(e,"data-path",b=r[0].scopedPath),h(e,"data-type","dir"),h(e,"data-name",A=r[0].name),h(e,"data-contextmenu","listitem-dir"),j(e,"selected",r[1]==r[0].name),j(e,"cutting",r[2]&&r[2].name==r[0].name)},m(k,$){S(k,e,$),p(e,t),p(t,n),p(e,l),p(e,o),p(o,c),p(e,u),p(e,f),p(e,d),p(e,m),_||(v=[N(e,"click",r[3]),N(e,"dblclick",r[4])],_=!0)},p(k,[$]){$&1&&s!==(s=k[0].name)&&h(n,"alt",s),$&1&&a!==(a=k[0].name+"")&&W(c,a),$&1&&b!==(b=k[0].scopedPath)&&h(e,"data-path",b),$&1&&A!==(A=k[0].name)&&h(e,"data-name",A),$&3&&j(e,"selected",k[1]==k[0].name),$&5&&j(e,"cutting",k[2]&&k[2].name==k[0].name)},i:O,o:O,d(k){k&&y(e),_=!1,ke(v)}}}function Av(r,e,t){let n,i;G(r,qe,a=>t(1,n=a)),G(r,On,a=>t(2,i=a));let{dir:s}=e;function l(){Ee(qe,n=s.name,n)}function o(){nt.goToDirectory(s.scopedPath)}return r.$$set=a=>{"dir"in a&&t(0,s=a.dir)},[s,n,i,l,o]}let bv=class extends U{constructor(e){super(),z(this,e,Av,gv,P,{dir:0})}};const _v=""+new URL("application-default-dbaaa566.svg",import.meta.url).href,wv=""+new URL("image-x-generic-0c29fb59.svg",import.meta.url).href,vv=""+new URL("application-svg-944fd245.svg",import.meta.url).href,kv=""+new URL("application-pdf-7a1f0afa.svg",import.meta.url).href,Hi=""+new URL("text-plain-19145840.svg",import.meta.url).href,yv=""+new URL("application-arcapp-2a8df358.svg",import.meta.url).href,Sv=""+new URL("application-json-e04d619a.svg",import.meta.url).href,$v=""+new URL("application-x-compress-98d85b80.svg",import.meta.url).href,zl=""+new URL("markdownviewer-a03d6bb8.svg",import.meta.url).href,Cv=""+new URL("audio-x-generic-73f31c65.svg",import.meta.url).href,Ms=[{extensions:[".png",".jpg",".bmp",".gif",".ico",".webp"],image:wv},{extensions:[".svg"],image:vv},{extensions:[".md"],image:zl},{extensions:[".app",".ealc",".app.json"],image:yv},{extensions:[".pdf"],image:kv},{extensions:[".txt"],image:Hi},{extensions:[".json"],image:Sv},{extensions:[".zip",".tar",".tar.gz",".7z",".rar"],image:$v},{extensions:[".flac",".mp3",".wav"],image:Cv},{extensions:[".arctheme"],image:Zs},{extensions:["arcterm.conf"],image:Fl}];function cn(r){for(let e=0;e<Ms.length;e++){const t=Ms[e].extensions;for(let n=0;n<t.length;n++)if(r.endsWith(t[n]))return Ms[e].image}return _v}async function dm(r){return ie("fs/convert.ts: partialFileToComplete",`Converting ${r.scopedPath} to ArcFile`,oe.info),{name:r.filename,path:r.scopedPath,mime:r.mime,data:await un(r.scopedPath)}}async function pm(r,e,t){return ie("fs/convert.ts: fileToArcFile",`Converting ${r.name} to ArcFile`,oe.info),{name:r.name,path:e,data:await r.arrayBuffer(),mime:t||"ArcOS Uploadable"}}function Tv(r){let e,t,n,i,s,l,o,a=r[0].filename+"",c,u,f,d=r[0].mime.split("; ")[0].split("/").join(" - ")+"",m,b,A,_=mt(r[0].size)+"",v,k,$,E,I,R,L,H,Q;return{c(){e=g("button"),t=g("div"),n=g("img"),l=T(),o=g("div"),c=F(a),u=T(),f=g("div"),m=F(d),b=T(),A=g("div"),v=F(_),k=T(),$=g("div"),E=g("button"),E.textContent="launch",de(n.src,i=r[1])||h(n,"src",i),h(n,"alt",s=r[0].filename),h(t,"class","image"),h(o,"class","name"),h(f,"class","mime"),h(A,"class","size"),h(E,"class","material-icons-round"),h($,"class","options"),h(e,"class","item file"),h(e,"title",I=r[0].scopedPath),h(e,"data-path",R=r[0].scopedPath),h(e,"data-type","file"),h(e,"data-name",L=r[0].filename),h(e,"data-contextmenu","listitem-file"),j(e,"selected",r[2]==r[0].filename),j(e,"cutting",r[3]&&r[3].name==r[0].filename)},m(x,J){S(x,e,J),p(e,t),p(t,n),p(e,l),p(e,o),p(o,c),p(e,u),p(e,f),p(f,m),p(e,b),p(e,A),p(A,v),p(e,k),p(e,$),p($,E),H||(Q=[N(E,"click",r[6]),N(e,"click",r[4]),N(e,"contextmenu",r[4]),N(e,"dblclick",r[5])],H=!0)},p(x,[J]){J&2&&!de(n.src,i=x[1])&&h(n,"src",i),J&1&&s!==(s=x[0].filename)&&h(n,"alt",s),J&1&&a!==(a=x[0].filename+"")&&W(c,a),J&1&&d!==(d=x[0].mime.split("; ")[0].split("/").join(" - ")+"")&&W(m,d),J&1&&_!==(_=mt(x[0].size)+"")&&W(v,_),J&1&&I!==(I=x[0].scopedPath)&&h(e,"title",I),J&1&&R!==(R=x[0].scopedPath)&&h(e,"data-path",R),J&1&&L!==(L=x[0].filename)&&h(e,"data-name",L),J&5&&j(e,"selected",x[2]==x[0].filename),J&9&&j(e,"cutting",x[3]&&x[3].name==x[0].filename)},i:O,o:O,d(x){x&&y(e),H=!1,ke(Q)}}}function Ev(r,e,t){let n,i,s;G(r,mn,d=>t(7,n=d)),G(r,qe,d=>t(2,i=d)),G(r,On,d=>t(3,s=d));let{file:l}=e,o=Vn;function a(){Ee(qe,i=l.filename,i)}async function c(){Ee(mn,n=l,n),Xe("openingFile","FileManager");let d=await ir(l);if(Je("openingFile","FileManager"),Ee(mn,n=null,n),d!=!0){const m=d;Ze({title:`Unable to open ${l.filename}`,message:"You don't have an app or handler that can open this type of file.",buttons:[{caption:"Close",action:()=>{d=null}},{caption:"Open With...",action:()=>u(m)}],image:Vn},"FileManager")}d=null}function u(d){As({...d,anymime:!0})}async function f(){Ee(mn,n=l,n),Xe("openingFile","FileManager");const d=await dm(l);u(d),Je("openingFile","FileManager"),Ee(mn,n=l,n)}return ve(()=>{t(1,o=cn(l.filename))}),Bt.subscribe(()=>{t(1,o=cn(l.filename))}),r.$$set=d=>{"file"in d&&t(0,l=d.file)},[l,o,i,s,a,c,f]}let Iv=class extends U{constructor(e){super(),z(this,e,Ev,Tv,P,{file:0})}};function Ov(r){let e;return{c(){e=g("button"),e.innerHTML='<div class="image"></div> <div class="name">Name</div> <div class="mime">Type</div> <div class="size">Size</div>',h(e,"class","item head")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}class mm extends U{constructor(e){super(),z(this,e,null,Ov,P,{})}}function ja(r,e,t){const n=r.slice();return n[3]=e[t],n}function Ha(r,e,t){const n=r.slice();return n[6]=e[t],n}function Rv(r){let e,t,n,i,s,l;t=new mm({});let o=X(r[1]),a=[];for(let m=0;m<o.length;m+=1)a[m]=Qa(Ha(r,o,m));const c=m=>C(a[m],1,1,()=>{a[m]=null});let u=X(r[0]),f=[];for(let m=0;m<u.length;m+=1)f[m]=Wa(ja(r,u,m));const d=m=>C(f[m],1,1,()=>{f[m]=null});return{c(){e=g("div"),M(t.$$.fragment),n=T(),i=g("div");for(let m=0;m<a.length;m+=1)a[m].c();s=T();for(let m=0;m<f.length;m+=1)f[m].c();h(i,"class","items"),h(e,"class","listview")},m(m,b){S(m,e,b),D(t,e,null),p(e,n),p(e,i);for(let A=0;A<a.length;A+=1)a[A]&&a[A].m(i,null);p(i,s);for(let A=0;A<f.length;A+=1)f[A]&&f[A].m(i,null);l=!0},p(m,b){if(b&2){o=X(m[1]);let A;for(A=0;A<o.length;A+=1){const _=Ha(m,o,A);a[A]?(a[A].p(_,b),w(a[A],1)):(a[A]=Qa(_),a[A].c(),w(a[A],1),a[A].m(i,s))}for(V(),A=o.length;A<a.length;A+=1)c(A);q()}if(b&1){u=X(m[0]);let A;for(A=0;A<u.length;A+=1){const _=ja(m,u,A);f[A]?(f[A].p(_,b),w(f[A],1)):(f[A]=Wa(_),f[A].c(),w(f[A],1),f[A].m(i,null))}for(V(),A=u.length;A<f.length;A+=1)d(A);q()}},i(m){if(!l){w(t.$$.fragment,m);for(let b=0;b<o.length;b+=1)w(a[b]);for(let b=0;b<u.length;b+=1)w(f[b]);l=!0}},o(m){C(t.$$.fragment,m),a=a.filter(Boolean);for(let b=0;b<a.length;b+=1)C(a[b]);f=f.filter(Boolean);for(let b=0;b<f.length;b+=1)C(f[b]);l=!1},d(m){m&&y(e),B(t),me(a,m),me(f,m)}}}function Lv(r){let e,t,n,i;const s=[Bv,Dv],l=[];function o(a,c){return a[2]?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=le()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,c){let u=e;e=o(a),e!==u&&(V(),C(l[u],1,1,()=>{l[u]=null}),q(),t=l[e],t||(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function Qa(r){let e,t;return e=new bv({props:{dir:r[6]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.dir=n[6]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Wa(r){let e,t;return e=new Iv({props:{file:r[3]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.file=n[3]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Dv(r){let e;return{c(){e=g("div"),e.textContent="This folder is empty.",h(e,"class","nofiles")},m(t,n){S(t,e,n)},i:O,o:O,d(t){t&&y(e)}}}function Bv(r){let e,t,n,i,s,l;return n=new Vt({props:{height:32}}),{c(){e=g("div"),t=g("div"),M(n.$$.fragment),i=T(),s=g("p"),s.textContent="Reading items...",h(s,"class","caption"),h(t,"class","loading-inner"),h(e,"class","loading")},m(o,a){S(o,e,a),p(e,t),D(n,t,null),p(t,i),p(t,s),l=!0},i(o){l||(w(n.$$.fragment,o),l=!0)},o(o){C(n.$$.fragment,o),l=!1},d(o){o&&y(e),B(n)}}}function Mv(r){let e,t,n,i;const s=[Lv,Rv],l=[];function o(a,c){return!a[1].length&&!a[0].length?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=le()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(V(),C(l[u],1,1,()=>{l[u]=null}),q(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function Fv(r,e,t){let n;G(r,Dr,l=>t(2,n=l));let{files:i=[]}=e,{dirs:s=[]}=e;return r.$$set=l=>{"files"in l&&t(0,i=l.files),"dirs"in l&&t(1,s=l.dirs)},[i,s,n]}class Pv extends U{constructor(e){super(),z(this,e,Fv,Mv,P,{files:0,dirs:1})}}function zv(r){let e,t,n,i,s,l,o=r[0].name+"",a,c,u;return{c(){e=g("button"),t=g("img"),s=T(),l=g("p"),a=F(o),de(t.src,n=xt)||h(t,"src",n),h(t,"alt",i=r[0].name),h(l,"class","name"),h(e,"class","folder"),j(e,"selected",r[1])},m(f,d){S(f,e,d),p(e,t),p(e,s),p(e,l),p(l,a),c||(u=N(e,"click",r[2]),c=!0)},p(f,[d]){d&1&&i!==(i=f[0].name)&&h(t,"alt",i),d&1&&o!==(o=f[0].name+"")&&W(a,o),d&2&&j(e,"selected",f[1])},i:O,o:O,d(f){f&&y(e),c=!1,u()}}}function Uv(r,e,t){let{folder:n}=e,i=!1;async function s(){nt.goToDirectory(n.scopedPath)}return kt.subscribe(l=>{const o=l.replace("./","");t(1,i=o.startsWith(n.name))}),r.$$set=l=>{"folder"in l&&t(0,n=l.folder)},[n,i,s]}class Nv extends U{constructor(e){super(),z(this,e,Uv,zv,P,{folder:0})}}const tl={used:0,max:0,free:0,username:"ArcOS"};async function hm(){const r=K(Pe),e=K(Ge);if(ie("fs/quota.ts: getFSQuota",`Getting FSQuota for ${r}`,oe.info),!e||!r)return tl;const t=await et(e,"fs/quota",{},K(st));return t.valid?t.data:tl}function jv(r){let e,t,n,i,s,l,o=mt(r[0].used)+"",a,c,u,f,d=mt(r[0].max)+"",m;return{c(){e=g("div"),t=g("div"),n=g("div"),i=T(),s=g("div"),l=g("span"),a=F(o),u=T(),f=g("div"),m=F(d),h(n,"class","inner"),Se(n,"width",r[1]+"%"),h(t,"class","bar"),h(l,"title",c=r[0].used+"B"),j(l,"invalid",r[0].used>r[0].max),h(f,"class","right"),h(s,"class","stat"),h(e,"class","quota-renderer")},m(b,A){S(b,e,A),p(e,t),p(t,n),p(e,i),p(e,s),p(s,l),p(l,a),p(s,u),p(s,f),p(f,m)},p(b,[A]){A&2&&Se(n,"width",b[1]+"%"),A&1&&o!==(o=mt(b[0].used)+"")&&W(a,o),A&1&&c!==(c=b[0].used+"B")&&h(l,"title",c),A&1&&j(l,"invalid",b[0].used>b[0].max),A&1&&d!==(d=mt(b[0].max)+"")&&W(m,d)},i:O,o:O,d(b){b&&y(e)}}}function Hv(r,e,t){let n=tl,i=0;Bt.subscribe(s);async function s(){t(0,n=await hm()),t(1,i=Math.round(100/n.max*n.used))}return[n,i]}class Qv extends U{constructor(e){super(),z(this,e,Hv,jv,P,{})}}function Ka(r,e,t){const n=r.slice();return n[1]=e[t],n}function Ga(r){let e,t;return e=new Nv({props:{folder:r[1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.folder=n[1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Wv(r){let e,t,n,i,s,l=X(r[0]),o=[];for(let c=0;c<l.length;c+=1)o[c]=Ga(Ka(r,l,c));const a=c=>C(o[c],1,1,()=>{o[c]=null});return i=new Qv({}),{c(){e=g("div"),t=g("div");for(let c=0;c<o.length;c+=1)o[c].c();n=T(),M(i.$$.fragment),h(t,"class","dirs"),h(e,"class","sidebar")},m(c,u){S(c,e,u),p(e,t);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(t,null);p(e,n),D(i,e,null),s=!0},p(c,[u]){if(u&1){l=X(c[0]);let f;for(f=0;f<l.length;f+=1){const d=Ka(c,l,f);o[f]?(o[f].p(d,u),w(o[f],1)):(o[f]=Ga(d),o[f].c(),w(o[f],1),o[f].m(t,null))}for(V(),f=l.length;f<o.length;f+=1)a(f);q()}},i(c){if(!s){for(let u=0;u<l.length;u+=1)w(o[u]);w(i.$$.fragment,c),s=!0}},o(c){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)C(o[u]);C(i.$$.fragment,c),s=!1},d(c){c&&y(e),me(o,c),B(i)}}}function Kv(r,e,t){let n=[];return Bt.subscribe(async i=>{t(0,n=(await Gt("./")).directories)}),[n]}let Gv=class extends U{constructor(e){super(),z(this,e,Kv,Wv,P,{})}};function Vv(r){let e,t,n,i,s,l,o=r[0].name+"",a,c,u;return{c(){e=g("button"),t=g("img"),s=T(),l=g("p"),a=F(o),de(t.src,n=xt)||h(t,"src",n),h(t,"alt",i=r[0].name),h(l,"class","name"),h(e,"class","tile dir"),j(e,"selected",r[1]==r[0].name),j(e,"cutting",r[2]&&r[2].name==r[0].name)},m(f,d){S(f,e,d),p(e,t),p(e,s),p(e,l),p(l,a),c||(u=[N(e,"click",r[3]),N(e,"dblclick",r[4])],c=!0)},p(f,[d]){d&1&&i!==(i=f[0].name)&&h(t,"alt",i),d&1&&o!==(o=f[0].name+"")&&W(a,o),d&3&&j(e,"selected",f[1]==f[0].name),d&5&&j(e,"cutting",f[2]&&f[2].name==f[0].name)},i:O,o:O,d(f){f&&y(e),c=!1,ke(u)}}}function qv(r,e,t){let n,i;G(r,qe,a=>t(1,n=a)),G(r,On,a=>t(2,i=a));let{dir:s}=e;function l(){Ee(qe,n=s.name,n)}function o(){nt.goToDirectory(s.scopedPath)}return r.$$set=a=>{"dir"in a&&t(0,s=a.dir)},[s,n,i,l,o]}let Yv=class extends U{constructor(e){super(),z(this,e,qv,Vv,P,{dir:0})}};function Jv(r){let e,t,n,i,s,l,o=r[0].filename+"",a,c,u,f;return{c(){e=g("button"),t=g("img"),s=T(),l=g("p"),a=F(o),de(t.src,n=r[1])||h(t,"src",n),h(t,"alt",i=r[0].filename),h(l,"class","name"),h(e,"class","tile file"),h(e,"title",c=r[0].scopedPath),j(e,"selected",r[2]==r[0].filename),j(e,"cutting",r[3]&&r[3].name==r[0].filename)},m(d,m){S(d,e,m),p(e,t),p(e,s),p(e,l),p(l,a),u||(f=[N(e,"click",r[4]),N(e,"dblclick",r[5])],u=!0)},p(d,[m]){m&2&&!de(t.src,n=d[1])&&h(t,"src",n),m&1&&i!==(i=d[0].filename)&&h(t,"alt",i),m&1&&o!==(o=d[0].filename+"")&&W(a,o),m&1&&c!==(c=d[0].scopedPath)&&h(e,"title",c),m&5&&j(e,"selected",d[2]==d[0].filename),m&9&&j(e,"cutting",d[3]&&d[3].name==d[0].filename)},i:O,o:O,d(d){d&&y(e),u=!1,ke(f)}}}function Zv(r,e,t){let n,i,s;G(r,mn,f=>t(6,n=f)),G(r,qe,f=>t(2,i=f)),G(r,On,f=>t(3,s=f));let{file:l}=e,o=Vn;function a(){Ee(qe,i=l.filename,i)}async function c(){Ee(mn,n=l,n),Xe("openingFile","FileManager");let f=await ir(l);if(Je("openingFile","FileManager"),Ee(mn,n=null,n),f!=!0){const d=f;Ze({title:`Unable to open ${l.filename}`,message:"You don't have an app or handler that can open this type of file.",buttons:[{caption:"Close",action:()=>{f=null}},{caption:"Open With...",action:()=>u(d)}],image:Vn},"FileManager")}f=null}function u(f){As({...f,anymime:!0})}return ve(()=>{t(1,o=cn(l.filename))}),Bt.subscribe(()=>t(1,o=cn(l.filename))),r.$$set=f=>{"file"in f&&t(0,l=f.file)},[l,o,i,s,a,c]}let Xv=class extends U{constructor(e){super(),z(this,e,Zv,Jv,P,{file:0})}};function Va(r,e,t){const n=r.slice();return n[3]=e[t],n}function qa(r,e,t){const n=r.slice();return n[6]=e[t],n}function xv(r){let e,t,n,i=r[1].length&&Ya(r),s=r[0].length&&Za(r);return{c(){e=g("div"),i&&i.c(),t=T(),s&&s.c(),h(e,"class","tileview")},m(l,o){S(l,e,o),i&&i.m(e,null),p(e,t),s&&s.m(e,null),n=!0},p(l,o){l[1].length?i?(i.p(l,o),o&2&&w(i,1)):(i=Ya(l),i.c(),w(i,1),i.m(e,t)):i&&(V(),C(i,1,1,()=>{i=null}),q()),l[0].length?s?(s.p(l,o),o&1&&w(s,1)):(s=Za(l),s.c(),w(s,1),s.m(e,null)):s&&(V(),C(s,1,1,()=>{s=null}),q())},i(l){n||(w(i),w(s),n=!0)},o(l){C(i),C(s),n=!1},d(l){l&&y(e),i&&i.d(),s&&s.d()}}}function ek(r){let e,t,n,i;const s=[nk,tk],l=[];function o(a,c){return a[2]?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=le()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,c){let u=e;e=o(a),e!==u&&(V(),C(l[u],1,1,()=>{l[u]=null}),q(),t=l[e],t||(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function Ya(r){let e,t,n=X(r[1]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Ja(qa(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","folders")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,o){if(o&2){n=X(l[1]);let a;for(a=0;a<n.length;a+=1){const c=qa(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Ja(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Ja(r){let e,t;return e=new Yv({props:{dir:r[6]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.dir=n[6]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Za(r){let e,t,n=X(r[0]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Xa(Va(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","files")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,o){if(o&1){n=X(l[0]);let a;for(a=0;a<n.length;a+=1){const c=Va(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Xa(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Xa(r){let e,t;return e=new Xv({props:{file:r[3]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.file=n[3]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function tk(r){let e;return{c(){e=g("div"),e.textContent="This folder is empty.",h(e,"class","nofiles")},m(t,n){S(t,e,n)},i:O,o:O,d(t){t&&y(e)}}}function nk(r){let e,t,n,i,s,l;return n=new Vt({props:{height:32}}),{c(){e=g("div"),t=g("div"),M(n.$$.fragment),i=T(),s=g("p"),s.textContent="Reading items...",h(s,"class","caption"),h(t,"class","loading-inner"),h(e,"class","loading")},m(o,a){S(o,e,a),p(e,t),D(n,t,null),p(t,i),p(t,s),l=!0},i(o){l||(w(n.$$.fragment,o),l=!0)},o(o){C(n.$$.fragment,o),l=!1},d(o){o&&y(e),B(n)}}}function ik(r){let e,t,n,i;const s=[ek,xv],l=[];function o(a,c){return!a[1].length&&!a[0].length?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=le()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(V(),C(l[u],1,1,()=>{l[u]=null}),q(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function rk(r,e,t){let n;G(r,Dr,l=>t(2,n=l));let{files:i=[]}=e,{dirs:s=[]}=e;return r.$$set=l=>{"files"in l&&t(0,i=l.files),"dirs"in l&&t(1,s=l.dirs)},[i,s,n]}class sk extends U{constructor(e){super(),z(this,e,rk,ik,P,{files:0,dirs:1})}}function xa(r){let e,t,n,i;return{c(){e=g("button"),t=F(r[0]),h(e,"class","crumb")},m(s,l){S(s,e,l),p(e,t),n||(i=N(e,"click",r[1]),n=!0)},p(s,l){l&1&&W(t,s[0])},d(s){s&&y(e),n=!1,i()}}}function lk(r){let e,t=r[0]&&r[0]!="."&&xa(r);return{c(){t&&t.c(),e=le()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0]&&n[0]!="."?t?t.p(n,i):(t=xa(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function ok(r,e,t){let{crumb:n}=e,{path:i}=e;function s(){nt.goToDirectory(i)}return r.$$set=l=>{"crumb"in l&&t(0,n=l.crumb),"path"in l&&t(2,i=l.path)},[n,s,i]}let ak=class extends U{constructor(e){super(),z(this,e,ok,lk,P,{crumb:0,path:2})}};function ec(r,e,t){const n=r.slice();return n[4]=e[t],n[6]=t,n}function tc(r){let e,t;return e=new ak({props:{crumb:r[4],path:r[2](r[4],r[6])}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.crumb=n[4]),i&1&&(s.path=n[2](n[4],n[6])),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function ck(r){let e,t,n,i,s,l,o,a,c=X(r[0]),u=[];for(let d=0;d<c.length;d+=1)u[d]=tc(ec(r,c,d));const f=d=>C(u[d],1,1,()=>{u[d]=null});return{c(){e=g("button"),e.textContent="home",t=T(),n=g("div");for(let d=0;d<u.length;d+=1)u[d].c();i=T(),s=g("button"),s.textContent="refresh",h(e,"class","home material-icons-round"),h(n,"class","addressbar"),h(s,"class","refresh material-icons-round")},m(d,m){S(d,e,m),S(d,t,m),S(d,n,m);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(n,null);S(d,i,m),S(d,s,m),l=!0,o||(a=[N(e,"click",r[1]),N(s,"click",r[3])],o=!0)},p(d,[m]){if(m&5){c=X(d[0]);let b;for(b=0;b<c.length;b+=1){const A=ec(d,c,b);u[b]?(u[b].p(A,m),w(u[b],1)):(u[b]=tc(A),u[b].c(),w(u[b],1),u[b].m(n,null))}for(V(),b=c.length;b<u.length;b+=1)f(b);q()}},i(d){if(!l){for(let m=0;m<c.length;m+=1)w(u[m]);l=!0}},o(d){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)C(u[m]);l=!1},d(d){d&&(y(e),y(t),y(n),y(i),y(s)),me(u,d),o=!1,ke(a)}}}function uk(r,e,t){let n=[];kt.subscribe(o=>{t(0,n=o.split("/"))});function i(){nt.goToDirectory("./")}function s(o,a){let c="";for(let u=0;u<a;u++)c+=`${n[u]}/`;return`${c}${o}`}return[n,i,s,()=>nt.refresh()]}class fk extends U{constructor(e){super(),z(this,e,uk,ck,P,{})}}function dk(r){let e,t,n,i,s;return{c(){e=g("button"),t=F("content_copy"),h(e,"class","material-icons-round copy"),e.disabled=n=!r[0]},m(l,o){S(l,e,o),p(e,t),i||(s=N(e,"click",r[1]),i=!0)},p(l,[o]){o&1&&n!==(n=!l[0])&&(e.disabled=n)},i:O,o:O,d(l){l&&y(e),i=!1,s()}}}function pk(r,e,t){let n,i;G(r,qe,l=>t(0,n=l)),G(r,kt,l=>t(2,i=l));function s(){Br.set({name:n,scopedPath:`${i}/${n}`})}return[n,s]}class mk extends U{constructor(e){super(),z(this,e,pk,dk,P,{})}}function hk(r){let e,t,n;return{c(){e=g("button"),e.textContent="add",h(e,"class","material-icons-round create")},m(i,s){S(i,e,s),t||(n=N(e,"click",r[0]),t=!0)},p:O,i:O,o:O,d(i){i&&y(e),t=!1,n()}}}function gk(r){function e(){Xe("createFile","FileManager")}return[e]}class Ak extends U{constructor(e){super(),z(this,e,gk,hk,P,{})}}function bk(r){let e,t,n,i,s;return{c(){e=g("button"),t=F("content_cut"),h(e,"class","material-icons-round cut"),e.disabled=n=!r[0]},m(l,o){S(l,e,o),p(e,t),i||(s=N(e,"click",r[1]),i=!0)},p(l,[o]){o&1&&n!==(n=!l[0])&&(e.disabled=n)},i:O,o:O,d(l){l&&y(e),i=!1,s()}}}function _k(r,e,t){let n,i;G(r,qe,l=>t(0,n=l)),G(r,kt,l=>t(2,i=l));function s(){On.set({name:n,scopedPath:`${i}/${n}`})}return[n,s]}class wk extends U{constructor(e){super(),z(this,e,_k,bk,P,{})}}function vk(r){let e,t,n,i,s;return{c(){e=g("button"),t=F("delete"),h(e,"class","material-icons-round"),e.disabled=n=!r[0],h(e,"title","Delete item")},m(l,o){S(l,e,o),p(e,t),i||(s=N(e,"click",r[1]),i=!0)},p(l,[o]){o&1&&n!==(n=!l[0])&&(e.disabled=n)},i:O,o:O,d(l){l&&y(e),i=!1,s()}}}function kk(r,e,t){let n,i;G(r,qe,o=>t(0,n=o)),G(r,kt,o=>t(2,i=o));function s(){Ze({title:"Delete item?",message:`Are you sure you want to permanently delete ${n}?`,buttons:[{caption:"Delete",action:l},{caption:"Cancel",action(){}}],image:Si},"FileManager")}async function l(){const o=`${i}/${n}`;es.set(n),Xe("deletingItem","FileManager"),await kl(o)||Ze({title:"Unable to delete item",message:"ArcAPI was not able to delete the item from the file system. A permission error may have occured. Please try again later.",buttons:[{caption:"OK",action(){}}],image:vn},"FileManager"),qe.set(null),nt.refresh(),setTimeout(()=>{Je("deletingItem","FileManager")},100)}return[n,s]}class yk extends U{constructor(e){super(),z(this,e,kk,vk,P,{})}}function Sk(r){let e,t,n;return{c(){e=g("button"),e.textContent="create_new_folder",h(e,"class","material-icons-round"),h(e,"title","New folder")},m(i,s){S(i,e,s),t||(n=N(e,"click",r[0]),t=!0)},p:O,i:O,o:O,d(i){i&&y(e),t=!1,n()}}}function $k(r){function e(){Xe("createFolder","FileManager")}return[e]}class Ck extends U{constructor(e){super(),z(this,e,$k,Sk,P,{})}}function Tk(r){let e,t,n,i,s;return{c(){e=g("button"),t=F("arrow_upward"),h(e,"class","material-icons-round parentdir"),e.disabled=n=r[0]=="./",h(e,"title","Parent folder")},m(l,o){S(l,e,o),p(e,t),i||(s=N(e,"click",r[1]),i=!0)},p(l,[o]){o&1&&n!==(n=l[0]=="./")&&(e.disabled=n)},i:O,o:O,d(l){l&&y(e),i=!1,s()}}}function Ek(r,e,t){let n;G(r,kt,s=>t(0,n=s));function i(){nt.goToDirectory(um(n))}return[n,i]}class Ik extends U{constructor(e){super(),z(this,e,Ek,Tk,P,{})}}async function Ok(r,e){ie("fs/mutate.ts: copyItem",`Copying ${r} to ${e}`,oe.info);const t=K(Ge);return t?(await et(t,"fs/cp",{path:btoa(r),target:btoa(e)},K(st)),!0):!1}async function gm(r,e){ie("fs/rename.ts: renameItem",`Renaming ${r} to ${e}`,oe.info);const t=K(Ge);return t?(await et(t,"fs/rename",{oldpath:btoa(r),newpath:btoa(e)},K(st))).valid:!1}function Rk(r){let e,t,n,i,s;return{c(){e=g("button"),t=F("content_paste"),h(e,"class","material-icons-round paste"),e.disabled=n=!r[0]&&!r[1]},m(l,o){S(l,e,o),p(e,t),i||(s=N(e,"click",r[2]),i=!0)},p(l,[o]){o&3&&n!==(n=!l[0]&&!l[1])&&(e.disabled=n)},i:O,o:O,d(l){l&&y(e),i=!1,s()}}}function Lk(r,e,t){let n,i,s;G(r,kt,o=>t(3,n=o)),G(r,On,o=>t(0,i=o)),G(r,Br,o=>t(1,s=o));async function l(){if(s){const o=s.name,a=s.scopedPath;await Ok(a,`${n}/${o}`),Br.set(null)}if(i){const o=i.name,a=i.scopedPath;await gm(a,`${n}/${o}`),On.set(null)}nt.refresh()}return[i,s,l]}class Dk extends U{constructor(e){super(),z(this,e,Lk,Rk,P,{})}}function Bk(r){let e,t,n,i,s;return{c(){e=g("button"),t=F("drive_file_rename_outline"),h(e,"class","material-icons-round"),e.disabled=n=!r[0],h(e,"title","Rename item")},m(l,o){S(l,e,o),p(e,t),i||(s=N(e,"click",r[1]),i=!0)},p(l,[o]){o&1&&n!==(n=!l[0])&&(e.disabled=n)},i:O,o:O,d(l){l&&y(e),i=!1,s()}}}function Mk(r,e,t){let n;G(r,qe,s=>t(0,n=s));function i(){Xe("renameItem","FileManager")}return[n,i]}class Fk extends U{constructor(e){super(),z(this,e,Mk,Bk,P,{})}}const nl=""+new URL("upload-62f3bdf6.svg",import.meta.url).href;function Pk(r){let e,t,n,i,s;return{c(){e=g("input"),t=T(),n=g("button"),n.textContent="upload",h(e,"type","file"),h(e,"name","file"),e.multiple=!0,h(e,"class","svelte-nn3gqf"),h(n,"class","material-icons-round"),h(n,"title","Upload file")},m(l,o){S(l,e,o),r[2](e),S(l,t,o),S(l,n,o),i||(s=[N(e,"change",r[1]),N(n,"click",r[3])],i=!0)},p:O,i:O,o:O,d(l){l&&(y(e),y(t),y(n)),r[2](null),i=!1,ke(s)}}}function zk(r,e,t){let n;G(r,kt,c=>t(4,n=c));let i;async function s(){const c=i.files;if(c.length>80)return Ze({title:"Too many files",message:"You are only allowed to upload 80 files at a time to prevent overloading.",buttons:[{caption:"Understood",action(){}}],image:nl},"FileManager");Xe("uploadingFile","FileManager");let u=50;for(let f=0;f<c.length;f++)u+=25,c[f]&&await l(c[f]);setTimeout(()=>{Je("uploadingFile","FileManager"),nt.refresh()},u+500)}async function l(c){const u=new Blob([new Uint8Array(await c.arrayBuffer())]),f=`${n}/${c.name}`.split("//").join("/"),d=await pm(c,f);yl.set(d),await fn(f,u)||$i({title:"File upload failed",message:"The server could not parse the file or it could not be written to the ArcFS",buttons:[],image:nl})}function o(c){we[c?"unshift":"push"](()=>{i=c,t(0,i)})}return[i,s,o,()=>i.click()]}class Uk extends U{constructor(e){super(),z(this,e,zk,Pk,P,{})}}function Nk(r){let e,t,n,i,s,l;return{c(){e=g("div"),t=g("button"),t.textContent="format_list_bulleted",n=T(),i=g("button"),i.textContent="grid_view",h(t,"class","material-icons-round"),h(t,"title","List view"),j(t,"selected",!r[0].tiled),h(i,"class","material-icons-round"),h(i,"title","Tile view"),j(i,"selected",r[0].tiled),h(e,"class","group")},m(o,a){S(o,e,a),p(e,t),p(e,n),p(e,i),s||(l=[N(t,"click",r[1](!1)),N(i,"click",r[1](!0))],s=!0)},p(o,[a]){a&1&&j(t,"selected",!o[0].tiled),a&1&&j(i,"selected",o[0].tiled)},i:O,o:O,d(o){o&&y(e),s=!1,ke(l)}}}function jk(r,e,t){let n;G(r,te,o=>t(3,n=o));let{appdata:i}=e,{app:s}=e;function l(o){return()=>{t(0,i.tiled=o,i),Ee(te,n.appdata[s.id]=i,n)}}return r.$$set=o=>{"appdata"in o&&t(0,i=o.appdata),"app"in o&&t(2,s=o.app)},[i,l,s]}class Hk extends U{constructor(e){super(),z(this,e,jk,Nk,P,{appdata:0,app:2})}}function Qk(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v,k,$,E,I,R,L,H,Q,x,J,Ae,ce,se;t=new Ik({}),i=new fk({}),a=new wk({}),u=new mk({}),d=new Dk({}),_=new yk({}),k=new Fk({}),I=new Ck({}),L=new Ak({}),Q=new Uk({});function ne(Y){r[2](Y)}function Z(Y){r[3](Y)}let re={};return r[0]!==void 0&&(re.appdata=r[0]),r[1]!==void 0&&(re.app=r[1]),J=new Hk({props:re}),we.push(()=>Ce(J,"appdata",ne)),we.push(()=>Ce(J,"app",Z)),{c(){e=g("div"),M(t.$$.fragment),n=T(),M(i.$$.fragment),s=T(),l=g("div"),o=g("div"),M(a.$$.fragment),c=T(),M(u.$$.fragment),f=T(),M(d.$$.fragment),m=T(),b=g("div"),A=T(),M(_.$$.fragment),v=T(),M(k.$$.fragment),$=T(),E=g("div"),M(I.$$.fragment),R=T(),M(L.$$.fragment),H=T(),M(Q.$$.fragment),x=T(),M(J.$$.fragment),h(b,"class","sep"),h(o,"class","group"),h(E,"class","group"),h(l,"class","right"),h(e,"class","topbar")},m(Y,ae){S(Y,e,ae),D(t,e,null),p(e,n),D(i,e,null),p(e,s),p(e,l),p(l,o),D(a,o,null),p(o,c),D(u,o,null),p(o,f),D(d,o,null),p(o,m),p(o,b),p(o,A),D(_,o,null),p(o,v),D(k,o,null),p(l,$),p(l,E),D(I,E,null),p(E,R),D(L,E,null),p(E,H),D(Q,E,null),p(l,x),D(J,l,null),se=!0},p(Y,[ae]){const fe={};!Ae&&ae&1&&(Ae=!0,fe.appdata=Y[0],$e(()=>Ae=!1)),!ce&&ae&2&&(ce=!0,fe.app=Y[1],$e(()=>ce=!1)),J.$set(fe)},i(Y){se||(w(t.$$.fragment,Y),w(i.$$.fragment,Y),w(a.$$.fragment,Y),w(u.$$.fragment,Y),w(d.$$.fragment,Y),w(_.$$.fragment,Y),w(k.$$.fragment,Y),w(I.$$.fragment,Y),w(L.$$.fragment,Y),w(Q.$$.fragment,Y),w(J.$$.fragment,Y),se=!0)},o(Y){C(t.$$.fragment,Y),C(i.$$.fragment,Y),C(a.$$.fragment,Y),C(u.$$.fragment,Y),C(d.$$.fragment,Y),C(_.$$.fragment,Y),C(k.$$.fragment,Y),C(I.$$.fragment,Y),C(L.$$.fragment,Y),C(Q.$$.fragment,Y),C(J.$$.fragment,Y),se=!1},d(Y){Y&&y(e),B(t),B(i),B(a),B(u),B(d),B(_),B(k),B(I),B(L),B(Q),B(J)}}}function Wk(r,e,t){let{appdata:n}=e,{app:i}=e;function s(o){n=o,t(0,n)}function l(o){i=o,t(1,i)}return r.$$set=o=>{"appdata"in o&&t(0,n=o.appdata),"app"in o&&t(1,i=o.app)},[n,i,s,l]}let Kk=class extends U{constructor(e){super(),z(this,e,Wk,Qk,P,{appdata:0,app:1})}};function nc(r){let e,t,n=(r[1]||"./")+"",i,s,l,o=r[0].name+"",a,c,u,f,d=r[0].files.length+"",m,b,A,_,v=r[0].directories.length+"",k,$;return{c(){e=g("div"),t=g("div"),i=F(n),s=T(),l=g("div"),a=F(o),c=T(),u=g("div"),f=g("div"),m=F(d),b=F(" Files"),A=T(),_=g("div"),k=F(v),$=F(" Folders"),h(t,"class","section"),h(l,"class","section"),h(f,"class","section"),h(_,"class","section"),h(u,"class","right"),h(e,"class","bottom")},m(E,I){S(E,e,I),p(e,t),p(t,i),p(e,s),p(e,l),p(l,a),p(e,c),p(e,u),p(u,f),p(f,m),p(f,b),p(u,A),p(u,_),p(_,k),p(_,$)},p(E,I){I&2&&n!==(n=(E[1]||"./")+"")&&W(i,n),I&1&&o!==(o=E[0].name+"")&&W(a,o),I&1&&d!==(d=E[0].files.length+"")&&W(m,d),I&1&&v!==(v=E[0].directories.length+"")&&W(k,v)},d(E){E&&y(e)}}}function Gk(r){let e,t=r[0]&&nc(r);return{c(){t&&t.c(),e=le()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0]?t?t.p(n,i):(t=nc(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function Vk(r,e,t){let n,i;return G(r,Bt,s=>t(0,n=s)),G(r,kt,s=>t(1,i=s)),[n,i]}let qk=class extends U{constructor(e){super(),z(this,e,Vk,Gk,P,{})}};function Yk(r){let e,t;return e=new Pv({props:{files:r[2],dirs:r[3]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.files=n[2]),i&8&&(s.dirs=n[3]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Jk(r){let e,t;return e=new sk({props:{files:r[2],dirs:r[3]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.files=n[2]),i&8&&(s.dirs=n[3]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Zk(r){let e,t,n,i,s,l,o,a,c,u,f;function d(v){r[5](v)}let m={app:r[1]};r[0]!==void 0&&(m.appdata=r[0]),e=new Kk({props:m}),we.push(()=>Ce(e,"appdata",d)),i=new Gv({});const b=[Jk,Yk],A=[];function _(v,k){return v[4]?0:1}return o=_(r),a=A[o]=b[o](r),u=new qk({}),{c(){M(e.$$.fragment),n=T(),M(i.$$.fragment),s=T(),l=g("div"),a.c(),c=T(),M(u.$$.fragment),h(l,"class","content")},m(v,k){D(e,v,k),S(v,n,k),D(i,v,k),S(v,s,k),S(v,l,k),A[o].m(l,null),S(v,c,k),D(u,v,k),f=!0},p(v,[k]){const $={};k&2&&($.app=v[1]),!t&&k&1&&(t=!0,$.appdata=v[0],$e(()=>t=!1)),e.$set($);let E=o;o=_(v),o===E?A[o].p(v,k):(V(),C(A[E],1,1,()=>{A[E]=null}),q(),a=A[o],a?a.p(v,k):(a=A[o]=b[o](v),a.c()),w(a,1),a.m(l,null))},i(v){f||(w(e.$$.fragment,v),w(i.$$.fragment,v),w(a),w(u.$$.fragment,v),f=!0)},o(v){C(e.$$.fragment,v),C(i.$$.fragment,v),C(a),C(u.$$.fragment,v),f=!1},d(v){v&&(y(n),y(s),y(l),y(c)),B(e,v),B(i,v),A[o].d(),B(u,v)}}}function Xk(r,e,t){let n;G(r,Bt,u=>t(6,n=u));let i=[],s=[],l=!1,{app:o}=e,{appdata:a}=e;te.subscribe(()=>{t(4,l=a.tiled)}),ve(async()=>{await nt.refresh();const u=n||jn;t(2,i=u.files),t(3,s=u.directories)}),Bt.subscribe(u=>{t(3,s=u.directories),t(2,i=u.files)});function c(u){a=u,t(0,a)}return r.$$set=u=>{"app"in u&&t(1,o=u.app),"appdata"in u&&t(0,a=u.appdata)},[a,o,i,s,l,c]}class xk extends U{constructor(e){super(),z(this,e,Xk,Zk,P,{app:1,appdata:0})}}const Fi={sep:!0},e2=["button","div","span","p","h1","h2","h3","h4","h5","img"];function t2(r,e,t){const n=document.querySelectorAll("div.app > div.desktop")[0];if(!n)return;const i=n.offsetWidth,s=n.offsetHeight;let l=r.clientX,o=r.clientY;return l+e>i&&(l=i-e),o+t>s&&(o=s-t),l<0&&(l=0),o<0&&(o=0),[l,o]}function n2(r){const e=r.composedPath();for(let t=0;t<e.length;t++){const n=e[t].tagName;if(!n)continue;const i=e[t].dataset.contextmenu;if(e2.includes(n.toLowerCase())&&i)return e[t]}return null}function i2(r,e){const t=Ue(r);if(!t||!t.contextMenu)return!1;const n=Object.entries(t.contextMenu);for(let i=0;i<n.length;i++)if(e.includes(n[i][0]))return n[i][1];return!1}const r2={"listitem-dir":[{icon:"launch",caption:"Open",action:(r,e)=>{const t=e.path;t&&nt.goToDirectory(t)}},{icon:"drive_file_rename_outline",caption:"Rename",action:(r,e)=>{qe.set(e.name),Xe("renameItem","FileManager")}},{icon:"content_copy",caption:"Copy",action:(r,e)=>{qe.set(e.name),Br.set({name:e.name,scopedPath:`${e.path}`})}},{icon:"content_cut",caption:"Cut",action:(r,e)=>{qe.set(e.name),On.set({name:e.name,scopedPath:`${e.path}`})}}],"listitem-file":[{caption:"Delete",action:(r,e)=>{Ze({title:"Delete item?",message:`Are you sure you want to permanently delete ${e.name}?`,buttons:[{caption:"Delete",action:async()=>{nt.deleteItem(e.name,e.path)}},{caption:"Cancel",action(){}}],image:Si},"FileManager")}}]};function s2(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v,k;return{c(){e=g("div"),t=g("div"),n=g("img"),s=T(),l=g("div"),o=g("p"),o.textContent="Enter a name for the new file:",a=T(),c=g("input"),u=T(),f=g("div"),d=g("div"),m=g("button"),b=F("Create"),A=T(),_=g("button"),_.textContent="Cancel",de(n.src,i=r[1]||Hi)||h(n,"src",i),h(n,"alt",""),h(t,"class","image"),h(c,"type","text"),m.disabled=r[2],h(d,"class","inner"),h(f,"class","actions"),h(e,"class","fb-overlay-mutator-wrapper")},m($,E){S($,e,E),p(e,t),p(t,n),p(e,s),p(e,l),p(l,o),p(l,a),p(l,c),he(c,r[0]),p(l,u),p(l,f),p(f,d),p(d,m),p(m,b),p(d,A),p(d,_),v||(k=[N(c,"input",r[6]),N(c,"input",r[3]),N(m,"click",r[4]),N(_,"click",r[5])],v=!0)},p($,[E]){E&2&&!de(n.src,i=$[1]||Hi)&&h(n,"src",i),E&1&&c.value!==$[0]&&he(c,$[0]),E&4&&(m.disabled=$[2])},i:O,o:O,d($){$&&y(e),v=!1,ke(k)}}}function l2(r,e,t){let n,i;G(r,kt,d=>t(7,n=d)),G(r,Bt,d=>t(8,i=d));let s="",l="",o=!1;function a(){const d=i.directories,m=i.files;for(let b=0;b<d.length;b++)if(d[b].name==s)return t(2,o=!0);for(let b=0;b<m.length;b++)if(m[b].filename==s)return t(2,o=!0);t(2,o=!1),t(1,l=cn(s)||Hi)}async function c(){await fn(`${n}/${s}`,new Blob([])),qe.set(s),u(),nt.refresh()}function u(){Je("createFile","FileManager"),t(0,s="")}function f(){s=this.value,t(0,s)}return[s,l,o,a,c,u,f]}class o2 extends U{constructor(e){super(),z(this,e,l2,s2,P,{})}}function a2(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_;return{c(){e=g("div"),t=g("div"),t.innerHTML=`<img src="${xt}" alt=""/>`,n=T(),i=g("div"),s=g("p"),s.textContent="Enter a name for the new folder:",l=T(),o=g("input"),a=T(),c=g("div"),u=g("div"),f=g("button"),d=F("Create"),m=T(),b=g("button"),b.textContent="Cancel",h(t,"class","image"),h(o,"type","text"),f.disabled=r[1],h(u,"class","inner"),h(c,"class","actions"),h(e,"class","fb-overlay-mutator-wrapper")},m(v,k){S(v,e,k),p(e,t),p(e,n),p(e,i),p(i,s),p(i,l),p(i,o),he(o,r[0]),p(i,a),p(i,c),p(c,u),p(u,f),p(f,d),p(u,m),p(u,b),A||(_=[N(o,"input",r[5]),N(o,"input",r[2]),N(f,"click",r[3]),N(b,"click",r[4])],A=!0)},p(v,[k]){k&1&&o.value!==v[0]&&he(o,v[0]),k&2&&(f.disabled=v[1])},i:O,o:O,d(v){v&&y(e),A=!1,ke(_)}}}function c2(r,e,t){let n,i;G(r,kt,f=>t(6,n=f)),G(r,Bt,f=>t(7,i=f));let s="",l=!1;function o(){const f=i.directories,d=i.files;for(let m=0;m<f.length;m++)if(f[m].name==s)return t(1,l=!0);for(let m=0;m<d.length;m++)if(d[m].filename==s)return t(1,l=!0);t(1,l=!1)}async function a(){await Yi(`${n}/${s}`),qe.set(s),c(),nt.refresh()}function c(){Je("createFolder","FileManager"),t(0,s="")}function u(){s=this.value,t(0,s)}return[s,l,o,a,c,u]}class u2 extends U{constructor(e){super(),z(this,e,c2,a2,P,{})}}function f2(r){let e,t,n,i,s,l,o,a,c,u,f;return u=new Vt({props:{height:30}}),{c(){e=g("div"),t=g("div"),t.innerHTML=`<img src="${Si}" alt=""/>`,n=T(),i=g("div"),s=F("Deleting "),l=F(r[0]),o=F("..."),a=T(),c=g("div"),M(u.$$.fragment),h(t,"class","icon"),h(i,"class","caption"),h(c,"class","spin"),h(e,"class","deletingfile-wrapper")},m(d,m){S(d,e,m),p(e,t),p(e,n),p(e,i),p(i,s),p(i,l),p(i,o),p(e,a),p(e,c),D(u,c,null),f=!0},p(d,[m]){(!f||m&1)&&W(l,d[0])},i(d){f||(w(u.$$.fragment,d),f=!0)},o(d){C(u.$$.fragment,d),f=!1},d(d){d&&y(e),B(u)}}}function d2(r,e,t){let n;return G(r,es,i=>t(0,n=i)),[n]}class p2 extends U{constructor(e){super(),z(this,e,d2,f2,P,{})}}const m2=""+new URL("memory-802c404d.svg",import.meta.url).href;function ic(r){let e,t,n,i,s,l=r[0].filename+"",o,a,c,u,f,d,m,b,A,_,v,k=r[0].filename+"",$,E,I,R,L,H,Q=r[0].filename+"",x,J,Ae,ce,se,ne,Z=r[0].mime+"",re,Y,ae,fe,ye,_e,Ie=mt(r[0].size)+"",Be,Fe;return f=new Vt({props:{height:30}}),{c(){e=g("div"),t=g("div"),t.innerHTML=`<img src="${m2}" alt=""/>`,n=T(),i=g("div"),s=F("Downloading "),o=F(l),a=F(" to RAM..."),c=T(),u=g("div"),M(f.$$.fragment),d=T(),m=g("table"),b=g("tr"),A=g("td"),A.textContent="Name",_=T(),v=g("td"),$=F(k),E=T(),I=g("tr"),R=g("td"),R.textContent="Path",L=T(),H=g("td"),x=F(Q),J=T(),Ae=g("tr"),ce=g("td"),ce.textContent="Mimetype",se=T(),ne=g("td"),re=F(Z),Y=T(),ae=g("tr"),fe=g("td"),fe.textContent="Size",ye=T(),_e=g("td"),Be=F(Ie),h(t,"class","icon"),h(i,"class","caption"),h(u,"class","spin"),h(e,"class","openingfile-wrapper"),h(A,"class","key"),h(R,"class","key"),h(ce,"class","key"),h(fe,"class","key"),h(m,"class","openfile-details")},m(Ke,it){S(Ke,e,it),p(e,t),p(e,n),p(e,i),p(i,s),p(i,o),p(i,a),p(e,c),p(e,u),D(f,u,null),S(Ke,d,it),S(Ke,m,it),p(m,b),p(b,A),p(b,_),p(b,v),p(v,$),p(m,E),p(m,I),p(I,R),p(I,L),p(I,H),p(H,x),p(m,J),p(m,Ae),p(Ae,ce),p(Ae,se),p(Ae,ne),p(ne,re),p(m,Y),p(m,ae),p(ae,fe),p(ae,ye),p(ae,_e),p(_e,Be),Fe=!0},p(Ke,it){(!Fe||it&1)&&l!==(l=Ke[0].filename+"")&&W(o,l),(!Fe||it&1)&&k!==(k=Ke[0].filename+"")&&W($,k),(!Fe||it&1)&&Q!==(Q=Ke[0].filename+"")&&W(x,Q),(!Fe||it&1)&&Z!==(Z=Ke[0].mime+"")&&W(re,Z),(!Fe||it&1)&&Ie!==(Ie=mt(Ke[0].size)+"")&&W(Be,Ie)},i(Ke){Fe||(w(f.$$.fragment,Ke),Fe=!0)},o(Ke){C(f.$$.fragment,Ke),Fe=!1},d(Ke){Ke&&(y(e),y(d),y(m)),B(f)}}}function h2(r){let e,t,n,i,s,l=r[0]&&ic(r);return{c(){l&&l.c(),e=T(),t=g("button"),t.textContent="Cancel",h(t,"class","cancel")},m(o,a){l&&l.m(o,a),S(o,e,a),S(o,t,a),n=!0,i||(s=N(t,"click",r[1]),i=!0)},p(o,[a]){o[0]?l?(l.p(o,a),a&1&&w(l,1)):(l=ic(o),l.c(),w(l,1),l.m(e.parentNode,e)):l&&(V(),C(l,1,1,()=>{l=null}),q())},i(o){n||(w(l),n=!0)},o(o){C(l),n=!1},d(o){o&&(y(e),y(t)),l&&l.d(o),i=!1,s()}}}function g2(r,e,t){let n;G(r,mn,s=>t(0,n=s));function i(){Er.set(!0),Je("openingFile","FileManager")}return[n,i]}class A2 extends U{constructor(e){super(),z(this,e,g2,h2,P,{})}}function b2(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v,k,$,E,I,R;return{c(){e=g("div"),t=g("div"),n=g("img"),s=T(),l=g("div"),o=g("p"),a=F("Enter a new name for "),c=F(r[4]),u=F(":"),f=T(),d=g("input"),m=T(),b=g("div"),A=g("div"),_=g("button"),v=F("Rename"),$=T(),E=g("button"),E.textContent="Cancel",de(n.src,i=r[2]?xt:r[1])||h(n,"src",i),h(n,"alt",""),h(t,"class","image"),h(d,"type","text"),h(d,"placeholder",r[4]),_.disabled=k=r[3]||!r[0],h(A,"class","inner"),h(b,"class","actions"),h(e,"class","fb-overlay-mutator-wrapper")},m(L,H){S(L,e,H),p(e,t),p(t,n),p(e,s),p(e,l),p(l,o),p(o,a),p(o,c),p(o,u),p(l,f),p(l,d),he(d,r[0]),p(l,m),p(l,b),p(b,A),p(A,_),p(_,v),p(A,$),p(A,E),I||(R=[N(d,"input",r[8]),N(d,"input",r[5]),N(_,"click",r[6]),N(E,"click",r[7])],I=!0)},p(L,[H]){H&6&&!de(n.src,i=L[2]?xt:L[1])&&h(n,"src",i),H&16&&W(c,L[4]),H&16&&h(d,"placeholder",L[4]),H&1&&d.value!==L[0]&&he(d,L[0]),H&9&&k!==(k=L[3]||!L[0])&&(_.disabled=k)},i:O,o:O,d(L){L&&y(e),I=!1,ke(R)}}}function _2(r,e,t){let n,i,s;G(r,kt,A=>t(9,n=A)),G(r,qe,A=>t(4,i=A)),G(r,Bt,A=>t(10,s=A));let l="",o="",a=!1,c=!1;function u(){const A=s.directories,_=s.files;t(2,a=f());for(let v=0;v<A.length;v++)A[v].name==n&&t(2,a=!0);for(let v=0;v<_.length;v++)if(_[v].filename==l)return t(3,c=!0);t(3,c=!1)}qe.subscribe(A=>{A&&(t(2,a=f()),t(1,o=cn(A)))});function f(){const A=s.directories;for(let _=0;_<A.length;_++)if(A[_].name==i)return!0;return!1}async function d(){await gm(`${n}/${i}`,`${n}/${l}`),qe.set(l),m(),t(0,l=""),nt.refresh()}function m(){Je("renameItem","FileManager")}function b(){l=this.value,t(0,l)}return[l,o,a,c,i,u,d,m,b]}class w2 extends U{constructor(e){super(),z(this,e,_2,b2,P,{})}}function v2(r){let e,t,n,i;return{c(){e=g("span"),t=g("span"),t.textContent=`${Tt()||location.hostname}`,n=T(),i=g("span"),i.textContent="Hover to show ArcAPI",h(t,"class","api svelte-13s49fr"),h(i,"class","place svelte-13s49fr"),h(e,"class","reveal svelte-13s49fr")},m(s,l){S(s,e,l),p(e,t),p(e,n),p(e,i)},p:O,i:O,o:O,d(s){s&&y(e)}}}class er extends U{constructor(e){super(),z(this,e,null,v2,P,{})}}function rc(r){let e,t,n,i,s,l=r[0].name+"",o,a,c,u,f,d,m,b,A=r[1].toFixed(0)+"",_,v,k,$,E,I,R,L,H=r[0].path+"",Q,x,J,Ae,ce,se,ne=r[0].mime+"",Z,re,Y,ae,fe,ye,_e,Ie;return _e=new er({}),{c(){e=g("div"),t=g("div"),t.innerHTML=`<img src="${nl}" alt=""/>`,n=T(),i=g("div"),s=F("Uploading "),o=F(l),a=F("..."),c=T(),u=g("div"),f=g("div"),d=g("div"),m=T(),b=g("div"),_=F(A),v=F("%"),k=T(),$=g("table"),E=g("tr"),I=g("td"),I.textContent="Path",R=T(),L=g("td"),Q=F(H),x=T(),J=g("tr"),Ae=g("td"),Ae.textContent="Type",ce=T(),se=g("td"),Z=F(ne),re=T(),Y=g("tr"),ae=g("td"),ae.textContent="Target",fe=T(),ye=g("td"),M(_e.$$.fragment),h(t,"class","icon"),h(i,"class","caption"),h(e,"class","uploadingfile-wrapper"),h(d,"class","inner"),Se(d,"width",Math.floor(r[1])+"%"),h(f,"class","progress"),h(b,"class","percentage"),h(u,"class","progress-wrapper"),h(I,"class","key"),h(Ae,"class","key"),h(ae,"class","key"),h($,"class","openfile-details")},m(Be,Fe){S(Be,e,Fe),p(e,t),p(e,n),p(e,i),p(i,s),p(i,o),p(i,a),S(Be,c,Fe),S(Be,u,Fe),p(u,f),p(f,d),p(u,m),p(u,b),p(b,_),p(b,v),S(Be,k,Fe),S(Be,$,Fe),p($,E),p(E,I),p(E,R),p(E,L),p(L,Q),p($,x),p($,J),p(J,Ae),p(J,ce),p(J,se),p(se,Z),p($,re),p($,Y),p(Y,ae),p(Y,fe),p(Y,ye),D(_e,ye,null),Ie=!0},p(Be,Fe){(!Ie||Fe&1)&&l!==(l=Be[0].name+"")&&W(o,l),(!Ie||Fe&2)&&Se(d,"width",Math.floor(Be[1])+"%"),(!Ie||Fe&2)&&A!==(A=Be[1].toFixed(0)+"")&&W(_,A),(!Ie||Fe&1)&&H!==(H=Be[0].path+"")&&W(Q,H),(!Ie||Fe&1)&&ne!==(ne=Be[0].mime+"")&&W(Z,ne)},i(Be){Ie||(w(_e.$$.fragment,Be),Ie=!0)},o(Be){C(_e.$$.fragment,Be),Ie=!1},d(Be){Be&&(y(e),y(c),y(u),y(k),y($)),B(_e)}}}function k2(r){let e,t,n=r[0]&&rc(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=rc(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function y2(r,e,t){let n,i;return G(r,yl,s=>t(0,n=s)),G(r,hp,s=>t(1,i=s)),[n,i]}class S2 extends U{constructor(e){super(),z(this,e,y2,k2,P,{})}}const $2={openingFile:{info:{name:"Opening File",version:"1.0.0",author:"ArcOS Team"},content:A2,size:{w:430,h:165},show:!1},deletingItem:{info:{name:"Deleting Item",version:"1.0.0",author:"ArcOS Team"},content:p2,size:{w:430,h:75},show:!1},createFolder:{info:{name:"Create Folder",version:"1.0.0",author:"ArcOS Team"},content:u2,size:{w:350,h:115},show:!1},createFile:{info:{name:"Create File",version:"1.0.0",author:"ArcOS Team"},content:o2,size:{w:350,h:115},show:!1},uploadingFile:{info:{name:"Uploading File",version:"1.0.0",author:"ArcOS Team"},content:S2,size:{w:430,h:175},show:!1},renameItem:{info:{name:"Rename Item",version:"1.0.0",author:"ArcOS Team"},content:w2,size:{w:350,h:115},show:!1}},C2={info:{name:"File Manager",description:"Browse your files",builtin:!0,version:"2.5.1",author:"ArcOS Team",icon:cm,appGroup:"utilities"},size:{w:700,h:450},pos:{x:30,y:40},minSize:{w:700,h:450},maxSize:{w:1e3,h:600},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:xk,glass:!0,overlays:$2,contextMenu:r2};function sc(r){let e,t=r[0].title+"",n,i,s;return{c(){e=g("button"),n=F(t),h(e,"class","redirect")},m(l,o){S(l,e,o),p(e,n),i||(s=N(e,"click",r[1]),i=!0)},p(l,o){o&1&&t!==(t=l[0].title+"")&&W(n,t)},d(l){l&&y(e),i=!1,s()}}}function T2(r){let e,t=r[0]&&sc(r);return{c(){t&&t.c(),e=le()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0]?t?t.p(n,i):(t=sc(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function E2(r,e,t){let{id:n}=e,i;ve(()=>{t(0,i=vi[n])});function s(){Qr.set(n)}return r.$$set=l=>{"id"in l&&t(2,n=l.id)},[i,s,n]}class mi extends U{constructor(e){super(),z(this,e,E2,T2,P,{id:2})}}function I2(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b;return s=new mi({props:{id:"personalization"}}),o=new mi({props:{id:"arctermConfiguration"}}),c=new mi({props:{id:"appsTurnOnAndOff"}}),m=new mi({props:{id:"homePageChanges"}}),{c(){e=g("h1"),e.textContent="ArcOS Help Center",t=T(),n=g("p"),n.textContent=`Welcome to the ArcOS help center. Got a question or a problem to solve?
  There's a good chance that the information you're looking for already happens
  to be in this very app. Perhaps one of these common articles can help you out?`,i=T(),M(s.$$.fragment),l=T(),M(o.$$.fragment),a=T(),M(c.$$.fragment),u=T(),f=g("hr"),d=T(),M(m.$$.fragment)},m(A,_){S(A,e,_),S(A,t,_),S(A,n,_),S(A,i,_),D(s,A,_),S(A,l,_),D(o,A,_),S(A,a,_),D(c,A,_),S(A,u,_),S(A,f,_),S(A,d,_),D(m,A,_),b=!0},p:O,i(A){b||(w(s.$$.fragment,A),w(o.$$.fragment,A),w(c.$$.fragment,A),w(m.$$.fragment,A),b=!0)},o(A){C(s.$$.fragment,A),C(o.$$.fragment,A),C(c.$$.fragment,A),C(m.$$.fragment,A),b=!1},d(A){A&&(y(e),y(t),y(n),y(i),y(l),y(a),y(u),y(f),y(d)),B(s,A),B(o,A),B(c,A),B(m,A)}}}class O2 extends U{constructor(e){super(),z(this,e,null,I2,P,{})}}async function Am(){try{return await(await fetch("https://api.github.com/repos/IzK-ArcOS/ArcOS-Frontend/releases/latest",{cache:"no-store"})).json()}catch{return null}}async function R2(){const r=il(ft);try{const e=await Am();if(!e)return r;const t=il(L2(e.tag_name));return bm(t,r)?t:r}catch{return r}}function il(r){const e=r.replaceAll("v","").split(".");return[e[0],e[1],e[2]].map(t=>{try{return parseInt(t)}catch{return 0}})}function L2(r){return r.split("-")[0]}function bm(r,e){for(let t=0;t<r.length;t++)if(r[t]>e[t])return!0;return!1}async function D2(){const r=await R2();if(bm(r,il(ft))){const e=`v${r.join(".")}`,t="https://github.com/IzK-ArcOS/ArcOS-Frontend/releases/latest";$i({icon:"sync",title:"Updates available!",message:`ArcOS Desktop ${e} is available for download. Install it to get the latest features.`,buttons:[{caption:"Open",action:()=>window.open(t,"_blank")}]})}}function B2(){const r=console.warn;console.warn=e=>{e.includes("unknown prop")||e.includes("unexpected slot")||r(e)},ve(()=>{console.warn=r})}function lc(r,e,t){const n=r.slice();return n[18]=e[t],n}function oc(r,e,t){const n=r.slice();return n[18]=e[t],n}function ac(r,e,t){const n=r.slice();return n[10]=e[t],n}function cc(r,e,t){const n=r.slice();return n[13]=e[t],n[15]=t,n}function uc(r,e,t){const n=r.slice();return n[16]=e[t],n[15]=t,n}function fc(r,e,t){const n=r.slice();return n[7]=e[t],n}function M2(r){let e,t,n,i;const s=[U2,z2,P2],l=[];function o(a,c){return a[0]==="table"?0:a[0]==="list"?1:2}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=le()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,c){let u=e;e=o(a),e===u?l[e].p(a,c):(V(),C(l[u],1,1,()=>{l[u]=null}),q(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function F2(r){let e,t,n=X(r[1]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Ac(fc(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=le()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&34){n=X(l[1]);let a;for(a=0;a<n.length;a+=1){const c=fc(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Ac(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function P2(r){let e,t,n;const i=[r[6]];var s=r[5][r[0]];function l(o,a){let c={$$slots:{default:[H2]},$$scope:{ctx:o}};for(let u=0;u<i.length;u+=1)c=Dt(c,i[u]);return a!==void 0&&a&64&&(c=Dt(c,Zt(i,[Xt(o[6])]))),{props:c}}return s&&(e=De(s,l(r))),{c(){e&&M(e.$$.fragment),t=le()},m(o,a){e&&D(e,o,a),S(o,t,a),n=!0},p(o,a){if(a&33&&s!==(s=o[5][o[0]])){if(e){V();const c=e;C(c.$$.fragment,1,0,()=>{B(c,1)}),q()}s?(e=De(s,l(o,a)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(s){const c=a&64?Zt(i,[Xt(o[6])]):{};a&8388706&&(c.$$scope={dirty:a,ctx:o}),e.$set(c)}},i(o){n||(e&&w(e.$$.fragment,o),n=!0)},o(o){e&&C(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&B(e,o)}}}function z2(r){let e,t,n,i;const s=[W2,Q2],l=[];function o(a,c){return a[4]?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=le()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,c){let u=e;e=o(a),e===u?l[e].p(a,c):(V(),C(l[u],1,1,()=>{l[u]=null}),q(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function U2(r){let e,t,n;var i=r[5].table;function s(l,o){return{props:{$$slots:{default:[ty]},$$scope:{ctx:l}}}}return i&&(e=De(i,s(r))),{c(){e&&M(e.$$.fragment),t=le()},m(l,o){e&&D(e,l,o),S(l,t,o),n=!0},p(l,o){if(o&32&&i!==(i=l[5].table)){if(e){V();const a=e;C(a.$$.fragment,1,0,()=>{B(a,1)}),q()}i?(e=De(i,s(l)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(i){const a={};o&8388716&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)}},i(l){n||(e&&w(e.$$.fragment,l),n=!0)},o(l){e&&C(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&B(e,l)}}}function N2(r){let e=r[6].raw+"",t;return{c(){t=F(e)},m(n,i){S(n,t,i)},p(n,i){i&64&&e!==(e=n[6].raw+"")&&W(t,e)},i:O,o:O,d(n){n&&y(t)}}}function j2(r){let e,t;return e=new xn({props:{tokens:r[1],renderers:r[5]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.tokens=n[1]),i&32&&(s.renderers=n[5]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function H2(r){let e,t,n,i;const s=[j2,N2],l=[];function o(a,c){return a[1]?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=le()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,c){let u=e;e=o(a),e===u?l[e].p(a,c):(V(),C(l[u],1,1,()=>{l[u]=null}),q(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function Q2(r){let e,t,n;const i=[{ordered:r[4]},r[6]];var s=r[5].list;function l(o,a){let c={$$slots:{default:[G2]},$$scope:{ctx:o}};for(let u=0;u<i.length;u+=1)c=Dt(c,i[u]);return a!==void 0&&a&80&&(c=Dt(c,Zt(i,[a&16&&{ordered:o[4]},a&64&&Xt(o[6])]))),{props:c}}return s&&(e=De(s,l(r))),{c(){e&&M(e.$$.fragment),t=le()},m(o,a){e&&D(e,o,a),S(o,t,a),n=!0},p(o,a){if(a&32&&s!==(s=o[5].list)){if(e){V();const c=e;C(c.$$.fragment,1,0,()=>{B(c,1)}),q()}s?(e=De(s,l(o,a)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(s){const c=a&80?Zt(i,[a&16&&{ordered:o[4]},a&64&&Xt(o[6])]):{};a&8388704&&(c.$$scope={dirty:a,ctx:o}),e.$set(c)}},i(o){n||(e&&w(e.$$.fragment,o),n=!0)},o(o){e&&C(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&B(e,o)}}}function W2(r){let e,t,n;const i=[{ordered:r[4]},r[6]];var s=r[5].list;function l(o,a){let c={$$slots:{default:[q2]},$$scope:{ctx:o}};for(let u=0;u<i.length;u+=1)c=Dt(c,i[u]);return a!==void 0&&a&80&&(c=Dt(c,Zt(i,[a&16&&{ordered:o[4]},a&64&&Xt(o[6])]))),{props:c}}return s&&(e=De(s,l(r))),{c(){e&&M(e.$$.fragment),t=le()},m(o,a){e&&D(e,o,a),S(o,t,a),n=!0},p(o,a){if(a&32&&s!==(s=o[5].list)){if(e){V();const c=e;C(c.$$.fragment,1,0,()=>{B(c,1)}),q()}s?(e=De(s,l(o,a)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(s){const c=a&80?Zt(i,[a&16&&{ordered:o[4]},a&64&&Xt(o[6])]):{};a&8388704&&(c.$$scope={dirty:a,ctx:o}),e.$set(c)}},i(o){n||(e&&w(e.$$.fragment,o),n=!0)},o(o){e&&C(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&B(e,o)}}}function K2(r){let e,t,n;return e=new xn({props:{tokens:r[18].tokens,renderers:r[5]}}),{c(){M(e.$$.fragment),t=T()},m(i,s){D(e,i,s),S(i,t,s),n=!0},p(i,s){const l={};s&64&&(l.tokens=i[18].tokens),s&32&&(l.renderers=i[5]),e.$set(l)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){i&&y(t),B(e,i)}}}function dc(r){let e,t,n;const i=[r[18]];var s=r[5].unorderedlistitem||r[5].listitem;function l(o,a){let c={$$slots:{default:[K2]},$$scope:{ctx:o}};for(let u=0;u<i.length;u+=1)c=Dt(c,i[u]);return a!==void 0&&a&64&&(c=Dt(c,Zt(i,[Xt(o[18])]))),{props:c}}return s&&(e=De(s,l(r))),{c(){e&&M(e.$$.fragment),t=le()},m(o,a){e&&D(e,o,a),S(o,t,a),n=!0},p(o,a){if(a&32&&s!==(s=o[5].unorderedlistitem||o[5].listitem)){if(e){V();const c=e;C(c.$$.fragment,1,0,()=>{B(c,1)}),q()}s?(e=De(s,l(o,a)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(s){const c=a&64?Zt(i,[Xt(o[18])]):{};a&8388704&&(c.$$scope={dirty:a,ctx:o}),e.$set(c)}},i(o){n||(e&&w(e.$$.fragment,o),n=!0)},o(o){e&&C(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&B(e,o)}}}function G2(r){let e,t,n=X(r[6].items),i=[];for(let l=0;l<n.length;l+=1)i[l]=dc(lc(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=le()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&96){n=X(l[6].items);let a;for(a=0;a<n.length;a+=1){const c=lc(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=dc(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function V2(r){let e,t,n;return e=new xn({props:{tokens:r[18].tokens,renderers:r[5]}}),{c(){M(e.$$.fragment),t=T()},m(i,s){D(e,i,s),S(i,t,s),n=!0},p(i,s){const l={};s&64&&(l.tokens=i[18].tokens),s&32&&(l.renderers=i[5]),e.$set(l)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){i&&y(t),B(e,i)}}}function pc(r){let e,t,n;const i=[r[18]];var s=r[5].orderedlistitem||r[5].listitem;function l(o,a){let c={$$slots:{default:[V2]},$$scope:{ctx:o}};for(let u=0;u<i.length;u+=1)c=Dt(c,i[u]);return a!==void 0&&a&64&&(c=Dt(c,Zt(i,[Xt(o[18])]))),{props:c}}return s&&(e=De(s,l(r))),{c(){e&&M(e.$$.fragment),t=le()},m(o,a){e&&D(e,o,a),S(o,t,a),n=!0},p(o,a){if(a&32&&s!==(s=o[5].orderedlistitem||o[5].listitem)){if(e){V();const c=e;C(c.$$.fragment,1,0,()=>{B(c,1)}),q()}s?(e=De(s,l(o,a)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(s){const c=a&64?Zt(i,[Xt(o[18])]):{};a&8388704&&(c.$$scope={dirty:a,ctx:o}),e.$set(c)}},i(o){n||(e&&w(e.$$.fragment,o),n=!0)},o(o){e&&C(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&B(e,o)}}}function q2(r){let e,t,n=X(r[6].items),i=[];for(let l=0;l<n.length;l+=1)i[l]=pc(oc(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=le()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&96){n=X(l[6].items);let a;for(a=0;a<n.length;a+=1){const c=oc(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=pc(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Y2(r){let e,t,n;return e=new xn({props:{tokens:r[16].tokens,renderers:r[5]}}),{c(){M(e.$$.fragment),t=T()},m(i,s){D(e,i,s),S(i,t,s),n=!0},p(i,s){const l={};s&4&&(l.tokens=i[16].tokens),s&32&&(l.renderers=i[5]),e.$set(l)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),n=!1},d(i){i&&y(t),B(e,i)}}}function mc(r){let e,t,n;var i=r[5].tablecell;function s(l,o){return{props:{header:!0,align:l[6].align[l[15]]||"center",$$slots:{default:[Y2]},$$scope:{ctx:l}}}}return i&&(e=De(i,s(r))),{c(){e&&M(e.$$.fragment),t=le()},m(l,o){e&&D(e,l,o),S(l,t,o),n=!0},p(l,o){if(o&32&&i!==(i=l[5].tablecell)){if(e){V();const a=e;C(a.$$.fragment,1,0,()=>{B(a,1)}),q()}i?(e=De(i,s(l)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(i){const a={};o&64&&(a.align=l[6].align[l[15]]||"center"),o&8388644&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)}},i(l){n||(e&&w(e.$$.fragment,l),n=!0)},o(l){e&&C(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&B(e,l)}}}function J2(r){let e,t,n=X(r[2]),i=[];for(let l=0;l<n.length;l+=1)i[l]=mc(uc(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=le()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&100){n=X(l[2]);let a;for(a=0;a<n.length;a+=1){const c=uc(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=mc(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Z2(r){let e,t,n;var i=r[5].tablerow;function s(l,o){return{props:{$$slots:{default:[J2]},$$scope:{ctx:l}}}}return i&&(e=De(i,s(r))),{c(){e&&M(e.$$.fragment),t=le()},m(l,o){e&&D(e,l,o),S(l,t,o),n=!0},p(l,o){if(o&32&&i!==(i=l[5].tablerow)){if(e){V();const a=e;C(a.$$.fragment,1,0,()=>{B(a,1)}),q()}i?(e=De(i,s(l)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(i){const a={};o&8388708&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)}},i(l){n||(e&&w(e.$$.fragment,l),n=!0)},o(l){e&&C(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&B(e,l)}}}function X2(r){let e,t;return e=new xn({props:{tokens:r[13].tokens,renderers:r[5]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&8&&(s.tokens=n[13].tokens),i&32&&(s.renderers=n[5]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function hc(r){let e,t,n;var i=r[5].tablecell;function s(l,o){return{props:{header:!1,align:l[6].align[l[15]]||"center",$$slots:{default:[X2]},$$scope:{ctx:l}}}}return i&&(e=De(i,s(r))),{c(){e&&M(e.$$.fragment),t=le()},m(l,o){e&&D(e,l,o),S(l,t,o),n=!0},p(l,o){if(o&32&&i!==(i=l[5].tablecell)){if(e){V();const a=e;C(a.$$.fragment,1,0,()=>{B(a,1)}),q()}i?(e=De(i,s(l)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(i){const a={};o&64&&(a.align=l[6].align[l[15]]||"center"),o&8388648&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)}},i(l){n||(e&&w(e.$$.fragment,l),n=!0)},o(l){e&&C(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&B(e,l)}}}function x2(r){let e,t,n=X(r[10]),i=[];for(let l=0;l<n.length;l+=1)i[l]=hc(cc(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=T()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&104){n=X(l[10]);let a;for(a=0;a<n.length;a+=1){const c=cc(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=hc(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function gc(r){let e,t,n;var i=r[5].tablerow;function s(l,o){return{props:{$$slots:{default:[x2]},$$scope:{ctx:l}}}}return i&&(e=De(i,s(r))),{c(){e&&M(e.$$.fragment),t=le()},m(l,o){e&&D(e,l,o),S(l,t,o),n=!0},p(l,o){if(o&32&&i!==(i=l[5].tablerow)){if(e){V();const a=e;C(a.$$.fragment,1,0,()=>{B(a,1)}),q()}i?(e=De(i,s(l)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(i){const a={};o&8388712&&(a.$$scope={dirty:o,ctx:l}),e.$set(a)}},i(l){n||(e&&w(e.$$.fragment,l),n=!0)},o(l){e&&C(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&B(e,l)}}}function ey(r){let e,t,n=X(r[3]),i=[];for(let l=0;l<n.length;l+=1)i[l]=gc(ac(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=le()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&104){n=X(l[3]);let a;for(a=0;a<n.length;a+=1){const c=ac(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=gc(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function ty(r){let e,t,n,i,s;var l=r[5].tablehead;function o(u,f){return{props:{$$slots:{default:[Z2]},$$scope:{ctx:u}}}}l&&(e=De(l,o(r)));var a=r[5].tablebody;function c(u,f){return{props:{$$slots:{default:[ey]},$$scope:{ctx:u}}}}return a&&(n=De(a,c(r))),{c(){e&&M(e.$$.fragment),t=T(),n&&M(n.$$.fragment),i=le()},m(u,f){e&&D(e,u,f),S(u,t,f),n&&D(n,u,f),S(u,i,f),s=!0},p(u,f){if(f&32&&l!==(l=u[5].tablehead)){if(e){V();const d=e;C(d.$$.fragment,1,0,()=>{B(d,1)}),q()}l?(e=De(l,o(u)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(l){const d={};f&8388708&&(d.$$scope={dirty:f,ctx:u}),e.$set(d)}if(f&32&&a!==(a=u[5].tablebody)){if(n){V();const d=n;C(d.$$.fragment,1,0,()=>{B(d,1)}),q()}a?(n=De(a,c(u)),M(n.$$.fragment),w(n.$$.fragment,1),D(n,i.parentNode,i)):n=null}else if(a){const d={};f&8388712&&(d.$$scope={dirty:f,ctx:u}),n.$set(d)}},i(u){s||(e&&w(e.$$.fragment,u),n&&w(n.$$.fragment,u),s=!0)},o(u){e&&C(e.$$.fragment,u),n&&C(n.$$.fragment,u),s=!1},d(u){u&&(y(t),y(i)),e&&B(e,u),n&&B(n,u)}}}function Ac(r){let e,t;const n=[r[7],{renderers:r[5]}];let i={};for(let s=0;s<n.length;s+=1)i=Dt(i,n[s]);return e=new xn({props:i}),{c(){M(e.$$.fragment)},m(s,l){D(e,s,l),t=!0},p(s,l){const o=l&34?Zt(n,[l&2&&Xt(s[7]),l&32&&{renderers:s[5]}]):{};e.$set(o)},i(s){t||(w(e.$$.fragment,s),t=!0)},o(s){C(e.$$.fragment,s),t=!1},d(s){B(e,s)}}}function ny(r){let e,t,n,i;const s=[F2,M2],l=[];function o(a,c){return a[0]?a[5][a[0]]?1:-1:0}return~(e=o(r))&&(t=l[e]=s[e](r)),{c(){t&&t.c(),n=le()},m(a,c){~e&&l[e].m(a,c),S(a,n,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?~e&&l[e].p(a,c):(t&&(V(),C(l[u],1,1,()=>{l[u]=null}),q()),~e?(t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n)):t=null)},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),~e&&l[e].d(a)}}}function iy(r,e,t){const n=["type","tokens","header","rows","ordered","renderers"];let i=vo(e,n),{type:s=void 0}=e,{tokens:l=void 0}=e,{header:o=void 0}=e,{rows:a=void 0}=e,{ordered:c=!1}=e,{renderers:u}=e;return B2(),r.$$set=f=>{e=Dt(Dt({},e),$h(f)),t(6,i=vo(e,n)),"type"in f&&t(0,s=f.type),"tokens"in f&&t(1,l=f.tokens),"header"in f&&t(2,o=f.header),"rows"in f&&t(3,a=f.rows),"ordered"in f&&t(4,c=f.ordered),"renderers"in f&&t(5,u=f.renderers)},[s,l,o,a,c,u,i]}let xn=class extends U{constructor(e){super(),z(this,e,iy,ny,P,{type:0,tokens:1,header:2,rows:3,ordered:4,renderers:5})}};function _m(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let ei=_m();function ry(r){ei=r}const wm=/[&<>"']/,sy=new RegExp(wm.source,"g"),vm=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,ly=new RegExp(vm.source,"g"),oy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bc=r=>oy[r];function wt(r,e){if(e){if(wm.test(r))return r.replace(sy,bc)}else if(vm.test(r))return r.replace(ly,bc);return r}const ay=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function km(r){return r.replace(ay,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const cy=/(^|[^\[])\^/g;function Ye(r,e){r=typeof r=="string"?r:r.source,e=e||"";const t={replace:(n,i)=>(i=i.source||i,i=i.replace(cy,"$1"),r=r.replace(n,i),t),getRegex:()=>new RegExp(r,e)};return t}const uy=/[^\w:]/g,fy=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function _c(r,e,t){if(r){let n;try{n=decodeURIComponent(km(t)).replace(uy,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!fy.test(t)&&(t=hy(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const _r={},dy=/^[^:]+:\/*[^/]*$/,py=/^([^:]+:)[\s\S]*$/,my=/^([^:]+:\/*[^/]*)[\s\S]*$/;function hy(r,e){_r[" "+r]||(dy.test(r)?_r[" "+r]=r+"/":_r[" "+r]=Ir(r,"/",!0)),r=_r[" "+r];const t=r.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:r.replace(py,"$1")+e:e.charAt(0)==="/"?t?e:r.replace(my,"$1")+e:r+e}const jr={exec:function(){}};function wc(r,e){const t=r.replace(/\|/g,(s,l,o)=>{let a=!1,c=l;for(;--c>=0&&o[c]==="\\";)a=!a;return a?"|":" |"}),n=t.split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function Ir(r,e,t){const n=r.length;if(n===0)return"";let i=0;for(;i<n;){const s=r.charAt(n-i-1);if(s===e&&!t)i++;else if(s!==e&&t)i++;else break}return r.slice(0,n-i)}function gy(r,e){if(r.indexOf(e[1])===-1)return-1;const t=r.length;let n=0,i=0;for(;i<t;i++)if(r[i]==="\\")i++;else if(r[i]===e[0])n++;else if(r[i]===e[1]&&(n--,n<0))return i;return-1}function Ay(r){r&&r.sanitize&&!r.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function vc(r,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=r),e>>=1,r+=r;return t+r}function kc(r,e,t,n){const i=e.href,s=e.title?wt(e.title):null,l=r[1].replace(/\\([\[\]])/g,"$1");if(r[0].charAt(0)!=="!"){n.state.inLink=!0;const o={type:"link",raw:t,href:i,title:s,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,o}return{type:"image",raw:t,href:i,title:s,text:wt(l)}}function by(r,e){const t=r.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[l]=s;return l.length>=n.length?i.slice(n.length):i}).join(`
`)}class Ul{constructor(e){this.options=e||ei}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Ir(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],i=by(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:i}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const i=Ir(n,"#");(this.options.pedantic||!i||/ $/.test(i))&&(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=t[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(n);return this.lexer.state.top=i,{type:"blockquote",raw:t[0],tokens:s,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,i,s,l,o,a,c,u,f,d,m,b,A=t[1].trim();const _=A.length>1,v={type:"list",raw:"",ordered:_,start:_?+A.slice(0,-1):"",loose:!1,items:[]};A=_?`\\d{1,9}\\${A.slice(-1)}`:`\\${A}`,this.options.pedantic&&(A=_?A:"[*+-]");const k=new RegExp(`^( {0,3}${A})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(b=!1,!(!(t=k.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),u=t[2].split(`
`,1)[0].replace(/^\t+/,E=>" ".repeat(3*E.length)),f=e.split(`
`,1)[0],this.options.pedantic?(l=2,m=u.trimLeft()):(l=t[2].search(/[^ ]/),l=l>4?1:l,m=u.slice(l),l+=t[1].length),a=!1,!u&&/^ *$/.test(f)&&(n+=f+`
`,e=e.substring(f.length+1),b=!0),!b){const E=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),I=new RegExp(`^ {0,${Math.min(3,l-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),R=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:\`\`\`|~~~)`),L=new RegExp(`^ {0,${Math.min(3,l-1)}}#`);for(;e&&(d=e.split(`
`,1)[0],f=d,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(R.test(f)||L.test(f)||E.test(f)||I.test(e)));){if(f.search(/[^ ]/)>=l||!f.trim())m+=`
`+f.slice(l);else{if(a||u.search(/[^ ]/)>=4||R.test(u)||L.test(u)||I.test(u))break;m+=`
`+f}!a&&!f.trim()&&(a=!0),n+=d+`
`,e=e.substring(d.length+1),u=f.slice(l)}}v.loose||(c?v.loose=!0:/\n *\n *$/.test(n)&&(c=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(m),i&&(s=i[0]!=="[ ] ",m=m.replace(/^\[[ xX]\] +/,""))),v.items.push({type:"list_item",raw:n,task:!!i,checked:s,loose:!1,text:m}),v.raw+=n}v.items[v.items.length-1].raw=n.trimRight(),v.items[v.items.length-1].text=m.trimRight(),v.raw=v.raw.trimRight();const $=v.items.length;for(o=0;o<$;o++)if(this.lexer.state.top=!1,v.items[o].tokens=this.lexer.blockTokens(v.items[o].text,[]),!v.loose){const E=v.items[o].tokens.filter(R=>R.type==="space"),I=E.length>0&&E.some(R=>/\n.*\n/.test(R.raw));v.loose=I}if(v.loose)for(o=0;o<$;o++)v.items[o].loose=!0;return v}}html(e){const t=this.rules.block.html.exec(e);if(t){const n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(t[0]):wt(t[0]);n.type="paragraph",n.text=i,n.tokens=this.lexer.inline(i)}return n}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),i=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:i,title:s}}}table(e){const t=this.rules.block.table.exec(e);if(t){const n={type:"table",header:wc(t[1]).map(i=>({text:i})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let i=n.align.length,s,l,o,a;for(s=0;s<i;s++)/^ *-+: *$/.test(n.align[s])?n.align[s]="right":/^ *:-+: *$/.test(n.align[s])?n.align[s]="center":/^ *:-+ *$/.test(n.align[s])?n.align[s]="left":n.align[s]=null;for(i=n.rows.length,s=0;s<i;s++)n.rows[s]=wc(n.rows[s],n.header.length).map(c=>({text:c}));for(i=n.header.length,l=0;l<i;l++)n.header[l].tokens=this.lexer.inline(n.header[l].text);for(i=n.rows.length,l=0;l<i;l++)for(a=n.rows[l],o=0;o<a.length;o++)a[o].tokens=this.lexer.inline(a[o].text);return n}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:wt(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):wt(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const l=Ir(n.slice(0,-1),"\\");if((n.length-l.length)%2===0)return}else{const l=gy(t[2],"()");if(l>-1){const a=(t[0].indexOf("!")===0?5:4)+t[1].length+l;t[2]=t[2].substring(0,l),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let i=t[2],s="";if(this.options.pedantic){const l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);l&&(i=l[1],s=l[3])}else s=t[3]?t[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(n)?i=i.slice(1):i=i.slice(1,-1)),kc(t,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let i=(n[2]||n[1]).replace(/\s+/g," ");if(i=t[i.toLowerCase()],!i){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return kc(n,i,n[0],this.lexer)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&n.match(/[\p{L}\p{N}]/u))return;const s=i[1]||i[2]||"";if(!s||s&&(n===""||this.rules.inline.punctuation.exec(n))){const l=i[0].length-1;let o,a,c=l,u=0;const f=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(f.lastIndex=0,t=t.slice(-1*e.length+l);(i=f.exec(t))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(a=o.length,i[3]||i[4]){c+=a;continue}else if((i[5]||i[6])&&l%3&&!((l+a)%3)){u+=a;continue}if(c-=a,c>0)continue;a=Math.min(a,a+c+u);const d=e.slice(0,l+i.index+(i[0].length-o.length)+a);if(Math.min(l,a)%2){const b=d.slice(1,-1);return{type:"em",raw:d,text:b,tokens:this.lexer.inlineTokens(b)}}const m=d.slice(2,-2);return{type:"strong",raw:d,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const i=/[^ ]/.test(n),s=/^ /.test(n)&&/ $/.test(n);return i&&s&&(n=n.substring(1,n.length-1)),n=wt(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let i,s;return n[2]==="@"?(i=wt(this.options.mangle?t(n[1]):n[1]),s="mailto:"+i):(i=wt(n[1]),s=i),{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let i,s;if(n[2]==="@")i=wt(this.options.mangle?t(n[0]):n[0]),s="mailto:"+i;else{let l;do l=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(l!==n[0]);i=wt(n[0]),n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):wt(n[0]):n[0]:i=wt(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:i}}}}const Te={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:jr,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Te._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Te._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Te.def=Ye(Te.def).replace("label",Te._label).replace("title",Te._title).getRegex();Te.bullet=/(?:[*+-]|\d{1,9}[.)])/;Te.listItemStart=Ye(/^( *)(bull) */).replace("bull",Te.bullet).getRegex();Te.list=Ye(Te.list).replace(/bull/g,Te.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Te.def.source+")").getRegex();Te._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Te._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Te.html=Ye(Te.html,"i").replace("comment",Te._comment).replace("tag",Te._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Te.paragraph=Ye(Te._paragraph).replace("hr",Te.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Te._tag).getRegex();Te.blockquote=Ye(Te.blockquote).replace("paragraph",Te.paragraph).getRegex();Te.normal={...Te};Te.gfm={...Te.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};Te.gfm.table=Ye(Te.gfm.table).replace("hr",Te.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Te._tag).getRegex();Te.gfm.paragraph=Ye(Te._paragraph).replace("hr",Te.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Te.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Te._tag).getRegex();Te.pedantic={...Te.normal,html:Ye(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Te._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:jr,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ye(Te.normal._paragraph).replace("hr",Te.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Te.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const be={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:jr,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:jr,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};be._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";be.punctuation=Ye(be.punctuation).replace(/punctuation/g,be._punctuation).getRegex();be.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;be.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;be._comment=Ye(Te._comment).replace("(?:-->|$)","-->").getRegex();be.emStrong.lDelim=Ye(be.emStrong.lDelim).replace(/punct/g,be._punctuation).getRegex();be.emStrong.rDelimAst=Ye(be.emStrong.rDelimAst,"g").replace(/punct/g,be._punctuation).getRegex();be.emStrong.rDelimUnd=Ye(be.emStrong.rDelimUnd,"g").replace(/punct/g,be._punctuation).getRegex();be._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;be._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;be._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;be.autolink=Ye(be.autolink).replace("scheme",be._scheme).replace("email",be._email).getRegex();be._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;be.tag=Ye(be.tag).replace("comment",be._comment).replace("attribute",be._attribute).getRegex();be._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;be._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;be._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;be.link=Ye(be.link).replace("label",be._label).replace("href",be._href).replace("title",be._title).getRegex();be.reflink=Ye(be.reflink).replace("label",be._label).replace("ref",Te._label).getRegex();be.nolink=Ye(be.nolink).replace("ref",Te._label).getRegex();be.reflinkSearch=Ye(be.reflinkSearch,"g").replace("reflink",be.reflink).replace("nolink",be.nolink).getRegex();be.normal={...be};be.pedantic={...be.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ye(/^!?\[(label)\]\((.*?)\)/).replace("label",be._label).getRegex(),reflink:Ye(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",be._label).getRegex()};be.gfm={...be.normal,escape:Ye(be.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};be.gfm.url=Ye(be.gfm.url,"i").replace("email",be.gfm._extended_email).getRegex();be.breaks={...be.gfm,br:Ye(be.br).replace("{2,}","*").getRegex(),text:Ye(be.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function _y(r){return r.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function yc(r){let e="",t,n;const i=r.length;for(t=0;t<i;t++)n=r.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}class _n{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ei,this.options.tokenizer=this.options.tokenizer||new Ul,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Te.normal,inline:be.normal};this.options.pedantic?(t.block=Te.pedantic,t.inline=be.pedantic):this.options.gfm&&(t.block=Te.gfm,this.options.breaks?t.inline=be.breaks:t.inline=be.gfm),this.tokenizer.rules=t}static get rules(){return{block:Te,inline:be}}static lex(e,t){return new _n(t).lex(e)}static lexInline(e,t){return new _n(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(o,a,c)=>a+"    ".repeat(c.length));let n,i,s,l;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(n=o.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+n.raw,i.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const a=e.slice(1);let c;this.options.extensions.startBlock.forEach(function(u){c=u.call({lexer:this},a),typeof c=="number"&&c>=0&&(o=Math.min(o,c))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(n=this.tokenizer.paragraph(s))){i=t[t.length-1],l&&i.type==="paragraph"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n),l=s.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&i.type==="text"?(i.raw+=`
`+n.raw,i.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,i,s,l=e,o,a,c;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)u.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+vc("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,o.index)+"["+vc("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.escapedEmSt.exec(l))!=null;)l=l.slice(0,o.index+o[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(a||(c=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(n=u.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),i=t[t.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),i=t[t.length-1],i&&n.type==="text"&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,l,c)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e,yc)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,yc))){e=e.substring(n.raw.length),t.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const f=e.slice(1);let d;this.options.extensions.startInline.forEach(function(m){d=m.call({lexer:this},f),typeof d=="number"&&d>=0&&(u=Math.min(u,d))}),u<1/0&&u>=0&&(s=e.substring(0,u+1))}if(n=this.tokenizer.inlineText(s,_y)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(c=n.raw.slice(-1)),a=!0,i=t[t.length-1],i&&i.type==="text"?(i.raw+=n.raw,i.text+=n.text):t.push(n);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return t}}class Nl{constructor(e){this.options=e||ei}code(e,t,n){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(e,i);s!=null&&s!==e&&(n=!0,e=s)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+wt(i)+'">'+(n?e:wt(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:wt(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,n,i){if(this.options.headerIds){const s=this.options.headerPrefix+i.slug(n);return`<h${t} id="${s}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){const i=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+i+s+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(e=_c(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let i='<a href="'+e+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>",i}image(e,t,n){if(e=_c(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class ym{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class jl{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do i++,n=e+"-"+i;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class Ln{constructor(e){this.options=e||ei,this.options.renderer=this.options.renderer||new Nl,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ym,this.slugger=new jl}static parse(e,t){return new Ln(t).parse(e)}static parseInline(e,t){return new Ln(t).parseInline(e)}parse(e,t=!0){let n="",i,s,l,o,a,c,u,f,d,m,b,A,_,v,k,$,E,I,R;const L=e.length;for(i=0;i<L;i++){if(m=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[m.type]&&(R=this.options.extensions.renderers[m.type].call({parser:this},m),R!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(m.type))){n+=R||"";continue}switch(m.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(m.tokens),m.depth,km(this.parseInline(m.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(m.text,m.lang,m.escaped);continue}case"table":{for(f="",u="",o=m.header.length,s=0;s<o;s++)u+=this.renderer.tablecell(this.parseInline(m.header[s].tokens),{header:!0,align:m.align[s]});for(f+=this.renderer.tablerow(u),d="",o=m.rows.length,s=0;s<o;s++){for(c=m.rows[s],u="",a=c.length,l=0;l<a;l++)u+=this.renderer.tablecell(this.parseInline(c[l].tokens),{header:!1,align:m.align[l]});d+=this.renderer.tablerow(u)}n+=this.renderer.table(f,d);continue}case"blockquote":{d=this.parse(m.tokens),n+=this.renderer.blockquote(d);continue}case"list":{for(b=m.ordered,A=m.start,_=m.loose,o=m.items.length,d="",s=0;s<o;s++)k=m.items[s],$=k.checked,E=k.task,v="",k.task&&(I=this.renderer.checkbox($),_?k.tokens.length>0&&k.tokens[0].type==="paragraph"?(k.tokens[0].text=I+" "+k.tokens[0].text,k.tokens[0].tokens&&k.tokens[0].tokens.length>0&&k.tokens[0].tokens[0].type==="text"&&(k.tokens[0].tokens[0].text=I+" "+k.tokens[0].tokens[0].text)):k.tokens.unshift({type:"text",text:I}):v+=I),v+=this.parse(k.tokens,_),d+=this.renderer.listitem(v,E,$);n+=this.renderer.list(d,b,A);continue}case"html":{n+=this.renderer.html(m.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(m.tokens));continue}case"text":{for(d=m.tokens?this.parseInline(m.tokens):m.text;i+1<L&&e[i+1].type==="text";)m=e[++i],d+=`
`+(m.tokens?this.parseInline(m.tokens):m.text);n+=t?this.renderer.paragraph(d):d;continue}default:{const H='Token with "'+m.type+'" type was not found.';if(this.options.silent){console.error(H);return}else throw new Error(H)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",i,s,l;const o=e.length;for(i=0;i<o;i++){if(s=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(l=this.options.extensions.renderers[s.type].call({parser:this},s),l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){n+=l||"";continue}switch(s.type){case"escape":{n+=t.text(s.text);break}case"html":{n+=t.html(s.text);break}case"link":{n+=t.link(s.href,s.title,this.parseInline(s.tokens,t));break}case"image":{n+=t.image(s.href,s.title,s.text);break}case"strong":{n+=t.strong(this.parseInline(s.tokens,t));break}case"em":{n+=t.em(this.parseInline(s.tokens,t));break}case"codespan":{n+=t.codespan(s.text);break}case"br":{n+=t.br();break}case"del":{n+=t.del(this.parseInline(s.tokens,t));break}case"text":{n+=t.text(s.text);break}default:{const a='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(a);return}else throw new Error(a)}}}return n}}class Hr{constructor(e){this.options=e||ei}preprocess(e){return e}postprocess(e){return e}}ge(Hr,"passThroughHooks",new Set(["preprocess","postprocess"]));function wy(r,e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,r){const i="<p>An error occurred:</p><pre>"+wt(n.message+"",!0)+"</pre>";if(e)return Promise.resolve(i);if(t){t(null,i);return}return i}if(e)return Promise.reject(n);if(t){t(n);return}throw n}}function Sm(r,e){return(t,n,i)=>{typeof n=="function"&&(i=n,n=null);const s={...n};n={...Oe.defaults,...s};const l=wy(n.silent,n.async,i);if(typeof t>"u"||t===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(Ay(n),n.hooks&&(n.hooks.options=n),i){const o=n.highlight;let a;try{n.hooks&&(t=n.hooks.preprocess(t)),a=r(t,n)}catch(f){return l(f)}const c=function(f){let d;if(!f)try{n.walkTokens&&Oe.walkTokens(a,n.walkTokens),d=e(a,n),n.hooks&&(d=n.hooks.postprocess(d))}catch(m){f=m}return n.highlight=o,f?l(f):i(null,d)};if(!o||o.length<3||(delete n.highlight,!a.length))return c();let u=0;Oe.walkTokens(a,function(f){f.type==="code"&&(u++,setTimeout(()=>{o(f.text,f.lang,function(d,m){if(d)return c(d);m!=null&&m!==f.text&&(f.text=m,f.escaped=!0),u--,u===0&&c()})},0))}),u===0&&c();return}if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(t):t).then(o=>r(o,n)).then(o=>n.walkTokens?Promise.all(Oe.walkTokens(o,n.walkTokens)).then(()=>o):o).then(o=>e(o,n)).then(o=>n.hooks?n.hooks.postprocess(o):o).catch(l);try{n.hooks&&(t=n.hooks.preprocess(t));const o=r(t,n);n.walkTokens&&Oe.walkTokens(o,n.walkTokens);let a=e(o,n);return n.hooks&&(a=n.hooks.postprocess(a)),a}catch(o){return l(o)}}}function Oe(r,e,t){return Sm(_n.lex,Ln.parse)(r,e,t)}Oe.options=Oe.setOptions=function(r){return Oe.defaults={...Oe.defaults,...r},ry(Oe.defaults),Oe};Oe.getDefaults=_m;Oe.defaults=ei;Oe.use=function(...r){const e=Oe.defaults.extensions||{renderers:{},childTokens:{}};r.forEach(t=>{const n={...t};if(n.async=Oe.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const s=e.renderers[i.name];s?e.renderers[i.name]=function(...l){let o=i.renderer.apply(this,l);return o===!1&&(o=s.apply(this,l)),o}:e.renderers[i.name]=i.renderer}if(i.tokenizer){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&(i.level==="block"?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:i.level==="inline"&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)}),n.extensions=e),t.renderer){const i=Oe.defaults.renderer||new Nl;for(const s in t.renderer){const l=i[s];i[s]=(...o)=>{let a=t.renderer[s].apply(i,o);return a===!1&&(a=l.apply(i,o)),a}}n.renderer=i}if(t.tokenizer){const i=Oe.defaults.tokenizer||new Ul;for(const s in t.tokenizer){const l=i[s];i[s]=(...o)=>{let a=t.tokenizer[s].apply(i,o);return a===!1&&(a=l.apply(i,o)),a}}n.tokenizer=i}if(t.hooks){const i=Oe.defaults.hooks||new Hr;for(const s in t.hooks){const l=i[s];Hr.passThroughHooks.has(s)?i[s]=o=>{if(Oe.defaults.async)return Promise.resolve(t.hooks[s].call(i,o)).then(c=>l.call(i,c));const a=t.hooks[s].call(i,o);return l.call(i,a)}:i[s]=(...o)=>{let a=t.hooks[s].apply(i,o);return a===!1&&(a=l.apply(i,o)),a}}n.hooks=i}if(t.walkTokens){const i=Oe.defaults.walkTokens;n.walkTokens=function(s){let l=[];return l.push(t.walkTokens.call(this,s)),i&&(l=l.concat(i.call(this,s))),l}}Oe.setOptions(n)})};Oe.walkTokens=function(r,e){let t=[];for(const n of r)switch(t=t.concat(e.call(Oe,n)),n.type){case"table":{for(const i of n.header)t=t.concat(Oe.walkTokens(i.tokens,e));for(const i of n.rows)for(const s of i)t=t.concat(Oe.walkTokens(s.tokens,e));break}case"list":{t=t.concat(Oe.walkTokens(n.items,e));break}default:Oe.defaults.extensions&&Oe.defaults.extensions.childTokens&&Oe.defaults.extensions.childTokens[n.type]?Oe.defaults.extensions.childTokens[n.type].forEach(function(i){t=t.concat(Oe.walkTokens(n[i],e))}):n.tokens&&(t=t.concat(Oe.walkTokens(n.tokens,e)))}return t};Oe.parseInline=Sm(_n.lexInline,Ln.parseInline);Oe.Parser=Ln;Oe.parser=Ln.parse;Oe.Renderer=Nl;Oe.TextRenderer=ym;Oe.Lexer=_n;Oe.lexer=_n.lex;Oe.Tokenizer=Ul;Oe.Slugger=jl;Oe.Hooks=Hr;Oe.parse=Oe;Oe.options;Oe.setOptions;Oe.use;Oe.walkTokens;Oe.parseInline;Ln.parse;_n.lex;const $m={};function vy(r){let e;return{c(){e=F(r[1])},m(t,n){S(t,e,n)},p(t,n){n&2&&W(e,t[1])},i:O,o:O,d(t){t&&y(e)}}}function ky(r){let e,t;const n=r[5].default,i=je(n,r,r[4],null);return{c(){e=g("h6"),i&&i.c(),h(e,"id",r[2])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&16)&&Qe(i,n,s,s[4],t?He(n,s[4],l,null):We(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function yy(r){let e,t;const n=r[5].default,i=je(n,r,r[4],null);return{c(){e=g("h5"),i&&i.c(),h(e,"id",r[2])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&16)&&Qe(i,n,s,s[4],t?He(n,s[4],l,null):We(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function Sy(r){let e,t;const n=r[5].default,i=je(n,r,r[4],null);return{c(){e=g("h4"),i&&i.c(),h(e,"id",r[2])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&16)&&Qe(i,n,s,s[4],t?He(n,s[4],l,null):We(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function $y(r){let e,t;const n=r[5].default,i=je(n,r,r[4],null);return{c(){e=g("h3"),i&&i.c(),h(e,"id",r[2])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&16)&&Qe(i,n,s,s[4],t?He(n,s[4],l,null):We(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function Cy(r){let e,t;const n=r[5].default,i=je(n,r,r[4],null);return{c(){e=g("h2"),i&&i.c(),h(e,"id",r[2])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&16)&&Qe(i,n,s,s[4],t?He(n,s[4],l,null):We(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function Ty(r){let e,t;const n=r[5].default,i=je(n,r,r[4],null);return{c(){e=g("h1"),i&&i.c(),h(e,"id",r[2])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&16)&&Qe(i,n,s,s[4],t?He(n,s[4],l,null):We(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function Ey(r){let e,t,n,i;const s=[Ty,Cy,$y,Sy,yy,ky,vy],l=[];function o(a,c){return a[0]===1?0:a[0]===2?1:a[0]===3?2:a[0]===4?3:a[0]===5?4:a[0]===6?5:6}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=le()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(V(),C(l[u],1,1,()=>{l[u]=null}),q(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function Iy(r,e,t){let n,{$$slots:i={},$$scope:s}=e,{depth:l}=e,{raw:o}=e,{text:a}=e;const{slug:c,getOptions:u}=Bh($m),f=u();return r.$$set=d=>{"depth"in d&&t(0,l=d.depth),"raw"in d&&t(1,o=d.raw),"text"in d&&t(3,a=d.text),"$$scope"in d&&t(4,s=d.$$scope)},r.$$.update=()=>{r.$$.dirty&8&&t(2,n=f.headerIds?f.headerPrefix+c(a):void 0)},[l,o,n,a,s,i]}class Oy extends U{constructor(e){super(),z(this,e,Iy,Ey,P,{depth:0,raw:1,text:3})}}function Ry(r){let e,t;const n=r[1].default,i=je(n,r,r[0],null);return{c(){e=g("p"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&Qe(i,n,s,s[0],t?He(n,s[0],l,null):We(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function Ly(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class Dy extends U{constructor(e){super(),z(this,e,Ly,Ry,P,{})}}function By(r){let e;const t=r[3].default,n=je(t,r,r[2],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,[s]){n&&n.p&&(!e||s&4)&&Qe(n,t,i,i[2],e?He(t,i[2],s,null):We(i[2]),null)},i(i){e||(w(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function My(r,e,t){let{$$slots:n={},$$scope:i}=e,{text:s}=e,{raw:l}=e;return r.$$set=o=>{"text"in o&&t(0,s=o.text),"raw"in o&&t(1,l=o.raw),"$$scope"in o&&t(2,i=o.$$scope)},[s,l,i,n]}class Fy extends U{constructor(e){super(),z(this,e,My,By,P,{text:0,raw:1})}}function Py(r){let e,t;return{c(){e=g("img"),de(e.src,t=r[0])||h(e,"src",t),h(e,"title",r[1]),h(e,"alt",r[2])},m(n,i){S(n,e,i)},p(n,[i]){i&1&&!de(e.src,t=n[0])&&h(e,"src",t),i&2&&h(e,"title",n[1]),i&4&&h(e,"alt",n[2])},i:O,o:O,d(n){n&&y(e)}}}function zy(r,e,t){let{href:n=""}=e,{title:i=void 0}=e,{text:s=""}=e;return r.$$set=l=>{"href"in l&&t(0,n=l.href),"title"in l&&t(1,i=l.title),"text"in l&&t(2,s=l.text)},[n,i,s]}let Uy=class extends U{constructor(e){super(),z(this,e,zy,Py,P,{href:0,title:1,text:2})}};function Ny(r){let e,t;const n=r[3].default,i=je(n,r,r[2],null);return{c(){e=g("a"),i&&i.c(),h(e,"href",r[0]),h(e,"title",r[1])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&4)&&Qe(i,n,s,s[2],t?He(n,s[2],l,null):We(s[2]),null),(!t||l&1)&&h(e,"href",s[0]),(!t||l&2)&&h(e,"title",s[1])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function jy(r,e,t){let{$$slots:n={},$$scope:i}=e,{href:s=""}=e,{title:l=void 0}=e;return r.$$set=o=>{"href"in o&&t(0,s=o.href),"title"in o&&t(1,l=o.title),"$$scope"in o&&t(2,i=o.$$scope)},[s,l,i,n]}let Hy=class extends U{constructor(e){super(),z(this,e,jy,Ny,P,{href:0,title:1})}};function Qy(r){let e,t;const n=r[1].default,i=je(n,r,r[0],null);return{c(){e=g("em"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&Qe(i,n,s,s[0],t?He(n,s[0],l,null):We(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function Wy(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class Ky extends U{constructor(e){super(),z(this,e,Wy,Qy,P,{})}}function Gy(r){let e,t;const n=r[1].default,i=je(n,r,r[0],null);return{c(){e=g("del"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&Qe(i,n,s,s[0],t?He(n,s[0],l,null):We(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function Vy(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class qy extends U{constructor(e){super(),z(this,e,Vy,Gy,P,{})}}function Yy(r){let e,t=r[0].replace(/`/g,"")+"",n;return{c(){e=g("code"),n=F(t)},m(i,s){S(i,e,s),p(e,n)},p(i,[s]){s&1&&t!==(t=i[0].replace(/`/g,"")+"")&&W(n,t)},i:O,o:O,d(i){i&&y(e)}}}function Jy(r,e,t){let{raw:n}=e;return r.$$set=i=>{"raw"in i&&t(0,n=i.raw)},[n]}class Zy extends U{constructor(e){super(),z(this,e,Jy,Yy,P,{raw:0})}}function Xy(r){let e,t;const n=r[1].default,i=je(n,r,r[0],null);return{c(){e=g("strong"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&Qe(i,n,s,s[0],t?He(n,s[0],l,null):We(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function xy(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class eS extends U{constructor(e){super(),z(this,e,xy,Xy,P,{})}}function tS(r){let e,t;const n=r[1].default,i=je(n,r,r[0],null);return{c(){e=g("table"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&Qe(i,n,s,s[0],t?He(n,s[0],l,null):We(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function nS(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class iS extends U{constructor(e){super(),z(this,e,nS,tS,P,{})}}function rS(r){let e,t;const n=r[1].default,i=je(n,r,r[0],null);return{c(){e=g("thead"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&Qe(i,n,s,s[0],t?He(n,s[0],l,null):We(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function sS(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class lS extends U{constructor(e){super(),z(this,e,sS,rS,P,{})}}function oS(r){let e,t;const n=r[1].default,i=je(n,r,r[0],null);return{c(){e=g("tbody"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&Qe(i,n,s,s[0],t?He(n,s[0],l,null):We(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function aS(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class cS extends U{constructor(e){super(),z(this,e,aS,oS,P,{})}}function uS(r){let e,t;const n=r[1].default,i=je(n,r,r[0],null);return{c(){e=g("tr"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&Qe(i,n,s,s[0],t?He(n,s[0],l,null):We(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function fS(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class dS extends U{constructor(e){super(),z(this,e,fS,uS,P,{})}}function pS(r){let e,t;const n=r[3].default,i=je(n,r,r[2],null);return{c(){e=g("td"),i&&i.c(),h(e,"align",r[1])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&4)&&Qe(i,n,s,s[2],t?He(n,s[2],l,null):We(s[2]),null),(!t||l&2)&&h(e,"align",s[1])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function mS(r){let e,t;const n=r[3].default,i=je(n,r,r[2],null);return{c(){e=g("th"),i&&i.c(),h(e,"align",r[1])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&4)&&Qe(i,n,s,s[2],t?He(n,s[2],l,null):We(s[2]),null),(!t||l&2)&&h(e,"align",s[1])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function hS(r){let e,t,n,i;const s=[mS,pS],l=[];function o(a,c){return a[0]?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=le()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(V(),C(l[u],1,1,()=>{l[u]=null}),q(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function gS(r,e,t){let{$$slots:n={},$$scope:i}=e,{header:s}=e,{align:l}=e;return r.$$set=o=>{"header"in o&&t(0,s=o.header),"align"in o&&t(1,l=o.align),"$$scope"in o&&t(2,i=o.$$scope)},[s,l,i,n]}class AS extends U{constructor(e){super(),z(this,e,gS,hS,P,{header:0,align:1})}}function bS(r){let e,t;const n=r[3].default,i=je(n,r,r[2],null);return{c(){e=g("ul"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&4)&&Qe(i,n,s,s[2],t?He(n,s[2],l,null):We(s[2]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function _S(r){let e,t;const n=r[3].default,i=je(n,r,r[2],null);return{c(){e=g("ol"),i&&i.c(),h(e,"start",r[1])},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,l){i&&i.p&&(!t||l&4)&&Qe(i,n,s,s[2],t?He(n,s[2],l,null):We(s[2]),null),(!t||l&2)&&h(e,"start",s[1])},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function wS(r){let e,t,n,i;const s=[_S,bS],l=[];function o(a,c){return a[0]?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=le()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(V(),C(l[u],1,1,()=>{l[u]=null}),q(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function vS(r,e,t){let{$$slots:n={},$$scope:i}=e,{ordered:s}=e,{start:l}=e;return r.$$set=o=>{"ordered"in o&&t(0,s=o.ordered),"start"in o&&t(1,l=o.start),"$$scope"in o&&t(2,i=o.$$scope)},[s,l,i,n]}class kS extends U{constructor(e){super(),z(this,e,vS,wS,P,{ordered:0,start:1})}}function yS(r){let e,t;const n=r[1].default,i=je(n,r,r[0],null);return{c(){e=g("li"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&Qe(i,n,s,s[0],t?He(n,s[0],l,null):We(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function SS(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class $S extends U{constructor(e){super(),z(this,e,SS,yS,P,{})}}function CS(r){let e;return{c(){e=g("hr")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}class TS extends U{constructor(e){super(),z(this,e,null,CS,P,{})}}function ES(r){let e,t;return{c(){e=new lp(!1),t=le(),e.a=t},m(n,i){e.m(r[0],n,i),S(n,t,i)},p(n,[i]){i&1&&e.p(n[0])},i:O,o:O,d(n){n&&(y(t),e.d())}}}function IS(r,e,t){let{text:n}=e;return r.$$set=i=>{"text"in i&&t(0,n=i.text)},[n]}class OS extends U{constructor(e){super(),z(this,e,IS,ES,P,{text:0})}}function RS(r){let e,t;const n=r[1].default,i=je(n,r,r[0],null);return{c(){e=g("blockquote"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(e,null),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&Qe(i,n,s,s[0],t?He(n,s[0],l,null):We(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function LS(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class DS extends U{constructor(e){super(),z(this,e,LS,RS,P,{})}}function BS(r){let e,t,n;return{c(){e=g("pre"),t=g("code"),n=F(r[1]),h(e,"class",r[0])},m(i,s){S(i,e,s),p(e,t),p(t,n)},p(i,[s]){s&2&&W(n,i[1]),s&1&&h(e,"class",i[0])},i:O,o:O,d(i){i&&y(e)}}}function MS(r,e,t){let{lang:n}=e,{text:i}=e;return r.$$set=s=>{"lang"in s&&t(0,n=s.lang),"text"in s&&t(1,i=s.text)},[n,i]}class FS extends U{constructor(e){super(),z(this,e,MS,BS,P,{lang:0,text:1})}}function PS(r){let e,t;const n=r[1].default,i=je(n,r,r[0],null);return{c(){e=g("br"),i&&i.c()},m(s,l){S(s,e,l),i&&i.m(s,l),t=!0},p(s,[l]){i&&i.p&&(!t||l&1)&&Qe(i,n,s,s[0],t?He(n,s[0],l,null):We(s[0]),null)},i(s){t||(w(i,s),t=!0)},o(s){C(i,s),t=!1},d(s){s&&y(e),i&&i.d(s)}}}function zS(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=s=>{"$$scope"in s&&t(0,i=s.$$scope)},[i,n]}class US extends U{constructor(e){super(),z(this,e,zS,PS,P,{})}}const NS={heading:Oy,paragraph:Dy,text:Fy,image:Uy,link:Hy,em:Ky,strong:eS,codespan:Zy,del:qy,table:iS,tablehead:lS,tablebody:cS,tablerow:dS,tablecell:AS,list:kS,orderedlistitem:null,unorderedlistitem:null,listitem:$S,hr:TS,html:OS,blockquote:DS,code:FS,br:US},jS={baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1};function HS(r){let e,t;return e=new xn({props:{tokens:r[0],renderers:r[1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,[i]){const s={};i&1&&(s.tokens=n[0]),i&2&&(s.renderers=n[1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function QS(r,e,t){let n,i,s,l,{source:o=[]}=e,{renderers:a={}}=e,{options:c={}}=e,{isInline:u=!1}=e;const f=Lh();let d,m,b;return Dh($m,{slug:A=>i?i.slug(A):"",getOptions:()=>s}),ve(()=>{t(7,b=!0)}),r.$$set=A=>{"source"in A&&t(2,o=A.source),"renderers"in A&&t(3,a=A.renderers),"options"in A&&t(4,c=A.options),"isInline"in A&&t(5,u=A.isInline)},r.$$.update=()=>{r.$$.dirty&4&&t(8,n=Array.isArray(o)),r.$$.dirty&4&&(i=o?new jl:void 0),r.$$.dirty&16&&t(9,s={...jS,...c}),r.$$.dirty&869&&(n?t(0,d=o):(t(6,m=new _n(s)),t(0,d=u?m.inlineTokens(o):m.lex(o)),f("parsed",{tokens:d}))),r.$$.dirty&8&&t(1,l={...NS,...a}),r.$$.dirty&385&&b&&!n&&f("parsed",{tokens:d})},[d,l,o,a,c,u,m,b,n,s]}class ms extends U{constructor(e){super(),z(this,e,QS,HS,P,{source:2,renderers:3,options:4,isInline:5})}}function WS(r){let e,t,n,i,s;return t=new Vt({props:{height:32}}),{c(){e=g("div"),M(t.$$.fragment),n=T(),i=g("p"),i.textContent="Reading items...",h(i,"class","caption"),h(e,"class","loading")},m(l,o){S(l,e,o),D(t,e,null),p(e,n),p(e,i),s=!0},p:O,i(l){s||(w(t.$$.fragment,l),s=!0)},o(l){C(t.$$.fragment,l),s=!1},d(l){l&&y(e),B(t)}}}function KS(r){let e;return{c(){e=g("p"),e.textContent=`ArcOS is currently unable to get the latest release information from the
    github repository. Please try again later.`},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}function GS(r){let e,t,n=r[0].tag_name+"",i,s,l,o;return l=new ms({props:{source:r[0].body}}),{c(){e=g("h3"),t=F("Changelog for ArcOS v"),i=F(n),s=T(),M(l.$$.fragment)},m(a,c){S(a,e,c),p(e,t),p(e,i),S(a,s,c),D(l,a,c),o=!0},p(a,c){(!o||c&1)&&n!==(n=a[0].tag_name+"")&&W(i,n);const u={};c&1&&(u.source=a[0].body),l.$set(u)},i(a){o||(w(l.$$.fragment,a),o=!0)},o(a){C(l.$$.fragment,a),o=!1},d(a){a&&(y(e),y(s)),B(l,a)}}}function VS(r){let e,t,n,i;const s=[GS,KS,WS],l=[];function o(a,c){return a[0]?0:a[1]?2:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=le()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,[c]){let u=e;e=o(a),e===u?l[e].p(a,c):(V(),C(l[u],1,1,()=>{l[u]=null}),q(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function qS(r,e,t){let n,i=!1;return ve(async()=>{St.set(!0),t(1,i=!0),t(0,n=await Am()),t(1,i=!1),St.set(!1)}),[n,i]}class YS extends U{constructor(e){super(),z(this,e,qS,VS,P,{})}}function JS(r){let e,t,n;return{c(){e=g("h1"),e.textContent="Not implemented",t=T(),n=g("p"),n.textContent="This article has not yet been written. Sorry about that."},m(i,s){S(i,e,s),S(i,t,s),S(i,n,s)},p:O,i:O,o:O,d(i){i&&(y(e),y(t),y(n))}}}class Le extends U{constructor(e){super(),z(this,e,null,JS,P,{})}}const ZS={accounts:{title:"Accounts",authors:["Izaak Kuipers"],content:Le,sep:!0},accountsChangeCred:{title:"Changing my Credentials",authors:["Izaak Kuipers"],content:Le,parentId:"accounts"},accountsChangeProfile:{title:"Changing my Profile Picture",authors:["Izaak Kuipers"],content:Le,parentId:"accounts"},accountsDelete:{title:"Deleting my Account",authors:["Izaak Kuipers"],content:Le,parentId:"accounts"}},XS={actionCenter:{title:"Action Center",authors:["Izaak Kuipers"],content:Le,sep:!0},actionCenterNotifications:{title:"Notifications",authors:["Izaak Kuipers"],content:Le,parentId:"actionCenter"},actionCenterQuickActions:{title:"Quick Actions",authors:["Izaak Kuipers"],content:Le,parentId:"actionCenter"}},xS={appsMessaging:{title:"Messaging",authors:["Izaak Kuipers"],content:Le,parentId:"apps"},appsMessagingSending:{title:"Sending",authors:["Izaak Kuipers"],content:Le,parentId:"appsMessaging"},appsMessagingReceiving:{title:"Receiving",authors:["Izaak Kuipers"],content:Le,parentId:"appsMessaging"},appsMessagingDeleting:{title:"Deleting",authors:["Izaak Kuipers"],content:Le,parentId:"appsMessaging"},appsMessagingReplies:{title:"Replies",authors:["Izaak Kuipers"],content:Le,parentId:"appsMessaging"},appsMessagingLimitations:{title:"Limitations",authors:["Izaak Kuipers"],content:Le,parentId:"appsMessaging"}},e$={apps:{title:"Apps",authors:["Izaak Kuipers"],content:Le,sep:!0},appsSystem:{title:"About System Apps",authors:["Izaak Kuipers"],content:Le,parentId:"apps"},appsTurnOnAndOff:{title:"Turn apps on and off",authors:["Izaak Kuipers"],content:Le,parentId:"apps"},...xS},t$={arcfind:{title:"ArcFind",authors:["Izaak Kuipers"],content:Le,sep:!0},arcfindTypes:{title:"Types of Results",authors:["Izaak Kuipers"],content:Le,parentId:"arcfind"},arcfindInitialIndex:{title:"Initial Index",authors:["Izaak Kuipers"],content:Le,parentId:"arcfind"}},n$={arcfs:{title:"ArcFS",authors:["Izaak Kuipers"],content:Le,sep:!0},arcfsUploading:{title:"Uploading Files",authors:["Izaak Kuipers"],content:Le,parentId:"arcfs"},arcfsDownloading:{title:"Downloading Files",authors:["Izaak Kuipers"],content:Le,parentId:"arcfs"},arcfsOpenWith:{title:"Open With",authors:["Izaak Kuipers"],content:Le,parentId:"arcfs"},arcfsLimitations:{title:"Limitations",authors:["Izaak Kuipers"],content:Le,parentId:"arcfs"},arcfsQuota:{title:"ArcFS Quota",authors:["Izaak Kuipers"],content:Le,parentId:"arcfs"}},i$={arctermConfiguration:{title:"Configuration",authors:["Izaak Kuipers"],content:Le,parentId:"arcterm"},arctermConfigurationPrompt:{title:"Prompt",authors:["Izaak Kuipers"],content:Le,parentId:"arctermConfiguration"},arctermConfigurationIntro:{title:"Intro",authors:["Izaak Kuipers"],content:Le,parentId:"arctermConfiguration"}},r$={arcterm:{title:"ArcTerm",authors:["Izaak Kuipers"],content:Le,sep:!0},...i$,arctermMode:{title:"ArcTerm Mode",authors:["Izaak Kuipers"],content:Le,parentId:"arcterm"}},s$={logging:{title:"Logging",authors:["Izaak Kuipers"],content:Le},loggingTypes:{title:"Log Types",authors:["Izaak Kuipers"],content:Le,parentId:"logging"},loggingDevTools:{title:"Developer Tools",authors:["Izaak Kuipers"],content:Le,parentId:"logging"}};function l$(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v,k,$,E;return f=new mi({props:{id:"personalizationShell"}}),$=new mi({props:{id:"personalizationDesktop"}}),{c(){e=g("h1"),e.textContent="Personalization",t=T(),n=g("p"),n.textContent=`One of the key things we care about in ArcOS is customization; the ability to
  change every aspect of your desktop precisely how you like it. I like to think
  we did a pretty good job, with a ton of options and things to tweak.`,i=T(),s=g("p"),s.textContent=`In this help center article, you will learn what customization options there
  are, and more.`,l=T(),o=g("h2"),o.textContent="The shell",a=T(),c=g("p"),c.innerHTML=`The shell is <b>the Taskbar</b>, <b>Start Menu</b>, <b>Action Center</b> and
  <b>ArcFind</b>. It too can be customized. You can customize the shell by going
  to the Shell page in Settings. From there you can change the behaviour of
  every component of the shell.`,u=T(),M(f.$$.fragment),d=T(),m=g("h2"),m.textContent="Desktop",b=T(),A=g("p"),A.textContent=`The very first thing you see every time you log in. On the desktop you'll find
  your desktop icons and the wallpaper. The wallpaper can be changed using
  either a built-in wallpaper or a custom one via URL or ArcFS file.`,_=T(),v=g("p"),v.textContent=`Do you want to save your current options? Good news, you can! On the
  Appearance page of the Settings app, you can click on the save icon to save
  your current appearance as a theme so that you can easily switch between
  different styles.`,k=T(),M($.$$.fragment)},m(I,R){S(I,e,R),S(I,t,R),S(I,n,R),S(I,i,R),S(I,s,R),S(I,l,R),S(I,o,R),S(I,a,R),S(I,c,R),S(I,u,R),D(f,I,R),S(I,d,R),S(I,m,R),S(I,b,R),S(I,A,R),S(I,_,R),S(I,v,R),S(I,k,R),D($,I,R),E=!0},p:O,i(I){E||(w(f.$$.fragment,I),w($.$$.fragment,I),E=!0)},o(I){C(f.$$.fragment,I),C($.$$.fragment,I),E=!1},d(I){I&&(y(e),y(t),y(n),y(i),y(s),y(l),y(o),y(a),y(c),y(u),y(d),y(m),y(b),y(A),y(_),y(v),y(k)),B(f,I),B($,I)}}}class o$ extends U{constructor(e){super(),z(this,e,null,l$,P,{})}}const a$={personalizationDesktop:{title:"Desktop",authors:["Izaak Kuipers"],content:Le,parentId:"personalization"},personalizationDesktopThemes:{title:"Themes",authors:["Izaak Kuipers"],content:Le,parentId:"personalizationDesktop"},personalizationDesktopCustomWallpapers:{title:"Wallpapers",authors:["Izaak Kuipers"],content:Le,parentId:"personalizationDesktop"}},c$={personalizationShell:{title:"Shell",authors:["Izaak Kuipers"],content:Le,parentId:"personalization"},personalizationShellColoring:{title:"Coloring",authors:["Izaak Kuipers"],content:Le,parentId:"personalizationShell"},personalizationShellTaskbar:{title:"Taskbar",authors:["Izaak Kuipers"],content:Le,parentId:"personalizationShell"},personalizationShellStartMenu:{title:"Start Menu",authors:["Izaak Kuipers"],content:Le,parentId:"personalizationShell"},personalizationShellActionCenter:{title:"Action Center",authors:["Izaak Kuipers"],content:Le,parentId:"personalizationShell"}},u$={personalizationWindows:{title:"Windows",authors:["Izaak Kuipers"],content:Le,parentId:"personalization"},personalizationWindowsTitlebar:{title:"Titlebar",authors:["Izaak Kuipers"],content:Le,parentId:"personalizationWindows"}},f$={personalization:{title:"Personalization",content:o$,authors:["Izaak Kuipers"],sep:!0},personalizationPerformance:{title:"Performance",authors:["Izaak Kuipers"],content:Le,parentId:"personalization"},...c$,...a$,...u$},vi={homePage:{title:"Home",content:O2,sep:!0,authors:["Izaak Kuipers"]},homePageChanges:{title:"Recent Changes",content:YS,authors:["Izaak Kuipers"],parentId:"homePage"},...f$,...XS,...ZS,...r$,...n$,...t$,...e$,...s$},Qr=pe();function Sc(r){let e,t,n;var i=vi[r[0]].content;function s(l,o){return{}}return i&&(e=De(i,s())),{c(){e&&M(e.$$.fragment),t=le()},m(l,o){e&&D(e,l,o),S(l,t,o),n=!0},p(l,o){if(o&1&&i!==(i=vi[l[0]].content)){if(e){V();const a=e;C(a.$$.fragment,1,0,()=>{B(a,1)}),q()}i?(e=De(i,s()),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}},i(l){n||(e&&w(e.$$.fragment,l),n=!0)},o(l){e&&C(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&B(e,l)}}}function d$(r){let e,t,n=r[0]&&vi[r[0]]&&Sc(r);return{c(){e=g("div"),n&&n.c(),h(e,"class","article-renderer markdownrenderer")},m(i,s){S(i,e,s),n&&n.m(e,null),t=!0},p(i,[s]){i[0]&&vi[i[0]]?n?(n.p(i,s),s&1&&w(n,1)):(n=Sc(i),n.c(),w(n,1),n.m(e,null)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d()}}}function p$(r,e,t){let n;return G(r,Qr,i=>t(0,n=i)),[n]}class m$ extends U{constructor(e){super(),z(this,e,p$,d$,P,{})}}function $c(r,e,t){const n=r.slice();return n[5]=e[t],n}function Cc(r){let e,t;return e=new Cm({props:{article:r[5][1],id:r[5][0],articles:r[2]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.article=n[5][1]),i&4&&(s.id=n[5][0]),i&4&&(s.articles=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Tc(r){let e,t,n=r[5][1].parentId==r[1]&&Cc(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,s){i[5][1].parentId==i[1]?n?(n.p(i,s),s&6&&w(n,1)):(n=Cc(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function Ec(r){let e;return{c(){e=g("hr")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function h$(r){let e,t=r[0].title+"",n,i,s,l,o,a,c,u,f=X(r[2]),d=[];for(let A=0;A<f.length;A+=1)d[A]=Tc($c(r,f,A));const m=A=>C(d[A],1,1,()=>{d[A]=null});let b=r[0].sep&&Ec();return{c(){e=g("button"),n=F(t),i=T(),s=g("div");for(let A=0;A<d.length;A+=1)d[A].c();l=T(),b&&b.c(),o=le(),h(e,"class","article-link"),j(e,"selected",r[3]==r[1]),h(s,"class","indent")},m(A,_){S(A,e,_),p(e,n),S(A,i,_),S(A,s,_);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(s,null);S(A,l,_),b&&b.m(A,_),S(A,o,_),a=!0,c||(u=N(e,"click",r[4]),c=!0)},p(A,[_]){if((!a||_&1)&&t!==(t=A[0].title+"")&&W(n,t),(!a||_&10)&&j(e,"selected",A[3]==A[1]),_&6){f=X(A[2]);let v;for(v=0;v<f.length;v+=1){const k=$c(A,f,v);d[v]?(d[v].p(k,_),w(d[v],1)):(d[v]=Tc(k),d[v].c(),w(d[v],1),d[v].m(s,null))}for(V(),v=f.length;v<d.length;v+=1)m(v);q()}A[0].sep?b||(b=Ec(),b.c(),b.m(o.parentNode,o)):b&&(b.d(1),b=null)},i(A){if(!a){for(let _=0;_<f.length;_+=1)w(d[_]);a=!0}},o(A){d=d.filter(Boolean);for(let _=0;_<d.length;_+=1)C(d[_]);a=!1},d(A){A&&(y(e),y(i),y(s),y(l),y(o)),me(d,A),b&&b.d(A),c=!1,u()}}}function g$(r,e,t){let n;G(r,Qr,a=>t(3,n=a));let{article:i}=e,{id:s}=e,{articles:l=[]}=e;function o(){Qr.set(s)}return r.$$set=a=>{"article"in a&&t(0,i=a.article),"id"in a&&t(1,s=a.id),"articles"in a&&t(2,l=a.articles)},[i,s,l,n,o]}class Cm extends U{constructor(e){super(),z(this,e,g$,h$,P,{article:0,id:1,articles:2})}}function Ic(r,e,t){const n=r.slice();return n[1]=e[t],n}function Oc(r){let e,t;return e=new Cm({props:{article:r[1][1],id:r[1][0],articles:r[0]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.article=n[1][1]),i&1&&(s.id=n[1][0]),i&1&&(s.articles=n[0]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Rc(r){let e,t,n=!r[1][1].parentId&&Oc(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,s){i[1][1].parentId?n&&(V(),C(n,1,1,()=>{n=null}),q()):n?(n.p(i,s),s&1&&w(n,1)):(n=Oc(i),n.c(),w(n,1),n.m(e.parentNode,e))},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function A$(r){let e,t,n=X(r[0]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Rc(Ic(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","sidebar")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,[o]){if(o&1){n=X(l[0]);let a;for(a=0;a<n.length;a+=1){const c=Ic(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Rc(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function b$(r,e,t){let n=[];return ve(()=>{t(0,n=Object.entries(vi))}),[n]}let _$=class extends U{constructor(e){super(),z(this,e,b$,A$,P,{})}};function w$(r){let e,t,n,i;return e=new m$({}),n=new _$({}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment)},m(s,l){D(e,s,l),S(s,t,l),D(n,s,l),i=!0},p:O,i(s){i||(w(e.$$.fragment,s),w(n.$$.fragment,s),i=!0)},o(s){C(e.$$.fragment,s),C(n.$$.fragment,s),i=!1},d(s){s&&y(t),B(e,s),B(n,s)}}}let v$=class extends U{constructor(e){super(),z(this,e,null,w$,P,{})}};const k$={info:{name:"Help Center",description:"You have questions, I have answers.",builtin:!0,version:"1.0.0",author:"ArcOS Team",icon:im,hidden:!0,appGroup:"support"},size:{w:800,h:600},pos:{x:30,y:40},minSize:{w:800,h:600},maxSize:{w:901,h:700},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:v$,glass:!0,events:{open(){Ze({title:"Caution!",message:"This application is still in development past the release of 5.0.6. It was hidden to prevent you from seeing this half finished help center. Do not take the content or UI serious.",buttons:[{caption:"OK",action(){}}]},"HelpCenter")}}},y$=""+new URL("imageviewer-5b7c750b.svg",import.meta.url).href;function Lc(r){let e,t,n,i;return{c(){e=g("img"),de(e.src,t=r[1])||h(e,"src",t),h(e,"alt",n=r[0].openedFile.name),h(e,"data-contextmenu","output"),h(e,"data-path",i=r[0].openedFile.path)},m(s,l){S(s,e,l)},p(s,l){l&2&&!de(e.src,t=s[1])&&h(e,"src",t),l&1&&n!==(n=s[0].openedFile.name)&&h(e,"alt",n),l&1&&i!==(i=s[0].openedFile.path)&&h(e,"data-path",i)},d(s){s&&y(e)}}}function S$(r){let e,t=r[0].openedFile&&r[1]&&Lc(r);return{c(){t&&t.c(),e=le()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0].openedFile&&n[1]?t?t.p(n,i):(t=Lc(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function $$(r,e,t){let{app:n}=e,i="";return ue.subscribe(()=>{if(!n.openedFile)return t(1,i="");const s=new Blob([new Uint8Array(n.openedFile.data)],{type:n.openedFile.mime});t(1,i=URL.createObjectURL(s))}),r.$$set=s=>{"app"in s&&t(0,n=s.app)},[n,i]}class C$ extends U{constructor(e){super(),z(this,e,$$,S$,P,{app:0})}}const Qi=pe({});function Wr(r,e){const t=K(Qi),n=t[r],i=K(ue);let s=null;for(let l=0;l<i.length;l++)i[l].id==n&&(s=l);return s==null?!1:(i[s].openedFile=e,i[s].events&&i[s].events.openFile&&i[s].events.openFile(i[s]),delete i[s].overlays[r],ue.set(i),delete t[r],Qi.set(t),!0)}function Dc(r){return K(Qi)[r]||!1}function T$(r,e){const t=K(Qi);return t[r]?!1:(t[r]=e,Qi.set(t),!0)}function E$(r){let e,t,n,i,s,l,o,a,c;return{c(){e=g("div"),t=g("div"),n=g("button"),n.textContent="Cancel",i=T(),s=g("button"),l=F("Open"),h(n,"class","cancel"),h(s,"class","confirm"),s.disabled=o=!r[5]||!r[4],h(t,"class","buttons"),h(e,"class","bottompane")},m(u,f){S(u,e,f),p(e,t),p(t,n),p(t,i),p(t,s),p(s,l),a||(c=[N(n,"click",r[7]),N(s,"click",r[6])],a=!0)},p(u,[f]){f&48&&o!==(o=!u[5]||!u[4])&&(s.disabled=o)},i:O,o:O,d(u){u&&y(e),a=!1,ke(c)}}}function I$(r,e,t){let n,i=O,s=()=>(i(),i=qt(k,R=>t(9,n=R)),k),l,o=O,a=()=>(o(),o=qt(A,R=>t(10,l=R)),A),c,u=O,f=()=>(u(),u=qt(v,R=>t(4,c=R)),v),d,m=O,b=()=>(m(),m=qt(_,R=>t(5,d=R)),_);r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>o()),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m());let{currentDir:A}=e;a();let{currentPath:_}=e;b();let{selected:v}=e;f();let{processing:k}=e;s();let{overlay:$}=e;async function E(){Ee(k,n=!0,n);let R;for(let H=0;H<l.files.length;H++)l.files[H].filename==c&&(R=l.files[H]);const L={name:R.filename,path:R.scopedPath,data:await un(R.scopedPath),mime:R.mime};Je($.id,Dc($.id)),Wr($.id,L),Ee(k,n=!1,n)}function I(){const R=Dc($.id),L=Ue(R);Je($.id,R),Wr($.id,L.openedFile)}return r.$$set=R=>{"currentDir"in R&&a(t(0,A=R.currentDir)),"currentPath"in R&&b(t(1,_=R.currentPath)),"selected"in R&&f(t(2,v=R.selected)),"processing"in R&&s(t(3,k=R.processing)),"overlay"in R&&t(8,$=R.overlay)},[A,_,v,k,c,d,E,I,$]}let O$=class extends U{constructor(e){super(),z(this,e,I$,E$,P,{currentDir:0,currentPath:1,selected:2,processing:3,overlay:8})}};function R$(r){let e,t,n,i,s,l,o,a=r[0].name+"",c,u,f,d,m,b,A;return{c(){e=g("button"),t=g("div"),n=g("img"),l=T(),o=g("div"),c=F(a),u=T(),f=g("div"),f.textContent="Folder",d=T(),m=g("div"),m.textContent="-",de(n.src,i=xt)||h(n,"src",i),h(n,"alt",s=r[0].name),h(t,"class","image"),h(o,"class","name"),h(f,"class","mime"),h(m,"class","size"),h(e,"class","item dir")},m(_,v){S(_,e,v),p(e,t),p(t,n),p(e,l),p(e,o),p(o,c),p(e,u),p(e,f),p(e,d),p(e,m),b||(A=N(e,"dblclick",r[2]),b=!0)},p(_,[v]){v&1&&s!==(s=_[0].name)&&h(n,"alt",s),v&1&&a!==(a=_[0].name+"")&&W(c,a)},i:O,o:O,d(_){_&&y(e),b=!1,A()}}}function L$(r,e,t){let{dir:n}=e,{setDir:i}=e;const s=()=>i(n.scopedPath);return r.$$set=l=>{"dir"in l&&t(0,n=l.dir),"setDir"in l&&t(1,i=l.setDir)},[n,i,s]}let D$=class extends U{constructor(e){super(),z(this,e,L$,R$,P,{dir:0,setDir:1})}};function B$(r){let e,t,n,i,s,l,o,a=r[2].filename+"",c,u,f,d=r[2].mime.split("; ")[0].split("/").join(" - ")+"",m,b,A,_=mt(r[2].size)+"",v,k,$;return{c(){e=g("button"),t=g("div"),n=g("img"),l=T(),o=g("div"),c=F(a),u=T(),f=g("div"),m=F(d),b=T(),A=g("div"),v=F(_),de(n.src,i=r[3])||h(n,"src",i),h(n,"alt",s=r[2].filename),h(t,"class","image"),h(o,"class","name"),h(f,"class","mime"),h(A,"class","size"),h(e,"class","item file"),j(e,"selected",r[4]==r[2].filename)},m(E,I){S(E,e,I),p(e,t),p(t,n),p(e,l),p(e,o),p(o,c),p(e,u),p(e,f),p(f,m),p(e,b),p(e,A),p(A,v),k||($=[N(e,"dblclick",r[5]),N(e,"click",r[7])],k=!0)},p(E,[I]){I&8&&!de(n.src,i=E[3])&&h(n,"src",i),I&4&&s!==(s=E[2].filename)&&h(n,"alt",s),I&4&&a!==(a=E[2].filename+"")&&W(c,a),I&4&&d!==(d=E[2].mime.split("; ")[0].split("/").join(" - ")+"")&&W(m,d),I&4&&_!==(_=mt(E[2].size)+"")&&W(v,_),I&20&&j(e,"selected",E[4]==E[2].filename)},i:O,o:O,d(E){E&&y(e),k=!1,ke($)}}}function M$(r,e,t){let n,i=O,s=()=>(i(),i=qt(f,_=>t(8,n=_)),f),l,o=O,a=()=>(o(),o=qt(u,_=>t(4,l=_)),u);r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>o());let{overlay:c}=e,{selected:u}=e;a();let{processing:f}=e;s();let d="";ve(()=>{t(3,d=cn(b.filename))});async function m(){Ee(f,n=!0,n);const _={name:b.filename,path:b.scopedPath,data:await un(b.scopedPath),mime:b.mime};Wr(c.id,_),Ee(f,n=!1,n)}let{file:b}=e;const A=()=>Ee(u,l=b.filename,l);return r.$$set=_=>{"overlay"in _&&t(6,c=_.overlay),"selected"in _&&a(t(0,u=_.selected)),"processing"in _&&s(t(1,f=_.processing)),"file"in _&&t(2,b=_.file)},[u,f,b,d,l,m,c,A]}let F$=class extends U{constructor(e){super(),z(this,e,M$,B$,P,{overlay:6,selected:0,processing:1,file:2})}};function Bc(r){let e,t,n,i;return{c(){e=g("button"),t=F(r[0]),h(e,"class","crumb")},m(s,l){S(s,e,l),p(e,t),n||(i=N(e,"click",r[1]),n=!0)},p(s,l){l&1&&W(t,s[0])},d(s){s&&y(e),n=!1,i()}}}function P$(r){let e,t=r[0]&&r[0]!="."&&Bc(r);return{c(){t&&t.c(),e=le()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0]&&n[0]!="."?t?t.p(n,i):(t=Bc(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function z$(r,e,t){let{crumb:n}=e,{path:i}=e,{setDir:s}=e;function l(){s(i)}return r.$$set=o=>{"crumb"in o&&t(0,n=o.crumb),"path"in o&&t(2,i=o.path),"setDir"in o&&t(3,s=o.setDir)},[n,l,i,s]}class U$ extends U{constructor(e){super(),z(this,e,z$,P$,P,{crumb:0,path:2,setDir:3})}}function Mc(r,e,t){const n=r.slice();return n[10]=e[t],n[12]=t,n}function Fc(r){let e,t;return e=new U$({props:{crumb:r[10],path:r[6](r[10],r[12]),setDir:r[3]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&16&&(s.crumb=n[10]),i&16&&(s.path=n[6](n[10],n[12])),i&8&&(s.setDir=n[3]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function N$(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v,k,$,E,I,R=X(r[4]),L=[];for(let Q=0;Q<R.length;Q+=1)L[Q]=Fc(Mc(r,R,Q));const H=Q=>C(L[Q],1,1,()=>{L[Q]=null});return{c(){e=g("div"),t=g("button"),n=F("arrow_upward"),s=T(),l=g("button"),l.textContent="home",o=T(),a=g("div");for(let Q=0;Q<L.length;Q+=1)L[Q].c();c=T(),u=g("button"),u.textContent="refresh",f=T(),d=g("div"),m=g("button"),b=F("format_list_bulleted"),_=T(),v=g("button"),k=F("grid_view"),h(t,"class","parentdir material-icons-round"),t.disabled=i=r[4].length==2&&r[4][0]=="."&&!r[4][1],h(l,"class","home material-icons-round"),h(a,"class","addressbar"),h(u,"class","refresh material-icons-round"),h(m,"class","material-icons-round"),m.disabled=A=!r[0],h(m,"title","List view"),j(m,"selected",r[0]),h(v,"class","material-icons-round"),v.disabled=r[0],h(v,"title","Tile view"),j(v,"selected",!r[0]),h(d,"class","group"),h(e,"class","topbar")},m(Q,x){S(Q,e,x),p(e,t),p(t,n),p(e,s),p(e,l),p(e,o),p(e,a);for(let J=0;J<L.length;J+=1)L[J]&&L[J].m(a,null);p(e,c),p(e,u),p(e,f),p(e,d),p(d,m),p(m,b),p(d,_),p(d,v),p(v,k),$=!0,E||(I=[N(t,"click",r[7]),N(l,"click",r[5]),N(u,"click",function(){ct(r[2])&&r[2].apply(this,arguments)}),N(m,"click",r[8]),N(v,"click",r[8])],E=!0)},p(Q,[x]){if(r=Q,(!$||x&16&&i!==(i=r[4].length==2&&r[4][0]=="."&&!r[4][1]))&&(t.disabled=i),x&88){R=X(r[4]);let J;for(J=0;J<R.length;J+=1){const Ae=Mc(r,R,J);L[J]?(L[J].p(Ae,x),w(L[J],1)):(L[J]=Fc(Ae),L[J].c(),w(L[J],1),L[J].m(a,null))}for(V(),J=R.length;J<L.length;J+=1)H(J);q()}(!$||x&1&&A!==(A=!r[0]))&&(m.disabled=A),(!$||x&1)&&j(m,"selected",r[0]),(!$||x&1)&&(v.disabled=r[0]),(!$||x&1)&&j(v,"selected",!r[0])},i(Q){if(!$){for(let x=0;x<R.length;x+=1)w(L[x]);$=!0}},o(Q){L=L.filter(Boolean);for(let x=0;x<L.length;x+=1)C(L[x]);$=!1},d(Q){Q&&y(e),me(L,Q),E=!1,ke(I)}}}function j$(r,e,t){let n,i=O,s=()=>(i(),i=qt(l,A=>t(9,n=A)),l);r.$$.on_destroy.push(()=>i());let{currentPath:l}=e;s();let{refresh:o}=e,{setDir:a}=e,c,{tiled:u}=e;l.subscribe(A=>{t(4,c=A.split("/")),o(),t(0,u=!!Nr("FileManager","tiled"))});function f(){l.set("./")}function d(A,_){let v="";for(let k=0;k<_;k++)v+=`${c[k]}/`;return`${v}${A}`}function m(){a(um(n))}function b(){t(0,u=!u),Pl("FileManager","tiled",u)}return te.subscribe(()=>{t(0,u=!!Nr("FileManager","tiled"))}),r.$$set=A=>{"currentPath"in A&&s(t(1,l=A.currentPath)),"refresh"in A&&t(2,o=A.refresh),"setDir"in A&&t(3,a=A.setDir),"tiled"in A&&t(0,u=A.tiled)},[u,l,o,a,c,f,d,m,b]}let H$=class extends U{constructor(e){super(),z(this,e,j$,N$,P,{currentPath:1,refresh:2,setDir:3,tiled:0})}};function Q$(r){let e,t,n,i,s,l,o=r[0].name+"",a,c,u;return{c(){e=g("button"),t=g("img"),s=T(),l=g("p"),a=F(o),de(t.src,n=xt)||h(t,"src",n),h(t,"alt",i=r[0].name),h(l,"class","caption"),h(e,"class","tile dir")},m(f,d){S(f,e,d),p(e,t),p(e,s),p(e,l),p(l,a),c||(u=N(e,"dblclick",r[1]),c=!0)},p(f,[d]){d&1&&i!==(i=f[0].name)&&h(t,"alt",i),d&1&&o!==(o=f[0].name+"")&&W(a,o)},i:O,o:O,d(f){f&&y(e),c=!1,u()}}}function W$(r,e,t){let{dir:n}=e,{setDir:i}=e;function s(){i(n.scopedPath)}return r.$$set=l=>{"dir"in l&&t(0,n=l.dir),"setDir"in l&&t(2,i=l.setDir)},[n,s,i]}let K$=class extends U{constructor(e){super(),z(this,e,W$,Q$,P,{dir:0,setDir:2})}};function G$(r){let e,t,n,i,s,l,o,a=r[2].filename+"",c,u,f;return{c(){e=g("button"),t=g("div"),n=g("img"),l=T(),o=g("p"),c=F(a),de(n.src,i=r[3])||h(n,"src",i),h(n,"alt",s=r[2].filename),h(t,"class","image"),h(o,"class","name"),h(e,"class","tile file"),j(e,"selected",r[4]==r[2].filename)},m(d,m){S(d,e,m),p(e,t),p(t,n),p(e,l),p(e,o),p(o,c),u||(f=[N(e,"dblclick",r[5]),N(e,"click",r[7])],u=!0)},p(d,[m]){m&8&&!de(n.src,i=d[3])&&h(n,"src",i),m&4&&s!==(s=d[2].filename)&&h(n,"alt",s),m&4&&a!==(a=d[2].filename+"")&&W(c,a),m&20&&j(e,"selected",d[4]==d[2].filename)},i:O,o:O,d(d){d&&y(e),u=!1,ke(f)}}}function V$(r,e,t){let n,i=O,s=()=>(i(),i=qt(f,_=>t(8,n=_)),f),l,o=O,a=()=>(o(),o=qt(u,_=>t(4,l=_)),u);r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>o());let{overlay:c}=e,{selected:u}=e;a();let{processing:f}=e;s();let d="";ve(()=>{t(3,d=cn(b.filename))});async function m(){Ee(f,n=!0,n);const _={name:b.filename,path:b.scopedPath,data:await un(b.scopedPath),mime:b.mime};Wr(c.id,_),Ee(f,n=!1,n)}let{file:b}=e;const A=()=>Ee(u,l=b.filename,l);return r.$$set=_=>{"overlay"in _&&t(6,c=_.overlay),"selected"in _&&a(t(0,u=_.selected)),"processing"in _&&s(t(1,f=_.processing)),"file"in _&&t(2,b=_.file)},[u,f,b,d,l,m,c,A]}class q$ extends U{constructor(e){super(),z(this,e,V$,G$,P,{overlay:6,selected:0,processing:1,file:2})}}function Pc(r,e,t){const n=r.slice();return n[5]=e[t],n}function zc(r,e,t){const n=r.slice();return n[8]=e[t],n}function Uc(r){let e,t,n=X(r[3].directories),i=[];for(let l=0;l<n.length;l+=1)i[l]=Nc(zc(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","dirs")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,o){if(o&24){n=X(l[3].directories);let a;for(a=0;a<n.length;a+=1){const c=zc(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Nc(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Nc(r){let e,t;return e=new K$({props:{dir:r[8],setDir:r[4]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&8&&(s.dir=n[8]),i&16&&(s.setDir=n[4]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function jc(r){let e,t;return e=new q$({props:{file:r[5],overlay:r[0],selected:r[1],processing:r[2]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&8&&(s.file=n[5]),i&1&&(s.overlay=n[0]),i&2&&(s.selected=n[1]),i&4&&(s.processing=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Y$(r){let e,t,n,i,s=r[3].directories.length&&Uc(r),l=X(r[3].files),o=[];for(let c=0;c<l.length;c+=1)o[c]=jc(Pc(r,l,c));const a=c=>C(o[c],1,1,()=>{o[c]=null});return{c(){e=g("div"),s&&s.c(),t=T(),n=g("div");for(let c=0;c<o.length;c+=1)o[c].c();h(n,"class","files"),h(e,"class","tiled")},m(c,u){S(c,e,u),s&&s.m(e,null),p(e,t),p(e,n);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(n,null);i=!0},p(c,[u]){if(c[3].directories.length?s?(s.p(c,u),u&8&&w(s,1)):(s=Uc(c),s.c(),w(s,1),s.m(e,t)):s&&(V(),C(s,1,1,()=>{s=null}),q()),u&15){l=X(c[3].files);let f;for(f=0;f<l.length;f+=1){const d=Pc(c,l,f);o[f]?(o[f].p(d,u),w(o[f],1)):(o[f]=jc(d),o[f].c(),w(o[f],1),o[f].m(n,null))}for(V(),f=l.length;f<o.length;f+=1)a(f);q()}},i(c){if(!i){w(s);for(let u=0;u<l.length;u+=1)w(o[u]);i=!0}},o(c){C(s),o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)C(o[u]);i=!1},d(c){c&&y(e),s&&s.d(),me(o,c)}}}function J$(r,e,t){let{overlay:n}=e,{selected:i}=e,{processing:s}=e,{data:l}=e,{setDir:o}=e;return r.$$set=a=>{"overlay"in a&&t(0,n=a.overlay),"selected"in a&&t(1,i=a.selected),"processing"in a&&t(2,s=a.processing),"data"in a&&t(3,l=a.data),"setDir"in a&&t(4,o=a.setDir)},[n,i,s,l,o]}class Z$ extends U{constructor(e){super(),z(this,e,J$,Y$,P,{overlay:0,selected:1,processing:2,data:3,setDir:4})}}function X$(r){let e,t,n,i,s,l,o=r[0].name+"",a,c,u;return{c(){e=g("button"),t=g("img"),s=T(),l=g("p"),a=F(o),de(t.src,n=xt)||h(t,"src",n),h(t,"alt",i=r[0].name),h(l,"class","caption"),h(e,"class","link"),j(e,"selected",r[1])},m(f,d){S(f,e,d),p(e,t),p(e,s),p(e,l),p(l,a),c||(u=N(e,"click",r[2]),c=!0)},p(f,[d]){d&1&&i!==(i=f[0].name)&&h(t,"alt",i),d&1&&o!==(o=f[0].name+"")&&W(a,o),d&2&&j(e,"selected",f[1])},i:O,o:O,d(f){f&&y(e),c=!1,u()}}}function x$(r,e,t){let{folder:n}=e,{setDir:i}=e,{currentPath:s}=e,l=!1;function o(){i(n.scopedPath)}return s.subscribe(a=>{t(1,l=a==n.scopedPath)}),r.$$set=a=>{"folder"in a&&t(0,n=a.folder),"setDir"in a&&t(3,i=a.setDir),"currentPath"in a&&t(4,s=a.currentPath)},[n,l,o,i,s]}class e3 extends U{constructor(e){super(),z(this,e,x$,X$,P,{folder:0,setDir:3,currentPath:4})}}function Hc(r,e,t){const n=r.slice();return n[4]=e[t],n}function Qc(r){let e,t;return e=new e3({props:{setDir:r[1],currentPath:r[0],folder:r[4]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.setDir=n[1]),i&1&&(s.currentPath=n[0]),i&4&&(s.folder=n[4]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function t3(r){let e,t,n=X(r[2]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Qc(Hc(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","sidebar")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,[o]){if(o&7){n=X(l[2]);let a;for(a=0;a<n.length;a+=1){const c=Hc(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Qc(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function n3(r,e,t){let n=[],{currentDir:i}=e,{currentPath:s}=e,{setDir:l}=e;return i.subscribe(async o=>{t(2,n=(await Gt("./")).directories)}),r.$$set=o=>{"currentDir"in o&&t(3,i=o.currentDir),"currentPath"in o&&t(0,s=o.currentPath),"setDir"in o&&t(1,l=o.setDir)},[s,l,n,i]}let i3=class extends U{constructor(e){super(),z(this,e,n3,t3,P,{currentDir:3,currentPath:0,setDir:1})}};function Wc(r,e,t){const n=r.slice();return n[13]=e[t],n}function Kc(r,e,t){const n=r.slice();return n[16]=e[t],n}function Gc(r){let e,t,n,i,s,l,o,a,c,u,f,d;function m($){r[11]($)}let b={currentPath:r[6],refresh:r[10],setDir:r[9]};r[1]!==void 0&&(b.tiled=r[1]),e=new H$({props:b}),we.push(()=>Ce(e,"tiled",m)),s=new i3({props:{currentDir:r[5],setDir:r[9],currentPath:r[6]}});const A=[s3,r3],_=[];function v($,E){return $[1]?0:1}o=v(r),a=_[o]=A[o](r);let k=r[3]&&Yc(r);return f=new O$({props:{currentDir:r[5],currentPath:r[6],selected:r[7],overlay:r[0],processing:r[8]}}),{c(){M(e.$$.fragment),n=T(),i=g("div"),M(s.$$.fragment),l=T(),a.c(),c=T(),k&&k.c(),u=T(),M(f.$$.fragment),h(i,"class","content")},m($,E){D(e,$,E),S($,n,E),S($,i,E),D(s,i,null),p(i,l),_[o].m(i,null),p(i,c),k&&k.m(i,null),S($,u,E),D(f,$,E),d=!0},p($,E){const I={};!t&&E&2&&(t=!0,I.tiled=$[1],$e(()=>t=!1)),e.$set(I);let R=o;o=v($),o===R?_[o].p($,E):(V(),C(_[R],1,1,()=>{_[R]=null}),q(),a=_[o],a?a.p($,E):(a=_[o]=A[o]($),a.c()),w(a,1),a.m(i,c)),$[3]?k?(k.p($,E),E&8&&w(k,1)):(k=Yc($),k.c(),w(k,1),k.m(i,null)):k&&(V(),C(k,1,1,()=>{k=null}),q());const L={};E&1&&(L.overlay=$[0]),f.$set(L)},i($){d||(w(e.$$.fragment,$),w(s.$$.fragment,$),w(a),w(k),w(f.$$.fragment,$),d=!0)},o($){C(e.$$.fragment,$),C(s.$$.fragment,$),C(a),C(k),C(f.$$.fragment,$),d=!1},d($){$&&(y(n),y(i),y(u)),B(e,$),B(s),_[o].d(),k&&k.d(),B(f,$)}}}function r3(r){let e,t,n,i,s;t=new mm({});let l=X(r[2].directories),o=[];for(let d=0;d<l.length;d+=1)o[d]=Vc(Kc(r,l,d));const a=d=>C(o[d],1,1,()=>{o[d]=null});let c=X(r[2].files),u=[];for(let d=0;d<c.length;d+=1)u[d]=qc(Wc(r,c,d));const f=d=>C(u[d],1,1,()=>{u[d]=null});return{c(){e=g("div"),M(t.$$.fragment),n=T();for(let d=0;d<o.length;d+=1)o[d].c();i=T();for(let d=0;d<u.length;d+=1)u[d].c();h(e,"class","list")},m(d,m){S(d,e,m),D(t,e,null),p(e,n);for(let b=0;b<o.length;b+=1)o[b]&&o[b].m(e,null);p(e,i);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(e,null);s=!0},p(d,m){if(m&516){l=X(d[2].directories);let b;for(b=0;b<l.length;b+=1){const A=Kc(d,l,b);o[b]?(o[b].p(A,m),w(o[b],1)):(o[b]=Vc(A),o[b].c(),w(o[b],1),o[b].m(e,i))}for(V(),b=l.length;b<o.length;b+=1)a(b);q()}if(m&389){c=X(d[2].files);let b;for(b=0;b<c.length;b+=1){const A=Wc(d,c,b);u[b]?(u[b].p(A,m),w(u[b],1)):(u[b]=qc(A),u[b].c(),w(u[b],1),u[b].m(e,null))}for(V(),b=c.length;b<u.length;b+=1)f(b);q()}},i(d){if(!s){w(t.$$.fragment,d);for(let m=0;m<l.length;m+=1)w(o[m]);for(let m=0;m<c.length;m+=1)w(u[m]);s=!0}},o(d){C(t.$$.fragment,d),o=o.filter(Boolean);for(let m=0;m<o.length;m+=1)C(o[m]);u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)C(u[m]);s=!1},d(d){d&&y(e),B(t),me(o,d),me(u,d)}}}function s3(r){let e,t;return e=new Z$({props:{data:r[2],setDir:r[9],overlay:r[0],selected:r[7],processing:r[8]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.data=n[2]),i&1&&(s.overlay=n[0]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Vc(r){let e,t;return e=new D$({props:{setDir:r[9],dir:r[16]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.dir=n[16]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function qc(r){let e,t;return e=new F$({props:{file:r[13],overlay:r[0],selected:r[7],processing:r[8]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.file=n[13]),i&1&&(s.overlay=n[0]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Yc(r){let e,t,n,i,s,l,o,a,c,u,f,d,m;return d=new Vt({props:{height:30}}),{c(){e=g("div"),t=g("div"),n=g("div"),i=g("img"),l=T(),o=g("p"),a=F("Opening "),c=F(r[4]),u=F("..."),f=T(),M(d.$$.fragment),de(i.src,s=Vn)||h(i,"src",s),h(i,"alt",""),h(o,"class","caption"),h(n,"class","processing"),h(t,"class","processing-content"),h(e,"class","processing-overlay")},m(b,A){S(b,e,A),p(e,t),p(t,n),p(n,i),p(n,l),p(n,o),p(o,a),p(o,c),p(o,u),p(n,f),D(d,n,null),m=!0},p(b,A){(!m||A&16)&&W(c,b[4])},i(b){m||(w(d.$$.fragment,b),m=!0)},o(b){C(d.$$.fragment,b),m=!1},d(b){b&&y(e),B(d)}}}function l3(r){let e,t,n=r[0]&&Gc(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=Gc(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function o3(r,e,t){let n,i,s,l,{overlay:o}=e,a=!1,c=pe(jn);G(r,c,_=>t(2,i=_));let u=pe("./");G(r,u,_=>t(12,n=_));let f=pe(null);G(r,f,_=>t(4,l=_));let d=pe(!1);G(r,d,_=>t(3,s=_));async function m(_){Ee(u,n=_,n),await b()}async function b(){Ee(c,i=jn,i),Ee(c,i=await Gt(n)||null,i)}function A(_){a=_,t(1,a)}return r.$$set=_=>{"overlay"in _&&t(0,o=_.overlay)},[o,a,i,s,l,c,u,f,d,m,b,A]}class a3 extends U{constructor(e){super(),z(this,e,o3,l3,P,{overlay:0})}}function c3(r="Choose File"){return{info:{name:r,author:"ArcOS Generated",version:"1"},size:{w:NaN,h:NaN},show:!0,id:`CHOOSER#${Math.floor(Math.random()*1e6)}`,content:a3}}function Tm(r){const e=K(ue);let t=null;for(let i=0;i<e.length;i++)if(e[i].id==r){t=i;break}if(t==null)return!1;const n=c3();T$(n.id,r),e[t].overlays||(e[t].overlays={}),e[t].overlays[n.id]=n,ue.set(e)}const ki=[];function u3(r,e){if(ie("keyboard: registerAppShortcuts",`Registering app shortcuts for ${r}`,oe.info),!e.events||!e.events.keyboardShortcuts||f3(r))return!1;ki.push([r,e.events.keyboardShortcuts])}function Hl(r,e){ki.push([e||"",r])}function f3(r){for(let e=0;e<ki.length;e++)if(ki[e][0]==r)return!0;return!1}const Un=pe(null);async function Em(r,e){const t=new Blob([r]);await fn(e.path,t)}async function d3(r,e){Hl([{key:"o",alt:!0,action:()=>{Tm(r.id)}},{key:"m",alt:!0,action:()=>{!r.openedFile||!r.openedFile.name.endsWith(".md")||(ze("MarkDownViewer"),fm("MarkDownViewer"))}},{key:"s",alt:!0,action:e}],"TextEditor"),r.events.close=()=>{K(Un)&&bt("MarkDownViewer")}}async function p3(r,e){return Ze({title:r,message:e,buttons:[{caption:"Close",action:()=>bt("TextEditor")}]},"TextEditor")}function m3(r){ie("ts/bugrep.ts: tryParse","content");try{return JSON.parse(r)}catch{return!1}}function h3(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b;return{c(){e=g("div"),t=g("button"),t.textContent="folder_open",n=T(),i=g("button"),s=F("save"),o=T(),a=g("div"),c=g("button"),u=g("img"),h(t,"class","material-icons-round open"),h(i,"class","material-icons-round save"),i.disabled=l=!r[0].openedFile,de(u.src,f=zl)||h(u,"src",f),h(u,"alt","Markdown Viewer"),h(c,"title","Open Markdown Viewer"),c.disabled=d=!r[0].openedFile||!r[0].openedFile.name.endsWith(".md"),h(c,"class","markdown-open"),h(a,"class","right"),h(e,"class","actions")},m(A,_){S(A,e,_),p(e,t),p(e,n),p(e,i),p(i,s),p(e,o),p(e,a),p(a,c),p(c,u),m||(b=[N(t,"click",r[2]),N(i,"click",function(){ct(r[1])&&r[1].apply(this,arguments)}),N(c,"click",r[3])],m=!0)},p(A,[_]){r=A,_&1&&l!==(l=!r[0].openedFile)&&(i.disabled=l),_&1&&d!==(d=!r[0].openedFile||!r[0].openedFile.name.endsWith(".md"))&&(c.disabled=d)},i:O,o:O,d(A){A&&y(e),m=!1,ke(b)}}}function g3(r,e,t){let{app:n}=e,{saveFile:i}=e;const s=()=>Tm(n.id),l=()=>ze("MarkDownViewer");return r.$$set=o=>{"app"in o&&t(0,n=o.app),"saveFile"in o&&t(1,i=o.saveFile)},[n,i,s,l]}let A3=class extends U{constructor(e){super(),z(this,e,g3,h3,P,{app:0,saveFile:1})}};function b3(r){let e,t,n,i,s=mt(r[0].length)+"",l,o,a,c=r[1].openedFile.name+"",u,f,d,m=r[1].openedFile.mime.split(";")[0]+"",b;return{c(){e=g("div"),t=g("div"),n=g("div"),i=F("Size: "),l=F(s),o=T(),a=g("div"),u=F(c),f=T(),d=g("div"),b=F(m),h(n,"class","section"),h(a,"class","section"),h(d,"class","section"),h(t,"class","right"),h(e,"class","bottom")},m(A,_){S(A,e,_),p(e,t),p(t,n),p(n,i),p(n,l),p(t,o),p(t,a),p(a,u),p(t,f),p(t,d),p(d,b)},p(A,[_]){_&1&&s!==(s=mt(A[0].length)+"")&&W(l,s),_&2&&c!==(c=A[1].openedFile.name+"")&&W(u,c),_&2&&m!==(m=A[1].openedFile.mime.split(";")[0]+"")&&W(b,m)},i:O,o:O,d(A){A&&y(e)}}}function _3(r,e,t){let{fileContents:n}=e,{app:i}=e;return r.$$set=s=>{"fileContents"in s&&t(0,n=s.fileContents),"app"in s&&t(1,i=s.app)},[n,i]}let w3=class extends U{constructor(e){super(),z(this,e,_3,b3,P,{fileContents:0,app:1})}};const Im=""+new URL("save-13107e70.svg",import.meta.url).href;function Jc(r){let e,t,n,i,s,l,o,a=r[1].openedFile.name+"",c,u,f,d,m;return d=new Vt({props:{height:24}}),{c(){e=g("div"),t=g("div"),n=g("img"),s=T(),l=g("p"),o=F("Saving "),c=F(a),u=F("..."),f=T(),M(d.$$.fragment),de(n.src,i=Im)||h(n,"src",i),h(n,"alt","Saving"),h(l,"class","caption"),h(t,"class","saving-content"),h(e,"class","saving-wrapper")},m(b,A){S(b,e,A),p(e,t),p(t,n),p(t,s),p(t,l),p(l,o),p(l,c),p(l,u),p(t,f),D(d,t,null),m=!0},p(b,A){(!m||A&2)&&a!==(a=b[1].openedFile.name+"")&&W(c,a)},i(b){m||(w(d.$$.fragment,b),m=!0)},o(b){C(d.$$.fragment,b),m=!1},d(b){b&&y(e),B(d)}}}function v3(r){let e,t,n=r[0]&&r[1].openedFile&&Jc(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]&&i[1].openedFile?n?(n.p(i,s),s&3&&w(n,1)):(n=Jc(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function k3(r,e,t){let{saving:n}=e,{app:i}=e;return r.$$set=s=>{"saving"in s&&t(0,n=s.saving),"app"in s&&t(1,i=s.app)},[n,i]}class y3 extends U{constructor(e){super(),z(this,e,k3,v3,P,{saving:0,app:1})}}function S3(r){let e,t,n;return{c(){e=g("textarea"),h(e,"spellcheck",!1)},m(i,s){S(i,e,s),he(e,r[0]),t||(n=[N(e,"input",r[2]),N(e,"change",function(){ct(r[1])&&r[1].apply(this,arguments)}),N(e,"input",function(){ct(r[1])&&r[1].apply(this,arguments)}),N(e,"keydown",function(){ct(r[1])&&r[1].apply(this,arguments)})],t=!0)},p(i,[s]){r=i,s&1&&he(e,r[0])},i:O,o:O,d(i){i&&y(e),t=!1,ke(n)}}}function $3(r,e,t){let{onchange:n}=e,{fileContents:i}=e;function s(){i=this.value,t(0,i)}return r.$$set=l=>{"onchange"in l&&t(1,n=l.onchange),"fileContents"in l&&t(0,i=l.fileContents)},[i,n,s]}class C3 extends U{constructor(e){super(),z(this,e,$3,S3,P,{onchange:1,fileContents:0})}}function Zc(r){let e,t,n,i,s;function l(a){r[6](a)}let o={onchange:r[5]};return r[3]!==void 0&&(o.fileContents=r[3]),e=new C3({props:o}),we.push(()=>Ce(e,"fileContents",l)),i=new w3({props:{fileContents:r[3],app:r[0]}}),{c(){M(e.$$.fragment),n=T(),M(i.$$.fragment)},m(a,c){D(e,a,c),S(a,n,c),D(i,a,c),s=!0},p(a,c){const u={};!t&&c&8&&(t=!0,u.fileContents=a[3],$e(()=>t=!1)),e.$set(u);const f={};c&8&&(f.fileContents=a[3]),c&1&&(f.app=a[0]),i.$set(f)},i(a){s||(w(e.$$.fragment,a),w(i.$$.fragment,a),s=!0)},o(a){C(e.$$.fragment,a),C(i.$$.fragment,a),s=!1},d(a){a&&y(n),B(e,a),B(i,a)}}}function T3(r){let e,t,n,i,s,l,o;e=new A3({props:{app:r[0],saveFile:r[4]}});let a=r[0].openedFile&&!r[1]&&Zc(r);function c(f){r[7](f)}let u={saving:r[2]};return r[0]!==void 0&&(u.app=r[0]),s=new y3({props:u}),we.push(()=>Ce(s,"app",c)),{c(){M(e.$$.fragment),t=T(),n=g("div"),a&&a.c(),i=T(),M(s.$$.fragment),h(n,"class","content"),j(n,"nofile",!r[0].openedFile)},m(f,d){D(e,f,d),S(f,t,d),S(f,n,d),a&&a.m(n,null),S(f,i,d),D(s,f,d),o=!0},p(f,[d]){const m={};d&1&&(m.app=f[0]),e.$set(m),f[0].openedFile&&!f[1]?a?(a.p(f,d),d&3&&w(a,1)):(a=Zc(f),a.c(),w(a,1),a.m(n,null)):a&&(V(),C(a,1,1,()=>{a=null}),q()),(!o||d&1)&&j(n,"nofile",!f[0].openedFile);const b={};d&4&&(b.saving=f[2]),!l&&d&1&&(l=!0,b.app=f[0],$e(()=>l=!1)),s.$set(b)},i(f){o||(w(e.$$.fragment,f),w(a),w(s.$$.fragment,f),o=!0)},o(f){C(e.$$.fragment,f),C(a),C(s.$$.fragment,f),o=!1},d(f){f&&(y(t),y(n),y(i)),B(e,f),a&&a.d(),B(s,f)}}}function E3(r,e,t){let n;G(r,Un,m=>t(9,n=m));let{app:i}=e,s=!1,l=!1,o="";ve(()=>{t(0,i.events={},i),t(0,i.events.openFile=m=>{if(t(1,s=!1),!m.openedFile)return t(3,o="");const b=new TextDecoder().decode(m.openedFile.data);t(3,o=b),m.openedFile.path,Un.set(o);const A=m3(o);A&&A.error&&A.valid==!1&&(t(1,s=!0),p3(A.error.title,A.error.message))},i),t(0,i.events.open=u,i),d3(i,a)});async function a(){if(!i.openedFile.path){Xe("saveNewFile","TextEditor");return}t(2,l=!0),await Em(o,i.openedFile),t(2,l=!1)}async function c(){n!=o&&Un.set(o)}async function u(){i.openedFile||t(0,i.openedFile={name:"Untitled",path:"",data:new ArrayBuffer(0),mime:"text/plain"},i)}function f(m){o=m,t(3,o)}function d(m){i=m,t(0,i)}return r.$$set=m=>{"app"in m&&t(0,i=m.app)},[i,s,l,o,a,c,f,d]}class I3 extends U{constructor(e){super(),z(this,e,E3,T3,P,{app:0})}}function tr(r,e){const t=K(ue);for(let n=0;n<t.length;n++)t[n].id==e&&(Xc[e]||(Xc[e]=`${t[n].info.titleSuffix}`),t[n].info.titleSuffix=r);ue.set(t)}const Xc={},O3={info:{name:"Image Viewer",description:"Display images from the ArcAPI",builtin:!0,version:"2.0.1",author:"Izaak Kuipers",hidden:!0,icon:y$,appGroup:"entertainment"},size:{w:500,h:400},pos:{x:30,y:40},minSize:{w:500,h:400},maxSize:{w:1e3,h:700},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:C$,glass:!0,fileMimes:["image/png","image/jpeg","image/svg+xml","image/vnd.microsoft.icon","image/bmp","image/jpeg","image/webp","image/gif"],events:{openFile(r){r.openedFile&&tr(` - ${r.openedFile.name}`,r.id)}},contextMenu:{output:[{caption:"Set as wallpaper",icon:"image",action(r,e,t){const n=K(te);n.sh.desktop.wallpaper=`@local:${btoa(e.path)}`,te.set(n)}}]}},Om=""+new URL("lightsoff-07cdd0f7.svg",import.meta.url).href;function R3(r){let e,t,n,i,s,l,o=r[0]+1+"",a,c,u,f,d,m=r[1]==1?"":"s",b,A,_;return{c(){e=g("div"),t=g("button"),t.textContent="Reset",n=T(),i=g("div"),s=g("div"),l=F("Level "),a=F(o),c=T(),u=g("div"),f=F(r[1]),d=F(" Click"),b=F(m),h(t,"class","reset-game"),h(s,"class","stat svelte-1gm5381"),h(u,"class","stat svelte-1gm5381"),h(i,"class","right svelte-1gm5381"),h(e,"class","statistics svelte-1gm5381")},m(v,k){S(v,e,k),p(e,t),p(e,n),p(e,i),p(i,s),p(s,l),p(s,a),p(i,c),p(i,u),p(u,f),p(u,d),p(u,b),A||(_=N(t,"click",r[2]),A=!0)},p(v,[k]){k&1&&o!==(o=v[0]+1+"")&&W(a,o),k&2&&W(f,v[1]),k&2&&m!==(m=v[1]==1?"":"s")&&W(b,m)},i:O,o:O,d(v){v&&y(e),A=!1,_()}}}function L3(r,e,t){let n;G(r,te,c=>t(5,n=c));let{app:i}=e,{runtime:s}=e,l=0,o=0;ve(()=>{s.LEVEL.subscribe(c=>t(0,l=c)),s.Clicks.subscribe(c=>t(1,o=c))});function a(){Ee(te,n.appdata[i.id]=null,n),s.loadData()}return r.$$set=c=>{"app"in c&&t(3,i=c.app),"runtime"in c&&t(4,s=c.runtime)},[l,o,a,i,s]}class D3 extends U{constructor(e){super(),z(this,e,L3,R3,P,{app:3,runtime:4})}}function B3(r){let e,t,n,i;return{c(){e=g("button"),h(e,"id",t="pos-"+r[1]+"x"+r[2]),h(e,"class","light svelte-11uaj66"),j(e,"lit",r[0])},m(s,l){S(s,e,l),n||(i=N(e,"click",r[3]),n=!0)},p(s,[l]){l&6&&t!==(t="pos-"+s[1]+"x"+s[2])&&h(e,"id",t),l&1&&j(e,"lit",s[0])},i:O,o:O,d(s){s&&y(e),n=!1,i()}}}function M3(r,e,t){let{light:n=!1}=e,{x:i}=e,{y:s}=e,{runtime:l}=e;function o(){l.ToggleLight(i,s)}return r.$$set=a=>{"light"in a&&t(0,n=a.light),"x"in a&&t(1,i=a.x),"y"in a&&t(2,s=a.y),"runtime"in a&&t(4,l=a.runtime)},[n,i,s,o,l]}class F3 extends U{constructor(e){super(),z(this,e,M3,B3,P,{light:0,x:1,y:2,runtime:4})}}function xc(r,e,t){const n=r.slice();return n[3]=e[t],n[5]=t,n}function eu(r,e,t){const n=r.slice();return n[6]=e[t],n[8]=t,n}function tu(r){let e,t;return e=new F3({props:{light:r[6],x:r[8],y:r[5],runtime:r[1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.light=n[6]),i&2&&(s.runtime=n[1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function nu(r){let e,t,n=X(r[3]),i=[];for(let l=0;l<n.length;l+=1)i[l]=tu(eu(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=le()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&6){n=X(l[3]);let a;for(a=0;a<n.length;a+=1){const c=eu(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=tu(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function P3(r){let e,t,n,i;e=new D3({props:{app:r[0],runtime:r[1]}});let s=X(r[2]),l=[];for(let a=0;a<s.length;a+=1)l[a]=nu(xc(r,s,a));const o=a=>C(l[a],1,1,()=>{l[a]=null});return{c(){M(e.$$.fragment),t=T(),n=g("div");for(let a=0;a<l.length;a+=1)l[a].c();h(n,"class","grid svelte-svdnfe")},m(a,c){D(e,a,c),S(a,t,c),S(a,n,c);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(n,null);i=!0},p(a,[c]){const u={};if(c&1&&(u.app=a[0]),c&2&&(u.runtime=a[1]),e.$set(u),c&6){s=X(a[2]);let f;for(f=0;f<s.length;f+=1){const d=xc(a,s,f);l[f]?(l[f].p(d,c),w(l[f],1)):(l[f]=nu(d),l[f].c(),w(l[f],1),l[f].m(n,null))}for(V(),f=s.length;f<l.length;f+=1)o(f);q()}},i(a){if(!i){w(e.$$.fragment,a);for(let c=0;c<s.length;c+=1)w(l[c]);i=!0}},o(a){C(e.$$.fragment,a),l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)C(l[c]);i=!1},d(a){a&&(y(t),y(n)),B(e,a),me(l,a)}}}function z3(r,e,t){let{app:n}=e,{runtime:i}=e,s=[];return ve(()=>{i.Grid.subscribe(l=>t(2,s=l))}),r.$$set=l=>{"app"in l&&t(0,n=l.app),"runtime"in l&&t(1,i=l.runtime)},[n,i,s]}let U3=class extends U{constructor(e){super(),z(this,e,z3,P3,P,{app:0,runtime:1})}};class N3{constructor(e){ge(this,"runtime");ge(this,"_store",[[[!1,!1,!1,!1,!0],[!1,!1,!1,!0,!0],[!1,!1,!1,!1,!0],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1]],[[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!0,!1,!1,!1,!0],[!0,!0,!1,!0,!0]],[[!0,!0,!1,!0,!0],[!1,!0,!0,!0,!1],[!1,!0,!0,!0,!1],[!1,!1,!0,!1,!1],[!1,!1,!1,!1,!1]],[[!1,!0,!1,!1,!1],[!0,!0,!1,!1,!1],[!1,!0,!0,!0,!1],[!0,!0,!1,!1,!1],[!1,!0,!1,!1,!1]],[[!0,!1,!1,!1,!0],[!1,!0,!1,!0,!1],[!1,!0,!1,!0,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1]],[[!0,!0,!0,!1,!1],[!0,!0,!0,!1,!1],[!0,!1,!0,!0,!1],[!0,!0,!0,!1,!1],[!0,!0,!0,!1,!1]],[[!0,!0,!1,!1,!1],[!1,!1,!0,!0,!1],[!1,!1,!0,!1,!1],[!1,!0,!1,!0,!1],[!0,!0,!1,!0,!0]],[[!0,!1,!1,!1,!0],[!0,!1,!1,!1,!0],[!1,!0,!0,!0,!1],[!1,!1,!0,!1,!1],[!1,!1,!0,!1,!1]]]);this.runtime=e}loadLevel(e){if(e>=this._store.length)return this.runtime.finish();this._store[e]&&(this.runtime.Grid.set(JSON.parse(JSON.stringify(this._store[e]))),this.runtime.LEVEL.set(e),this.runtime.Clicks.set(0))}checkNextLevel(){return this.runtime.containsLights()||K(this.runtime.Clicks)==0?!1:(this.runtime.LEVEL.set(K(this.runtime.LEVEL)+1),K(this.runtime.LEVEL)>this._store.length?this.runtime.finish():(this.loadLevel(K(this.runtime.LEVEL)),!0))}}class j3 extends om{constructor(t){super(t);ge(this,"xModifiers",[-1,0,1]);ge(this,"yModifiers",[-1,1]);ge(this,"Grid",pe([[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1]]));ge(this,"Clicks",pe(0));ge(this,"LEVEL",pe(0));ge(this,"Levels");this.Levels=new N3(this),this.Grid.subscribe(n=>{n&&(this.Levels.checkNextLevel(),this.saveData())}),this.LEVEL.subscribe(()=>this.saveData()),this.Clicks.subscribe(()=>this.saveData()),this.loadData()}containsLights(){return this.Log("Checking lights","containsLights"),JSON.stringify(K(this.Grid)).includes("true")}finish(){this.Log("User has won! Finishing...","finish"),this.LEVEL.set(0),this.Clicks.set(0),this.Levels.loadLevel(K(this.LEVEL)),Ze({title:"You Win!",message:"You've managed to complete all 8 levels of Lights Off. The game will be reset so you can play it again in the future.",buttons:[{caption:"OK",action(){}}],image:Om},"LightsOff")}ToggleLight(t,n){this.Log(`Toggling ${t}x${n}`,"ToggleLight");const i=K(this.Grid);if(!i[n])throw new Error(`y doesn't exist ${n}`);if(typeof i[n][t]!="boolean")throw new Error(`x doesn't exist ${n} ${t}`);this.Clicks.set(K(this.Clicks)+1);for(let s=0;s<this.xModifiers.length;s++){const l=i[n][t+this.xModifiers[s]];typeof l=="boolean"&&(i[n][t+this.xModifiers[s]]=!l)}for(let s=0;s<this.yModifiers.length;s++){if(!Array.isArray(i[n+this.yModifiers[s]]))continue;const o=i[n+this.yModifiers[s]][t];typeof o=="boolean"&&(i[n+this.yModifiers[s]][t]=!o)}this.Grid.set(i)}loadData(){this.Log("Loading Data from UserData","loadData");const t=K(te).appdata[this.app.id];if(t){this.Levels.loadLevel(t.level),this.Grid.set(t.grid),this.Clicks.set(t.clicks);return}this.Levels.loadLevel(0)}saveData(){if(K(this.LEVEL)==0&&!this.containsLights())return this.Log("Not saving default state!","saveData",oe.warn);const t=K(te);t.appdata[this.app.id]={clicks:K(this.Clicks),level:K(this.LEVEL),grid:K(this.Grid)},te.set(t)}}const H3={info:{name:"Lights Off",description:"Turn off all the lights!",builtin:!0,version:"1.0.0",author:"Tim Horton, ported to ArcOS by IzKuipers",hidden:!1,icon:Om,appGroup:"entertainment"},size:{w:NaN,h:NaN},pos:{x:80,y:80},minSize:{w:NaN,h:NaN},maxSize:{w:NaN,h:NaN},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:U3,glass:!0,events:{},runtime:j3},Q3=""+new URL("logger-53b4bb5a.svg",import.meta.url).href;function W3(){const r=K(Ct);let e=[],t={};for(let n=0;n<r.length;n++){const i=r[n];e.includes(i.source)||e.push(i.source),t[i.source]=Array.prototype.concat(t[i.source]||[],[i])}return t}function Ql(){const r=[],e=K(Ct);for(let t=0;t<e.length;t++){const n=e[t],i=cp[oe[n.level]].capt,s=jt(n.timestamp||0).format("HH:mm:ss.mmm");r.push(`${s} [${i}] ${n.source}: ${n.msg}`)}return r}function K3(r){let e,t,n=r[0][1]+"",i,s,l,o,a;return{c(){e=g("button"),t=g("span"),i=F(n),h(t,"class","material-icons-round"),h(e,"class",s="filter "+oe[r[0][0]]),e.disabled=l=!r[1]||r[4],j(e,"selected",r[0][0]==r[2])},m(c,u){S(c,e,u),p(e,t),p(t,i),o||(a=N(e,"click",r[5]),o=!0)},p(c,[u]){u&1&&n!==(n=c[0][1]+"")&&W(i,n),u&1&&s!==(s="filter "+oe[c[0][0]])&&h(e,"class",s),u&18&&l!==(l=!c[1]||c[4])&&(e.disabled=l),u&5&&j(e,"selected",c[0][0]==c[2])},i:O,o:O,d(c){c&&y(e),o=!1,a()}}}function G3(r,e,t){let n;G(r,Ct,u=>t(6,n=u));let{data:i}=e,{currentSource:s}=e,{currentFilter:l}=e,{filter:o}=e,a=!1;Ct.subscribe(()=>{setTimeout(()=>{let u=0;for(let f=0;f<n.length;f++)n[f].level==i[0]&&n[f].source==s&&u++;t(4,a=!u)}),t(4,a=!1)});const c=()=>o(i[0]);return r.$$set=u=>{"data"in u&&t(0,i=u.data),"currentSource"in u&&t(1,s=u.currentSource),"currentFilter"in u&&t(2,l=u.currentFilter),"filter"in u&&t(3,o=u.filter)},[i,s,l,o,a,c]}class V3 extends U{constructor(e){super(),z(this,e,G3,K3,P,{data:0,currentSource:1,currentFilter:2,filter:3})}}function iu(r,e,t){const n=r.slice();return n[4]=e[t],n}function ru(r){let e,t;return e=new V3({props:{data:r[4],currentSource:r[2],currentFilter:r[0],filter:r[1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.currentSource=n[2]),i&1&&(s.currentFilter=n[0]),i&2&&(s.filter=n[1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function q3(r){let e,t,n=X(r[3]),i=[];for(let l=0;l<n.length;l+=1)i[l]=ru(iu(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","filters")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,[o]){if(o&15){n=X(l[3]);let a;for(a=0;a<n.length;a+=1){const c=iu(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=ru(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Y3(r,e,t){let{filter:n}=e,{currentFilter:i}=e,{currentSource:s}=e;const l=[[oe.error,"error"],[oe.warn,"warning"],[oe.info,"info"],[oe.critical,"cancel"]];return Ct.subscribe(()=>{t(0,i=null)}),r.$$set=o=>{"filter"in o&&t(1,n=o.filter),"currentFilter"in o&&t(0,i=o.currentFilter),"currentSource"in o&&t(2,s=o.currentSource)},[i,n,s,l]}class J3 extends U{constructor(e){super(),z(this,e,Y3,q3,P,{filter:1,currentFilter:0,currentSource:2})}}function Z3(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v;return{c(){e=g("div"),t=g("button"),n=g("img"),s=F(`
    Clear`),o=T(),a=g("div"),c=T(),u=g("button"),f=g("span"),f.textContent="refresh",d=F(`
    Refresh`),b=T(),A=g("button"),A.innerHTML=`<span class="material-icons-round">title</span>
    monospace`,de(n.src,i=Si)||h(n,"src",i),h(n,"alt","Clear"),h(t,"class","action"),t.disabled=l=!r[0],h(a,"class","sep"),h(f,"class","material-icons-round"),h(u,"class","action"),u.disabled=m=!r[0],h(A,"class","action"),h(e,"class","static")},m(k,$){S(k,e,$),p(e,t),p(t,n),p(t,s),p(e,o),p(e,a),p(e,c),p(e,u),p(u,f),p(u,d),p(e,b),p(e,A),_||(v=[N(t,"click",r[10]),N(u,"click",r[2]),N(A,"click",r[3])],_=!0)},p(k,[$]){$&1&&l!==(l=!k[0])&&(t.disabled=l),$&1&&m!==(m=!k[0])&&(u.disabled=m)},i:O,o:O,d(k){k&&y(e),_=!1,ke(v)}}}function X3(r,e,t){let n,i;G(r,te,_=>t(11,n=_)),G(r,Ct,_=>t(12,i=_));let{currentSource:s}=e,{currentFilter:l}=e,{logItems:o}=e,{setView:a}=e,{filter:c}=e,{appdata:u}=e,{app:f}=e;function d(_){for(let v=0;v<i.length;v++)i[v].source==_&&i.splice(v,1);t(0,s=""),t(4,o=[]),Ct.set(i)}function m(){ie("Logger: refresh","Refreshing current view",oe.warn),a(s),l&&c(l)}function b(){t(5,u.monospace=!u.monospace,u),Ee(te,n.appdata[f.id]=u,n)}const A=()=>d(s);return r.$$set=_=>{"currentSource"in _&&t(0,s=_.currentSource),"currentFilter"in _&&t(6,l=_.currentFilter),"logItems"in _&&t(4,o=_.logItems),"setView"in _&&t(7,a=_.setView),"filter"in _&&t(8,c=_.filter),"appdata"in _&&t(5,u=_.appdata),"app"in _&&t(9,f=_.app)},[s,d,m,b,o,u,l,a,c,f,A]}class x3 extends U{constructor(e){super(),z(this,e,X3,Z3,P,{currentSource:0,currentFilter:6,logItems:4,setView:7,filter:8,appdata:5,app:9})}}function eC(r){let e,t,n,i,s,l,o,a;function c(m){r[8](m)}function u(m){r[9](m)}function f(m){r[10](m)}let d={currentFilter:r[5],filter:r[6],setView:r[4],app:r[3]};return r[0]!==void 0&&(d.currentSource=r[0]),r[1]!==void 0&&(d.logItems=r[1]),r[2]!==void 0&&(d.appdata=r[2]),t=new x3({props:d}),we.push(()=>Ce(t,"currentSource",c)),we.push(()=>Ce(t,"logItems",u)),we.push(()=>Ce(t,"appdata",f)),o=new J3({props:{currentFilter:r[5],currentSource:r[0],filter:r[6]}}),{c(){e=g("div"),M(t.$$.fragment),l=T(),M(o.$$.fragment),h(e,"class","actions")},m(m,b){S(m,e,b),D(t,e,null),p(e,l),D(o,e,null),a=!0},p(m,[b]){const A={};b&32&&(A.currentFilter=m[5]),b&16&&(A.setView=m[4]),b&8&&(A.app=m[3]),!n&&b&1&&(n=!0,A.currentSource=m[0],$e(()=>n=!1)),!i&&b&2&&(i=!0,A.logItems=m[1],$e(()=>i=!1)),!s&&b&4&&(s=!0,A.appdata=m[2],$e(()=>s=!1)),t.$set(A);const _={};b&32&&(_.currentFilter=m[5]),b&1&&(_.currentSource=m[0]),o.$set(_)},i(m){a||(w(t.$$.fragment,m),w(o.$$.fragment,m),a=!0)},o(m){C(t.$$.fragment,m),C(o.$$.fragment,m),a=!1},d(m){m&&y(e),B(t),B(o)}}}function tC(r,e,t){let{app:n}=e,{currentSource:i}=e,{logItems:s}=e,{setView:l}=e,{updating:o}=e,{appdata:a}=e,c=[],u;Ct.subscribe(A=>{t(7,o=!0),c=[],t(5,u=null);const _=Object.entries(A);for(let v=0;v<_.length;v++)_[v][0]==i&&c.push(_[v][1]);setTimeout(()=>{t(7,o=!1)})});function f(A){if(u==A){const v=`${i}`;l(null),setTimeout(()=>{l(v)});return}c.length||(c=s);const _=[];for(let v=0;v<c.length;v++)A==c[v].level&&_.push(c[v]);t(1,s=_),t(5,u=A)}function d(A){i=A,t(0,i)}function m(A){s=A,t(1,s)}function b(A){a=A,t(2,a)}return r.$$set=A=>{"app"in A&&t(3,n=A.app),"currentSource"in A&&t(0,i=A.currentSource),"logItems"in A&&t(1,s=A.logItems),"setView"in A&&t(4,l=A.setView),"updating"in A&&t(7,o=A.updating),"appdata"in A&&t(2,a=A.appdata)},[i,s,a,n,l,u,f,o,d,m,b]}let nC=class extends U{constructor(e){super(),z(this,e,tC,eC,P,{app:3,currentSource:0,logItems:1,setView:4,updating:7,appdata:2})}};function iC(r){let e,t,n=r[1][r[0].level]+"",i,s,l,o,a=jt(r[0].timestamp).format("HH:mm:ss.SSS")+"",c,u,f,d=r[0].msg+"",m;return{c(){e=g("div"),t=g("div"),i=F(n),l=T(),o=g("div"),c=F(a),u=T(),f=g("div"),m=F(d),h(t,"class",s="level material-icons-round "+oe[r[0].level]),h(o,"class","timestamp"),h(f,"class","msg"),h(e,"class","logitem")},m(b,A){S(b,e,A),p(e,t),p(t,i),p(e,l),p(e,o),p(o,c),p(e,u),p(e,f),p(f,m)},p(b,[A]){A&1&&n!==(n=b[1][b[0].level]+"")&&W(i,n),A&1&&s!==(s="level material-icons-round "+oe[b[0].level])&&h(t,"class",s),A&1&&a!==(a=jt(b[0].timestamp).format("HH:mm:ss.SSS")+"")&&W(c,a),A&1&&d!==(d=b[0].msg+"")&&W(m,d)},i:O,o:O,d(b){b&&y(e)}}}function rC(r,e,t){let{logItem:n}=e;const i={0:"info",1:"warning",2:"error",3:"cancel"};return r.$$set=s=>{"logItem"in s&&t(0,n=s.logItem)},[n,i]}class sC extends U{constructor(e){super(),z(this,e,rC,iC,P,{logItem:0})}}function su(r,e,t){const n=r.slice();return n[4]=e[t],n}function lu(r){let e,t,n=X(r[1]),i=[];for(let l=0;l<n.length;l+=1)i[l]=ou(su(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=le()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&2){n=X(l[1]);let a;for(a=0;a<n.length;a+=1){const c=su(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=ou(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function ou(r){let e,t;return e=new sC({props:{logItem:r[4]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.logItem=n[4]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function au(r){let e,t,n,i,s,l;return{c(){e=g("div"),t=g("img"),s=T(),l=g("p"),l.textContent="No items found.",de(t.src,n=$t(r[0]))||h(t,"src",n),h(t,"alt",i=r[0].info.name),h(e,"class","noitems")},m(o,a){S(o,e,a),p(e,t),p(e,s),p(e,l)},p(o,a){a&1&&!de(t.src,n=$t(o[0]))&&h(t,"src",n),a&1&&i!==(i=o[0].info.name)&&h(t,"alt",i)},d(o){o&&y(e)}}}function lC(r){let e,t,n,i=!r[2]&&lu(r),s=!r[1].length&&au(r);return{c(){e=g("div"),i&&i.c(),t=T(),s&&s.c(),h(e,"class","items"),j(e,"cflex",!r[1].length),j(e,"monospace",!!r[3].monospace)},m(l,o){S(l,e,o),i&&i.m(e,null),p(e,t),s&&s.m(e,null),n=!0},p(l,[o]){l[2]?i&&(V(),C(i,1,1,()=>{i=null}),q()):i?(i.p(l,o),o&4&&w(i,1)):(i=lu(l),i.c(),w(i,1),i.m(e,t)),l[1].length?s&&(s.d(1),s=null):s?s.p(l,o):(s=au(l),s.c(),s.m(e,null)),(!n||o&2)&&j(e,"cflex",!l[1].length),(!n||o&8)&&j(e,"monospace",!!l[3].monospace)},i(l){n||(w(i),n=!0)},o(l){C(i),n=!1},d(l){l&&y(e),i&&i.d(),s&&s.d()}}}function oC(r,e,t){let{app:n}=e,{logItems:i}=e,{updating:s}=e,{appdata:l}=e;return r.$$set=o=>{"app"in o&&t(0,n=o.app),"logItems"in o&&t(1,i=o.logItems),"updating"in o&&t(2,s=o.updating),"appdata"in o&&t(3,l=o.appdata)},[n,i,s,l]}class aC extends U{constructor(e){super(),z(this,e,oC,lC,P,{app:0,logItems:1,updating:2,appdata:3})}}function cC(r){let e,t,n,i,s,l,o,a,c,u,f,d,m;function b(H){r[6](H)}function A(H){r[7](H)}function _(H){r[8](H)}function v(H){r[9](H)}function k(H){r[10](H)}function $(H){r[11](H)}let E={};r[1]!==void 0&&(E.currentSource=r[1]),r[2]!==void 0&&(E.logItems=r[2]),r[3]!==void 0&&(E.setView=r[3]),r[5]!==void 0&&(E.updating=r[5]),r[4]!==void 0&&(E.appdata=r[4]),r[0]!==void 0&&(E.app=r[0]),t=new nC({props:E}),we.push(()=>Ce(t,"currentSource",b)),we.push(()=>Ce(t,"logItems",A)),we.push(()=>Ce(t,"setView",_)),we.push(()=>Ce(t,"updating",v)),we.push(()=>Ce(t,"appdata",k)),we.push(()=>Ce(t,"app",$));function I(H){r[12](H)}function R(H){r[13](H)}let L={app:r[0],appdata:r[4]};return r[2]!==void 0&&(L.logItems=r[2]),r[5]!==void 0&&(L.updating=r[5]),u=new aC({props:L}),we.push(()=>Ce(u,"logItems",I)),we.push(()=>Ce(u,"updating",R)),{c(){e=g("div"),M(t.$$.fragment),c=T(),M(u.$$.fragment),h(e,"class","content")},m(H,Q){S(H,e,Q),D(t,e,null),p(e,c),D(u,e,null),m=!0},p(H,[Q]){const x={};!n&&Q&2&&(n=!0,x.currentSource=H[1],$e(()=>n=!1)),!i&&Q&4&&(i=!0,x.logItems=H[2],$e(()=>i=!1)),!s&&Q&8&&(s=!0,x.setView=H[3],$e(()=>s=!1)),!l&&Q&32&&(l=!0,x.updating=H[5],$e(()=>l=!1)),!o&&Q&16&&(o=!0,x.appdata=H[4],$e(()=>o=!1)),!a&&Q&1&&(a=!0,x.app=H[0],$e(()=>a=!1)),t.$set(x);const J={};Q&1&&(J.app=H[0]),Q&16&&(J.appdata=H[4]),!f&&Q&4&&(f=!0,J.logItems=H[2],$e(()=>f=!1)),!d&&Q&32&&(d=!0,J.updating=H[5],$e(()=>d=!1)),u.$set(J)},i(H){m||(w(t.$$.fragment,H),w(u.$$.fragment,H),m=!0)},o(H){C(t.$$.fragment,H),C(u.$$.fragment,H),m=!1},d(H){H&&y(e),B(t),B(u)}}}function uC(r,e,t){let{app:n}=e,{currentSource:i}=e,{logItems:s}=e,{setView:l}=e,{appdata:o}=e,a=!1;function c(v){i=v,t(1,i)}function u(v){s=v,t(2,s)}function f(v){l=v,t(3,l)}function d(v){a=v,t(5,a)}function m(v){o=v,t(4,o)}function b(v){n=v,t(0,n)}function A(v){s=v,t(2,s)}function _(v){a=v,t(5,a)}return r.$$set=v=>{"app"in v&&t(0,n=v.app),"currentSource"in v&&t(1,i=v.currentSource),"logItems"in v&&t(2,s=v.logItems),"setView"in v&&t(3,l=v.setView),"appdata"in v&&t(4,o=v.appdata)},[n,i,s,l,o,a,c,u,f,d,m,b,A,_]}let fC=class extends U{constructor(e){super(),z(this,e,uC,cC,P,{app:0,currentSource:1,logItems:2,setView:3,appdata:4})}};function dC(r){let e,t,n=r[0][0]+"",i,s,l,o=r[0][1].length+"",a,c,u,f;return{c(){e=g("button"),t=g("div"),i=F(n),s=T(),l=g("div"),a=F(o),c=F(" items"),h(t,"class","name"),h(l,"class","items"),j(e,"active",r[0][0]==r[1])},m(d,m){S(d,e,m),p(e,t),p(t,i),p(e,s),p(e,l),p(l,a),p(l,c),u||(f=N(e,"click",r[2]),u=!0)},p(d,[m]){m&1&&n!==(n=d[0][0]+"")&&W(i,n),m&1&&o!==(o=d[0][1].length+"")&&W(a,o),m&3&&j(e,"active",d[0][0]==d[1])},i:O,o:O,d(d){d&&y(e),u=!1,f()}}}function pC(r,e,t){let{category:n}=e,{setView:i}=e,{currentSource:s}=e;function l(){i&&i(n[0])}return r.$$set=o=>{"category"in o&&t(0,n=o.category),"setView"in o&&t(3,i=o.setView),"currentSource"in o&&t(1,s=o.currentSource)},[n,s,l,i]}class mC extends U{constructor(e){super(),z(this,e,pC,dC,P,{category:0,setView:3,currentSource:1})}}function cu(r,e,t){const n=r.slice();return n[6]=e[t],n[7]=e,n[8]=t,n}function uu(r){let e,t,n,i,s;function l(u){r[3](u)}function o(u){r[4](u,r[6],r[7],r[8])}function a(u){r[5](u)}let c={};return r[1]!==void 0&&(c.setView=r[1]),r[6]!==void 0&&(c.category=r[6]),r[2]!==void 0&&(c.currentSource=r[2]),e=new mC({props:c}),we.push(()=>Ce(e,"setView",l)),we.push(()=>Ce(e,"category",o)),we.push(()=>Ce(e,"currentSource",a)),{c(){M(e.$$.fragment)},m(u,f){D(e,u,f),s=!0},p(u,f){r=u;const d={};!t&&f&2&&(t=!0,d.setView=r[1],$e(()=>t=!1)),!n&&f&1&&(n=!0,d.category=r[6],$e(()=>n=!1)),!i&&f&4&&(i=!0,d.currentSource=r[2],$e(()=>i=!1)),e.$set(d)},i(u){s||(w(e.$$.fragment,u),s=!0)},o(u){C(e.$$.fragment,u),s=!1},d(u){B(e,u)}}}function hC(r){let e,t,n=X(r[0]),i=[];for(let l=0;l<n.length;l+=1)i[l]=uu(cu(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","sidebar")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,[o]){if(o&7){n=X(l[0]);let a;for(a=0;a<n.length;a+=1){const c=cu(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=uu(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function gC(r,e,t){let{logs:n}=e,{setView:i}=e,{currentSource:s}=e;function l(c){i=c,t(1,i)}function o(c,u,f,d){f[d]=c,t(0,n)}function a(c){s=c,t(2,s)}return r.$$set=c=>{"logs"in c&&t(0,n=c.logs),"setView"in c&&t(1,i=c.setView),"currentSource"in c&&t(2,s=c.currentSource)},[n,i,s,l,o,a]}let AC=class extends U{constructor(e){super(),z(this,e,gC,hC,P,{logs:0,setView:1,currentSource:2})}};function fu(r){let e,t,n,i,s,l,o,a,c;function u(v){r[6](v)}function f(v){r[7](v)}let d={setView:r[5]};r[4]!==void 0&&(d.currentSource=r[4]),r[2]!==void 0&&(d.logs=r[2]),e=new AC({props:d}),we.push(()=>Ce(e,"currentSource",u)),we.push(()=>Ce(e,"logs",f));function m(v){r[8](v)}function b(v){r[9](v)}function A(v){r[10](v)}let _={setView:r[5],app:r[1]};return r[4]!==void 0&&(_.currentSource=r[4]),r[3]!==void 0&&(_.logItems=r[3]),r[0]!==void 0&&(_.appdata=r[0]),s=new fC({props:_}),we.push(()=>Ce(s,"currentSource",m)),we.push(()=>Ce(s,"logItems",b)),we.push(()=>Ce(s,"appdata",A)),{c(){M(e.$$.fragment),i=T(),M(s.$$.fragment)},m(v,k){D(e,v,k),S(v,i,k),D(s,v,k),c=!0},p(v,k){const $={};!t&&k&16&&(t=!0,$.currentSource=v[4],$e(()=>t=!1)),!n&&k&4&&(n=!0,$.logs=v[2],$e(()=>n=!1)),e.$set($);const E={};k&2&&(E.app=v[1]),!l&&k&16&&(l=!0,E.currentSource=v[4],$e(()=>l=!1)),!o&&k&8&&(o=!0,E.logItems=v[3],$e(()=>o=!1)),!a&&k&1&&(a=!0,E.appdata=v[0],$e(()=>a=!1)),s.$set(E)},i(v){c||(w(e.$$.fragment,v),w(s.$$.fragment,v),c=!0)},o(v){C(e.$$.fragment,v),C(s.$$.fragment,v),c=!1},d(v){v&&y(i),B(e,v),B(s,v)}}}function bC(r){let e,t,n=r[1]&&fu(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[1]?n?(n.p(i,s),s&2&&w(n,1)):(n=fu(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function _C(r,e,t){let n;G(r,Ct,A=>t(11,n=A));let i=[],s=[],l="",{app:o}=e,{appdata:a}=e;function c(A){ie("apps/Logger: setView",`Setting source to "${A}"`);for(let _=0;_<i.length;_++)i[_][0]==A&&t(3,s=i[_][1]);s.length||ie("apps/Logger: setView",`Source "${A}" contains no items or could not be found.`,oe.info),t(4,l=A)}Ct.subscribe(()=>{t(2,i=Object.entries(W3())),tr(` - ${n.length} items`,o.id)});function u(A){l=A,t(4,l)}function f(A){i=A,t(2,i)}function d(A){l=A,t(4,l)}function m(A){s=A,t(3,s)}function b(A){a=A,t(0,a)}return r.$$set=A=>{"app"in A&&t(1,o=A.app),"appdata"in A&&t(0,a=A.appdata)},[a,o,i,s,l,c,u,f,d,m,b]}class wC extends U{constructor(e){super(),z(this,e,_C,bC,P,{app:1,appdata:0})}}const vC={info:{name:"System Logger",description:"All the ArcOS logs in one place",builtin:!0,version:"1.0.0",author:"ArcOS Team",icon:Q3,appGroup:"systemTools"},size:{w:900,h:600},pos:{x:30,y:40},minSize:{w:900,h:600},maxSize:{w:901,h:601},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:wC,glass:!0};function kC(r){let e;return{c(){e=g("div"),e.innerHTML=`<div class="content"><img src="${vn}" alt="Error"/> <h3>Render failed</h3> <p>The markdown content could not be parsed. The opened file may be empty.</p></div>`,h(e,"class","unreadable")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}class yC extends U{constructor(e){super(),z(this,e,null,kC,P,{})}}function du(r){let e,t,n,i;const s=[$C,SC],l=[];function o(a,c){return a[1]?0:1}return e=o(r),t=l[e]=s[e](r),{c(){t.c(),n=le()},m(a,c){l[e].m(a,c),S(a,n,c),i=!0},p(a,c){let u=e;e=o(a),e===u?l[e].p(a,c):(V(),C(l[u],1,1,()=>{l[u]=null}),q(),t=l[e],t?t.p(a,c):(t=l[e]=s[e](a),t.c()),w(t,1),t.m(n.parentNode,n))},i(a){i||(w(t),i=!0)},o(a){C(t),i=!1},d(a){a&&y(n),l[e].d(a)}}}function SC(r){let e,t;return e=new yC({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function $C(r){let e,t,n;return t=new ms({props:{source:r[1]}}),{c(){e=g("div"),M(t.$$.fragment),h(e,"class","markdownrenderer")},m(i,s){S(i,e,s),D(t,e,null),n=!0},p(i,s){const l={};s&2&&(l.source=i[1]),t.$set(l)},i(i){n||(w(t.$$.fragment,i),n=!0)},o(i){C(t.$$.fragment,i),n=!1},d(i){i&&y(e),B(t)}}}function CC(r){let e,t,n=r[0]&&du(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=du(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function TC(r,e,t){let n;G(r,Un,o=>t(3,n=o));let{app:i}=e,s="",l="";return ue.subscribe(()=>{if(Ue("TextEditor"),!i)return;const o=i.openedFile;!o||!o.mime.startsWith("text/")||(s=new TextDecoder().decode(o.data),t(1,l=i.openedFile?s:n))}),Un.subscribe(()=>{fm("MarkDownViewer"),tr("","MarkDownViewer"),t(1,l=i.openedFile?s:n)}),r.$$set=o=>{"app"in o&&t(0,i=o.app)},[i,l]}let EC=class extends U{constructor(e){super(),z(this,e,TC,CC,P,{app:0})}};const IC={info:{name:"Markdown Viewer",description:"View .MD files",author:"ArcOS Team",version:"1.0.0",icon:zl,builtin:!0,hidden:!0},size:{w:700,h:550},pos:{x:30,y:40},minSize:{w:400,h:300},maxSize:{w:1e3,h:800},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:EC,glass:!1,fileMimes:["text/plain","text/markdown"],events:{openFile(r){r.openedFile&&tr(` - ${r.openedFile.path}`,r.id)}}},pu=""+new URL("mediaplayer-8f0c4cdf.svg",import.meta.url).href;function mu(r){let e,t,n=!1,i,s,l,o,a;function c(){cancelAnimationFrame(i),e.paused||(i=Th(c),n=!0),r[13].call(e)}let u=r[1]&&hu(r);return{c(){e=g("audio"),s=T(),u&&u.c(),l=le(),de(e.src,t=r[5])||h(e,"src",t),e.controls=!0,e.autoplay=!0,r[3]===void 0&&In(()=>r[12].call(e))},m(f,d){S(f,e,d),r[11](e),S(f,s,d),u&&u.m(f,d),S(f,l,d),o||(a=[N(e,"durationchange",r[12]),N(e,"timeupdate",c),N(e,"timeupdate",r[9])],o=!0)},p(f,d){d&32&&!de(e.src,t=f[5])&&h(e,"src",t),!n&&d&16&&!isNaN(f[4])&&(e.currentTime=f[4]),n=!1,f[1]?u?u.p(f,d):(u=hu(f),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null)},d(f){f&&(y(e),y(s),y(l)),r[11](null),u&&u.d(f),o=!1,ke(a)}}}function hu(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v,k,$=wr(r[4])+"",E,I,R=wr(r[3])+"",L,H,Q,x,J,Ae,ce,se,ne,Z,re=r[0].openedFile.path+"",Y,ae,fe,ye;return{c(){e=g("div"),t=g("div"),n=g("div"),i=g("button"),s=F("play_arrow"),o=T(),a=g("button"),c=F("pause"),u=T(),f=g("div"),d=g("button"),d.textContent="fast_rewind",m=T(),b=g("button"),b.textContent="fast_forward",A=T(),_=g("button"),_.textContent="stop",v=T(),k=g("div"),E=F($),I=F(" / "),L=F(R),H=T(),Q=g("div"),x=g("div"),J=T(),Ae=g("div"),ce=g("img"),Z=g("span"),Y=F(re),h(i,"class","material-icons-round"),i.disabled=l=!r[6]&&r[2]<100,h(a,"class","material-icons-round"),a.disabled=r[6],h(n,"class","group"),h(d,"class","material-icons-round"),h(b,"class","material-icons-round"),h(f,"class","group"),h(_,"class","material-icons-round"),h(k,"class","right"),h(t,"class","controls"),h(x,"class","inner"),Se(x,"width",r[2]+"%"),h(Q,"class","bar"),de(ce.src,se=cn(r[0].openedFile.name))||h(ce,"src",se),h(ce,"alt",ne=r[0].openedFile.name),h(Ae,"class","filename"),h(Ae,"title",ae=r[0].openedFile.path),h(e,"class","media-player")},m(_e,Ie){S(_e,e,Ie),p(e,t),p(t,n),p(n,i),p(i,s),p(n,o),p(n,a),p(a,c),p(t,u),p(t,f),p(f,d),p(f,m),p(f,b),p(t,A),p(t,_),p(t,v),p(t,k),p(k,E),p(k,I),p(k,L),p(e,H),p(e,Q),p(Q,x),p(e,J),p(e,Ae),p(Ae,ce),p(Ae,Z),p(Z,Y),fe||(ye=[N(i,"click",r[14]),N(a,"click",r[15]),N(d,"click",r[7]),N(b,"click",r[8]),N(_,"click",r[10])],fe=!0)},p(_e,Ie){Ie&68&&l!==(l=!_e[6]&&_e[2]<100)&&(i.disabled=l),Ie&64&&(a.disabled=_e[6]),Ie&16&&$!==($=wr(_e[4])+"")&&W(E,$),Ie&8&&R!==(R=wr(_e[3])+"")&&W(L,R),Ie&4&&Se(x,"width",_e[2]+"%"),Ie&1&&!de(ce.src,se=cn(_e[0].openedFile.name))&&h(ce,"src",se),Ie&1&&ne!==(ne=_e[0].openedFile.name)&&h(ce,"alt",ne),Ie&1&&re!==(re=_e[0].openedFile.path+"")&&W(Y,re),Ie&1&&ae!==(ae=_e[0].openedFile.path)&&h(Ae,"title",ae)},d(_e){_e&&y(e),fe=!1,ke(ye)}}}function OC(r){let e,t=r[0].openedFile&&mu(r);return{c(){t&&t.c(),e=le()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0].openedFile?t?t.p(n,i):(t=mu(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function wr(r){const e=Math.floor(r/60),t=Math.floor(r%60);return`${e}:${t.toString().padStart(2,"0")}`}function RC(r,e,t){let n,{app:i}=e,s=0,l=0,o=0,a="",c="",u=!0;ue.subscribe(()=>{!i.openedFile||!n||c==i.openedFile.name||(c=i.openedFile.name,t(5,a=URL.createObjectURL(new Blob([i.openedFile.data],{type:i.openedFile.mime}))),setTimeout(()=>{n.play()}))});function f(){t(1,n.currentTime-=10,n)}function d(){t(1,n.currentTime+=10,n)}function m(){t(2,s=n.currentTime/n.duration*100),t(6,u=n.paused)}function b(){t(1,n.currentTime=0,n),n.pause()}ve(()=>{Hl([{key:"space",action:()=>{n==null||n.pause()}}])});function A(E){we[E?"unshift":"push"](()=>{n=E,t(1,n)})}function _(){l=this.duration,t(3,l)}function v(){o=this.currentTime,t(4,o)}const k=()=>n.play(),$=()=>n.pause();return r.$$set=E=>{"app"in E&&t(0,i=E.app)},[i,n,s,l,o,a,u,f,d,m,b,A,_,v,k,$]}class LC extends U{constructor(e){super(),z(this,e,RC,OC,P,{app:0})}}const DC={info:{name:"Media Player",description:"Play audio files",builtin:!0,version:"2.0.0",author:"Izaak Kuipers",icon:pu,hidden:!0,appGroup:"entertainment"},size:{w:442,h:NaN},pos:{x:100,y:100},minSize:{w:442,h:NaN},maxSize:{w:442,h:NaN},controls:{min:!0,max:!1,cls:!0},state:{headless:!1,resizable:!1,windowState:{min:!1,max:!1,fll:!1}},content:LC,glass:!0,fileMimes:["audio/x-flac","audio/wave","audio/mpeg"],events:{open:r=>{if(!r.openedFile)return Ur("MediaPlayerApp"),bt("MediaPlayerApp");Ml({onOpen(){ze("MediaPlayerApp")},image:pu,identifier:"MediaPlayerApp"})},close(){Ur("MediaPlayerApp")}}},Wl=""+new URL("messaging-9e309b2f.svg",import.meta.url).href;async function BC(r){const e=K(Ge);return e?!await et(e,"messages/delete",{id:btoa(r)},K(st)):!1}const rl=pe([]);function Kl(r){const e=K(rl);e.push(r),rl.set(e)}function Dn(){const r=K(rl);for(let e=0;e<r.length;e++)r[e]()}const MC=[{icon:"add",name:"New Message",action(){bi.set(null),Rn.set(!0)}}],gu=[{icon:"reply",name:"Reply",async action(r){bi.set(r.id),Rn.set(!0)}},{icon:"save",name:"Save to ArcFS",async action(r){const e=new Blob([r.body],{type:"text/markdown"});await Yi("./Messages");const t=`Message from ${r.sender} - ${r.id}.md`,n=`./Messages/${t}`;await fn(n,e),ze("FileManager"),await nt.goToDirectory("./Messages"),setTimeout(()=>{qe.set(t)})}},{icon:"delete",name:"Delete message for everyone",async action(r){Ze({title:"Delete message?",message:`Are you sure you want to delete this message from ${r.sender}? This cannot be undone.`,image:vn,buttons:[{caption:"Delete",action:async()=>{await BC(r.id),Dn(),hn.set(null)}},{caption:"Cancel",action:()=>{}}]},"MessagingApp")}}];async function FC(){const r=await Sl();let e=[];for(let t=0;t<r.length;t++)r[t].sender==K(Pe)&&e.push(r[t]);return e}async function Rm(){const r=await Sl();let e=[];for(let t=0;t<r.length;t++)r[t].receiver==K(Pe)&&r[t].sender!=K(Pe)&&e.push(r[t]);return e}async function Lm(){const r=await Rm();let e=[];for(let t=0;t<r.length;t++)r[t].read||e.push(r[t]);return e}const qn=pe(null);qn.subscribe(()=>{setTimeout(Dn,100)});hn.subscribe(()=>{Dn(),Rn.set(!1)});const sl={unread:{name:"Unread",icon:"mark_email_unread",msgGetter:Lm},inbox:{name:"Inbox",icon:"inbox",msgGetter:Rm},sent:{name:"Sent",icon:"send",msgGetter:FC}};function PC(r){let e,t=r[0].icon+"",n,i,s,l;return{c(){e=g("button"),n=F(t),h(e,"class","material-icons-round"),h(e,"title",i=r[0].name)},m(o,a){S(o,e,a),p(e,n),s||(l=N(e,"click",function(){ct(r[0].action)&&r[0].action.apply(this,arguments)}),s=!0)},p(o,[a]){r=o,a&1&&t!==(t=r[0].icon+"")&&W(n,t),a&1&&i!==(i=r[0].name)&&h(e,"title",i)},i:O,o:O,d(o){o&&y(e),s=!1,l()}}}function zC(r,e,t){let{action:n}=e;return r.$$set=i=>{"action"in i&&t(0,n=i.action)},[n]}class UC extends U{constructor(e){super(),z(this,e,zC,PC,P,{action:0})}}function NC(r){let e,t=r[0].icon+"",n,i,s,l;return{c(){e=g("button"),n=F(t),h(e,"class","material-icons-round"),h(e,"title",i=r[0].name),j(e,"active",r[1]&&r[0].name==r[1].name)},m(o,a){S(o,e,a),p(e,n),s||(l=N(e,"click",r[2]),s=!0)},p(o,[a]){a&1&&t!==(t=o[0].icon+"")&&W(n,t),a&1&&i!==(i=o[0].name)&&h(e,"title",i),a&3&&j(e,"active",o[1]&&o[0].name==o[1].name)},i:O,o:O,d(o){o&&y(e),s=!1,l()}}}function jC(r,e,t){let n;G(r,qn,l=>t(1,n=l));let{data:i}=e;function s(){Ee(qn,n=i,n)}return r.$$set=l=>{"data"in l&&t(0,i=l.data)},[i,n,s]}let HC=class extends U{constructor(e){super(),z(this,e,jC,NC,P,{data:0})}};function QC(r,e,t){const n=r.slice();return n[2]=e[t],n}function Au(r,e,t){const n=r.slice();return n[5]=e[t],n}function bu(r){let e,t;return e=new HC({props:{data:r[5][1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function WC(r){let e,t;return e=new UC({props:{action:r[2]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function KC(r){let e,t,n,i,s,l,o,a,c,u=X(Object.entries(sl)),f=[];for(let A=0;A<u.length;A+=1)f[A]=bu(Au(r,u,A));const d=A=>C(f[A],1,1,()=>{f[A]=null});let m=X(MC),b=[];for(let A=0;A<m.length;A+=1)b[A]=WC(QC(r,m,A));return a=new At({props:{src:r[0],height:20}}),{c(){e=g("div"),t=g("div");for(let A=0;A<f.length;A+=1)f[A].c();n=T(),i=g("hr"),s=T(),l=g("div");for(let A=0;A<b.length;A+=1)b[A].c();o=T(),M(a.$$.fragment),h(t,"class","pages"),h(l,"class","actions"),h(e,"class","sidebar")},m(A,_){S(A,e,_),p(e,t);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(t,null);p(e,n),p(e,i),p(e,s),p(e,l);for(let v=0;v<b.length;v+=1)b[v]&&b[v].m(l,null);p(e,o),D(a,e,null),c=!0},p(A,[_]){if(_&0){u=X(Object.entries(sl));let k;for(k=0;k<u.length;k+=1){const $=Au(A,u,k);f[k]?(f[k].p($,_),w(f[k],1)):(f[k]=bu($),f[k].c(),w(f[k],1),f[k].m(t,null))}for(V(),k=u.length;k<f.length;k+=1)d(k);q()}const v={};_&1&&(v.src=A[0]),a.$set(v)},i(A){if(!c){for(let _=0;_<u.length;_+=1)w(f[_]);for(let _=0;_<m.length;_+=1)w(b[_]);w(a.$$.fragment,A),c=!0}},o(A){f=f.filter(Boolean);for(let _=0;_<f.length;_+=1)C(f[_]);b=b.filter(Boolean);for(let _=0;_<b.length;_+=1)C(b[_]);C(a.$$.fragment,A),c=!1},d(A){A&&y(e),me(f,A),me(b,A),B(a)}}}function GC(r,e,t){let n;G(r,te,s=>t(1,n=s));let i;return te.subscribe(()=>{t(0,i=gn(n.acc.profilePicture))}),[i]}class VC extends U{constructor(e){super(),z(this,e,GC,KC,P,{})}}const _u=["#","](","![","!",">","|","(",")"];function wu(r){let e=r;for(let t=0;t<_u.length;t++)e=e.split(_u[t]).join("");return e}function vu(r){let e,t,n;return{c(){e=g("span"),t=F("reply"),h(e,"class","material-icons-round"),h(e,"title",n=r[0].replyingTo)},m(i,s){S(i,e,s),p(e,t)},p(i,s){s&1&&n!==(n=i[0].replyingTo)&&h(e,"title",n)},d(i){i&&y(e)}}}function qC(r){let e,t,n,i,s,l=(r[1]?r[0].receiver:r[0].sender)+"",o,a,c,u,f=(wu(r[0].partialBody)||"(no content)")+"",d,m,b,A=jt(r[0].timestamp).format("DD-MM HH:mm")+"",_,v,k,$;t=new At({props:{src:r[2],height:26}});let E=r[0].replyingTo&&vu(r);return{c(){e=g("button"),M(t.$$.fragment),n=T(),i=g("div"),s=g("p"),o=F(l),a=T(),E&&E.c(),c=T(),u=g("p"),d=F(f),m=T(),b=g("div"),_=F(A),h(s,"class","username"),h(u,"class","partial"),h(i,"class","content"),h(b,"class","timestamp"),h(e,"class","message"),j(e,"selected",r[3]==r[0].id)},m(I,R){S(I,e,R),D(t,e,null),p(e,n),p(e,i),p(i,s),p(s,o),p(s,a),E&&E.m(s,null),p(i,c),p(i,u),p(u,d),p(e,m),p(e,b),p(b,_),v=!0,k||($=N(e,"click",r[4]),k=!0)},p(I,[R]){const L={};R&4&&(L.src=I[2]),t.$set(L),(!v||R&3)&&l!==(l=(I[1]?I[0].receiver:I[0].sender)+"")&&W(o,l),I[0].replyingTo?E?E.p(I,R):(E=vu(I),E.c(),E.m(s,null)):E&&(E.d(1),E=null),(!v||R&1)&&f!==(f=(wu(I[0].partialBody)||"(no content)")+"")&&W(d,f),(!v||R&1)&&A!==(A=jt(I[0].timestamp).format("DD-MM HH:mm")+"")&&W(_,A),(!v||R&9)&&j(e,"selected",I[3]==I[0].id)},i(I){v||(w(t.$$.fragment,I),v=!0)},o(I){C(t.$$.fragment,I),v=!1},d(I){I&&y(e),B(t),E&&E.d(),k=!1,$()}}}function YC(r,e,t){let n;G(r,hn,c=>t(3,n=c));let{item:i}=e,s=!1,l="";ve(a),Kl(a);function o(){Ee(hn,n=i.id,n)}async function a(){t(2,l=await An(s?i.receiver:i.sender))}return qn.subscribe(c=>{t(1,s=c.name=="Sent")}),r.$$set=c=>{"item"in c&&t(0,i=c.item)},[i,s,l,n,o]}class JC extends U{constructor(e){super(),z(this,e,YC,qC,P,{item:0})}}function ku(r,e,t){const n=r.slice();return n[5]=e[t],n}function yu(r){let e,t,n=r[2].name+"",i,s,l,o,a,c,u,f,d,m,b=X(r[0]),A=[];for(let k=0;k<b.length;k+=1)A[k]=Su(ku(r,b,k));const _=k=>C(A[k],1,1,()=>{A[k]=null});let v=!r[0].length&&$u(r);return{c(){e=g("div"),t=g("p"),i=F(n),s=T(),l=g("button"),o=F("sync"),a=T(),c=g("div");for(let k=0;k<A.length;k+=1)A[k].c();u=T(),v&&v.c(),h(t,"class","title"),h(l,"class","material-icons-round refresh"),l.disabled=r[1],h(e,"class","header"),h(c,"class","list")},m(k,$){S(k,e,$),p(e,t),p(t,i),p(e,s),p(e,l),p(l,o),S(k,a,$),S(k,c,$);for(let E=0;E<A.length;E+=1)A[E]&&A[E].m(c,null);p(c,u),v&&v.m(c,null),f=!0,d||(m=N(l,"click",r[3]),d=!0)},p(k,$){if((!f||$&4)&&n!==(n=k[2].name+"")&&W(i,n),(!f||$&2)&&(l.disabled=k[1]),$&1){b=X(k[0]);let E;for(E=0;E<b.length;E+=1){const I=ku(k,b,E);A[E]?(A[E].p(I,$),w(A[E],1)):(A[E]=Su(I),A[E].c(),w(A[E],1),A[E].m(c,u))}for(V(),E=b.length;E<A.length;E+=1)_(E);q()}k[0].length?v&&(v.d(1),v=null):v?v.p(k,$):(v=$u(k),v.c(),v.m(c,null))},i(k){if(!f){for(let $=0;$<b.length;$+=1)w(A[$]);f=!0}},o(k){A=A.filter(Boolean);for(let $=0;$<A.length;$+=1)C(A[$]);f=!1},d(k){k&&(y(e),y(a),y(c)),me(A,k),v&&v.d(),d=!1,m()}}}function Su(r){let e,t;return e=new JC({props:{item:r[5]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.item=n[5]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function $u(r){let e,t=r[1]?"Loading...":"No messages!",n;return{c(){e=g("div"),n=F(t),h(e,"class","noitems")},m(i,s){S(i,e,s),p(e,n)},p(i,s){s&2&&t!==(t=i[1]?"Loading...":"No messages!")&&W(n,t)},d(i){i&&y(e)}}}function ZC(r){let e,t,n=r[2]&&yu(r);return{c(){e=g("div"),n&&n.c(),h(e,"class","listbar")},m(i,s){S(i,e,s),n&&n.m(e,null),t=!0},p(i,[s]){i[2]?n?(n.p(i,s),s&4&&w(n,1)):(n=yu(i),n.c(),w(n,1),n.m(e,null)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d()}}}function XC(r){return r.sort(function(e,t){return new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()})}function xC(r,e){if(r.length!=e.length)return!1;for(let t=0;t<e.length;t++){let n=!1;for(let i=0;i<r.length;i++)r[i].id==e[t].id&&(n=!0);if(!n)return!1}return!0}function eT(r,e,t){let n;G(r,qn,a=>t(2,n=a));let i=[],s=!1;ve(()=>{Dn()}),Kl(l);async function l(){if(t(1,s=!0),St.set(!0),!n)return;const a=await n.msgGetter();xC(i,a)||o(XC(a)),t(1,s=!1),St.set(!1)}function o(a){t(0,i=[]),setTimeout(()=>{t(0,i=a)})}return[i,s,n,l]}class tT extends U{constructor(e){super(),z(this,e,eT,ZC,P,{})}}async function nT(r,e){const t=K(Ge);return t?(await et(t,"messages/send",{target:btoa(r)},K(st),null,e)).data.id:!1}async function iT(r,e,t){const n=K(Ge);return n?!await et(n,"messages/reply",{target:btoa(e),id:r},K(st),null,t):!1}function rT(r){let e,t,n,i;return{c(){e=g("button"),t=F("Delete"),e.disabled=r[0]},m(s,l){S(s,e,l),p(e,t),n||(i=N(e,"click",r[1]),n=!0)},p(s,[l]){l&1&&(e.disabled=s[0])},i:O,o:O,d(s){s&&y(e),n=!1,i()}}}function sT(r,e,t){let{loading:n}=e;function i(){t(0,n=!0),Ze({title:"Delete message?",message:"Are you sure you want to delete this draft? This cannot be undone.",image:vn,buttons:[{caption:"Delete",action:()=>{Rn.set(!1),Dn(),t(0,n=!1)}},{caption:"Cancel",action:()=>{t(0,n=!1)}}]},"MessagingApp")}return r.$$set=s=>{"loading"in s&&t(0,n=s.loading)},[n,i]}class lT extends U{constructor(e){super(),z(this,e,sT,rT,P,{loading:0})}}function Cu(r){let e,t=2e3-r[1].length+"",n;return{c(){e=g("div"),n=F(t),h(e,"class","counter"),j(e,"critical",r[1].length>1980)},m(i,s){S(i,e,s),p(e,n)},p(i,s){s&2&&t!==(t=2e3-i[1].length+"")&&W(n,t),s&2&&j(e,"critical",i[1].length>1980)},d(i){i&&y(e)}}}function oT(r){let e,t,n,i,s,l,o,a,c,u,f,d,m=r[3]?"Loading...":r[4]?"Reply":"Send",b,A,_,v,k,$=r[1].length>1950&&Cu(r);function E(R){r[8](R)}let I={};return r[3]!==void 0&&(I.loading=r[3]),c=new lT({props:I}),we.push(()=>Ce(c,"loading",E)),{c(){e=g("div"),t=g("div"),n=g("button"),n.textContent="remove_red_eye",i=T(),s=g("button"),s.textContent="edit",l=T(),$&&$.c(),o=T(),a=g("div"),M(c.$$.fragment),f=T(),d=g("button"),b=F(m),h(n,"class","material-icons-round"),j(n,"selected",r[0]),h(s,"class","material-icons-round"),j(s,"selected",!r[0]),h(t,"class","view-group"),d.disabled=A=!r[1]||!r[2]||r[3],h(a,"class","right"),h(e,"class","editor-send")},m(R,L){S(R,e,L),p(e,t),p(t,n),p(t,i),p(t,s),p(e,l),$&&$.m(e,null),p(e,o),p(e,a),D(c,a,null),p(a,f),p(a,d),p(d,b),_=!0,v||(k=[N(n,"click",r[7]),N(s,"click",r[6]),N(d,"click",r[5])],v=!0)},p(R,[L]){(!_||L&1)&&j(n,"selected",R[0]),(!_||L&1)&&j(s,"selected",!R[0]),R[1].length>1950?$?$.p(R,L):($=Cu(R),$.c(),$.m(e,o)):$&&($.d(1),$=null);const H={};!u&&L&8&&(u=!0,H.loading=R[3],$e(()=>u=!1)),c.$set(H),(!_||L&24)&&m!==(m=R[3]?"Loading...":R[4]?"Reply":"Send")&&W(b,m),(!_||L&14&&A!==(A=!R[1]||!R[2]||R[3]))&&(d.disabled=A)},i(R){_||(w(c.$$.fragment,R),_=!0)},o(R){C(c.$$.fragment,R),_=!1},d(R){R&&y(e),$&&$.d(),B(c),v=!1,ke(k)}}}function aT(r,e,t){let n;G(r,bi,d=>t(4,n=d));let{content:i}=e,{target:s}=e,{viewing:l}=e,o=!1;async function a(){if(St.set(!0),t(3,o=!0),n)await iT(n,s,i);else{const d=await nT(s,i);setTimeout(()=>{hn.set(d)},50)}Rn.set(!1),Dn(),t(3,o=!1),St.set(!1)}function c(){t(0,l=!1)}function u(){t(0,l=!0)}function f(d){o=d,t(3,o)}return r.$$set=d=>{"content"in d&&t(1,i=d.content),"target"in d&&t(2,s=d.target),"viewing"in d&&t(0,l=d.viewing)},[l,i,s,o,n,a,c,u,f]}class cT extends U{constructor(e){super(),z(this,e,aT,oT,P,{content:1,target:2,viewing:0})}}function uT(r){let e,t,n,i,s=(r[0][0]||"<unknown>")+"",l,o,a,c;return t=new At({props:{src:r[1]||Qt,height:24}}),{c(){e=g("button"),M(t.$$.fragment),n=T(),i=g("p"),l=F(s),h(e,"class","user")},m(u,f){S(u,e,f),D(t,e,null),p(e,n),p(e,i),p(i,l),o=!0,a||(c=N(e,"click",r[2]),a=!0)},p(u,[f]){const d={};f&2&&(d.src=u[1]||Qt),t.$set(d),(!o||f&1)&&s!==(s=(u[0][0]||"<unknown>")+"")&&W(l,s)},i(u){o||(w(t.$$.fragment,u),o=!0)},o(u){C(t.$$.fragment,u),o=!1},d(u){u&&y(e),B(t),a=!1,c()}}}function fT(r,e,t){let{selecting:n}=e,{target:i}=e,{entry:s}=e,{pfp:l}=e,o;ve(async()=>{t(1,o=await An(s[0]))});function a(){t(3,n=!1),t(4,i=s[0]),t(5,l=o)}return r.$$set=c=>{"selecting"in c&&t(3,n=c.selecting),"target"in c&&t(4,i=c.target),"entry"in c&&t(0,s=c.entry),"pfp"in c&&t(5,l=c.pfp)},[s,o,a,n,i,l]}class dT extends U{constructor(e){super(),z(this,e,fT,uT,P,{selecting:3,target:4,entry:0,pfp:5})}}function Tu(r,e,t){const n=r.slice();return n[10]=e[t],n}function Eu(r){let e,t,n,i,s;function l(u){r[6](u)}function o(u){r[7](u)}function a(u){r[8](u)}let c={entry:r[10]};return r[0]!==void 0&&(c.target=r[0]),r[3]!==void 0&&(c.selecting=r[3]),r[2]!==void 0&&(c.pfp=r[2]),e=new dT({props:c}),we.push(()=>Ce(e,"target",l)),we.push(()=>Ce(e,"selecting",o)),we.push(()=>Ce(e,"pfp",a)),{c(){M(e.$$.fragment)},m(u,f){D(e,u,f),s=!0},p(u,f){const d={};f&2&&(d.entry=u[10]),!t&&f&1&&(t=!0,d.target=u[0],$e(()=>t=!1)),!n&&f&8&&(n=!0,d.selecting=u[3],$e(()=>n=!1)),!i&&f&4&&(i=!0,d.pfp=u[2],$e(()=>i=!1)),e.$set(d)},i(u){s||(w(e.$$.fragment,u),s=!0)},o(u){C(e.$$.fragment,u),s=!1},d(u){B(e,u)}}}function pT(r){let e,t,n,i,s,l,o,a=r[4]?"Reply":"Send",c,u,f,d,m=(r[4]?`#${r[4]} (${r[0]})`:r[0]||"Please select")+"",b,A,_,v,k,$;i=new At({props:{src:r[2]||Qt,height:32}});let E=X(r[1]),I=[];for(let L=0;L<E.length;L+=1)I[L]=Eu(Tu(r,E,L));const R=L=>C(I[L],1,1,()=>{I[L]=null});return{c(){e=g("div"),t=g("div"),n=g("div"),M(i.$$.fragment),s=T(),l=g("div"),o=g("p"),c=F(a),u=F(" to:"),f=T(),d=g("p"),b=F(m),A=T(),_=g("div");for(let L=0;L<I.length;L+=1)I[L].c();h(o,"class","header"),h(n,"class","current"),h(t,"class","target-selector"),h(_,"class","target-options"),j(_,"visible",r[3]),h(e,"class","target-wrapper")},m(L,H){S(L,e,H),p(e,t),p(t,n),D(i,n,null),p(n,s),p(n,l),p(l,o),p(o,c),p(o,u),p(l,f),p(l,d),p(d,b),p(e,A),p(e,_);for(let Q=0;Q<I.length;Q+=1)I[Q]&&I[Q].m(_,null);v=!0,k||($=N(t,"click",r[5]),k=!0)},p(L,[H]){const Q={};if(H&4&&(Q.src=L[2]||Qt),i.$set(Q),(!v||H&16)&&a!==(a=L[4]?"Reply":"Send")&&W(c,a),(!v||H&17)&&m!==(m=(L[4]?`#${L[4]} (${L[0]})`:L[0]||"Please select")+"")&&W(b,m),H&15){E=X(L[1]);let x;for(x=0;x<E.length;x+=1){const J=Tu(L,E,x);I[x]?(I[x].p(J,H),w(I[x],1)):(I[x]=Eu(J),I[x].c(),w(I[x],1),I[x].m(_,null))}for(V(),x=E.length;x<I.length;x+=1)R(x);q()}(!v||H&8)&&j(_,"visible",L[3])},i(L){if(!v){w(i.$$.fragment,L);for(let H=0;H<E.length;H+=1)w(I[H]);v=!0}},o(L){C(i.$$.fragment,L),I=I.filter(Boolean);for(let H=0;H<I.length;H+=1)C(I[H]);v=!1},d(L){L&&y(e),B(i),me(I,L),k=!1,$()}}}function mT(r,e,t){let n;G(r,bi,m=>t(4,n=m));let{users:i}=e,{target:s}=e,l="",o=!1;async function a(){t(2,l=await An(s))}function c(){if(n)return t(3,o=!1);t(3,o=!o)}bi.subscribe(()=>setTimeout(a,500));function u(m){s=m,t(0,s)}function f(m){o=m,t(3,o)}function d(m){l=m,t(2,l)}return r.$$set=m=>{"users"in m&&t(1,i=m.users),"target"in m&&t(0,s=m.target)},[s,i,l,o,n,c,u,f,d]}class hT extends U{constructor(e){super(),z(this,e,mT,pT,P,{users:1,target:0})}}function gT(r){let e,t,n;return t=new ms({props:{source:r[2]}}),{c(){e=g("div"),M(t.$$.fragment),h(e,"class","markdownrenderer")},m(i,s){S(i,e,s),D(t,e,null),n=!0},p(i,s){const l={};s&4&&(l.source=i[2]),t.$set(l)},i(i){n||(w(t.$$.fragment,i),n=!0)},o(i){C(t.$$.fragment,i),n=!1},d(i){i&&y(e),B(t)}}}function AT(r){let e,t,n;return{c(){e=g("textarea"),h(e,"placeholder","New message"),h(e,"maxlength","2000")},m(i,s){S(i,e,s),he(e,r[2]),t||(n=N(e,"input",r[5]),t=!0)},p(i,s){s&4&&he(e,i[2])},i:O,o:O,d(i){i&&y(e),t=!1,n()}}}function bT(r){let e,t,n,i,s,l,o,a,c,u;function f(k){r[4](k)}let d={users:r[0]};r[1]!==void 0&&(d.target=r[1]),t=new hT({props:d}),we.push(()=>Ce(t,"target",f));const m=[AT,gT],b=[];function A(k,$){return k[3]?1:0}s=A(r),l=b[s]=m[s](r);function _(k){r[6](k)}let v={target:r[1],content:r[2]};return r[3]!==void 0&&(v.viewing=r[3]),a=new cT({props:v}),we.push(()=>Ce(a,"viewing",_)),{c(){e=g("div"),M(t.$$.fragment),i=T(),l.c(),o=T(),M(a.$$.fragment),h(e,"class","editor")},m(k,$){S(k,e,$),D(t,e,null),S(k,i,$),b[s].m(k,$),S(k,o,$),D(a,k,$),u=!0},p(k,[$]){const E={};$&1&&(E.users=k[0]),!n&&$&2&&(n=!0,E.target=k[1],$e(()=>n=!1)),t.$set(E);let I=s;s=A(k),s===I?b[s].p(k,$):(V(),C(b[I],1,1,()=>{b[I]=null}),q(),l=b[s],l?l.p(k,$):(l=b[s]=m[s](k),l.c()),w(l,1),l.m(o.parentNode,o));const R={};$&2&&(R.target=k[1]),$&4&&(R.content=k[2]),!c&&$&8&&(c=!0,R.viewing=k[3],$e(()=>c=!1)),a.$set(R)},i(k){u||(w(t.$$.fragment,k),w(l),w(a.$$.fragment,k),u=!0)},o(k){C(t.$$.fragment,k),C(l),C(a.$$.fragment,k),u=!1},d(k){k&&(y(e),y(i),y(o)),B(t),b[s].d(k),B(a,k)}}}function _T(r,e,t){let n=[],i="",s="",l=!1;ve(async()=>{t(0,n=Object.entries(await Zi()))}),bi.subscribe(async u=>{if(!u)return;const f=await $l(u);f&&t(1,i=f.sender)});function o(u){i=u,t(1,i)}function a(){s=this.value,t(2,s)}function c(u){l=u,t(3,l)}return[n,i,s,l,o,a,c]}class wT extends U{constructor(e){super(),z(this,e,_T,bT,P,{})}}function vT(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b;return{c(){e=g("div"),t=g("div"),n=g("img"),s=T(),l=g("p"),l.textContent="No content.",o=T(),a=g("p"),a.textContent="Please select a message or create a new one.",c=T(),u=g("br"),f=T(),d=g("button"),d.textContent="New Message",de(n.src,i=Wl)||h(n,"src",i),h(n,"alt","Messaging"),h(l,"class","header"),h(t,"class","no-content"),h(e,"class","no-content-wrapper")},m(A,_){S(A,e,_),p(e,t),p(t,n),p(t,s),p(t,l),p(t,o),p(t,a),p(t,c),p(t,u),p(t,f),p(t,d),m||(b=N(d,"click",r[0]),m=!0)},p:O,i:O,o:O,d(A){A&&y(e),m=!1,b()}}}function kT(r,e,t){let n;G(r,Rn,s=>t(1,n=s));function i(){Ee(Rn,n=!0,n)}return[i]}class yT extends U{constructor(e){super(),z(this,e,kT,vT,P,{})}}function Iu(r,e,t){const n=r.slice();return n[4]=e[t],n}function Ou(r){let e;return{c(){e=g("button"),e.innerHTML=`<img src="${vn}" alt=""/>`,h(e,"class","material-icons-round"),h(e,"title","Receiver no longer exists")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function Ru(r){let e,t,n;function i(){return r[3](r[4])}return{c(){e=g("button"),e.textContent=`${r[4].icon}`,h(e,"class","material-icons-round"),h(e,"title",r[4].name)},m(s,l){S(s,e,l),t||(n=N(e,"click",i),t=!0)},p(s,l){r=s},d(s){s&&y(e),t=!1,n()}}}function ST(r){let e,t,n,i,s,l=r[0].sender+"",o,a,c,u=r[2](r[0].timestamp)+"",f,d,m,b=r[0].receiver.startsWith("deleted#"),A,_;t=new At({props:{height:32,src:r[1]}});let v=b&&Ou(),k=X(gu),$=[];for(let E=0;E<k.length;E+=1)$[E]=Ru(Iu(r,k,E));return{c(){e=g("div"),M(t.$$.fragment),n=T(),i=g("div"),s=g("p"),o=F(l),a=T(),c=g("p"),f=F(u),d=T(),m=g("div"),v&&v.c(),A=T();for(let E=0;E<$.length;E+=1)$[E].c();h(s,"class","name"),h(c,"class","id"),h(i,"class","context"),h(m,"class","actions"),h(e,"class","message-header")},m(E,I){S(E,e,I),D(t,e,null),p(e,n),p(e,i),p(i,s),p(s,o),p(i,a),p(i,c),p(c,f),p(e,d),p(e,m),v&&v.m(m,null),p(m,A);for(let R=0;R<$.length;R+=1)$[R]&&$[R].m(m,null);_=!0},p(E,[I]){const R={};if(I&2&&(R.src=E[1]),t.$set(R),(!_||I&1)&&l!==(l=E[0].sender+"")&&W(o,l),(!_||I&1)&&u!==(u=E[2](E[0].timestamp)+"")&&W(f,u),I&1&&(b=E[0].receiver.startsWith("deleted#")),b?v||(v=Ou(),v.c(),v.m(m,A)):v&&(v.d(1),v=null),I&1){k=X(gu);let L;for(L=0;L<k.length;L+=1){const H=Iu(E,k,L);$[L]?$[L].p(H,I):($[L]=Ru(H),$[L].c(),$[L].m(m,null))}for(;L<$.length;L+=1)$[L].d(1);$.length=k.length}},i(E){_||(w(t.$$.fragment,E),_=!0)},o(E){C(t.$$.fragment,E),_=!1},d(E){E&&y(e),B(t),v&&v.d(),me($,E)}}}function $T(r,e,t){let{message:n}=e,i="";ve(async()=>{t(1,i=await An(n.sender))}),Kl(async()=>{t(1,i=await An(n.sender))});function s(o){return jt(o).format("DD MMM, HH:mm")}const l=o=>o.action(n);return r.$$set=o=>{"message"in o&&t(0,n=o.message)},[n,i,s,l]}class CT extends U{constructor(e){super(),z(this,e,$T,ST,P,{message:0})}}async function TT(r){const e=K(Ge);return e?(await et(e,"messages/thread",{id:btoa(r)},K(st))).data:!1}async function Dm(r){const e=await Sl();let t;for(let i=0;i<e.length;i++)e[i].id==r&&(t=e[i].replyingTo);if(!t)return;const n=await $l(t);return n.replyingTo?await Dm(t):n}function Lu(r){let e,t,n,i,s,l=r[1]?"Loading...":"View Thread",o,a,c;return{c(){e=g("div"),t=g("p"),t.textContent="Message is part of a thread.",n=T(),i=g("div"),s=g("button"),o=F(l),h(t,"class","caption"),s.disabled=r[1],h(i,"class","right"),h(e,"class","reply-wrapper")},m(u,f){S(u,e,f),p(e,t),p(e,n),p(e,i),p(i,s),p(s,o),a||(c=N(s,"click",r[2]),a=!0)},p(u,f){f&2&&l!==(l=u[1]?"Loading...":"View Thread")&&W(o,l),f&2&&(s.disabled=u[1])},d(u){u&&y(e),a=!1,c()}}}function ET(r){let e,t=(r[0].replyingTo||r[0].replies.length)&&Lu(r);return{c(){t&&t.c(),e=le()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0].replyingTo||n[0].replies.length?t?t.p(n,i):(t=Lu(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function IT(r,e,t){let{message:n}=e,i=!1;async function s(){t(1,i=!0);const l=n.replies&&!n.replyingTo?n.id:(await Dm(n.id)).id;zi.set(null),zi.set(l),Xe("thread","MessagingApp"),t(1,i=!1)}return r.$$set=l=>{"message"in l&&t(0,n=l.message)},[n,i,s]}class OT extends U{constructor(e){super(),z(this,e,IT,ET,P,{message:0})}}function RT(r){let e,t,n,i,s,l,o;return e=new CT({props:{message:r[0]}}),i=new ms({props:{source:r[0].body}}),l=new OT({props:{message:r[0]}}),{c(){M(e.$$.fragment),t=T(),n=g("div"),M(i.$$.fragment),s=T(),M(l.$$.fragment),h(n,"class","markdownrenderer")},m(a,c){D(e,a,c),S(a,t,c),S(a,n,c),D(i,n,null),S(a,s,c),D(l,a,c),o=!0},p(a,[c]){const u={};c&1&&(u.message=a[0]),e.$set(u);const f={};c&1&&(f.source=a[0].body),i.$set(f);const d={};c&1&&(d.message=a[0]),l.$set(d)},i(a){o||(w(e.$$.fragment,a),w(i.$$.fragment,a),w(l.$$.fragment,a),o=!0)},o(a){C(e.$$.fragment,a),C(i.$$.fragment,a),C(l.$$.fragment,a),o=!1},d(a){a&&(y(t),y(n),y(s)),B(e,a),B(i),B(l,a)}}}function LT(r,e,t){let{message:n}=e;return r.$$set=i=>{"message"in i&&t(0,n=i.message)},[n]}class DT extends U{constructor(e){super(),z(this,e,LT,RT,P,{message:0})}}function BT(r){let e,t;return e=new yT({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function MT(r){let e,t;return e=new wT({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function FT(r){let e,t;return e=new DT({props:{message:r[0]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.message=n[0]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function PT(r){let e,t,n,i;const s=[FT,MT,BT],l=[];function o(a,c){return a[0]&&!a[1]?0:a[1]?1:2}return t=o(r),n=l[t]=s[t](r),{c(){e=g("div"),n.c(),h(e,"class","content")},m(a,c){S(a,e,c),l[t].m(e,null),i=!0},p(a,[c]){let u=t;t=o(a),t===u?l[t].p(a,c):(V(),C(l[u],1,1,()=>{l[u]=null}),q(),n=l[t],n?n.p(a,c):(n=l[t]=s[t](a),n.c()),w(n,1),n.m(e,null))},i(a){i||(w(n),i=!0)},o(a){C(n),i=!1},d(a){a&&y(e),l[t].d()}}}function zT(r,e,t){let n;G(r,Rn,s=>t(1,n=s));let i;return hn.subscribe(async s=>{if(!s)return t(0,i=null);const l=await $l(s);if(!l)return Ze({title:"Can't open message",message:`No message with ID ${s} could be found on ArcAPI.`,buttons:[{caption:"OK",action(){}}],image:Wl},"MessagingApp");t(0,i=null),setTimeout(()=>{t(0,i=l)})}),[i,n]}let UT=class extends U{constructor(e){super(),z(this,e,zT,PT,P,{})}};function Du(r){let e,t,n,i;return e=new tT({}),n=new UT({}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment)},m(s,l){D(e,s,l),S(s,t,l),D(n,s,l),i=!0},i(s){i||(w(e.$$.fragment,s),w(n.$$.fragment,s),i=!0)},o(s){C(e.$$.fragment,s),C(n.$$.fragment,s),i=!1},d(s){s&&y(t),B(e,s),B(n,s)}}}function NT(r){let e,t,n,i;e=new VC({});let s=r[0]&&Du();return{c(){M(e.$$.fragment),t=T(),s&&s.c(),n=le()},m(l,o){D(e,l,o),S(l,t,o),s&&s.m(l,o),S(l,n,o),i=!0},p(l,[o]){l[0]?s?o&1&&w(s,1):(s=Du(),s.c(),w(s,1),s.m(n.parentNode,n)):s&&(V(),C(s,1,1,()=>{s=null}),q())},i(l){i||(w(e.$$.fragment,l),w(s),i=!0)},o(l){C(e.$$.fragment,l),C(s),i=!1},d(l){l&&(y(t),y(n)),B(e,l),s&&s.d(l)}}}function jT(r,e,t){let n;return G(r,qn,i=>t(0,n=i)),ve(()=>{Ee(qn,n=sl.inbox,n)}),[n]}let HT=class extends U{constructor(e){super(),z(this,e,jT,NT,P,{})}};function Bu(r,e,t){const n=r.slice();return n[1]=e[t],n}function Mu(r){let e,t,n=X(r[0]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Fu(Bu(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=le()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&1){n=X(l[0]);let a;for(a=0;a<n.length;a+=1){const c=Bu(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Fu(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Fu(r){let e,t;return e=new Bm({props:{item:r[1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.item=n[1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function QT(r){let e,t,n=r[0]&&Mu(r);return{c(){e=g("div"),n&&n.c(),h(e,"class","branch")},m(i,s){S(i,e,s),n&&n.m(e,null),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=Mu(i),n.c(),w(n,1),n.m(e,null)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d()}}}function WT(r,e,t){let{items:n=[]}=e;return r.$$set=i=>{"items"in i&&t(0,n=i.items)},[n]}class KT extends U{constructor(e){super(),z(this,e,WT,QT,P,{items:0})}}function Pu(r){let e,t,n,i,s,l=r[0].sender+"",o,a,c,u=r[0].partialBody+"",f,d=r[0].partialBody.length>29?"...":"",m,b,A,_=r[0].id+"",v,k,$,E,I,R;t=new At({props:{src:r[1],height:32}});let L=r[0].replies&&zu(r);return{c(){e=g("button"),M(t.$$.fragment),n=T(),i=g("div"),s=g("p"),o=F(l),a=T(),c=g("p"),f=F(u),m=F(d),b=T(),A=g("div"),v=F(_),k=T(),L&&L.c(),$=le(),h(s,"class","name"),h(c,"class","partial"),h(i,"class","context"),h(A,"class","id"),h(e,"class","item")},m(H,Q){S(H,e,Q),D(t,e,null),p(e,n),p(e,i),p(i,s),p(s,o),p(i,a),p(i,c),p(c,f),p(c,m),p(e,b),p(e,A),p(A,v),S(H,k,Q),L&&L.m(H,Q),S(H,$,Q),E=!0,I||(R=N(e,"click",r[2]),I=!0)},p(H,Q){const x={};Q&2&&(x.src=H[1]),t.$set(x),(!E||Q&1)&&l!==(l=H[0].sender+"")&&W(o,l),(!E||Q&1)&&u!==(u=H[0].partialBody+"")&&W(f,u),(!E||Q&1)&&d!==(d=H[0].partialBody.length>29?"...":"")&&W(m,d),(!E||Q&1)&&_!==(_=H[0].id+"")&&W(v,_),H[0].replies?L?(L.p(H,Q),Q&1&&w(L,1)):(L=zu(H),L.c(),w(L,1),L.m($.parentNode,$)):L&&(V(),C(L,1,1,()=>{L=null}),q())},i(H){E||(w(t.$$.fragment,H),w(L),E=!0)},o(H){C(t.$$.fragment,H),C(L),E=!1},d(H){H&&(y(e),y(k),y($)),B(t),L&&L.d(H),I=!1,R()}}}function zu(r){let e,t;return e=new KT({props:{items:r[0].replies}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.items=n[0].replies),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function GT(r){let e,t,n=r[0]&&Pu(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=Pu(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function VT(r,e,t){let n;G(r,hn,o=>t(3,n=o));let{item:i}=e,s="";ve(async()=>{t(1,s=await An(i.sender))});function l(){Ee(hn,n=i.id,n),Je("thread","MessagingApp"),zi.set(null)}return r.$$set=o=>{"item"in o&&t(0,i=o.item)},[i,s,l]}let Bm=class extends U{constructor(e){super(),z(this,e,VT,GT,P,{item:0})}};function qT(r){let e;return{c(){e=g("div"),e.innerHTML=`<div class="content"><img src="${vn}" alt="Error"/> <h3>Unable to load thread</h3> <p class="caption">The thread could not be found. Please make sure the owner exists and try
      again.</p></div>`,h(e,"class","notfound")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}class YT extends U{constructor(e){super(),z(this,e,null,qT,P,{})}}function JT(r){let e,t;return e=new YT({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function ZT(r){let e,t,n=r[2].id+"",i,s,l,o;return l=new Bm({props:{item:r[2]}}),{c(){e=g("h3"),t=F("Thread of #"),i=F(n),s=T(),M(l.$$.fragment),h(e,"class","header")},m(a,c){S(a,e,c),p(e,t),p(e,i),S(a,s,c),D(l,a,c),o=!0},p(a,c){(!o||c&4)&&n!==(n=a[2].id+"")&&W(i,n);const u={};c&4&&(u.item=a[2]),l.$set(u)},i(a){o||(w(l.$$.fragment,a),o=!0)},o(a){C(l.$$.fragment,a),o=!1},d(a){a&&(y(e),y(s)),B(l,a)}}}function XT(r){let e,t,n,i,s,l;e=new Xn({props:{app:r[0],id:r[1]}});const o=[ZT,JT],a=[];function c(u,f){return u[3]&&u[2]?0:1}return n=c(r),i=a[n]=o[n](r),{c(){M(e.$$.fragment),t=T(),i.c(),s=le()},m(u,f){D(e,u,f),S(u,t,f),a[n].m(u,f),S(u,s,f),l=!0},p(u,[f]){const d={};f&1&&(d.app=u[0]),f&2&&(d.id=u[1]),e.$set(d);let m=n;n=c(u),n===m?a[n].p(u,f):(V(),C(a[m],1,1,()=>{a[m]=null}),q(),i=a[n],i?i.p(u,f):(i=a[n]=o[n](u),i.c()),w(i,1),i.m(s.parentNode,s))},i(u){l||(w(e.$$.fragment,u),w(i),l=!0)},o(u){C(e.$$.fragment,u),C(i),l=!1},d(u){u&&(y(t),y(s)),B(e,u),a[n].d(u)}}}function xT(r,e,t){let n;G(r,zi,o=>t(3,n=o));let i,{app:s}=e,{id:l}=e;return zi.subscribe(async o=>{if(!o)return;t(2,i=null);const a=await TT(n);a&&t(2,i=a)}),r.$$set=o=>{"app"in o&&t(0,s=o.app),"id"in o&&t(1,l=o.id)},[s,l,i,n]}class eE extends U{constructor(e){super(),z(this,e,xT,XT,P,{app:0,id:1})}}const tE={thread:{info:{name:"Thread View",author:"ArcOS Team",version:"1.0.0"},size:{w:550,h:400},show:!1,content:eE}},nE={info:{name:"Messaging",description:"Send messages to other ArcOS users",builtin:!0,version:"1.0.7",author:"ArcOS Team",icon:Wl,appGroup:"communication"},size:{w:700,h:450},pos:{x:100,y:100},minSize:{w:700,h:450},maxSize:{w:1e3,h:600},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},overlays:tE,content:HT,glass:!0};function iE(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v,k;return{c(){e=g("div"),t=g("img"),i=T(),s=g("div"),l=g("p"),l.textContent="Enter a path to save this file to:",o=T(),a=g("input"),c=T(),u=g("div"),f=g("div"),d=g("button"),m=F("Save"),A=T(),_=g("button"),_.textContent="Cancel",de(t.src,n=Im)||h(t,"src",n),h(t,"alt","Save File"),h(t,"class","svelte-demxce"),h(l,"class","caption svelte-demxce"),h(a,"type","text"),h(a,"class","svelte-demxce"),h(s,"class","inner"),h(e,"class","wrapper svelte-demxce"),d.disabled=b=!r[0],h(f,"class","inner svelte-demxce"),h(u,"class","actions svelte-demxce")},m($,E){S($,e,E),p(e,t),p(e,i),p(e,s),p(s,l),p(s,o),p(s,a),he(a,r[0]),S($,c,E),S($,u,E),p(u,f),p(f,d),p(d,m),p(f,A),p(f,_),v||(k=[N(a,"input",r[3]),N(d,"click",r[2]),N(_,"click",r[1])],v=!0)},p($,[E]){E&1&&a.value!==$[0]&&he(a,$[0]),E&1&&b!==(b=!$[0])&&(d.disabled=b)},i:O,o:O,d($){$&&(y(e),y(c),y(u)),v=!1,ke(k)}}}function rE(r,e,t){let n="";function i(){Je("saveNewFile","TextEditor")}async function s(){await Em(K(Un),{name:null,path:n,data:null,mime:""});const o=n.split("/");await ir({filename:o[o.length-1],mime:"text/plain",scopedPath:n}),i()}function l(){n=this.value,t(0,n)}return[n,i,s,l]}class sE extends U{constructor(e){super(),z(this,e,rE,iE,P,{})}}const lE={info:{name:"Text Editor",description:"Edit plain text files",builtin:!0,version:"1.0.0",author:"Izaak Kuipers",hidden:!1,icon:Xp,appGroup:"utilities"},size:{w:700,h:550},pos:{x:30,y:40,centered:!0},minSize:{w:400,h:300},maxSize:{w:1e3,h:800},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:I3,glass:!0,fileMimes:["text/plain"],overlays:{saveNewFile:{info:{name:"Save file",author:"Izaak Kuipers",version:"1.0.1"},size:{w:NaN,h:NaN},show:!1,content:sE}}},oE=""+new URL("settings-ade5abd9.svg",import.meta.url).href;const Yn=pe(null),ll=pe(null);function aE(r){ie("apps/SettingsApp",`Opening settings page '${r.name}'`,oe.info),ll.set(null),Yn.set(r),Ob(r.icon,"SettingsApp"),tr(` - ${r.name}`,"SettingsApp")}function Uu(r){let e,t,n;var i=r[2].content;function s(l,o){return{}}return i&&(e=De(i,s())),{c(){e&&M(e.$$.fragment),t=le()},m(l,o){e&&D(e,l,o),S(l,t,o),n=!0},p(l,o){if(o&4&&i!==(i=l[2].content)){if(e){V();const a=e;C(a.$$.fragment,1,0,()=>{B(a,1)}),q()}i?(e=De(i,s()),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}},i(l){n||(e&&w(e.$$.fragment,l),n=!0)},o(l){e&&C(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&B(e,l)}}}function cE(r){let e,t,n,i,s=r[2]&&Uu(r);return{c(){e=g("div"),t=g("div"),s&&s.c(),h(t,"class",n="inner "+r[1]),h(e,"class","content"),j(e,"collapsed",r[0].collapsed)},m(l,o){S(l,e,o),p(e,t),s&&s.m(t,null),i=!0},p(l,[o]){l[2]?s?(s.p(l,o),o&4&&w(s,1)):(s=Uu(l),s.c(),w(s,1),s.m(t,null)):s&&(V(),C(s,1,1,()=>{s=null}),q()),(!i||o&2&&n!==(n="inner "+l[1]))&&h(t,"class",n),(!i||o&1)&&j(e,"collapsed",l[0].collapsed)},i(l){i||(w(s),i=!0)},o(l){C(s),i=!1},d(l){l&&y(e),s&&s.d()}}}function uE(r,e,t){let n;G(r,te,a=>t(4,n=a));let{appdata:i}=e,s="",l,o;return Yn.subscribe(a=>{if(clearTimeout(o),t(1,s="static"),n&&!n.sh.anim&&a)return t(2,l=a);!a||l&&a.name==l.name||(t(1,s="slide-out-right"),o=setTimeout(()=>{t(2,l=a),t(1,s="slide-in-left"),o=setTimeout(()=>{t(1,s="static")},301)},500))}),r.$$set=a=>{"appdata"in a&&t(0,i=a.appdata)},[i,s,l]}let fE=class extends U{constructor(e){super(),z(this,e,uE,cE,P,{appdata:0})}};const ol=""+new URL("account-a7a14557.svg",import.meta.url).href,Kr=""+new URL("desktop-2a5e3c36.svg",import.meta.url).href,Mm=""+new URL("loadtheme-61b4520f.svg",import.meta.url).href,dE=""+new URL("taskbar-24d42588.svg",import.meta.url).href,pE=""+new URL("windows-2ef194f6.svg",import.meta.url).href,Gl=""+new URL("themes-1332e1fc.svg",import.meta.url).href;function mE(r){let e,t;return{c(){e=g("h3"),t=F(r[2]),h(e,"class","header")},m(n,i){S(n,e,i),p(e,t)},p(n,i){i&4&&W(t,n[2])},d(n){n&&y(e)}}}function hE(r){let e,t,n,i;return{c(){e=g("div"),t=F(r[2]),h(e,"class","header")},m(s,l){S(s,e,l),p(e,t),n||(i=N(e,"click",r[4]),n=!0)},p(s,l){l&4&&W(t,s[2])},d(s){s&&y(e),n=!1,i()}}}function gE(r){let e,t,n,i;function s(u,f){return u[1]?hE:mE}let l=s(r),o=l(r);const a=r[6].default,c=je(a,r,r[5],null);return{c(){e=g("div"),o.c(),t=T(),n=g("div"),c&&c.c(),h(n,"class","section-content"),h(e,"class","section"),j(e,"collapsible",r[1]),j(e,"collapsed",r[0]),j(e,"opt",r[3])},m(u,f){S(u,e,f),o.m(e,null),p(e,t),p(e,n),c&&c.m(n,null),i=!0},p(u,[f]){l===(l=s(u))&&o?o.p(u,f):(o.d(1),o=l(u),o&&(o.c(),o.m(e,t))),c&&c.p&&(!i||f&32)&&Qe(c,a,u,u[5],i?He(a,u[5],f,null):We(u[5]),null),(!i||f&2)&&j(e,"collapsible",u[1]),(!i||f&1)&&j(e,"collapsed",u[0]),(!i||f&8)&&j(e,"opt",u[3])},i(u){i||(w(c,u),i=!0)},o(u){C(c,u),i=!1},d(u){u&&y(e),o.d(),c&&c.d(u)}}}function AE(r,e,t){let{$$slots:n={},$$scope:i}=e,{collapsible:s=!1}=e,{header:l}=e,{collapsed:o=!0}=e,{opt:a=!1}=e;ll.subscribe(u=>{!u||!s||t(0,o=l!=u)});function c(){t(0,o=!o),o||ll.set(l)}return r.$$set=u=>{"collapsible"in u&&t(1,s=u.collapsible),"header"in u&&t(2,l=u.header),"collapsed"in u&&t(0,o=u.collapsed),"opt"in u&&t(3,a=u.opt),"$$scope"in u&&t(5,i=u.$$scope)},[o,s,l,a,c,i,n]}class Or extends U{constructor(e){super(),z(this,e,AE,gE,P,{collapsible:1,header:2,collapsed:0,opt:3})}}function Nu(r){let e,t;return e=new Or({props:{header:"Your System",collapsible:!0,$$slots:{default:[bE]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&11&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function bE(r){let e,t,n,i,s=r[0].cpu.cores+"",l,o,a,c,u,f,d,m,b=mt(r[0].mem.kb)+"",A,_,v,k,$,E,I,R,L=r[0].gpu.vendor+"",H,Q,x=r[0].gpu.model+"",J,Ae,ce,se,ne,Z,re=r[1]?"Desktop app":"Browser",Y,ae,fe;return{c(){e=g("div"),t=g("div"),t.textContent="Processor",n=T(),i=g("div"),l=F(s),o=F(" cores"),a=T(),c=g("div"),u=g("div"),u.textContent="Memory",f=T(),d=g("div"),m=F("~ "),A=F(b),_=T(),v=g("button"),v.textContent="help",k=T(),$=g("div"),E=g("div"),E.textContent="Graphics card",I=T(),R=g("div"),H=F(L),Q=T(),J=F(x),Ae=T(),ce=g("div"),se=g("div"),se.textContent="ArcOS Mode",ne=T(),Z=g("div"),Y=F(re),h(t,"class","key"),h(i,"class","value"),h(e,"class","row"),h(u,"class","key"),h(v,"class","material-icons-round info"),h(d,"class","value"),h(c,"class","row"),h(E,"class","key"),h(R,"class","value"),h($,"class","row"),h(se,"class","key"),h(Z,"class","value"),h(ce,"class","row")},m(ye,_e){S(ye,e,_e),p(e,t),p(e,n),p(e,i),p(i,l),p(i,o),S(ye,a,_e),S(ye,c,_e),p(c,u),p(c,f),p(c,d),p(d,m),p(d,A),p(d,_),p(d,v),S(ye,k,_e),S(ye,$,_e),p($,E),p($,I),p($,R),p(R,H),p(R,Q),p(R,J),S(ye,Ae,_e),S(ye,ce,_e),p(ce,se),p(ce,ne),p(ce,Z),p(Z,Y),ae||(fe=N(v,"click",r[2]),ae=!0)},p(ye,_e){_e&1&&s!==(s=ye[0].cpu.cores+"")&&W(l,s),_e&1&&b!==(b=mt(ye[0].mem.kb)+"")&&W(A,b),_e&1&&L!==(L=ye[0].gpu.vendor+"")&&W(H,L),_e&1&&x!==(x=ye[0].gpu.model+"")&&W(J,x),_e&2&&re!==(re=ye[1]?"Desktop app":"Browser")&&W(Y,re)},d(ye){ye&&(y(e),y(a),y(c),y(k),y($),y(Ae),y(ce)),ae=!1,fe()}}}function _E(r){let e,t,n=r[0]&&Nu(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=Nu(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function wE(r,e,t){let n,i=!1;ve(async()=>{t(0,n=await Cp()),t(1,i=Ui())});function s(){Ze({title:"Information about system memory",message:"The memory amount visible to ArcOS may be less than you actually have. This is not a bug, but rather a limitation of the browser you are running. Most browsers can only detect up to 8GB of RAM.",buttons:[{caption:"Understood",action(){}}]},"SettingsApp")}return[n,i,s]}class vE extends U{constructor(e){super(),z(this,e,wE,_E,P,{})}}function kE(r){let e,t,n;return{c(){e=F(`The whole ArcOS project is licensed under GPLv3. More information about the
    license and the project as a whole can be found in the README file of the
    `),t=g("a"),t.textContent="ArcOS project page",n=F("."),h(t,"href","https://github.com/IzK-ArcOS"),h(t,"target","_blank")},m(i,s){S(i,e,s),S(i,t,s),S(i,n,s)},p:O,d(i){i&&(y(e),y(t),y(n))}}}function yE(r){let e;return{c(){e=F(`Thanks to all the people who helped expand ArcOS to what it is today.
    Curious who make ArcOS possible? Go ahead and visit our Frontend GitHub
    page, we list our contributors there.`)},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function SE(r){let e,t,n,i;return{c(){e=F(`ArcOS started of as a weekend project, but these days it is a huge project
    with tons of amazing features. Every version of this project up to this
    point has been lead by me, Izaak Kuipers.`),t=g("br"),n=g("br"),i=F(`Feel free to visit our
    GitHub for more information about the project, and how you can contribute to
    it.`)},m(s,l){S(s,e,l),S(s,t,l),S(s,n,l),S(s,i,l)},p:O,d(s){s&&(y(e),y(t),y(n),y(i))}}}function $E(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A;return a=new vE({}),u=new Or({props:{header:"License Information",collapsible:!0,collapsed:!0,$$slots:{default:[kE]},$$scope:{ctx:r}}}),d=new Or({props:{header:"Credits",collapsible:!0,collapsed:!0,$$slots:{default:[yE]},$$scope:{ctx:r}}}),b=new Or({props:{header:"About",collapsible:!0,collapsed:!0,$$slots:{default:[SE]},$$scope:{ctx:r}}}),{c(){e=g("div"),t=g("div"),n=g("div"),n.innerHTML=`<img src="${tn()}" alt="ArcOS" class="logo"/>`,i=T(),s=g("div"),l=g("h1"),l.textContent=`ArcOS v${ft}`,o=T(),M(a.$$.fragment),c=T(),M(u.$$.fragment),f=T(),M(d.$$.fragment),m=T(),M(b.$$.fragment),h(l,"class","name"),h(s,"class","text"),h(t,"class","product"),h(e,"class","about-page")},m(_,v){S(_,e,v),p(e,t),p(t,n),p(t,i),p(t,s),p(s,l),p(e,o),D(a,e,null),p(e,c),D(u,e,null),p(e,f),D(d,e,null),p(e,m),D(b,e,null),A=!0},p(_,[v]){const k={};v&1&&(k.$$scope={dirty:v,ctx:_}),u.$set(k);const $={};v&1&&($.$$scope={dirty:v,ctx:_}),d.$set($);const E={};v&1&&(E.$$scope={dirty:v,ctx:_}),b.$set(E)},i(_){A||(w(a.$$.fragment,_),w(u.$$.fragment,_),w(d.$$.fragment,_),w(b.$$.fragment,_),A=!0)},o(_){C(a.$$.fragment,_),C(u.$$.fragment,_),C(d.$$.fragment,_),C(b.$$.fragment,_),A=!1},d(_){_&&y(e),B(a),B(u),B(d),B(b)}}}class CE extends U{constructor(e){super(),z(this,e,null,$E,P,{})}}function TE(r){let e,t,n,i,s,l,o,a,c,u;const f=r[3].default,d=je(f,r,r[2],null);return{c(){e=g("div"),t=g("div"),n=g("h3"),i=F(r[0]),s=T(),l=g("p"),o=F(r[1]),a=T(),c=g("div"),d&&d.c(),h(n,"class","header"),h(l,"class","context"),h(c,"class","opt-sel"),h(e,"class","section opt")},m(m,b){S(m,e,b),p(e,t),p(t,n),p(n,i),p(t,s),p(t,l),p(l,o),p(e,a),p(e,c),d&&d.m(c,null),u=!0},p(m,[b]){(!u||b&1)&&W(i,m[0]),(!u||b&2)&&W(o,m[1]),d&&d.p&&(!u||b&4)&&Qe(d,f,m,m[2],u?He(f,m[2],b,null):We(m[2]),null)},i(m){u||(w(d,m),u=!0)},o(m){C(d,m),u=!1},d(m){m&&y(e),d&&d.d(m)}}}function EE(r,e,t){let{$$slots:n={},$$scope:i}=e,{title:s}=e,{context:l}=e;return r.$$set=o=>{"title"in o&&t(0,s=o.title),"context"in o&&t(1,l=o.context),"$$scope"in o&&t(2,i=o.$$scope)},[s,l,i,n]}class rt extends U{constructor(e){super(),z(this,e,EE,TE,P,{title:0,context:1})}}function IE(r){let e,t,n;return{c(){e=g("button"),e.textContent="Change..."},m(i,s){S(i,e,s),t||(n=N(e,"click",r[1]),t=!0)},p:O,d(i){i&&y(e),t=!1,n()}}}function OE(r){let e,t,n;return{c(){e=g("button"),e.textContent="Change..."},m(i,s){S(i,e,s),t||(n=N(e,"click",r[2]),t=!0)},p:O,d(i){i&&y(e),t=!1,n()}}}function RE(r){let e,t,n;return{c(){e=g("button"),e.textContent="Delete account..."},m(i,s){S(i,e,s),t||(n=N(e,"click",r[0]),t=!0)},p:O,d(i){i&&y(e),t=!1,n()}}}function LE(r){let e,t,n,i,s,l;return e=new rt({props:{title:"Change username",context:"Migrate your userdata to another username.",$$slots:{default:[IE]},$$scope:{ctx:r}}}),n=new rt({props:{title:"Change password",context:"Change the password you use to log in.",$$slots:{default:[OE]},$$scope:{ctx:r}}}),s=new rt({props:{title:"Delete account",context:"Delete your ArcOS account",$$slots:{default:[RE]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment),i=T(),M(s.$$.fragment)},m(o,a){D(e,o,a),S(o,t,a),D(n,o,a),S(o,i,a),D(s,o,a),l=!0},p(o,[a]){const c={};a&8&&(c.$$scope={dirty:a,ctx:o}),e.$set(c);const u={};a&8&&(u.$$scope={dirty:a,ctx:o}),n.$set(u);const f={};a&8&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){l||(w(e.$$.fragment,o),w(n.$$.fragment,o),w(s.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),C(n.$$.fragment,o),C(s.$$.fragment,o),l=!1},d(o){o&&(y(t),y(i)),B(e,o),B(n,o),B(s,o)}}}function DE(r){function e(){Ze({title:"Delete ArcOS Account",message:"Are you sure you want to delete your ArcOS account? This will delete any and all user data associated with this account. These changes cannot be reverted.",image:vn,buttons:[{action:()=>Ig(),caption:"Proceed"},{action:()=>{},caption:"Back to safety"}]},"SettingsApp")}function t(){Xe("changeUsername","SettingsApp")}function n(){Xe("changePswd","SettingsApp")}return[e,t,n]}class BE extends U{constructor(e){super(),z(this,e,DE,LE,P,{})}}function ME(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A;return n=new At({props:{src:r[0],height:52}}),d=new er({}),{c(){e=g("div"),t=g("div"),M(n.$$.fragment),i=T(),s=g("button"),s.textContent="edit",l=T(),o=g("div"),a=g("p"),c=F(r[1]),u=T(),f=g("p"),M(d.$$.fragment),h(s,"class","change material-icons-round"),h(a,"class","username"),h(f,"class","host"),h(f,"data-contextmenu","accountpage-hostname"),h(e,"class","info")},m(_,v){S(_,e,v),p(e,t),D(n,t,null),p(t,i),p(t,s),p(e,l),p(e,o),p(o,a),p(a,c),p(o,u),p(o,f),D(d,f,null),m=!0,b||(A=N(s,"click",r[2]),b=!0)},p(_,[v]){const k={};v&1&&(k.src=_[0]),n.$set(k),(!m||v&2)&&W(c,_[1])},i(_){m||(w(n.$$.fragment,_),w(d.$$.fragment,_),m=!0)},o(_){C(n.$$.fragment,_),C(d.$$.fragment,_),m=!1},d(_){_&&y(e),B(n),B(d),b=!1,A()}}}function FE(r,e,t){let n;G(r,Pe,l=>t(1,n=l));let i="";te.subscribe(l=>{t(0,i=gn(l.acc.profilePicture))});function s(){Xe("pfpSel","SettingsApp")}return[i,n,s]}class PE extends U{constructor(e){super(),z(this,e,FE,ME,P,{})}}function zE(r){let e,t,n,i,s;return t=new PE({}),i=new BE({}),{c(){e=g("div"),M(t.$$.fragment),n=T(),M(i.$$.fragment),h(e,"class","settingspage-account")},m(l,o){S(l,e,o),D(t,e,null),p(e,n),D(i,e,null),s=!0},p:O,i(l){s||(w(t.$$.fragment,l),w(i.$$.fragment,l),s=!0)},o(l){C(t.$$.fragment,l),C(i.$$.fragment,l),s=!1},d(l){l&&y(e),B(t),B(i)}}}class UE extends U{constructor(e){super(),z(this,e,null,zE,P,{})}}function NE(r){let e,t,n,i,s,l,o,a=r[0].info.name+"",c,u,f,d=r[0].info.description+"",m,b,A;return{c(){e=g("button"),t=g("img"),s=T(),l=g("div"),o=g("p"),c=F(a),u=T(),f=g("p"),m=F(d),de(t.src,n=Wt(r[0].id)||$t(r[0]))||h(t,"src",n),h(t,"alt",i=r[0].info.name),h(t,"class","icon"),h(o,"class","title"),h(f,"class","description"),h(l,"class","info"),h(e,"class","appbutton"),j(e,"disabled",r[0].disabled)},m(_,v){S(_,e,v),p(e,t),p(e,s),p(e,l),p(l,o),p(o,c),p(l,u),p(l,f),p(f,m),b||(A=N(e,"click",r[1]),b=!0)},p(_,[v]){v&1&&!de(t.src,n=Wt(_[0].id)||$t(_[0]))&&h(t,"src",n),v&1&&i!==(i=_[0].info.name)&&h(t,"alt",i),v&1&&a!==(a=_[0].info.name+"")&&W(c,a),v&1&&d!==(d=_[0].info.description+"")&&W(m,d),v&1&&j(e,"disabled",_[0].disabled)},i:O,o:O,d(_){_&&y(e),b=!1,A()}}}function jE(r,e,t){let{app:n}=e;function i(){bt("AppInfo"),setTimeout(()=>{ji.set(n.id),ze("AppInfo")},300)}return r.$$set=s=>{"app"in s&&t(0,n=s.app)},[n,i]}let HE=class extends U{constructor(e){super(),z(this,e,jE,NE,P,{app:0})}};function ju(r,e,t){const n=r.slice();return n[5]=e[t],n}function Hu(r){let e,t;return e=new HE({props:{app:r[5]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.app=n[5]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Qu(r){let e=Ht(r[5])||r[1].sh.showHiddenApps,t,n,i=e&&Hu(r);return{c(){i&&i.c(),t=le()},m(s,l){i&&i.m(s,l),S(s,t,l),n=!0},p(s,l){l&3&&(e=Ht(s[5])||s[1].sh.showHiddenApps),e?i?(i.p(s,l),l&3&&w(i,1)):(i=Hu(s),i.c(),w(i,1),i.m(t.parentNode,t)):i&&(V(),C(i,1,1,()=>{i=null}),q())},i(s){n||(w(i),n=!0)},o(s){C(i),n=!1},d(s){s&&y(t),i&&i.d(s)}}}function QE(r){let e,t,n,i,s,l,o,a,c,u,f=X(r[0]),d=[];for(let b=0;b<f.length;b+=1)d[b]=Qu(ju(r,f,b));const m=b=>C(d[b],1,1,()=>{d[b]=null});return{c(){e=g("div"),t=g("div");for(let b=0;b<d.length;b+=1)d[b].c();n=T(),i=g("div"),s=g("p"),s.textContent="Show hidden apps",l=T(),o=g("input"),h(t,"class","apps"),h(s,"class","label"),h(o,"type","checkbox"),h(o,"class","switch"),h(i,"class","apps-hidden-toggle"),h(e,"class","page-apps")},m(b,A){S(b,e,A),p(e,t);for(let _=0;_<d.length;_+=1)d[_]&&d[_].m(t,null);p(e,n),p(e,i),p(i,s),p(i,l),p(i,o),o.checked=r[1].sh.showHiddenApps,a=!0,c||(u=[N(o,"change",r[3]),N(o,"click",r[2])],c=!0)},p(b,[A]){if(A&3){f=X(b[0]);let _;for(_=0;_<f.length;_+=1){const v=ju(b,f,_);d[_]?(d[_].p(v,A),w(d[_],1)):(d[_]=Qu(v),d[_].c(),w(d[_],1),d[_].m(t,null))}for(V(),_=f.length;_<d.length;_+=1)m(_);q()}A&2&&(o.checked=b[1].sh.showHiddenApps)},i(b){if(!a){for(let A=0;A<f.length;A+=1)w(d[A]);a=!0}},o(b){d=d.filter(Boolean);for(let A=0;A<d.length;A+=1)C(d[A]);a=!1},d(b){b&&y(e),me(d,b),c=!1,ke(u)}}}function WE(r,e,t){let n,i;G(r,ue,a=>t(4,n=a)),G(r,te,a=>t(1,i=a));let s=[];ue.subscribe(a=>t(0,s=[...a].sort((c,u)=>c.id>u.id?0:-1)));function l(){ue.set(n)}function o(){i.sh.showHiddenApps=this.checked,te.set(i)}return[s,i,l,o]}class KE extends U{constructor(e){super(),z(this,e,WE,QE,P,{})}}async function GE(r,e){ie("ts/api/upload.ts: directSingleUpload",`${r}: (${e||"no accept"})`,oe.info),r.endsWith("/")&&r.slice(0,-1);const t=document.createElement("input");t.type="file",t.accept=e;const n=pe();return t.onchange=async()=>{t.files.length||n.set("");const s=t.files[0];n.set(await VE(s,r))},t.click(),new Promise(i=>{n.subscribe(s=>{s&&i(s)})})}async function VE(r,e){ie("ts/api/upload.ts: fileUpload",`Uploading ${r.name} to ${e}`,oe.info);const t=new Blob([new Uint8Array(await r.arrayBuffer())]),n=`${e}/${r.name}`.split("//").join("/"),i=await pm(r,n);yl.set(i);const s=await fn(n,t);return nt.refresh(),s?n:""}const qE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABIAAAAKICAIAAACHSRZaAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAiSSURBVHhe7cEBDQAAAMKg909tDjcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALhTAzCGAAGNmWH9AAAAAElFTkSuQmCC",YE=""+new URL("img01-a6458b53.jpeg",import.meta.url).href,JE=""+new URL("img02-b03be002.png",import.meta.url).href,ZE=""+new URL("img03-87b2d378.png",import.meta.url).href,XE=""+new URL("img04-9d473c5a.png",import.meta.url).href,xE=""+new URL("img05-3c6c1958.png",import.meta.url).href,eI=""+new URL("img06-e2fa3f96.jpg",import.meta.url).href,tI=""+new URL("img07-788d74d9.jpg",import.meta.url).href,nI=""+new URL("img08-feb75f17.jpg",import.meta.url).href,iI=""+new URL("img11-d41c172b.jpg",import.meta.url).href,rI=""+new URL("img12-c9a4396e.png",import.meta.url).href,sI=""+new URL("img13-0a31c489.png",import.meta.url).href,lI=""+new URL("img14-54c8328b.jpg",import.meta.url).href,oI=""+new URL("img15-ddfd765d.jpg",import.meta.url).href,aI=""+new URL("img16-f0145d13.jpg",import.meta.url).href,cI=""+new URL("img17-ebfd7073.jpg",import.meta.url).href,uI=""+new URL("img18-b02e721d.jpg",import.meta.url).href,fI=""+new URL("img19-b69c5f66.png",import.meta.url).href,Jn={img04:{url:XE,author:"Izaak Kuipers",name:"ArcOS Dark"},img05:{url:xE,author:"Izaak Kuipers",name:"ArcOS Light"},img03:{url:ZE,author:"Izaak Kuipers",name:"Stealth Gradient"},img11:{url:iI,author:"Unknown",name:"Legacy Login"},img12:{url:rI,author:"Izaak Kuipers",name:"Gradiented Waves"},img08:{url:nI,author:"SWHFotografie",name:"Wandelbos",source:"Wandelbos, The Netherlands"},img13:{url:sI,author:"SWHFotografie",name:"Agga"},img18:{url:uI,author:"SWHFotografie",name:"Wilhelmina Sunset",source:"Wilheminakanaal, Tilburg, The Netherlands"},img15:{url:oI,author:"Matteo Scaringi",name:"Corfu",source:"Corfu, Greece"},img19:{url:fI,author:"Matteo Scaringi",name:"Long Exposure",source:"Slijpe, West-Flanders, Belgium"},img14:{url:lI,author:"Kees van Voorthuizen",name:"Scheveningen"},img01:{url:YE,author:"Kees van Voorthuizen",name:"Mykonos Seaside",source:"Mykonos, Greece"},img02:{url:JE,author:"Kees van Voorthuizen",name:"Sunset in Mykonos",source:"Mykonos, Greece"},img17:{url:cI,author:"Blocky (Cy)",name:"Sunset Sky",source:"Fairfield Bay, US"},img16:{url:aI,author:"Matteo Scaringi, Izaak Kuipers",name:"Login Background - Blurred",source:"Corfu, Greece"},img06:{url:eI,author:"Izaak Kuipers",name:"ArcOS Beta Dark"},img07:{url:tI,author:"Izaak Kuipers",name:"ArcOS Beta Light"},img0:{url:qE,author:"Izaak Kuipers",name:"Blank"}},Fs=[["@local:",async r=>await dI(atob(r.replace("@local:","")))],["img",r=>Jn[r]||Jn.img04]];async function Vl(r){if(!r)return Jn.img04;if(r.startsWith("http"))return{author:"The Web",name:r,url:r};for(let e=0;e<Fs.length;e++)if(r.startsWith(Fs[e][0]))return await Fs[e][1](r);return Jn.img04}async function dI(r){ie("wallpapers.ts: wallpaperFromFS",`Reading wallpaper from path "${r}"...`,oe.info);const e=await un(r);if(!e)return ie("wallpapers.ts: wallpaperFromFS",`Unable to get wallpaper "${r}"`,oe.error),Jn.img04;const t=URL.createObjectURL(new Blob([new Uint8Array(e)],{type:"image/jpeg"}));return{url:t,author:K(Pe),name:t,source:""}}function pI(r){let e,t,n,i;return{c(){e=g("div"),t=g("div"),n=T(),i=g("div"),i.innerHTML='<div class="fake-titlebar">Window Title</div> <div class="fake-body">Window body</div>',h(t,"class","fake-taskbar"),j(t,"colored",r[1].sh.taskbar.colored),j(t,"docked",r[1].sh.taskbar.docked),h(i,"class","fake-window"),h(e,"class","current"),Se(e,"background-image","url("+r[0]+")")},m(s,l){S(s,e,l),p(e,t),p(e,n),p(e,i)},p(s,[l]){l&2&&j(t,"colored",s[1].sh.taskbar.colored),l&2&&j(t,"docked",s[1].sh.taskbar.docked),l&1&&Se(e,"background-image","url("+s[0]+")")},i:O,o:O,d(s){s&&y(e)}}}function mI(r,e,t){let n;G(r,te,s=>t(1,n=s));let i="";return te.subscribe(async()=>{t(0,i=(await Vl(n.sh.desktop.wallpaper)).url)}),[i,n]}class ql extends U{constructor(e){super(),z(this,e,mI,pI,P,{})}}function Wu(r){let e;return{c(){e=g("span"),e.textContent="block",h(e,"class","material-icons-round none")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function hI(r){let e,t,n,i,s=r[0][0]=="img0"&&Wu();return{c(){e=g("div"),s&&s.c(),h(e,"class","wallpaper"),Se(e,"background-image","url("+r[0][1].url+")"),h(e,"title",t=r[0][0]=="img0"?"(none)":`${r[0][1].name} from ${r[0][1].author}`),j(e,"selected",r[1].sh.desktop.wallpaper==r[0][0])},m(l,o){S(l,e,o),s&&s.m(e,null),n||(i=N(e,"click",r[2]),n=!0)},p(l,[o]){l[0][0]=="img0"?s||(s=Wu(),s.c(),s.m(e,null)):s&&(s.d(1),s=null),o&1&&Se(e,"background-image","url("+l[0][1].url+")"),o&1&&t!==(t=l[0][0]=="img0"?"(none)":`${l[0][1].name} from ${l[0][1].author}`)&&h(e,"title",t),o&3&&j(e,"selected",l[1].sh.desktop.wallpaper==l[0][0])},i:O,o:O,d(l){l&&y(e),s&&s.d(),n=!1,i()}}}function gI(r,e,t){let n;G(r,te,l=>t(1,n=l));let{wallpaper:i}=e;function s(){Ee(te,n.sh.desktop.wallpaper=i[0],n)}return r.$$set=l=>{"wallpaper"in l&&t(0,i=l.wallpaper)},[i,n,s]}class AI extends U{constructor(e){super(),z(this,e,gI,hI,P,{wallpaper:0})}}function Ku(r,e,t){const n=r.slice();return n[2]=e[t],n}function Gu(r){let e,t;return e=new AI({props:{wallpaper:r[2]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function bI(r){let e,t,n,i,s,l,o,a,c,u,f;t=new ql({});let d=X(Object.entries(Jn)),m=[];for(let A=0;A<d.length;A+=1)m[A]=Gu(Ku(r,d,A));const b=A=>C(m[A],1,1,()=>{m[A]=null});return{c(){e=g("div"),M(t.$$.fragment),n=T(),i=g("div");for(let A=0;A<m.length;A+=1)m[A].c();s=T(),l=g("div"),l.textContent="upload",o=T(),a=g("div"),a.textContent="travel_explore",h(l,"class","wallpaper nobg customwp material-icons-round"),h(l,"title","Upload wallpaper"),h(a,"class","wallpaper nobg customwp material-icons-round"),h(a,"title","Wallpaper from URL"),h(i,"class","wallpapers"),h(e,"class","desktop-page")},m(A,_){S(A,e,_),D(t,e,null),p(e,n),p(e,i);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(i,null);p(i,s),p(i,l),p(i,o),p(i,a),c=!0,u||(f=[N(l,"click",r[1]),N(a,"click",r[0])],u=!0)},p(A,[_]){if(_&0){d=X(Object.entries(Jn));let v;for(v=0;v<d.length;v+=1){const k=Ku(A,d,v);m[v]?(m[v].p(k,_),w(m[v],1)):(m[v]=Gu(k),m[v].c(),w(m[v],1),m[v].m(i,s))}for(V(),v=d.length;v<m.length;v+=1)b(v);q()}},i(A){if(!c){w(t.$$.fragment,A);for(let _=0;_<d.length;_+=1)w(m[_]);c=!0}},o(A){C(t.$$.fragment,A),m=m.filter(Boolean);for(let _=0;_<m.length;_+=1)C(m[_]);c=!1},d(A){A&&y(e),B(t),me(m,A),u=!1,ke(f)}}}function _I(r){function e(){Xe("customWallpaper","SettingsApp")}async function t(){await Yi("./Wallpapers");const n=await GE("./Wallpapers","image/png, image/jpeg, image/gif, image/svg+xml"),i=K(te);i.sh.desktop.wallpaper=`@local:${btoa(n)}`,te.set(i)}return[e,t]}let wI=class extends U{constructor(e){super(),z(this,e,_I,bI,P,{})}};function vI(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"id","a"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.taskbar.isLauncher,t||(n=N(e,"change",r[1]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.taskbar.isLauncher)},d(i){i&&y(e),t=!1,n()}}}function Vu(r){let e,t,n,i,s,l;return e=new rt({props:{title:"Center taskbar buttons",context:"Centers the taskbar app buttons",$$slots:{default:[kI]},$$scope:{ctx:r}}}),n=new rt({props:{title:"Taskbar app labels",context:"Display app names on the taskbar",$$slots:{default:[yI]},$$scope:{ctx:r}}}),s=new rt({props:{title:"Taskbar position",context:"Where do you want the taskbar?",$$slots:{default:[SI]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment),i=T(),M(s.$$.fragment)},m(o,a){D(e,o,a),S(o,t,a),D(n,o,a),S(o,i,a),D(s,o,a),l=!0},p(o,a){const c={};a&513&&(c.$$scope={dirty:a,ctx:o}),e.$set(c);const u={};a&513&&(u.$$scope={dirty:a,ctx:o}),n.$set(u);const f={};a&513&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){l||(w(e.$$.fragment,o),w(n.$$.fragment,o),w(s.$$.fragment,o),l=!0)},o(o){C(e.$$.fragment,o),C(n.$$.fragment,o),C(s.$$.fragment,o),l=!1},d(o){o&&(y(t),y(i)),B(e,o),B(n,o),B(s,o)}}}function kI(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"id","a"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.taskbar.centered,t||(n=N(e,"change",r[2]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.taskbar.centered)},d(i){i&&y(e),t=!1,n()}}}function yI(r){let e,t,n,i;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"id","a"),h(e,"class","switch"),e.disabled=t=!!r[0].sh.taskbar.pos},m(s,l){S(s,e,l),e.checked=r[0].sh.taskbar.labels,n||(i=N(e,"change",r[3]),n=!0)},p(s,l){l&1&&t!==(t=!!s[0].sh.taskbar.pos)&&(e.disabled=t),l&1&&(e.checked=s[0].sh.taskbar.labels)},d(s){s&&y(e),n=!1,i()}}}function SI(r){let e,t,n,i,s,l;return{c(){e=g("select"),t=g("option"),t.textContent="Left",n=g("option"),n.textContent="Bottom",i=g("option"),i.textContent="Right",t.__value="vertical",he(t,t.__value),n.__value="",he(n,n.__value),i.__value="vertical-right",he(i,i.__value),r[0].sh.taskbar.pos===void 0&&In(()=>r[4].call(e))},m(o,a){S(o,e,a),p(e,t),p(e,n),p(e,i),En(e,r[0].sh.taskbar.pos,!0),s||(l=N(e,"change",r[4]),s=!0)},p(o,a){a&1&&En(e,o[0].sh.taskbar.pos)},d(o){o&&y(e),s=!1,l()}}}function $I(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"id","a"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.start.small,t||(n=N(e,"change",r[5]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.start.small)},d(i){i&&y(e),t=!1,n()}}}function CI(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"id","a"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.taskbar.docked,t||(n=N(e,"change",r[6]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.taskbar.docked)},d(i){i&&y(e),t=!1,n()}}}function TI(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"id","a"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.taskbar.colored,t||(n=N(e,"change",r[7]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.taskbar.colored)},d(i){i&&y(e),t=!1,n()}}}function EI(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.compactContext,t||(n=N(e,"change",r[8]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.compactContext)},d(i){i&&y(e),t=!1,n()}}}function II(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A;n=new rt({props:{title:"Launcher Mode",context:"Use a GNOME-style launcher instead of the taskbar",$$slots:{default:[vI]},$$scope:{ctx:r}}});let _=!r[0].sh.taskbar.isLauncher&&Vu(r);return a=new rt({props:{title:"Small start menu",context:"Make the start menu smaller",$$slots:{default:[$I]},$$scope:{ctx:r}}}),u=new rt({props:{title:"Dock shell",context:"Dock the taskbar and action center",$$slots:{default:[CI]},$$scope:{ctx:r}}}),d=new rt({props:{title:"Colored shell",context:"Apply the accent color to the shell",$$slots:{default:[TI]},$$scope:{ctx:r}}}),b=new rt({props:{title:"Compact context menu",context:"Make the context menu more compact",$$slots:{default:[EI]},$$scope:{ctx:r}}}),{c(){e=g("h1"),e.textContent="Shell",t=T(),M(n.$$.fragment),i=T(),_&&_.c(),s=T(),l=g("hr"),o=T(),M(a.$$.fragment),c=T(),M(u.$$.fragment),f=T(),M(d.$$.fragment),m=T(),M(b.$$.fragment)},m(v,k){S(v,e,k),S(v,t,k),D(n,v,k),S(v,i,k),_&&_.m(v,k),S(v,s,k),S(v,l,k),S(v,o,k),D(a,v,k),S(v,c,k),D(u,v,k),S(v,f,k),D(d,v,k),S(v,m,k),D(b,v,k),A=!0},p(v,[k]){const $={};k&513&&($.$$scope={dirty:k,ctx:v}),n.$set($),v[0].sh.taskbar.isLauncher?_&&(V(),C(_,1,1,()=>{_=null}),q()):_?(_.p(v,k),k&1&&w(_,1)):(_=Vu(v),_.c(),w(_,1),_.m(s.parentNode,s));const E={};k&513&&(E.$$scope={dirty:k,ctx:v}),a.$set(E);const I={};k&513&&(I.$$scope={dirty:k,ctx:v}),u.$set(I);const R={};k&513&&(R.$$scope={dirty:k,ctx:v}),d.$set(R);const L={};k&513&&(L.$$scope={dirty:k,ctx:v}),b.$set(L)},i(v){A||(w(n.$$.fragment,v),w(_),w(a.$$.fragment,v),w(u.$$.fragment,v),w(d.$$.fragment,v),w(b.$$.fragment,v),A=!0)},o(v){C(n.$$.fragment,v),C(_),C(a.$$.fragment,v),C(u.$$.fragment,v),C(d.$$.fragment,v),C(b.$$.fragment,v),A=!1},d(v){v&&(y(e),y(t),y(i),y(s),y(l),y(o),y(c),y(f),y(m)),B(n,v),_&&_.d(v),B(a,v),B(u,v),B(d,v),B(b,v)}}}function OI(r,e,t){let n;G(r,te,d=>t(0,n=d));function i(){n.sh.taskbar.isLauncher=this.checked,te.set(n)}function s(){n.sh.taskbar.centered=this.checked,te.set(n)}function l(){n.sh.taskbar.labels=this.checked,te.set(n)}function o(){n.sh.taskbar.pos=Zr(this),te.set(n)}function a(){n.sh.start.small=this.checked,te.set(n)}function c(){n.sh.taskbar.docked=this.checked,te.set(n)}function u(){n.sh.taskbar.colored=this.checked,te.set(n)}function f(){n.sh.compactContext=this.checked,te.set(n)}return[n,i,s,l,o,a,c,u,f]}let RI=class extends U{constructor(e){super(),z(this,e,OI,II,P,{})}};const qu={arcDark:{author:"ArcOS Team",version:"1.0.0",name:"ArcOS Dark",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img04",taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",docked:!1,accent:"70D6FF",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!1},arcLight:{author:"ArcOS Team",version:"1.0.0",name:"ArcOS Light",anim:!0,noGlass:!1,sharp:!1,theme:"light",wallpaper:"img05",taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",docked:!1,accent:"70D6FF",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!1},theHague:{author:"Aron Wagener",version:"1.0.0",name:"The Hague",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img13",taskbarCentered:!1,taskbarLabels:!0,taskbarPosition:"",docked:!0,accent:"0A0",smallStart:!1,titleButtons:"default",titlebarLarge:!0,titlebarLeft:!1,taskbarColored:!1},wacky:{author:"Izaak Kuipers",version:"1.0.0",name:"Wacky",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img03",taskbarCentered:!0,taskbarLabels:!0,taskbarPosition:"vertical",docked:!1,accent:"fa0",smallStart:!0,titleButtons:"og",titlebarLarge:!0,titlebarLeft:!0,taskbarColored:!1},performance:{author:"ArcOS Team",version:"1.0.0",name:"Optimal Performance",anim:!1,noGlass:!0,sharp:!0,theme:"dark",wallpaper:"img0",taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",docked:!0,accent:"FFF",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!1},wandelbos:{version:"1.0.0",name:"Wandelbos",author:"Izaak",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img08",accent:"91F5AD",docked:!0,taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!0},scheveningen:{version:"1.0.0",name:"Scheveningen",author:"Izaak & keesvv",anim:!0,noGlass:!1,sharp:!1,theme:"dark",wallpaper:"img14",accent:"264653",docked:!0,taskbarCentered:!1,taskbarLabels:!1,taskbarPosition:"",smallStart:!0,titleButtons:"default",titlebarLarge:!1,titlebarLeft:!1,taskbarColored:!0}};function LI(r){let e,t,n,i,s,l,o,a,c,u,f;return{c(){e=g("button"),t=g("div"),n=g("div"),h(n,"class","accent"),Se(n,"color",r[0][1].accent),h(t,"class",i="mockup-window theme-"+r[0][1].theme),h(e,"class","themerenderer"),h(e,"title",s=r[0][1].name+" by "+r[0][1].author),Se(e,"background-image","url("+r[2]+")"),Se(e,"--accent","#"+r[0][1].accent),h(e,"data-id",l=r[0][0]),h(e,"data-contextmenu",o="themerenderer-"+(r[1]?"user":"system")),h(e,"data-name",a=r[0][1].name),h(e,"data-json",c=JSON.stringify(r[0][1])),j(e,"sharp",r[0][1].sharp)},m(d,m){S(d,e,m),p(e,t),p(t,n),u||(f=N(e,"click",r[3]),u=!0)},p(d,[m]){m&1&&Se(n,"color",d[0][1].accent),m&1&&i!==(i="mockup-window theme-"+d[0][1].theme)&&h(t,"class",i),m&1&&s!==(s=d[0][1].name+" by "+d[0][1].author)&&h(e,"title",s),m&4&&Se(e,"background-image","url("+d[2]+")"),m&1&&Se(e,"--accent","#"+d[0][1].accent),m&1&&l!==(l=d[0][0])&&h(e,"data-id",l),m&2&&o!==(o="themerenderer-"+(d[1]?"user":"system"))&&h(e,"data-contextmenu",o),m&1&&a!==(a=d[0][1].name)&&h(e,"data-name",a),m&1&&c!==(c=JSON.stringify(d[0][1]))&&h(e,"data-json",c),m&1&&j(e,"sharp",d[0][1].sharp)},i:O,o:O,d(d){d&&y(e),u=!1,f()}}}function DI(r,e,t){let{theme:n}=e,{user:i=!1}=e,s="";function l(){xp(n[1])}return ve(async()=>{t(2,s=(await Vl(n[1].wallpaper)).url)}),r.$$set=o=>{"theme"in o&&t(0,n=o.theme),"user"in o&&t(1,i=o.user)},[n,i,s,l]}class Fm extends U{constructor(e){super(),z(this,e,DI,LI,P,{theme:0,user:1})}}function Yu(r,e,t){const n=r.slice();return n[4]=e[t],n}function Ju(r,e,t){const n=r.slice();return n[4]=e[t],n}function Zu(r){let e,t;return e=new Fm({props:{theme:r[4]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Xu(r){let e,t,n=X(Object.entries(r[1].sh.userThemes)),i=[];for(let l=0;l<n.length;l+=1)i[l]=xu(Yu(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=le()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&2){n=X(Object.entries(l[1].sh.userThemes));let a;for(a=0;a<n.length;a+=1){const c=Yu(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=xu(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function xu(r){let e,t;return e=new Fm({props:{theme:r[4],user:!0}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.theme=n[4]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function BI(r){let e,t,n,i,s,l,o,a=X(Object.entries(qu)),c=[];for(let d=0;d<a.length;d+=1)c[d]=Zu(Ju(r,a,d));const u=d=>C(c[d],1,1,()=>{c[d]=null});let f=!r[0]&&r[1].sh.userThemes&&Xu(r);return{c(){e=g("div");for(let d=0;d<c.length;d+=1)c[d].c();t=T(),f&&f.c(),n=T(),i=g("button"),i.textContent="save",h(i,"class","themerenderer save material-icons-round"),h(i,"title","Save current theme"),h(e,"class","themes")},m(d,m){S(d,e,m);for(let b=0;b<c.length;b+=1)c[b]&&c[b].m(e,null);p(e,t),f&&f.m(e,null),p(e,n),p(e,i),s=!0,l||(o=N(i,"click",r[2]),l=!0)},p(d,[m]){if(m&0){a=X(Object.entries(qu));let b;for(b=0;b<a.length;b+=1){const A=Ju(d,a,b);c[b]?(c[b].p(A,m),w(c[b],1)):(c[b]=Zu(A),c[b].c(),w(c[b],1),c[b].m(e,t))}for(V(),b=a.length;b<c.length;b+=1)u(b);q()}!d[0]&&d[1].sh.userThemes?f?(f.p(d,m),m&3&&w(f,1)):(f=Xu(d),f.c(),w(f,1),f.m(e,n)):f&&(V(),C(f,1,1,()=>{f=null}),q())},i(d){if(!s){for(let m=0;m<a.length;m+=1)w(c[m]);w(f),s=!0}},o(d){c=c.filter(Boolean);for(let m=0;m<c.length;m+=1)C(c[m]);C(f),s=!1},d(d){d&&y(e),me(c,d),f&&f.d(),l=!1,o()}}}function MI(r,e,t){let n;G(r,te,o=>t(1,n=o));let i=0,s=!1;return te.subscribe(o=>{const a=Object.entries(o.sh.userThemes);i!=a.length&&(i=a.length,t(0,s=!0),setTimeout(()=>{t(0,s=!1)}))}),[s,n,()=>Xe("saveTheme","SettingsApp")]}class FI extends U{constructor(e){super(),z(this,e,MI,BI,P,{})}}function PI(r){let e,t,n,i,s,l;return n=new ql({}),s=new FI({}),{c(){e=g("div"),t=g("div"),M(n.$$.fragment),i=T(),M(s.$$.fragment),h(t,"class","desktop-page"),h(e,"class","settingspage-themes")},m(o,a){S(o,e,a),p(e,t),D(n,t,null),p(e,i),D(s,e,null),l=!0},p:O,i(o){l||(w(n.$$.fragment,o),w(s.$$.fragment,o),l=!0)},o(o){C(n.$$.fragment,o),C(s.$$.fragment,o),l=!1},d(o){o&&y(e),B(n),B(s)}}}class zI extends U{constructor(e){super(),z(this,e,null,PI,P,{})}}const UI=["D62828","F3722C","F49E4C","F8961E","F9C74F","E2C044","E9FF70","C2E812","90BE6D","F1FAEE","61E786","91F5AD","43AA8B","A8DADC","70D6FF","264653","457B9D","577590","1D3557","AFCBFF","03045E","A09BE7","7209B7","F72585","F61067","FF70A6","E63946","F94144"];function NI(r){let e,t,n,i;return{c(){e=g("button"),h(e,"class","color ol reset svelte-1wlqbdo"),Se(e,"background","#"+r[0]),h(e,"data-contextmenu","appearance-accentselector"),h(e,"data-hex",r[0]),h(e,"title",t="#"+r[0].toUpperCase()),j(e,"selected",r[0]==r[1].sh.desktop.accent)},m(s,l){S(s,e,l),n||(i=N(e,"click",r[2]),n=!0)},p(s,[l]){l&1&&Se(e,"background","#"+s[0]),l&1&&h(e,"data-hex",s[0]),l&1&&t!==(t="#"+s[0].toUpperCase())&&h(e,"title",t),l&3&&j(e,"selected",s[0]==s[1].sh.desktop.accent)},i:O,o:O,d(s){s&&y(e),n=!1,i()}}}function jI(r,e,t){let n;G(r,te,l=>t(1,n=l));let{color:i}=e;function s(){Ee(te,n.sh.desktop.accent=i,n)}return r.$$set=l=>{"color"in l&&t(0,i=l.color)},[i,n,s]}class HI extends U{constructor(e){super(),z(this,e,jI,NI,P,{color:0})}}function QI(r,e,t){const n=r.slice();return n[0]=e[t],n}function WI(r){let e,t;return e=new HI({props:{color:r[0]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function KI(r){let e,t,n,i;e=new rt({props:{title:"Accent Color",context:"Choose an accent color for ArcOS"}});let s=X(UI),l=[];for(let o=0;o<s.length;o+=1)l[o]=WI(QI(r,s,o));return{c(){M(e.$$.fragment),t=T(),n=g("div");for(let o=0;o<l.length;o+=1)l[o].c();h(n,"class","wrapper svelte-1xz38z7")},m(o,a){D(e,o,a),S(o,t,a),S(o,n,a);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(n,null);i=!0},p:O,i(o){if(!i){w(e.$$.fragment,o);for(let a=0;a<s.length;a+=1)w(l[a]);i=!0}},o(o){C(e.$$.fragment,o),l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)C(l[a]);i=!1},d(o){o&&(y(t),y(n)),B(e,o),me(l,o)}}}class GI extends U{constructor(e){super(),z(this,e,null,KI,P,{})}}function VI(r){let e,t,n,i,s,l,o,a,c;return{c(){e=g("select"),t=g("option"),t.textContent="Darkmode",n=g("option"),n.textContent="Lightmode",i=g("option"),i.textContent="Amoled",s=g("option"),s.textContent="Amber Monochrome",l=g("option"),l.textContent="Science Fiction",o=g("option"),o.textContent="High contrast",t.__value="dark",he(t,t.__value),n.__value="light",he(n,n.__value),i.__value="amoled",he(i,i.__value),s.__value="amber",he(s,s.__value),l.__value="scifi",he(l,l.__value),o.__value="hc",he(o,o.__value),h(e,"name","aa"),h(e,"id","bb"),r[0].sh.desktop.theme===void 0&&In(()=>r[1].call(e))},m(u,f){S(u,e,f),p(e,t),p(e,n),p(e,i),p(e,s),p(e,l),p(e,o),En(e,r[0].sh.desktop.theme,!0),a||(c=N(e,"change",r[1]),a=!0)},p(u,f){f&1&&En(e,u[0].sh.desktop.theme)},d(u){u&&y(e),a=!1,c()}}}function qI(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.anim,t||(n=N(e,"change",r[2]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.anim)},d(i){i&&y(e),t=!1,n()}}}function YI(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.noGlass,t||(n=N(e,"change",r[3]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.noGlass)},d(i){i&&y(e),t=!1,n()}}}function JI(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.desktop.sharp,t||(n=N(e,"change",r[4]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.desktop.sharp)},d(i){i&&y(e),t=!1,n()}}}function ZI(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.desktop.noCustomCursor,t||(n=N(e,"change",r[5]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.desktop.noCustomCursor)},d(i){i&&y(e),t=!1,n()}}}function XI(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v,k;return n=new rt({props:{title:"Style",context:"Change the style of the UI",$$slots:{default:[VI]},$$scope:{ctx:r}}}),o=new rt({props:{title:"Animations",context:"Display animations in ArcOS",$$slots:{default:[qI]},$$scope:{ctx:r}}}),c=new rt({props:{title:"No glass",context:"Disable glass effects in ArcOS",$$slots:{default:[YI]},$$scope:{ctx:r}}}),f=new rt({props:{title:"Sharp corners",context:"Disable rounding in all of ArcOS",$$slots:{default:[JI]},$$scope:{ctx:r}}}),m=new rt({props:{title:"No Custom Cursors",context:"Disable the ArcOS custom cursors",$$slots:{default:[ZI]},$$scope:{ctx:r}}}),v=new GI({}),{c(){e=g("h1"),e.textContent="Appearance",t=T(),M(n.$$.fragment),i=T(),s=g("hr"),l=T(),M(o.$$.fragment),a=T(),M(c.$$.fragment),u=T(),M(f.$$.fragment),d=T(),M(m.$$.fragment),b=T(),A=g("hr"),_=T(),M(v.$$.fragment)},m($,E){S($,e,E),S($,t,E),D(n,$,E),S($,i,E),S($,s,E),S($,l,E),D(o,$,E),S($,a,E),D(c,$,E),S($,u,E),D(f,$,E),S($,d,E),D(m,$,E),S($,b,E),S($,A,E),S($,_,E),D(v,$,E),k=!0},p($,[E]){const I={};E&65&&(I.$$scope={dirty:E,ctx:$}),n.$set(I);const R={};E&65&&(R.$$scope={dirty:E,ctx:$}),o.$set(R);const L={};E&65&&(L.$$scope={dirty:E,ctx:$}),c.$set(L);const H={};E&65&&(H.$$scope={dirty:E,ctx:$}),f.$set(H);const Q={};E&65&&(Q.$$scope={dirty:E,ctx:$}),m.$set(Q)},i($){k||(w(n.$$.fragment,$),w(o.$$.fragment,$),w(c.$$.fragment,$),w(f.$$.fragment,$),w(m.$$.fragment,$),w(v.$$.fragment,$),k=!0)},o($){C(n.$$.fragment,$),C(o.$$.fragment,$),C(c.$$.fragment,$),C(f.$$.fragment,$),C(m.$$.fragment,$),C(v.$$.fragment,$),k=!1},d($){$&&(y(e),y(t),y(i),y(s),y(l),y(a),y(u),y(d),y(b),y(A),y(_)),B(n,$),B(o,$),B(c,$),B(f,$),B(m,$),B(v,$)}}}function xI(r,e,t){let n;G(r,te,c=>t(0,n=c));function i(){n.sh.desktop.theme=Zr(this),te.set(n)}function s(){n.sh.anim=this.checked,te.set(n)}function l(){n.sh.noGlass=this.checked,te.set(n)}function o(){n.sh.desktop.sharp=this.checked,te.set(n)}function a(){n.sh.desktop.noCustomCursor=this.checked,te.set(n)}return[n,i,s,l,o,a]}class e4 extends U{constructor(e){super(),z(this,e,xI,XI,P,{})}}function t4(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.window.bigtb,t||(n=N(e,"change",r[1]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.window.bigtb)},d(i){i&&y(e),t=!1,n()}}}function n4(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.window.lefttb,t||(n=N(e,"change",r[2]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.window.lefttb)},d(i){i&&y(e),t=!1,n()}}}function i4(r){let e,t,n;return{c(){e=g("input"),h(e,"type","checkbox"),h(e,"class","switch")},m(i,s){S(i,e,s),e.checked=r[0].sh.window.centertb,t||(n=N(e,"change",r[3]),t=!0)},p(i,s){s&1&&(e.checked=i[0].sh.window.centertb)},d(i){i&&y(e),t=!1,n()}}}function r4(r){let e,t,n;return{c(){e=g("button"),e.textContent="Change..."},m(i,s){S(i,e,s),t||(n=N(e,"click",r[4]),t=!0)},p:O,d(i){i&&y(e),t=!1,n()}}}function s4(r){let e,t,n,i,s,l,o,a,c,u;return n=new rt({props:{title:"Large titlebar",context:"Make the titlebars larger",$$slots:{default:[t4]},$$scope:{ctx:r}}}),s=new rt({props:{title:"Left titlebar buttons",context:"Swap the title and window controls",$$slots:{default:[n4]},$$scope:{ctx:r}}}),o=new rt({props:{title:"Center window title",context:"Put the window title in the center of the titlebar.",$$slots:{default:[i4]},$$scope:{ctx:r}}}),c=new rt({props:{title:"Titlebar Buttons",context:"Change the titlebar controls",$$slots:{default:[r4]},$$scope:{ctx:r}}}),{c(){e=g("h1"),e.textContent="Windows",t=T(),M(n.$$.fragment),i=T(),M(s.$$.fragment),l=T(),M(o.$$.fragment),a=T(),M(c.$$.fragment)},m(f,d){S(f,e,d),S(f,t,d),D(n,f,d),S(f,i,d),D(s,f,d),S(f,l,d),D(o,f,d),S(f,a,d),D(c,f,d),u=!0},p(f,[d]){const m={};d&33&&(m.$$scope={dirty:d,ctx:f}),n.$set(m);const b={};d&33&&(b.$$scope={dirty:d,ctx:f}),s.$set(b);const A={};d&33&&(A.$$scope={dirty:d,ctx:f}),o.$set(A);const _={};d&32&&(_.$$scope={dirty:d,ctx:f}),c.$set(_)},i(f){u||(w(n.$$.fragment,f),w(s.$$.fragment,f),w(o.$$.fragment,f),w(c.$$.fragment,f),u=!0)},o(f){C(n.$$.fragment,f),C(s.$$.fragment,f),C(o.$$.fragment,f),C(c.$$.fragment,f),u=!1},d(f){f&&(y(e),y(t),y(i),y(l),y(a)),B(n,f),B(s,f),B(o,f),B(c,f)}}}function l4(r,e,t){let n;G(r,te,a=>t(0,n=a));function i(){n.sh.window.bigtb=this.checked,te.set(n)}function s(){n.sh.window.lefttb=this.checked,te.set(n)}function l(){n.sh.window.centertb=this.checked,te.set(n)}return[n,i,s,l,()=>Xe("changeTitleButtons","SettingsApp")]}class o4 extends U{constructor(e){super(),z(this,e,l4,s4,P,{})}}const Nn=[{name:"Account",icon:ol,content:UE,sep:!0},{name:"Themes",icon:Gl,content:zI},{name:"Wallpaper",icon:Kr,content:wI},{name:"Visuals",icon:Mm,content:e4,sep:!0},{name:"Shell",icon:dE,content:RI},{name:"Windows",icon:pE,content:o4},{name:"Apps",icon:ps,content:KE,sep:!0},{name:"About",icon:tn(),content:CE}];function a4(r){for(let e=0;e<Nn.length;e++)if(Nn[e].name==r)return Nn[e];return null}function Bi(r){const e=a4(r);e&&(ze("SettingsApp"),setTimeout(()=>{Yn.set(e)}))}function ef(r){let e,t,n,i,s,l,o=r[0].name+"",a,c,u,f;return{c(){e=g("button"),t=g("img"),s=T(),l=g("span"),a=F(o),de(t.src,n=r[0].icon)||h(t,"src",n),h(t,"alt",i=r[0].name),h(t,"class","icon"),h(l,"class","caption"),h(e,"class","page"),e.disabled=c=r[0].disabled,j(e,"selected",r[1]&&r[0].name==r[1].name)},m(d,m){S(d,e,m),p(e,t),p(e,s),p(e,l),p(l,a),u||(f=N(e,"click",r[2]),u=!0)},p(d,m){m&1&&!de(t.src,n=d[0].icon)&&h(t,"src",n),m&1&&i!==(i=d[0].name)&&h(t,"alt",i),m&1&&o!==(o=d[0].name+"")&&W(a,o),m&1&&c!==(c=d[0].disabled)&&(e.disabled=c),m&3&&j(e,"selected",d[1]&&d[0].name==d[1].name)},d(d){d&&y(e),u=!1,f()}}}function tf(r){let e;return{c(){e=g("hr")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function c4(r){let e,t,n=!r[0].hidden&&ef(r),i=r[0].sep&&tf();return{c(){n&&n.c(),e=T(),i&&i.c(),t=le()},m(s,l){n&&n.m(s,l),S(s,e,l),i&&i.m(s,l),S(s,t,l)},p(s,[l]){s[0].hidden?n&&(n.d(1),n=null):n?n.p(s,l):(n=ef(s),n.c(),n.m(e.parentNode,e)),s[0].sep?i||(i=tf(),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i:O,o:O,d(s){s&&(y(e),y(t)),n&&n.d(s),i&&i.d(s)}}}function u4(r,e,t){let n;G(r,Yn,l=>t(1,n=l));let{page:i}=e;const s=()=>aE(i);return r.$$set=l=>{"page"in l&&t(0,i=l.page)},[i,n,s]}class f4 extends U{constructor(e){super(),z(this,e,u4,c4,P,{page:0})}}function d4(r){let e,t,n,i,s,l,o,a,c,u,f,d,m;return n=new At({props:{src:r[0],height:36}}),u=new er({}),{c(){e=g("div"),t=g("span"),M(n.$$.fragment),i=T(),s=g("div"),l=g("p"),o=F(r[1]),a=T(),c=g("p"),M(u.$$.fragment),h(l,"class","name"),h(c,"class","hostname"),h(s,"class","username"),h(e,"class","userprofile")},m(b,A){S(b,e,A),p(e,t),D(n,t,null),p(e,i),p(e,s),p(s,l),p(l,o),p(s,a),p(s,c),D(u,c,null),f=!0,d||(m=N(t,"click",r[2]),d=!0)},p(b,[A]){const _={};A&1&&(_.src=b[0]),n.$set(_),(!f||A&2)&&W(o,b[1])},i(b){f||(w(n.$$.fragment,b),w(u.$$.fragment,b),f=!0)},o(b){C(n.$$.fragment,b),C(u.$$.fragment,b),f=!1},d(b){b&&y(e),B(n),B(u),d=!1,m()}}}function p4(r,e,t){let n,i;G(r,te,o=>t(3,n=o)),G(r,Pe,o=>t(1,i=o));let s="";te.subscribe(()=>{t(0,s=gn(n.acc.profilePicture))});function l(){typeof n.acc.profilePicture=="string"&&Xe("largePfp","SettingsApp")}return[s,i,l]}class m4 extends U{constructor(e){super(),z(this,e,p4,d4,P,{})}}function h4(r,e,t){const n=r.slice();return n[4]=e[t],n}function nf(r){let e,t,n;return{c(){e=g("button"),e.innerHTML='<span class="material-icons-round">menu</span>',h(e,"class","page menu"),j(e,"active",r[0].collapsed)},m(i,s){S(i,e,s),t||(n=N(e,"click",r[1]),t=!0)},p(i,s){s&1&&j(e,"active",i[0].collapsed)},d(i){i&&y(e),t=!1,n()}}}function g4(r){let e,t;return e=new f4({props:{page:r[4]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function A4(r){let e,t,n,i,s,l,o=r[0]&&nf(r),a=X(Nn),c=[];for(let u=0;u<a.length;u+=1)c[u]=g4(h4(r,a,u));return s=new m4({}),{c(){e=g("div"),t=g("div"),o&&o.c(),n=T();for(let u=0;u<c.length;u+=1)c[u].c();i=T(),M(s.$$.fragment),h(t,"class","pages"),h(e,"class","sidebar"),j(e,"collapsed",r[0].collapsed)},m(u,f){S(u,e,f),p(e,t),o&&o.m(t,null),p(t,n);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(t,null);p(e,i),D(s,e,null),l=!0},p(u,[f]){u[0]?o?o.p(u,f):(o=nf(u),o.c(),o.m(t,n)):o&&(o.d(1),o=null),(!l||f&1)&&j(e,"collapsed",u[0].collapsed)},i(u){if(!l){for(let f=0;f<a.length;f+=1)w(c[f]);w(s.$$.fragment,u),l=!0}},o(u){c=c.filter(Boolean);for(let f=0;f<c.length;f+=1)C(c[f]);C(s.$$.fragment,u),l=!1},d(u){u&&y(e),o&&o.d(),me(c,u),B(s)}}}function b4(r,e,t){let n;G(r,te,o=>t(3,n=o));let{appdata:i}=e,{app:s}=e;function l(){t(0,i.collapsed=!i.collapsed,i),Ee(te,n.appdata[s.id]=i,n)}return r.$$set=o=>{"appdata"in o&&t(0,i=o.appdata),"app"in o&&t(2,s=o.app)},[i,l,s]}class _4 extends U{constructor(e){super(),z(this,e,b4,A4,P,{appdata:0,app:2})}}function w4(r){let e,t,n,i,s;function l(a){r[2](a)}let o={app:r[1]};return r[0]!==void 0&&(o.appdata=r[0]),e=new _4({props:o}),we.push(()=>Ce(e,"appdata",l)),i=new fE({props:{appdata:r[0]}}),{c(){M(e.$$.fragment),n=T(),M(i.$$.fragment)},m(a,c){D(e,a,c),S(a,n,c),D(i,a,c),s=!0},p(a,[c]){const u={};c&2&&(u.app=a[1]),!t&&c&1&&(t=!0,u.appdata=a[0],$e(()=>t=!1)),e.$set(u);const f={};c&1&&(f.appdata=a[0]),i.$set(f)},i(a){s||(w(e.$$.fragment,a),w(i.$$.fragment,a),s=!0)},o(a){C(e.$$.fragment,a),C(i.$$.fragment,a),s=!1},d(a){a&&y(n),B(e,a),B(i,a)}}}function v4(r,e,t){let{appdata:n}=e,{app:i}=e;function s(l){n=l,t(0,n)}return r.$$set=l=>{"appdata"in l&&t(0,n=l.appdata),"app"in l&&t(1,i=l.app)},[n,i,s]}let k4=class extends U{constructor(e){super(),z(this,e,v4,w4,P,{appdata:0,app:1})}};function rf(r,e,t){const n=r.slice();return n[8]=e[t],n[10]=t,n}function sf(r){let e,t,n,i,s,l;function o(){return r[7](r[10])}return{c(){e=g("button"),t=g("img"),i=T(),de(t.src,n=r[8])||h(t,"src",n),h(t,"alt",`${r[10]+1}`),h(t,"class","svelte-2jlx4b"),h(e,"class","svelte-2jlx4b"),j(e,"selected",r[10]+1==r[1].acc.profilePicture)},m(a,c){S(a,e,c),p(e,t),p(e,i),s||(l=N(e,"click",o),s=!0)},p(a,c){r=a,c&1&&!de(t.src,n=r[8])&&h(t,"src",n),c&2&&j(e,"selected",r[10]+1==r[1].acc.profilePicture)},d(a){a&&y(e),s=!1,l()}}}function y4(r){let e,t,n,i,s,l,o,a,c,u,f=X(r[0]),d=[];for(let m=0;m<f.length;m+=1)d[m]=sf(rf(r,f,m));return{c(){e=g("div"),e.innerHTML='<h2 class="header">Change Profile Picture</h2> <p class="subheader">Choose one of the following profile pictures:</p>',t=T(),n=g("div");for(let m=0;m<d.length;m+=1)d[m].c();i=T(),s=g("div"),l=g("button"),l.textContent="Custom...",o=T(),a=g("button"),a.textContent="Cancel",h(e,"class","overlay-head"),h(n,"class","wrapper svelte-2jlx4b"),h(a,"class","cancel svelte-2jlx4b"),h(s,"class","cancel-wrapper svelte-2jlx4b")},m(m,b){S(m,e,b),S(m,t,b),S(m,n,b);for(let A=0;A<d.length;A+=1)d[A]&&d[A].m(n,null);S(m,i,b),S(m,s,b),p(s,l),p(s,o),p(s,a),c||(u=[N(l,"click",r[4]),N(a,"click",r[3])],c=!0)},p(m,[b]){if(b&7){f=X(m[0]);let A;for(A=0;A<f.length;A+=1){const _=rf(m,f,A);d[A]?d[A].p(_,b):(d[A]=sf(_),d[A].c(),d[A].m(n,null))}for(;A<d.length;A+=1)d[A].d(1);d.length=f.length}},i:O,o:O,d(m){m&&(y(e),y(t),y(n),y(i),y(s)),me(d,m),c=!1,ke(u)}}}function S4(r,e,t){let n;G(r,te,f=>t(1,n=f));let i=[],{id:s}=e,{app:l}=e;ve(()=>{t(0,i=Object.values(yp))});function o(f){Ee(te,n.acc.profilePicture=f,n),a()}function a(){Je(s,l.id)}function c(){Xe("customPfp","SettingsApp")}const u=f=>o(f+1);return r.$$set=f=>{"id"in f&&t(5,s=f.id),"app"in f&&t(6,l=f.app)},[i,n,o,a,c,s,l,u]}class $4 extends U{constructor(e){super(),z(this,e,S4,y4,P,{id:5,app:6})}}function C4(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v,k,$;return n=new At({props:{src:r[1]?r[0]:Qt,height:50}}),{c(){e=g("div"),t=g("div"),M(n.$$.fragment),i=T(),s=g("div"),l=g("p"),l.textContent="Enter the URL to a custom profile picture:",o=T(),a=g("input"),c=T(),u=g("div"),f=g("div"),d=g("button"),d.textContent="Cancel",m=T(),b=g("button"),A=F("Apply"),h(a,"type","url"),h(a,"placeholder","https://example.com/image.png"),b.disabled=_=!r[0]||!r[1],h(u,"class","apply"),h(s,"class","field"),h(e,"class","custompfp-wrapper")},m(E,I){S(E,e,I),p(e,t),D(n,t,null),p(e,i),p(e,s),p(s,l),p(s,o),p(s,a),he(a,r[0]),p(s,c),p(s,u),p(u,f),p(f,d),p(f,m),p(f,b),p(b,A),v=!0,k||($=[N(a,"input",r[5]),N(a,"input",r[2]),N(d,"click",r[4]),N(b,"click",r[3])],k=!0)},p(E,[I]){const R={};I&3&&(R.src=E[1]?E[0]:Qt),n.$set(R),I&1&&a.value!==E[0]&&he(a,E[0]),(!v||I&3&&_!==(_=!E[0]||!E[1]))&&(b.disabled=_)},i(E){v||(w(n.$$.fragment,E),v=!0)},o(E){C(n.$$.fragment,E),v=!1},d(E){E&&y(e),B(n),k=!1,ke($)}}}async function T4(r){const e=new Image;return e.src=r,new Promise(t=>{e.onload=()=>t(!0),e.onerror=()=>t(!1)})}function E4(r,e,t){let n="",i=!1;async function s(){const c=await T4(n);t(1,i=c)}function l(){l1(n),Je("customPfp","SettingsApp"),Je("pfpSel","SettingsApp")}function o(){Je("customPfp","SettingsApp")}te.subscribe(c=>{typeof c.acc.profilePicture=="string"&&t(0,n=c.acc.profilePicture),s()});function a(){n=this.value,t(0,n)}return[n,i,s,l,o,a]}class I4 extends U{constructor(e){super(),z(this,e,E4,C4,P,{})}}function O4(r){let e,t,n,i,s,l,o,a,c,u,f,d;return e=new Xn({props:{id:r[0],app:r[1]}}),s=new At({props:{src:r[2].acc.profilePicture.toString(),height:150}}),f=new er({}),{c(){M(e.$$.fragment),t=T(),n=g("div"),i=g("div"),M(s.$$.fragment),l=T(),o=g("h1"),a=F(r[3]),c=T(),u=g("p"),M(f.$$.fragment),h(o,"class","svelte-1hdmb0y"),h(u,"class","hostname svelte-1hdmb0y"),h(i,"class","flex-stop"),h(n,"class","center-flex text-center")},m(m,b){D(e,m,b),S(m,t,b),S(m,n,b),p(n,i),D(s,i,null),p(i,l),p(i,o),p(o,a),p(i,c),p(i,u),D(f,u,null),d=!0},p(m,[b]){const A={};b&1&&(A.id=m[0]),b&2&&(A.app=m[1]),e.$set(A);const _={};b&4&&(_.src=m[2].acc.profilePicture.toString()),s.$set(_),(!d||b&8)&&W(a,m[3])},i(m){d||(w(e.$$.fragment,m),w(s.$$.fragment,m),w(f.$$.fragment,m),d=!0)},o(m){C(e.$$.fragment,m),C(s.$$.fragment,m),C(f.$$.fragment,m),d=!1},d(m){m&&(y(t),y(n)),B(e,m),B(s),B(f)}}}function R4(r,e,t){let n,i;G(r,te,o=>t(2,n=o)),G(r,Pe,o=>t(3,i=o));let{id:s}=e,{app:l}=e;return r.$$set=o=>{"id"in o&&t(0,s=o.id),"app"in o&&t(1,l=o.app)},[s,l,n,i]}class L4 extends U{constructor(e){super(),z(this,e,R4,O4,P,{id:0,app:1})}}function lf(r){let e,t,n,i,s,l,o,a,c;return a=new lm({props:{data:r[2]}}),{c(){e=g("div"),t=g("h2"),n=F("User Data for "),i=F(r[3]),s=T(),l=g("p"),l.textContent="Below is a tree view of your user data:",o=T(),M(a.$$.fragment),h(t,"class","header"),h(l,"class","subheader"),h(e,"class","overlay-head")},m(u,f){S(u,e,f),p(e,t),p(t,n),p(t,i),p(e,s),p(e,l),S(u,o,f),D(a,u,f),c=!0},p(u,f){(!c||f&8)&&W(i,u[3]);const d={};f&4&&(d.data=u[2]),a.$set(d)},i(u){c||(w(a.$$.fragment,u),c=!0)},o(u){C(a.$$.fragment,u),c=!1},d(u){u&&(y(e),y(o)),B(a,u)}}}function D4(r){let e,t,n,i;e=new Xn({props:{app:r[0],id:r[1]}});let s=r[2]&&lf(r);return{c(){M(e.$$.fragment),t=T(),s&&s.c(),n=le()},m(l,o){D(e,l,o),S(l,t,o),s&&s.m(l,o),S(l,n,o),i=!0},p(l,[o]){const a={};o&1&&(a.app=l[0]),o&2&&(a.id=l[1]),e.$set(a),l[2]?s?(s.p(l,o),o&4&&w(s,1)):(s=lf(l),s.c(),w(s,1),s.m(n.parentNode,n)):s&&(V(),C(s,1,1,()=>{s=null}),q())},i(l){i||(w(e.$$.fragment,l),w(s),i=!0)},o(l){C(e.$$.fragment,l),C(s),i=!1},d(l){l&&(y(t),y(n)),B(e,l),s&&s.d(l)}}}function B4(r,e,t){let n,i;G(r,te,o=>t(2,n=o)),G(r,Pe,o=>t(3,i=o));let{app:s}=e,{id:l}=e;return r.$$set=o=>{"app"in o&&t(0,s=o.app),"id"in o&&t(1,l=o.id)},[s,l,n,i]}class M4 extends U{constructor(e){super(),z(this,e,B4,D4,P,{app:0,id:1})}}const of=""+new URL("password-d04179f1.svg",import.meta.url).href;function F4(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v,k,$,E,I,R,L;return n=new At({props:{src:r[0],height:50}}),{c(){e=g("div"),t=g("div"),M(n.$$.fragment),i=T(),s=g("div"),l=g("p"),l.textContent="Fill out this form to change your password:",o=T(),a=g("input"),c=T(),u=g("input"),f=T(),d=g("input"),m=T(),b=g("div"),A=g("div"),_=g("button"),_.textContent="Cancel",v=T(),k=g("button"),$=F("Change"),h(a,"type","password"),h(a,"name","current"),h(a,"placeholder","Current password"),h(u,"type","password"),h(u,"name","current"),h(u,"placeholder","New password"),h(d,"type","password"),h(d,"name","current"),h(d,"placeholder","Confirm new password"),k.disabled=E=r[2]!=r[3]||!r[2]||!r[3],h(k,"type","button"),h(b,"class","apply"),h(s,"class","field"),h(e,"class","changepswd-wrapper")},m(H,Q){S(H,e,Q),p(e,t),D(n,t,null),p(e,i),p(e,s),p(s,l),p(s,o),p(s,a),he(a,r[1]),p(s,c),p(s,u),he(u,r[2]),p(s,f),p(s,d),he(d,r[3]),p(s,m),p(s,b),p(b,A),p(A,_),p(A,v),p(A,k),p(k,$),I=!0,R||(L=[N(a,"input",r[8]),N(u,"input",r[9]),N(d,"input",r[10]),N(_,"click",r[4]),N(k,"click",r[5])],R=!0)},p(H,[Q]){const x={};Q&1&&(x.src=H[0]),n.$set(x),Q&2&&a.value!==H[1]&&he(a,H[1]),Q&4&&u.value!==H[2]&&he(u,H[2]),Q&8&&d.value!==H[3]&&he(d,H[3]),(!I||Q&12&&E!==(E=H[2]!=H[3]||!H[2]||!H[3]))&&(k.disabled=E)},i(H){I||(w(n.$$.fragment,H),I=!0)},o(H){C(n.$$.fragment,H),I=!1},d(H){H&&y(e),B(n),R=!1,ke(L)}}}function P4(r,e,t){let n;G(r,Pe,v=>t(11,n=v));let i="",{id:s}=e,{app:l}=e,o="",a="",c="";te.subscribe(v=>{t(0,i=gn(v.acc.profilePicture))});function u(){Je(s,l.id)}function f(){m(),u()}async function d(){if(!await fg(n,o,a,c))return Ze({title:"Couldn't change password",message:"An error occured while changing your password. Please make sure the entered information is correct, and then try again.",buttons:[{caption:"OK",action:m}],image:of},l.id);Ze({title:"Password changed.",message:"Your password has been updated successfully.",buttons:[{caption:"OK",action:f}],image:of},l.id)}function m(){t(1,o=""),t(2,a=""),t(3,c="")}function b(){o=this.value,t(1,o)}function A(){a=this.value,t(2,a)}function _(){c=this.value,t(3,c)}return r.$$set=v=>{"id"in v&&t(6,s=v.id),"app"in v&&t(7,l=v.app)},[i,o,a,c,u,d,s,l,b,A,_]}class z4 extends U{constructor(e){super(),z(this,e,P4,F4,P,{id:6,app:7})}}function U4(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v,k,$,E,I,R;return n=new At({props:{src:r[0],height:50}}),{c(){e=g("div"),t=g("div"),M(n.$$.fragment),i=T(),s=g("div"),l=g("p"),o=F(r[2]),a=T(),c=g("p"),c.textContent="Enter a new username",u=T(),f=g("input"),d=T(),m=g("div"),b=g("div"),A=g("button"),A.textContent="Cancel",_=T(),v=g("button"),k=F("Change"),h(l,"class","username"),h(f,"type","text"),h(f,"name","current"),h(f,"placeholder","New username"),v.disabled=$=!r[1],h(v,"type","button"),h(m,"class","apply"),h(s,"class","field"),h(e,"class","changename-wrapper")},m(L,H){S(L,e,H),p(e,t),D(n,t,null),p(e,i),p(e,s),p(s,l),p(l,o),p(s,a),p(s,c),p(s,u),p(s,f),he(f,r[1]),p(s,d),p(s,m),p(m,b),p(b,A),p(b,_),p(b,v),p(v,k),E=!0,I||(R=[N(f,"input",r[7]),N(A,"click",r[4]),N(v,"click",r[3])],I=!0)},p(L,[H]){const Q={};H&1&&(Q.src=L[0]),n.$set(Q),(!E||H&4)&&W(o,L[2]),H&2&&f.value!==L[1]&&he(f,L[1]),(!E||H&2&&$!==($=!L[1]))&&(v.disabled=$)},i(L){E||(w(n.$$.fragment,L),E=!0)},o(L){C(n.$$.fragment,L),E=!1},d(L){L&&y(e),B(n),I=!1,ke(R)}}}function N4(r,e,t){let n;G(r,Pe,m=>t(2,n=m));let i="",{id:s}=e,{app:l}=e,o="";te.subscribe(m=>{t(0,i=gn(m.acc.profilePicture))});async function a(){if(!await dg(n,o))return Ze({title:"Can't rename user",message:"An error occured while trying to rename your account. Please make sure the information is correct, and then try again.",buttons:[{caption:"OK",action:u}],image:ol},"SettingsApp");Ze({title:"Username changed.",message:"Your username has been updated successfully.",buttons:[{caption:"OK",action:f}],image:ol},"SettingsApp")}function c(){Je(s,l.id)}function u(){t(1,o="")}function f(){u(),c()}function d(){o=this.value,t(1,o)}return r.$$set=m=>{"id"in m&&t(5,s=m.id),"app"in m&&t(6,l=m.app)},[i,o,n,a,c,s,l,d]}class j4 extends U{constructor(e){super(),z(this,e,N4,U4,P,{id:5,app:6})}}function H4(r){let e,t,n,i,s,l,o,a,c,u,f,d,m;return{c(){e=g("button"),t=F("minimize"),i=T(),s=g("button"),l=F("crop_square"),a=T(),c=g("button"),u=F("close"),h(e,"class","material-icons-round reset svelte-63zn7"),e.disabled=n=!r[0].controls.min||r[1],h(s,"class","material-icons-round reset svelte-63zn7"),s.disabled=o=!r[0].controls.max||r[1],h(c,"class","material-icons-round reset svelte-63zn7"),c.disabled=f=!r[0].controls.cls||r[1]},m(b,A){S(b,e,A),p(e,t),S(b,i,A),S(b,s,A),p(s,l),S(b,a,A),S(b,c,A),p(c,u),d||(m=[N(e,"click",function(){ct(r[2])&&r[2].apply(this,arguments)}),N(s,"click",function(){ct(r[3])&&r[3].apply(this,arguments)}),N(c,"click",function(){ct(r[4])&&r[4].apply(this,arguments)})],d=!0)},p(b,[A]){r=b,A&3&&n!==(n=!r[0].controls.min||r[1])&&(e.disabled=n),A&3&&o!==(o=!r[0].controls.max||r[1])&&(s.disabled=o),A&3&&f!==(f=!r[0].controls.cls||r[1])&&(c.disabled=f)},i:O,o:O,d(b){b&&(y(e),y(i),y(s),y(a),y(c)),d=!1,ke(m)}}}function Q4(r,e,t){let{app:n}=e,{isBoot:i}=e,{min:s}=e,{max:l}=e,{cls:o}=e;return r.$$set=a=>{"app"in a&&t(0,n=a.app),"isBoot"in a&&t(1,i=a.isBoot),"min"in a&&t(2,s=a.min),"max"in a&&t(3,l=a.max),"cls"in a&&t(4,o=a.cls)},[n,i,s,l,o]}class Pm extends U{constructor(e){super(),z(this,e,Q4,H4,P,{app:0,isBoot:1,min:2,max:3,cls:4})}}function W4(r){let e,t,n,i,s,l,o,a,c,u;return{c(){e=g("button"),n=T(),i=g("button"),l=T(),o=g("button"),h(e,"class","traffic-cls reset svelte-1ti4j67"),e.disabled=t=!r[0].controls.cls||r[1],h(i,"class","traffic-min reset svelte-1ti4j67"),i.disabled=s=!r[0].controls.min||r[1],h(o,"class","traffic-max reset svelte-1ti4j67"),o.disabled=a=!r[0].controls.max||r[1]},m(f,d){S(f,e,d),S(f,n,d),S(f,i,d),S(f,l,d),S(f,o,d),c||(u=[N(e,"click",function(){ct(r[4])&&r[4].apply(this,arguments)}),N(i,"click",function(){ct(r[2])&&r[2].apply(this,arguments)}),N(o,"click",function(){ct(r[3])&&r[3].apply(this,arguments)})],c=!0)},p(f,[d]){r=f,d&3&&t!==(t=!r[0].controls.cls||r[1])&&(e.disabled=t),d&3&&s!==(s=!r[0].controls.min||r[1])&&(i.disabled=s),d&3&&a!==(a=!r[0].controls.max||r[1])&&(o.disabled=a)},i:O,o:O,d(f){f&&(y(e),y(n),y(i),y(l),y(o)),c=!1,ke(u)}}}function K4(r,e,t){let{app:n}=e,{isBoot:i}=e,{min:s}=e,{max:l}=e,{cls:o}=e;return r.$$set=a=>{"app"in a&&t(0,n=a.app),"isBoot"in a&&t(1,i=a.isBoot),"min"in a&&t(2,s=a.min),"max"in a&&t(3,l=a.max),"cls"in a&&t(4,o=a.cls)},[n,i,s,l,o]}class G4 extends U{constructor(e){super(),z(this,e,K4,W4,P,{app:0,isBoot:1,min:2,max:3,cls:4})}}function V4(r){let e,t,n,i,s,l,o,a,c;return{c(){e=g("button"),t=F(""),i=T(),s=g("button"),l=F(""),h(e,"class","reset svelte-1f14mwt"),e.disabled=n=r[1]||!r[0].controls.min,h(s,"class","reset close svelte-1f14mwt"),s.disabled=o=r[1]||!r[0].controls.cls},m(u,f){S(u,e,f),p(e,t),S(u,i,f),S(u,s,f),p(s,l),a||(c=[N(e,"click",function(){ct(r[2])&&r[2].apply(this,arguments)}),N(s,"click",function(){ct(r[3])&&r[3].apply(this,arguments)})],a=!0)},p(u,[f]){r=u,f&3&&n!==(n=r[1]||!r[0].controls.min)&&(e.disabled=n),f&3&&o!==(o=r[1]||!r[0].controls.cls)&&(s.disabled=o)},i:O,o:O,d(u){u&&(y(e),y(i),y(s)),a=!1,ke(c)}}}function q4(r,e,t){let{app:n}=e,{isBoot:i}=e,{min:s}=e,{cls:l}=e;return r.$$set=o=>{"app"in o&&t(0,n=o.app),"isBoot"in o&&t(1,i=o.isBoot),"min"in o&&t(2,s=o.min),"cls"in o&&t(3,l=o.cls)},[n,i,s,l]}class Y4 extends U{constructor(e){super(),z(this,e,q4,V4,P,{app:0,isBoot:1,min:2,cls:3})}}const Gr={default:{caption:"Default",author:"ArcOS Team",content:Pm},traffic:{caption:"Traffic Lights",author:"Apple",content:G4},og:{caption:"O.G.",author:"WebOSv3 Team",content:Y4}},J4={info:{name:"Dummy",description:"I'm a dummy!",builtin:!0,version:"1.0.0",author:"Robots",icon:em},pos:{x:0,y:0},minSize:{w:0,h:0},maxSize:{w:0,h:0},size:{w:0,h:0},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{fll:!1,max:!1,min:!1}},glass:!1,content:null};function Z4(r){let e,t,n,i,s,l,o,a=r[0].caption+"",c,u,f,d,m=r[0].author+"",b,A,_,v=r[2].sh.window.buttons==r[1]?"Applied":"Apply",k,$,E,I,R;var L=r[0].content;function H(Q,x){return{props:{app:J4}}}return L&&(i=De(L,H())),{c(){e=g("div"),t=g("div"),n=g("div"),i&&M(i.$$.fragment),s=T(),l=g("div"),o=g("p"),c=F(a),u=T(),f=g("p"),d=F("By: "),b=F(m),A=T(),_=g("button"),k=F(v),h(n,"class","tb"),h(t,"class","preview"),h(o,"class","title"),h(f,"class","author"),h(l,"class","details"),h(_,"class","apply"),_.disabled=$=r[2].sh.window.buttons==r[1],h(e,"class","item")},m(Q,x){S(Q,e,x),p(e,t),p(t,n),i&&D(i,n,null),p(e,s),p(e,l),p(l,o),p(o,c),p(l,u),p(l,f),p(f,d),p(f,b),p(e,A),p(e,_),p(_,k),E=!0,I||(R=N(_,"click",r[3]),I=!0)},p(Q,[x]){if(x&1&&L!==(L=Q[0].content)){if(i){V();const J=i;C(J.$$.fragment,1,0,()=>{B(J,1)}),q()}L?(i=De(L,H()),M(i.$$.fragment),w(i.$$.fragment,1),D(i,n,null)):i=null}(!E||x&1)&&a!==(a=Q[0].caption+"")&&W(c,a),(!E||x&1)&&m!==(m=Q[0].author+"")&&W(b,m),(!E||x&6)&&v!==(v=Q[2].sh.window.buttons==Q[1]?"Applied":"Apply")&&W(k,v),(!E||x&6&&$!==($=Q[2].sh.window.buttons==Q[1]))&&(_.disabled=$)},i(Q){E||(i&&w(i.$$.fragment,Q),E=!0)},o(Q){i&&C(i.$$.fragment,Q),E=!1},d(Q){Q&&y(e),i&&B(i),I=!1,R()}}}function X4(r,e,t){let n;G(r,te,o=>t(2,n=o));let{data:i}=e,{id:s}=e;function l(){Ee(te,n.sh.window.buttons=s,n)}return r.$$set=o=>{"data"in o&&t(0,i=o.data),"id"in o&&t(1,s=o.id)},[i,s,n,l]}let x4=class extends U{constructor(e){super(),z(this,e,X4,Z4,P,{data:0,id:1})}};function af(r,e,t){const n=r.slice();return n[2]=e[t],n}function cf(r){let e,t;return e=new x4({props:{id:r[2][0],data:r[2][1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function eO(r){let e,t,n,i,s,l,o,a;e=new Xn({props:{app:r[0],id:r[1]}});let c=X(Object.entries(Gr)),u=[];for(let d=0;d<c.length;d+=1)u[d]=cf(af(r,c,d));const f=d=>C(u[d],1,1,()=>{u[d]=null});return{c(){M(e.$$.fragment),t=T(),n=g("h3"),n.textContent="Titlebar buttons",i=T(),s=g("p"),s.textContent="Choose one of the titlebar button styles:",l=T();for(let d=0;d<u.length;d+=1)u[d].c();o=le(),h(n,"class","header"),h(s,"class","subheader")},m(d,m){D(e,d,m),S(d,t,m),S(d,n,m),S(d,i,m),S(d,s,m),S(d,l,m);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(d,m);S(d,o,m),a=!0},p(d,[m]){const b={};if(m&1&&(b.app=d[0]),m&2&&(b.id=d[1]),e.$set(b),m&0){c=X(Object.entries(Gr));let A;for(A=0;A<c.length;A+=1){const _=af(d,c,A);u[A]?(u[A].p(_,m),w(u[A],1)):(u[A]=cf(_),u[A].c(),w(u[A],1),u[A].m(o.parentNode,o))}for(V(),A=c.length;A<u.length;A+=1)f(A);q()}},i(d){if(!a){w(e.$$.fragment,d);for(let m=0;m<c.length;m+=1)w(u[m]);a=!0}},o(d){C(e.$$.fragment,d),u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)C(u[m]);a=!1},d(d){d&&(y(t),y(n),y(i),y(s),y(l),y(o)),B(e,d),me(u,d)}}}function tO(r,e,t){let{app:n}=e,{id:i}=e;return r.$$set=s=>{"app"in s&&t(0,n=s.app),"id"in s&&t(1,i=s.id)},[n,i]}class nO extends U{constructor(e){super(),z(this,e,tO,eO,P,{app:0,id:1})}}function iO(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v;return{c(){e=g("div"),t=g("div"),t.innerHTML=`<img src="${Kr}" alt=""/>`,n=T(),i=g("div"),s=g("p"),s.textContent="Enter the URL to a custom wallpaper:",l=T(),o=g("input"),a=T(),c=g("div"),u=g("div"),f=g("button"),f.textContent="Cancel",d=T(),m=g("button"),b=F("Apply"),h(o,"type","url"),h(o,"placeholder","https://example.com/image.png"),m.disabled=A=!r[1]||!r[0],h(c,"class","apply"),h(i,"class","field"),h(e,"class","customwallpaper-wrapper")},m(k,$){S(k,e,$),p(e,t),p(e,n),p(e,i),p(i,s),p(i,l),p(i,o),he(o,r[1]),p(i,a),p(i,c),p(c,u),p(u,f),p(u,d),p(u,m),p(m,b),_||(v=[N(o,"input",r[5]),N(o,"input",r[3]),N(f,"click",r[4]),N(m,"click",r[2])],_=!0)},p(k,[$]){$&2&&o.value!==k[1]&&he(o,k[1]),$&3&&A!==(A=!k[1]||!k[0])&&(m.disabled=A)},i:O,o:O,d(k){k&&y(e),_=!1,ke(v)}}}async function rO(r){if(!r)return;const e=new Image;return e.src=r,new Promise(t=>{e.onload=()=>t(!0),e.onerror=()=>t(!1)})}function sO(r,e,t){let n;G(r,te,u=>t(6,n=u));let i=!1,s;function l(){Ee(te,n.sh.desktop.wallpaper=s,n),a()}ve(()=>{n.sh.desktop.wallpaper.startsWith("http")&&t(1,s=n.sh.desktop.wallpaper)});async function o(){const u=await rO(s);t(0,i=u)}function a(){Je("customWallpaper","SettingsApp")}te.subscribe(u=>{typeof u.sh.desktop.wallpaper=="string"&&u.sh.desktop.wallpaper.startsWith("http")&&t(1,s=u.sh.desktop.wallpaper),o()});function c(){s=this.value,t(1,s)}return[i,s,l,o,a,c]}class lO extends U{constructor(e){super(),z(this,e,sO,iO,P,{})}}function oO(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v,k,$;return _=new ql({}),{c(){e=g("div"),t=g("h3"),t.textContent="Save theme",n=T(),i=g("p"),i.textContent="Choose a name for your theme:",s=T(),l=g("input"),o=T(),a=g("div"),c=g("button"),u=F("Save"),d=T(),m=g("button"),m.textContent="Cancel",b=T(),A=g("div"),M(_.$$.fragment),h(t,"class","header"),h(l,"type","text"),c.disabled=f=!r[0],h(a,"class","actions"),h(e,"class","form"),h(A,"class","desktop-page")},m(E,I){S(E,e,I),p(e,t),p(e,n),p(e,i),p(e,s),p(e,l),he(l,r[0]),p(e,o),p(e,a),p(a,c),p(c,u),p(a,d),p(a,m),S(E,b,I),S(E,A,I),D(_,A,null),v=!0,k||($=[N(l,"input",r[3]),N(c,"click",r[2]),N(m,"click",r[1])],k=!0)},p(E,[I]){I&1&&l.value!==E[0]&&he(l,E[0]),(!v||I&1&&f!==(f=!E[0]))&&(c.disabled=f)},i(E){v||(w(_.$$.fragment,E),v=!0)},o(E){C(_.$$.fragment,E),v=!1},d(E){E&&(y(e),y(b),y(A)),B(_),k=!1,ke($)}}}function aO(r,e,t){let n;function i(){Je("saveTheme","SettingsApp")}function s(){hb(n),i()}function l(){n=this.value,t(0,n)}return[n,i,s,l]}class cO extends U{constructor(e){super(),z(this,e,aO,oO,P,{})}}const uf={caption:"Save to ArcFS",action:async(r,e)=>{const t=new Blob([JSON.stringify(JSON.parse(e.json),null,2)],{type:"application/json"});await Yi("./Themes");const n=`${e.name}.arctheme`,i=`./Themes/${n}`;await fn(i,t),ze("FileManager"),await nt.goToDirectory("./Themes"),setTimeout(()=>{qe.set(n)})},icon:"save"},uO={"themerenderer-user":[{caption:"Delete",action:(r,e)=>{Ze({title:"Delete theme?",message:"Are you sure you want to delete this theme?",image:Gl,buttons:[{caption:"Delete",action(){gb(e.id)}},{caption:"Cancel",action(){}}]},"SettingsApp")},icon:"delete"},uf],"themerenderer-system":[uf],"accountpage-hostname":[{caption:"View user data",action:()=>{Xe("udataExplorer","SettingsApp")},icon:"account_tree"},{caption:"Copy server",action:()=>{navigator.clipboard.writeText(Tt()||"localhost")},icon:"copy"}],"appearance-accentselector":[{caption:"Copy color code",action:(r,e)=>{navigator.clipboard.writeText(`#${e.hex}`)},icon:"copy"}]},fO={pfpSel:{info:{name:"Profile Picture Selector",version:"1.0.0",author:"ArcOS Team"},content:$4,size:{w:382,h:410},show:!1},customPfp:{info:{name:"Custom Profile Picture",version:"1.0.0",author:"ArcOS Team"},content:I4,size:{w:350,h:125},show:!1},largePfp:{info:{name:"View Profile Picture",version:"1.0.0",author:"ArcOS Team"},content:L4,size:{w:320,h:360},show:!1},changeTitleButtons:{info:{name:"Change Titlebar Buttons",version:"1.0.0",author:"ArcOS Team"},content:nO,size:{w:400,h:300},show:!1}},dO={udataExplorer:{info:{name:"User Data Explorer",version:"1.0.0",author:"ArcOS Team"},content:M4,size:{w:550,h:400},show:!1},changePswd:{info:{name:"Change Password",version:"1.0.0",author:"ArcOS Team"},content:z4,size:{w:370,h:195},show:!1},changeUsername:{info:{name:"Change Username",version:"1.0.0",author:"ArcOS Team"},content:j4,size:{w:370,h:155},show:!1}},pO={customWallpaper:{info:{name:"Custom Wallpaper",version:"1.0.0",author:"ArcOS Team"},content:lO,size:{w:370,h:118},show:!1}},mO={saveTheme:{info:{name:"Save Theme",version:"1.0.0",author:"ArcOS Team"},content:cO,size:{w:450,h:170},show:!1}},hO={info:{name:"System Settings",description:"Change the way ArcOS works",builtin:!0,version:"4.0.0",author:"ArcOS Team",icon:oE,appGroup:"systemTools"},size:{w:730,h:500},pos:{x:30,y:40},minSize:{w:730,h:500},maxSize:{w:1100,h:600},controls:{min:!0,max:!0,cls:!0},state:{headless:!1,resizable:!0,windowState:{min:!1,max:!1,fll:!1}},content:k4,glass:!0,overlays:{...fO,...dO,...pO,...mO},events:{close(){Yn.set(Nn[0])},open(){Yn.set(Nn[0])}},contextMenu:uO};function ff(r,e,t){const n=r.slice();return n[3]=e[t],n}function gO(r){let e,t=r[0][1].icon+"",n;return{c(){e=g("span"),n=F(t),h(e,"class","material-icons-round")},m(i,s){S(i,e,s),p(e,n)},p(i,s){s&1&&t!==(t=i[0][1].icon+"")&&W(n,t)},d(i){i&&y(e)}}}function AO(r){let e,t,n;return{c(){e=g("img"),de(e.src,t=r[0][1].image)||h(e,"src",t),h(e,"alt",n=r[0][1].title)},m(i,s){S(i,e,s)},p(i,s){s&1&&!de(e.src,t=i[0][1].image)&&h(e,"src",t),s&1&&n!==(n=i[0][1].title)&&h(e,"alt",n)},d(i){i&&y(e)}}}function df(r){let e,t=r[3].caption+"",n,i,s;return{c(){e=g("button"),n=F(t)},m(l,o){S(l,e,o),p(e,n),i||(s=N(e,"click",function(){ct(r[2](r[3].action))&&r[2](r[3].action).apply(this,arguments)}),i=!0)},p(l,o){r=l,o&1&&t!==(t=r[3].caption+"")&&W(n,t)},d(l){l&&y(e),i=!1,s()}}}function bO(r){let e,t,n,i=r[0][1].title+"",s,l,o,a,c,u=r[0][1].message+"",f,d,m,b,A;function _(I,R){return I[0][1].image?AO:gO}let v=_(r),k=v(r),$=X(r[0][1].buttons),E=[];for(let I=0;I<$.length;I+=1)E[I]=df(ff(r,$,I));return{c(){e=g("div"),t=g("p"),k.c(),n=T(),s=F(i),l=T(),o=g("button"),o.textContent="close",a=T(),c=g("p"),f=T(),d=g("div"),m=g("div");for(let I=0;I<E.length;I+=1)E[I].c();h(o,"class","close material-icons-round"),h(t,"class","title"),h(c,"class","content"),h(m,"class","inner"),h(d,"class","buttons"),h(e,"class","notification ac")},m(I,R){S(I,e,R),p(e,t),k.m(t,null),p(t,n),p(t,s),p(t,l),p(t,o),p(e,a),p(e,c),c.innerHTML=u,p(e,f),p(e,d),p(d,m);for(let L=0;L<E.length;L+=1)E[L]&&E[L].m(m,null);b||(A=N(o,"click",r[1]),b=!0)},p(I,[R]){if(v===(v=_(I))&&k?k.p(I,R):(k.d(1),k=v(I),k&&(k.c(),k.m(t,n))),R&1&&i!==(i=I[0][1].title+"")&&W(s,i),R&1&&u!==(u=I[0][1].message+"")&&(c.innerHTML=u),R&5){$=X(I[0][1].buttons);let L;for(L=0;L<$.length;L+=1){const H=ff(I,$,L);E[L]?E[L].p(H,R):(E[L]=df(H),E[L].c(),E[L].m(m,null))}for(;L<E.length;L+=1)E[L].d(1);E.length=$.length}},i:O,o:O,d(I){I&&y(e),k.d(),me(E,I),b=!1,A()}}}function _O(r,e,t){let{notification:n}=e;function i(){Cl(n[0]),Hn.set(null)}function s(l){return()=>{l(),i(),Nt.set(!1)}}return r.$$set=l=>{"notification"in l&&t(0,n=l.notification)},[n,i,s]}class wO extends U{constructor(e){super(),z(this,e,_O,bO,P,{notification:0})}}function pf(r,e,t){const n=r.slice();return n[1]=e[t],n}function mf(r){let e,t;return e=new wO({props:{notification:r[1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.notification=n[1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function hf(r){let e;return{c(){e=g("p"),e.textContent="You have no notifications",h(e,"class","none")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function vO(r){let e,t,n=Object.entries(r[0]).length==0,i,s=X(Object.entries(r[0])),l=[];for(let c=0;c<s.length;c+=1)l[c]=mf(pf(r,s,c));const o=c=>C(l[c],1,1,()=>{l[c]=null});let a=n&&hf();return{c(){e=g("div");for(let c=0;c<l.length;c+=1)l[c].c();t=T(),a&&a.c(),h(e,"class","notifications")},m(c,u){S(c,e,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(e,null);p(e,t),a&&a.m(e,null),i=!0},p(c,[u]){if(u&1){s=X(Object.entries(c[0]));let f;for(f=0;f<s.length;f+=1){const d=pf(c,s,f);l[f]?(l[f].p(d,u),w(l[f],1)):(l[f]=mf(d),l[f].c(),w(l[f],1),l[f].m(e,t))}for(V(),f=s.length;f<l.length;f+=1)o(f);q()}u&1&&(n=Object.entries(c[0]).length==0),n?a||(a=hf(),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(c){if(!i){for(let u=0;u<s.length;u+=1)w(l[u]);i=!0}},o(c){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)C(l[u]);i=!1},d(c){c&&y(e),me(l,c),a&&a.d()}}}function kO(r,e,t){let n;return G(r,an,i=>t(0,n=i)),[n]}class yO extends U{constructor(e){super(),z(this,e,kO,vO,P,{})}}function wn(r){return Array.isArray?Array.isArray(r):Nm(r)==="[object Array]"}const SO=1/0;function $O(r){if(typeof r=="string")return r;let e=r+"";return e=="0"&&1/r==-SO?"-0":e}function CO(r){return r==null?"":$O(r)}function ln(r){return typeof r=="string"}function zm(r){return typeof r=="number"}function TO(r){return r===!0||r===!1||EO(r)&&Nm(r)=="[object Boolean]"}function Um(r){return typeof r=="object"}function EO(r){return Um(r)&&r!==null}function Ft(r){return r!=null}function Ps(r){return!r.trim().length}function Nm(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const IO="Incorrect 'index' type",OO=r=>`Invalid value for key ${r}`,RO=r=>`Pattern length exceeds max of ${r}.`,LO=r=>`Missing ${r} property in key`,DO=r=>`Property 'weight' in key '${r}' must be a positive integer`,gf=Object.prototype.hasOwnProperty;class BO{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(n=>{let i=jm(n);t+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,t+=i.weight}),this._keys.forEach(n=>{n.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function jm(r){let e=null,t=null,n=null,i=1,s=null;if(ln(r)||wn(r))n=r,e=Af(r),t=al(r);else{if(!gf.call(r,"name"))throw new Error(LO("name"));const l=r.name;if(n=l,gf.call(r,"weight")&&(i=r.weight,i<=0))throw new Error(DO(l));e=Af(l),t=al(l),s=r.getFn}return{path:e,id:t,weight:i,src:n,getFn:s}}function Af(r){return wn(r)?r:r.split(".")}function al(r){return wn(r)?r.join("."):r}function MO(r,e){let t=[],n=!1;const i=(s,l,o)=>{if(Ft(s))if(!l[o])t.push(s);else{let a=l[o];const c=s[a];if(!Ft(c))return;if(o===l.length-1&&(ln(c)||zm(c)||TO(c)))t.push(CO(c));else if(wn(c)){n=!0;for(let u=0,f=c.length;u<f;u+=1)i(c[u],l,o+1)}else l.length&&i(c,l,o+1)}};return i(r,ln(e)?e.split("."):e,0),n?t:t[0]}const FO={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},PO={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(r,e)=>r.score===e.score?r.idx<e.idx?-1:1:r.score<e.score?-1:1},zO={location:0,threshold:.6,distance:100},UO={useExtendedSearch:!1,getFn:MO,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Re={...PO,...FO,...zO,...UO};const NO=/[^ ]+/g;function jO(r=1,e=3){const t=new Map,n=Math.pow(10,e);return{get(i){const s=i.match(NO).length;if(t.has(s))return t.get(s);const l=1/Math.pow(s,.5*r),o=parseFloat(Math.round(l*n)/n);return t.set(s,o),o},clear(){t.clear()}}}class Yl{constructor({getFn:e=Re.getFn,fieldNormWeight:t=Re.fieldNormWeight}={}){this.norm=jO(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,n)=>{this._keysMap[t.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ln(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();ln(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!Ft(e)||Ps(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((i,s)=>{let l=i.getFn?i.getFn(e):this.getFn(e,i.path);if(Ft(l)){if(wn(l)){let o=[];const a=[{nestedArrIndex:-1,value:l}];for(;a.length;){const{nestedArrIndex:c,value:u}=a.pop();if(Ft(u))if(ln(u)&&!Ps(u)){let f={v:u,i:c,n:this.norm.get(u)};o.push(f)}else wn(u)&&u.forEach((f,d)=>{a.push({nestedArrIndex:d,value:f})})}n.$[s]=o}else if(ln(l)&&!Ps(l)){let o={v:l,n:this.norm.get(l)};n.$[s]=o}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Hm(r,e,{getFn:t=Re.getFn,fieldNormWeight:n=Re.fieldNormWeight}={}){const i=new Yl({getFn:t,fieldNormWeight:n});return i.setKeys(r.map(jm)),i.setSources(e),i.create(),i}function HO(r,{getFn:e=Re.getFn,fieldNormWeight:t=Re.fieldNormWeight}={}){const{keys:n,records:i}=r,s=new Yl({getFn:e,fieldNormWeight:t});return s.setKeys(n),s.setIndexRecords(i),s}function vr(r,{errors:e=0,currentLocation:t=0,expectedLocation:n=0,distance:i=Re.distance,ignoreLocation:s=Re.ignoreLocation}={}){const l=e/r.length;if(s)return l;const o=Math.abs(n-t);return i?l+o/i:o?1:l}function QO(r=[],e=Re.minMatchCharLength){let t=[],n=-1,i=-1,s=0;for(let l=r.length;s<l;s+=1){let o=r[s];o&&n===-1?n=s:!o&&n!==-1&&(i=s-1,i-n+1>=e&&t.push([n,i]),n=-1)}return r[s-1]&&s-n>=e&&t.push([n,s-1]),t}const Fn=32;function WO(r,e,t,{location:n=Re.location,distance:i=Re.distance,threshold:s=Re.threshold,findAllMatches:l=Re.findAllMatches,minMatchCharLength:o=Re.minMatchCharLength,includeMatches:a=Re.includeMatches,ignoreLocation:c=Re.ignoreLocation}={}){if(e.length>Fn)throw new Error(RO(Fn));const u=e.length,f=r.length,d=Math.max(0,Math.min(n,f));let m=s,b=d;const A=o>1||a,_=A?Array(f):[];let v;for(;(v=r.indexOf(e,b))>-1;){let L=vr(e,{currentLocation:v,expectedLocation:d,distance:i,ignoreLocation:c});if(m=Math.min(L,m),b=v+u,A){let H=0;for(;H<u;)_[v+H]=1,H+=1}}b=-1;let k=[],$=1,E=u+f;const I=1<<u-1;for(let L=0;L<u;L+=1){let H=0,Q=E;for(;H<Q;)vr(e,{errors:L,currentLocation:d+Q,expectedLocation:d,distance:i,ignoreLocation:c})<=m?H=Q:E=Q,Q=Math.floor((E-H)/2+H);E=Q;let x=Math.max(1,d-Q+1),J=l?f:Math.min(d+Q,f)+u,Ae=Array(J+2);Ae[J+1]=(1<<L)-1;for(let se=J;se>=x;se-=1){let ne=se-1,Z=t[r.charAt(ne)];if(A&&(_[ne]=+!!Z),Ae[se]=(Ae[se+1]<<1|1)&Z,L&&(Ae[se]|=(k[se+1]|k[se])<<1|1|k[se+1]),Ae[se]&I&&($=vr(e,{errors:L,currentLocation:ne,expectedLocation:d,distance:i,ignoreLocation:c}),$<=m)){if(m=$,b=ne,b<=d)break;x=Math.max(1,2*d-b)}}if(vr(e,{errors:L+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:c})>m)break;k=Ae}const R={isMatch:b>=0,score:Math.max(.001,$)};if(A){const L=QO(_,o);L.length?a&&(R.indices=L):R.isMatch=!1}return R}function KO(r){let e={};for(let t=0,n=r.length;t<n;t+=1){const i=r.charAt(t);e[i]=(e[i]||0)|1<<n-t-1}return e}class Qm{constructor(e,{location:t=Re.location,threshold:n=Re.threshold,distance:i=Re.distance,includeMatches:s=Re.includeMatches,findAllMatches:l=Re.findAllMatches,minMatchCharLength:o=Re.minMatchCharLength,isCaseSensitive:a=Re.isCaseSensitive,ignoreLocation:c=Re.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:i,includeMatches:s,findAllMatches:l,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:c},this.pattern=a?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(d,m)=>{this.chunks.push({pattern:d,alphabet:KO(d),startIndex:m})},f=this.pattern.length;if(f>Fn){let d=0;const m=f%Fn,b=f-m;for(;d<b;)u(this.pattern.substr(d,Fn),d),d+=Fn;if(m){const A=f-Fn;u(this.pattern.substr(A),A)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let b={isMatch:!0,score:0};return n&&(b.indices=[[0,e.length-1]]),b}const{location:i,distance:s,threshold:l,findAllMatches:o,minMatchCharLength:a,ignoreLocation:c}=this.options;let u=[],f=0,d=!1;this.chunks.forEach(({pattern:b,alphabet:A,startIndex:_})=>{const{isMatch:v,score:k,indices:$}=WO(e,b,A,{location:i+_,distance:s,threshold:l,findAllMatches:o,minMatchCharLength:a,includeMatches:n,ignoreLocation:c});v&&(d=!0),f+=k,v&&$&&(u=[...u,...$])});let m={isMatch:d,score:d?f/this.chunks.length:1};return d&&n&&(m.indices=u),m}}class Mn{constructor(e){this.pattern=e}static isMultiMatch(e){return bf(e,this.multiRegex)}static isSingleMatch(e){return bf(e,this.singleRegex)}search(){}}function bf(r,e){const t=r.match(e);return t?t[1]:null}class GO extends Mn{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class VO extends Mn{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class qO extends Mn{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class YO extends Mn{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class JO extends Mn{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class ZO extends Mn{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Wm extends Mn{constructor(e,{location:t=Re.location,threshold:n=Re.threshold,distance:i=Re.distance,includeMatches:s=Re.includeMatches,findAllMatches:l=Re.findAllMatches,minMatchCharLength:o=Re.minMatchCharLength,isCaseSensitive:a=Re.isCaseSensitive,ignoreLocation:c=Re.ignoreLocation}={}){super(e),this._bitapSearch=new Qm(e,{location:t,threshold:n,distance:i,includeMatches:s,findAllMatches:l,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Km extends Mn{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,n;const i=[],s=this.pattern.length;for(;(n=e.indexOf(this.pattern,t))>-1;)t=n+s,i.push([n,t-1]);const l=!!i.length;return{isMatch:l,score:l?0:1,indices:i}}}const cl=[GO,Km,qO,YO,ZO,JO,VO,Wm],_f=cl.length,XO=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,xO="|";function eR(r,e={}){return r.split(xO).map(t=>{let n=t.trim().split(XO).filter(s=>s&&!!s.trim()),i=[];for(let s=0,l=n.length;s<l;s+=1){const o=n[s];let a=!1,c=-1;for(;!a&&++c<_f;){const u=cl[c];let f=u.isMultiMatch(o);f&&(i.push(new u(f,e)),a=!0)}if(!a)for(c=-1;++c<_f;){const u=cl[c];let f=u.isSingleMatch(o);if(f){i.push(new u(f,e));break}}}return i})}const tR=new Set([Wm.type,Km.type]);class nR{constructor(e,{isCaseSensitive:t=Re.isCaseSensitive,includeMatches:n=Re.includeMatches,minMatchCharLength:i=Re.minMatchCharLength,ignoreLocation:s=Re.ignoreLocation,findAllMatches:l=Re.findAllMatches,location:o=Re.location,threshold:a=Re.threshold,distance:c=Re.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:i,findAllMatches:l,ignoreLocation:s,location:o,threshold:a,distance:c},this.pattern=t?e:e.toLowerCase(),this.query=eR(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let s=0,l=[],o=0;for(let a=0,c=t.length;a<c;a+=1){const u=t[a];l.length=0,s=0;for(let f=0,d=u.length;f<d;f+=1){const m=u[f],{isMatch:b,indices:A,score:_}=m.search(e);if(b){if(s+=1,o+=_,n){const v=m.constructor.type;tR.has(v)?l=[...l,...A]:l.push(A)}}else{o=0,s=0,l.length=0;break}}if(s){let f={isMatch:!0,score:o/s};return n&&(f.indices=l),f}}return{isMatch:!1,score:1}}}const ul=[];function iR(...r){ul.push(...r)}function fl(r,e){for(let t=0,n=ul.length;t<n;t+=1){let i=ul[t];if(i.condition(r,e))return new i(r,e)}return new Qm(r,e)}const Vr={AND:"$and",OR:"$or"},dl={PATH:"$path",PATTERN:"$val"},pl=r=>!!(r[Vr.AND]||r[Vr.OR]),rR=r=>!!r[dl.PATH],sR=r=>!wn(r)&&Um(r)&&!pl(r),wf=r=>({[Vr.AND]:Object.keys(r).map(e=>({[e]:r[e]}))});function Gm(r,e,{auto:t=!0}={}){const n=i=>{let s=Object.keys(i);const l=rR(i);if(!l&&s.length>1&&!pl(i))return n(wf(i));if(sR(i)){const a=l?i[dl.PATH]:s[0],c=l?i[dl.PATTERN]:i[a];if(!ln(c))throw new Error(OO(a));const u={keyId:al(a),pattern:c};return t&&(u.searcher=fl(c,e)),u}let o={children:[],operator:s[0]};return s.forEach(a=>{const c=i[a];wn(c)&&c.forEach(u=>{o.children.push(n(u))})}),o};return pl(r)||(r=wf(r)),n(r)}function lR(r,{ignoreFieldNorm:e=Re.ignoreFieldNorm}){r.forEach(t=>{let n=1;t.matches.forEach(({key:i,norm:s,score:l})=>{const o=i?i.weight:null;n*=Math.pow(l===0&&o?Number.EPSILON:l,(o||1)*(e?1:s))}),t.score=n})}function oR(r,e){const t=r.matches;e.matches=[],Ft(t)&&t.forEach(n=>{if(!Ft(n.indices)||!n.indices.length)return;const{indices:i,value:s}=n;let l={indices:i,value:s};n.key&&(l.key=n.key.src),n.idx>-1&&(l.refIndex=n.idx),e.matches.push(l)})}function aR(r,e){e.score=r.score}function cR(r,e,{includeMatches:t=Re.includeMatches,includeScore:n=Re.includeScore}={}){const i=[];return t&&i.push(oR),n&&i.push(aR),r.map(s=>{const{idx:l}=s,o={item:e[l],refIndex:l};return i.length&&i.forEach(a=>{a(s,o)}),o})}class Oi{constructor(e,t={},n){this.options={...Re,...t},this.options.useExtendedSearch,this._keyStore=new BO(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Yl))throw new Error(IO);this._myIndex=t||Hm(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Ft(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,i=this._docs.length;n<i;n+=1){const s=this._docs[n];e(s,n)&&(this.removeAt(n),n-=1,i-=1,t.push(s))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:i,shouldSort:s,sortFn:l,ignoreFieldNorm:o}=this.options;let a=ln(e)?ln(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return lR(a,{ignoreFieldNorm:o}),s&&a.sort(l),zm(t)&&t>-1&&(a=a.slice(0,t)),cR(a,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){const t=fl(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:s,i:l,n:o})=>{if(!Ft(s))return;const{isMatch:a,score:c,indices:u}=t.searchIn(s);a&&i.push({item:s,idx:l,matches:[{score:c,value:s,norm:o,indices:u}]})}),i}_searchLogical(e){const t=Gm(e,this.options),n=(o,a,c)=>{if(!o.children){const{keyId:f,searcher:d}=o,m=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(a,f),searcher:d});return m&&m.length?[{idx:c,item:a,matches:m}]:[]}const u=[];for(let f=0,d=o.children.length;f<d;f+=1){const m=o.children[f],b=n(m,a,c);if(b.length)u.push(...b);else if(o.operator===Vr.AND)return[]}return u},i=this._myIndex.records,s={},l=[];return i.forEach(({$:o,i:a})=>{if(Ft(o)){let c=n(t,o,a);c.length&&(s[a]||(s[a]={idx:a,item:o,matches:[]},l.push(s[a])),c.forEach(({matches:u})=>{s[a].matches.push(...u)}))}}),l}_searchObjectList(e){const t=fl(e,this.options),{keys:n,records:i}=this._myIndex,s=[];return i.forEach(({$:l,i:o})=>{if(!Ft(l))return;let a=[];n.forEach((c,u)=>{a.push(...this._findMatches({key:c,value:l[u],searcher:t}))}),a.length&&s.push({idx:o,item:l,matches:a})}),s}_findMatches({key:e,value:t,searcher:n}){if(!Ft(t))return[];let i=[];if(wn(t))t.forEach(({v:s,i:l,n:o})=>{if(!Ft(s))return;const{isMatch:a,score:c,indices:u}=n.searchIn(s);a&&i.push({score:c,key:e,value:s,idx:l,norm:o,indices:u})});else{const{v:s,n:l}=t,{isMatch:o,score:a,indices:c}=n.searchIn(s);o&&i.push({score:a,key:e,value:s,norm:l,indices:c})}return i}}Oi.version="6.6.2";Oi.createIndex=Hm;Oi.parseIndex=HO;Oi.config=Re;Oi.parseQuery=Gm;iR(nR);function uR(){const r=[],e=K(ue);for(let t=0;t<e.length;t++)Ht(e[t])&&r.push({caption:e[t].info.name,description:e[t].info.description,image:e[t].info.icon,action:()=>{ze(e[t].id)}});return r}const ml=""+new URL("arcfind-d60c3db2.svg",import.meta.url).href;async function fR(){const r=K(Ge);if(!r)return[];const e=[],n=(await et(r,"fs/tree",{},K(st))).data;for(let i=0;i<n.length;i++)e.push({caption:n[i].filename,action:async()=>{const s=$i({title:"Loading file",message:`Loading file ${n[i].scopedPath} from the ArcAPI. This can take a while, depending on your internet connection and the size of the file.`,buttons:[],image:ml}),l=n[i].scopedPath;l.startsWith("./")&&(n[i].scopedPath=l.replace("./",""));const o=await ir(n[i]);Cl(s),wp(),ue.set(K(ue)),o!=!0&&As({...o,anymime:!0})},description:n[i].scopedPath.replace(`/${n[i].filename}`,""),image:Hi});return e}kt.subscribe(()=>{});function dR(){const r=[],e=Nn;for(let t=0;t<e.length;t++){const n=e[t];r.push({image:n.icon,caption:n.name,action:()=>{ze("SettingsApp"),setTimeout(()=>{Yn.set(n)})}})}return r}const vf=[uR,dR,fR],pR=[{caption:"Shutdown",description:"Leave the desktop and turn off ArcOS",action:ts,image:xs},{caption:"Restart",description:"Leave the desktop and reload ArcOS",action:()=>Qn(!1),image:xs}];async function mR(){let r=[...pR];for(let e=0;e<vf.length;e++)r.push(...await vf[e]());return r}const yt=pe(!1);async function hR(r){const e=await mR(),t={includeScore:!0,keys:["caption","description"]};return new Oi(e,t).search(r)}const gR=[{icon:"motion_photos_on",iconOff:"motion_photos_off",getter(r){return r.sh.anim},setter(r){return r.sh.anim=!r.sh.anim,te.set(r),r.sh.anim},caption:"Animations"},{icon:"blur_on",iconOff:"blur_off",getter(r){return!r.sh.noGlass},setter(r){return r.sh.noGlass=!r.sh.noGlass,te.set(r),!r.sh.noGlass},caption:"Transparency"},{icon:"call_to_action",iconOff:"call_to_action",getter(r){return r.sh.taskbar.docked},setter(r){return r.sh.taskbar.docked=!r.sh.taskbar.docked,te.set(r),r.sh.taskbar.docked},caption:"Dock Taskbar"},{icon:"dark_mode",iconOff:"light_mode",getter(r){return r.sh.desktop.theme=="dark"},setter(r){const e=r.sh.desktop.theme;return r.sh.desktop.theme=e=="dark"?"light":"dark",te.set(r),r.sh.desktop.theme=="dark"},caption:"Dark mode"},{icon:"",iconOff:"",getter(){return!1},setter(){return!1},caption:""},{icon:"",iconOff:"",getter(){return!1},setter(){return!1},caption:""},{icon:"",iconOff:"",getter(){return!1},setter(){return!1},caption:""},{icon:"search",iconOff:"search",getter(){return!1},setter(){return yt.set(!0),!1},caption:"Search"},{icon:"logout",iconOff:"logout",getter(){return!1},setter(){return ze("Exit"),!1},caption:"Exit"}];function AR(r){let e,t=(r[1]?r[0].icon:r[0].iconOff)+"",n,i,s,l=r[0].caption+"",o,a,c;return{c(){e=g("button"),n=F(t),i=T(),s=g("p"),o=F(l),h(s,"class","caption"),h(e,"class","setting material-icons-round"),j(e,"active",r[1])},m(u,f){S(u,e,f),p(e,n),p(e,i),p(e,s),p(s,o),a||(c=N(e,"click",r[2]),a=!0)},p(u,[f]){f&3&&t!==(t=(u[1]?u[0].icon:u[0].iconOff)+"")&&W(n,t),f&1&&l!==(l=u[0].caption+"")&&W(o,l),f&2&&j(e,"active",u[1])},i:O,o:O,d(u){u&&y(e),a=!1,c()}}}function bR(r,e,t){let n;G(r,te,o=>t(3,n=o));let i=!1,{setting:s}=e;function l(){s.setter(n),t(1,i=s.getter(n))}return ve(()=>{t(1,i=s.getter(n))}),te.subscribe(o=>{t(1,i=s.getter(o))}),r.$$set=o=>{"setting"in o&&t(0,s=o.setting)},[s,i,l]}class _R extends U{constructor(e){super(),z(this,e,bR,AR,P,{setting:0})}}function wR(r,e,t){const n=r.slice();return n[0]=e[t],n}function vR(r){let e,t;return e=new _R({props:{setting:r[0]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function kR(r){let e,t,n=X(gR),i=[];for(let s=0;s<n.length;s+=1)i[s]=vR(wR(r,n,s));return{c(){e=g("div");for(let s=0;s<i.length;s+=1)i[s].c();h(e,"class","quicksettings")},m(s,l){S(s,e,l);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null);t=!0},p:O,i(s){if(!t){for(let l=0;l<n.length;l+=1)w(i[l]);t=!0}},o(s){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)C(i[l]);t=!1},d(s){s&&y(e),me(i,s)}}}class yR extends U{constructor(e){super(),z(this,e,null,kR,P,{})}}function SR(r){let e,t,n=r[0].sh.noQuickSettings?"Expand":"Collapse",i,s,l;return{c(){e=g("div"),t=g("button"),i=F(n),h(t,"class","toggle"),h(e,"class","quicksettings-toggle")},m(o,a){S(o,e,a),p(e,t),p(t,i),s||(l=N(t,"click",r[1]),s=!0)},p(o,[a]){a&1&&n!==(n=o[0].sh.noQuickSettings?"Expand":"Collapse")&&W(i,n)},i:O,o:O,d(o){o&&y(e),s=!1,l()}}}function $R(r,e,t){let n;G(r,te,s=>t(0,n=s));function i(){Ee(te,n.sh.noQuickSettings=!n.sh.noQuickSettings,n)}return[n,i]}class CR extends U{constructor(e){super(),z(this,e,$R,SR,P,{})}}function TR(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A;return a=new yO({}),u=new CR({}),d=new yR({}),{c(){e=g("div"),t=g("h3"),n=F("Notifications "),i=g("button"),s=F("Clear"),o=T(),M(a.$$.fragment),c=T(),M(u.$$.fragment),f=T(),M(d.$$.fragment),h(i,"class","clear"),i.disabled=l=!Object.entries(r[3]).length,h(t,"class","title"),h(e,"class","actioncenter"),Se(e,"z-index",r[2]+4),j(e,"docked",r[1].sh.taskbar.docked),j(e,"launcher",r[1].sh.taskbar.isLauncher),j(e,"opened",r[0]),j(e,"noquick",r[1].sh.noQuickSettings),j(e,"colored",r[1].sh.taskbar.colored)},m(_,v){S(_,e,v),p(e,t),p(t,n),p(t,i),p(i,s),p(e,o),D(a,e,null),p(e,c),D(u,e,null),p(e,f),D(d,e,null),m=!0,b||(A=N(i,"click",r[4]),b=!0)},p(_,[v]){(!m||v&8&&l!==(l=!Object.entries(_[3]).length))&&(i.disabled=l),(!m||v&4)&&Se(e,"z-index",_[2]+4),(!m||v&2)&&j(e,"docked",_[1].sh.taskbar.docked),(!m||v&2)&&j(e,"launcher",_[1].sh.taskbar.isLauncher),(!m||v&1)&&j(e,"opened",_[0]),(!m||v&2)&&j(e,"noquick",_[1].sh.noQuickSettings),(!m||v&2)&&j(e,"colored",_[1].sh.taskbar.colored)},i(_){m||(w(a.$$.fragment,_),w(u.$$.fragment,_),w(d.$$.fragment,_),m=!0)},o(_){C(a.$$.fragment,_),C(u.$$.fragment,_),C(d.$$.fragment,_),m=!1},d(_){_&&y(e),B(a),B(u),B(d),b=!1,A()}}}function ER(r,e,t){let n,i,s;G(r,te,a=>t(1,n=a)),G(r,Ve,a=>t(2,i=a)),G(r,an,a=>t(3,s=a));let l=!1;Nt.subscribe(a=>t(0,l=a));function o(){an.set({}),Hn.set(null)}return[l,n,i,s,o]}class IR extends U{constructor(e){super(),z(this,e,ER,TR,P,{})}}function kf(r,e,t){const n=r.slice();return n[8]=e[t],n}function yf(r){let e,t,n=r[0].title+"",i,s,l,o,a,c=r[0].message+"",u,f,d,m;function b($,E){return $[0].image?RR:OR}let A=b(r),_=A(r),v=X(r[0].buttons),k=[];for(let $=0;$<v.length;$+=1)k[$]=Sf(kf(r,v,$));return{c(){e=g("p"),_.c(),t=T(),i=F(n),s=T(),l=g("button"),l.textContent="close",o=T(),a=g("p"),u=T(),f=g("div");for(let $=0;$<k.length;$+=1)k[$].c();h(l,"class","close material-icons-round"),h(e,"class","title"),h(a,"class","message"),h(f,"class","buttons")},m($,E){S($,e,E),_.m(e,null),p(e,t),p(e,i),p(e,s),p(e,l),S($,o,E),S($,a,E),a.innerHTML=c,S($,u,E),S($,f,E);for(let I=0;I<k.length;I+=1)k[I]&&k[I].m(f,null);d||(m=N(l,"click",r[4]),d=!0)},p($,E){if(A===(A=b($))&&_?_.p($,E):(_.d(1),_=A($),_&&(_.c(),_.m(e,t))),E&1&&n!==(n=$[0].title+"")&&W(i,n),E&1&&c!==(c=$[0].message+"")&&(a.innerHTML=c),E&33){v=X($[0].buttons);let I;for(I=0;I<v.length;I+=1){const R=kf($,v,I);k[I]?k[I].p(R,E):(k[I]=Sf(R),k[I].c(),k[I].m(f,null))}for(;I<k.length;I+=1)k[I].d(1);k.length=v.length}},d($){$&&(y(e),y(o),y(a),y(u),y(f)),_.d(),me(k,$),d=!1,m()}}}function OR(r){let e,t=r[0].icon+"",n;return{c(){e=g("span"),n=F(t),h(e,"class","material-icons-round")},m(i,s){S(i,e,s),p(e,n)},p(i,s){s&1&&t!==(t=i[0].icon+"")&&W(n,t)},d(i){i&&y(e)}}}function RR(r){let e,t,n;return{c(){e=g("img"),de(e.src,t=r[0].image)||h(e,"src",t),h(e,"alt",n=r[0].title)},m(i,s){S(i,e,s)},p(i,s){s&1&&!de(e.src,t=i[0].image)&&h(e,"src",t),s&1&&n!==(n=i[0].title)&&h(e,"alt",n)},d(i){i&&y(e)}}}function Sf(r){let e,t=r[8].caption+"",n,i,s;return{c(){e=g("button"),n=F(t)},m(l,o){S(l,e,o),p(e,n),i||(s=N(e,"click",function(){ct(r[5](r[8].action))&&r[5](r[8].action).apply(this,arguments)}),i=!0)},p(l,o){r=l,o&1&&t!==(t=r[8].caption+"")&&W(n,t)},d(l){l&&y(e),i=!1,s()}}}function LR(r){let e,t=r[0]&&yf(r);return{c(){e=g("div"),t&&t.c(),h(e,"class","notification"),Se(e,"z-index",r[3]+4),j(e,"hidden",!r[0]||r[1]),j(e,"colored",r[2].sh.taskbar.colored),j(e,"nobutt",r[0]&&!r[0].buttons.length),j(e,"launcher",r[2].sh.taskbar.isLauncher)},m(n,i){S(n,e,i),t&&t.m(e,null)},p(n,[i]){n[0]?t?t.p(n,i):(t=yf(n),t.c(),t.m(e,null)):t&&(t.d(1),t=null),i&8&&Se(e,"z-index",n[3]+4),i&3&&j(e,"hidden",!n[0]||n[1]),i&4&&j(e,"colored",n[2].sh.taskbar.colored),i&1&&j(e,"nobutt",n[0]&&!n[0].buttons.length),i&4&&j(e,"launcher",n[2].sh.taskbar.isLauncher)},i:O,o:O,d(n){n&&y(e),t&&t.d()}}}function DR(r,e,t){let n,i,s;G(r,an,f=>t(7,n=f)),G(r,te,f=>t(2,i=f)),G(r,Ve,f=>t(3,s=f));let l=null,o=!1,a;Hn.subscribe(f=>{if(f){t(1,o=!0),t(0,l=null),a=f,setTimeout(()=>{Pt.playSound("arcos.notification"),t(1,o=!1),t(0,l=n[f])},250);return}t(1,o=!0),setTimeout(()=>{t(0,l=null)},300)});function c(){wp()}function u(f){return()=>{f(),c(),Cl(a)}}return[l,o,i,s,c,u]}class BR extends U{constructor(e){super(),z(this,e,DR,LR,P,{})}}function Bn(r){return document.querySelector(`window#${r.id}`)}function MR(r){const e=r.composedPath();for(let t=0;t<e.length;t++){const n=e[t].tagName;if(n&&n.toLowerCase()=="window")return e[t]}}function $f(r){let e,t=r[0].info.name+"",n;return{c(){e=g("span"),n=F(t)},m(i,s){S(i,e,s),p(e,n)},p(i,s){s&1&&t!==(t=i[0].info.name+"")&&W(n,t)},d(i){i&&y(e)}}}function FR(r){let e,t,n,i,s,l,o,a=r[1]&&$f(r);return{c(){e=g("button"),t=g("img"),s=T(),a&&a.c(),de(t.src,n=Wt(r[0].id)||$t(r[0]))||h(t,"src",n),h(t,"alt",i=r[0].info.name),h(t,"class","icon"),h(e,"class","appbutton"),j(e,"minimized",r[2]),j(e,"activated",r[0].id==r[3])},m(c,u){S(c,e,u),p(e,t),p(e,s),a&&a.m(e,null),l||(o=N(e,"click",r[4]),l=!0)},p(c,[u]){u&1&&!de(t.src,n=Wt(c[0].id)||$t(c[0]))&&h(t,"src",n),u&1&&i!==(i=c[0].info.name)&&h(t,"alt",i),c[1]?a?a.p(c,u):(a=$f(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null),u&4&&j(e,"minimized",c[2]),u&9&&j(e,"activated",c[0].id==c[3])},i:O,o:O,d(c){c&&y(e),a&&a.d(),l=!1,o()}}}function PR(r,e,t){let n,i;G(r,Ve,c=>t(5,n=c)),G(r,tt,c=>t(3,i=c));let{app:s}=e,l=!1,o=!1;te.subscribe(c=>{t(1,l=c.sh.taskbar.labels)}),ue.subscribe(()=>{t(2,o=Ap(s.id))});function a(){i==s.id?t(0,s.state.windowState.min=!s.state.windowState.min,s):t(0,s.state.windowState.min=!1,s),Kt(),Ee(Ve,n++,n),Ee(tt,i=s.id,i);const c=Bn(s);c.style.zIndex=n.toString()}return r.$$set=c=>{"app"in c&&t(0,s=c.app)},[s,l,o,i,a]}class zR extends U{constructor(e){super(),z(this,e,PR,FR,P,{app:0})}}const UR=""+new URL("upload-54369c84.svg",import.meta.url).href;function Cf(r,e,t){const n=r.slice();return n[8]=e[t],n}function NR(r){let e,t,n;return{c(){e=g("img"),de(e.src,t=r[8].image)||h(e,"src",t),h(e,"alt",n=r[8].identifier)},m(i,s){S(i,e,s)},p(i,s){s&4&&!de(e.src,t=i[8].image)&&h(e,"src",t),s&4&&n!==(n=i[8].identifier)&&h(e,"alt",n)},d(i){i&&y(e)}}}function jR(r){let e,t=r[8].icon+"",n;return{c(){e=g("span"),n=F(t),h(e,"class","material-icons-round")},m(i,s){S(i,e,s),p(e,n)},p(i,s){s&4&&t!==(t=i[8].icon+"")&&W(n,t)},d(i){i&&y(e)}}}function Tf(r){let e,t,n,i;function s(c,u){return c[8].icon?jR:NR}let l=s(r),o=l(r);function a(){return r[7](r[8])}return{c(){e=g("button"),o.c(),h(e,"class","icon"),h(e,"title",t=r[8].title||"")},m(c,u){S(c,e,u),o.m(e,null),n||(i=N(e,"click",a),n=!0)},p(c,u){r=c,l===(l=s(r))&&o?o.p(r,u):(o.d(1),o=l(r),o&&(o.c(),o.m(e,null))),u&4&&t!==(t=r[8].title||"")&&h(e,"title",t)},d(c){c&&y(e),o.d(),n=!1,i()}}}function Ef(r){let e,t;return{c(){e=g("div"),t=F(r[1]),h(e,"class","clock")},m(n,i){S(n,e,i),p(e,t)},p(n,i){i&2&&W(t,n[1])},d(n){n&&y(e)}}}function HR(r){let e,t,n,i,s,l,o,a,c,u,f=X(r[2]),d=[];for(let _=0;_<f.length;_+=1)d[_]=Tf(Cf(r,f,_));let m=r[0]&&Ef(r);const b=r[6].default,A=je(b,r,r[5],null);return{c(){e=g("div");for(let _=0;_<d.length;_+=1)d[_].c();t=T(),n=g("button"),n.innerHTML=`<img src="${UR}" alt="Committing"/>`,i=T(),m&&m.c(),s=T(),l=g("button"),l.textContent="notifications",o=T(),A&&A.c(),h(n,"class","icon committer"),j(n,"inactive",!r[3]),h(l,"class","material-icons-round ac-open"),j(l,"opened",r[4]),h(e,"class","tray")},m(_,v){S(_,e,v);for(let k=0;k<d.length;k+=1)d[k]&&d[k].m(e,null);p(e,t),p(e,n),p(e,i),m&&m.m(e,null),p(e,s),p(e,l),p(e,o),A&&A.m(e,null),a=!0,c||(u=N(l,"click",cg),c=!0)},p(_,[v]){if(v&4){f=X(_[2]);let k;for(k=0;k<f.length;k+=1){const $=Cf(_,f,k);d[k]?d[k].p($,v):(d[k]=Tf($),d[k].c(),d[k].m(e,t))}for(;k<d.length;k+=1)d[k].d(1);d.length=f.length}(!a||v&8)&&j(n,"inactive",!_[3]),_[0]?m?m.p(_,v):(m=Ef(_),m.c(),m.m(e,s)):m&&(m.d(1),m=null),(!a||v&16)&&j(l,"opened",_[4]),A&&A.p&&(!a||v&32)&&Qe(A,b,_,_[5],a?He(b,_[5],v,null):We(_[5]),null)},i(_){a||(w(A,_),a=!0)},o(_){C(A,_),a=!1},d(_){_&&y(e),me(d,_),m&&m.d(),A&&A.d(_),c=!1,u()}}}function QR(r,e,t){let n,i,s;G(r,wi,f=>t(2,n=f)),G(r,ns,f=>t(3,i=f)),G(r,Nt,f=>t(4,s=f));let{$$slots:l={},$$scope:o}=e,{hasClock:a=!0}=e,c="";ve(()=>{setInterval(()=>{t(1,c=jt().format("HH:mm"))},500)});const u=f=>f.onOpen(f);return r.$$set=f=>{"hasClock"in f&&t(0,a=f.hasClock),"$$scope"in f&&t(5,o=f.$$scope)},[a,c,n,i,s,o,l,u]}class Vm extends U{constructor(e){super(),z(this,e,QR,HR,P,{hasClock:0})}}function If(r,e,t){const n=r.slice();return n[2]=e[t],n}function Of(r){let e,t;return e=new zR({props:{app:r[2]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.app=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Rf(r){let e,t,n=!r[2].disabled&&Of(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,s){i[2].disabled?n&&(V(),C(n,1,1,()=>{n=null}),q()):n?(n.p(i,s),s&2&&w(n,1)):(n=Of(i),n.c(),w(n,1),n.m(e.parentNode,e))},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function WR(r){let e,t,n;return t=new Vt({props:{height:24}}),{c(){e=g("div"),M(t.$$.fragment),h(e,"class","tray svelte-1vsr6ui")},m(i,s){S(i,e,s),D(t,e,null),n=!0},i(i){n||(w(t.$$.fragment,i),n=!0)},o(i){C(t.$$.fragment,i),n=!1},d(i){i&&y(e),B(t)}}}function KR(r){let e,t;return e=new Vm({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function GR(r){let e,t,n,i,s,l,o=X(r[1]),a=[];for(let m=0;m<o.length;m+=1)a[m]=Rf(If(r,o,m));const c=m=>C(a[m],1,1,()=>{a[m]=null}),u=[KR,WR],f=[];function d(m,b){return m[0]?0:1}return n=d(r),i=f[n]=u[n](r),{c(){e=g("div");for(let m=0;m<a.length;m+=1)a[m].c();t=T(),i.c(),s=le(),h(e,"class","buttons")},m(m,b){S(m,e,b);for(let A=0;A<a.length;A+=1)a[A]&&a[A].m(e,null);S(m,t,b),f[n].m(m,b),S(m,s,b),l=!0},p(m,[b]){if(b&2){o=X(m[1]);let _;for(_=0;_<o.length;_+=1){const v=If(m,o,_);a[_]?(a[_].p(v,b),w(a[_],1)):(a[_]=Rf(v),a[_].c(),w(a[_],1),a[_].m(e,null))}for(V(),_=o.length;_<a.length;_+=1)c(_);q()}let A=n;n=d(m),n!==A&&(V(),C(f[A],1,1,()=>{f[A]=null}),q(),i=f[n],i||(i=f[n]=u[n](m),i.c()),w(i,1),i.m(s.parentNode,s))},i(m){if(!l){for(let b=0;b<o.length;b+=1)w(a[b]);w(i),l=!0}},o(m){a=a.filter(Boolean);for(let b=0;b<a.length;b+=1)C(a[b]);C(i),l=!1},d(m){m&&(y(e),y(t),y(s)),me(a,m),f[n].d(m)}}}function VR(r,e,t){let n=!1,i=[];return ue.subscribe(()=>{t(1,i=ti())}),ve(()=>{t(0,n=!1),setTimeout(()=>{t(0,n=!0)},3e3)}),[n,i]}class qm extends U{constructor(e){super(),z(this,e,VR,GR,P,{})}}function qR(r){let e,t,n,i;const s=r[4].default,l=je(s,r,r[3],null);return n=new qm({}),{c(){e=g("div"),l&&l.c(),t=T(),M(n.$$.fragment),h(e,"class","taskbar-h newtb"),Se(e,"z-index",r[0]+5),h(e,"data-contextmenu","shell-taskbar"),j(e,"docked",r[1].sh.taskbar.docked),j(e,"centered",r[1].sh.taskbar.centered),j(e,"colored",r[1].sh.taskbar.colored),j(e,"visible",r[1].sh.taskbar.pos==""&&!r[2])},m(o,a){S(o,e,a),l&&l.m(e,null),p(e,t),D(n,e,null),i=!0},p(o,[a]){l&&l.p&&(!i||a&8)&&Qe(l,s,o,o[3],i?He(s,o[3],a,null):We(o[3]),null),(!i||a&1)&&Se(e,"z-index",o[0]+5),(!i||a&2)&&j(e,"docked",o[1].sh.taskbar.docked),(!i||a&2)&&j(e,"centered",o[1].sh.taskbar.centered),(!i||a&2)&&j(e,"colored",o[1].sh.taskbar.colored),(!i||a&6)&&j(e,"visible",o[1].sh.taskbar.pos==""&&!o[2])},i(o){i||(w(l,o),w(n.$$.fragment,o),i=!0)},o(o){C(l,o),C(n.$$.fragment,o),i=!1},d(o){o&&y(e),l&&l.d(o),B(n)}}}function YR(r,e,t){let n,i,s;G(r,Ve,a=>t(0,n=a)),G(r,te,a=>t(1,i=a)),G(r,en,a=>t(2,s=a));let{$$slots:l={},$$scope:o}=e;return r.$$set=a=>{"$$scope"in a&&t(3,o=a.$$scope)},[n,i,s,o,l]}class JR extends U{constructor(e){super(),z(this,e,YR,qR,P,{})}}function ZR(r){let e,t,n,i,s,l,o;return{c(){e=g("button"),t=g("img"),de(t.src,n=Wt(r[0].id)||r[0].info.icon)||h(t,"src",n),h(t,"alt",i=r[0].info.name),h(e,"title",s=r[0].info.name),j(e,"minimized",r[1]),j(e,"activated",r[0].id==r[2])},m(a,c){S(a,e,c),p(e,t),l||(o=N(e,"click",r[3]),l=!0)},p(a,[c]){c&1&&!de(t.src,n=Wt(a[0].id)||a[0].info.icon)&&h(t,"src",n),c&1&&i!==(i=a[0].info.name)&&h(t,"alt",i),c&1&&s!==(s=a[0].info.name)&&h(e,"title",s),c&2&&j(e,"minimized",a[1]),c&5&&j(e,"activated",a[0].id==a[2])},i:O,o:O,d(a){a&&y(e),l=!1,o()}}}function XR(r,e,t){let n,i;G(r,Ve,a=>t(4,n=a)),G(r,tt,a=>t(2,i=a));let{app:s}=e,l=!1;ue.subscribe(()=>{t(1,l=Ap(s.id))});function o(){i==s.id?t(0,s.state.windowState.min=!s.state.windowState.min,s):t(0,s.state.windowState.min=!1,s),Kt(),Ee(Ve,n++,n),Ee(tt,i=s.id,i);const a=Bn(s);a.style.zIndex=n.toString(),yt.set(!1)}return r.$$set=a=>{"app"in a&&t(0,s=a.app)},[s,l,i,o]}class xR extends U{constructor(e){super(),z(this,e,XR,ZR,P,{app:0})}}function eL(r){let e,t,n;return{c(){e=g("div"),h(e,"class","launcher-bar-trigger"),Se(e,"z-index",r[0]+32)},m(i,s){S(i,e,s),t||(n=[N(e,"mouseenter",r[1]),N(e,"mouseleave",r[2])],t=!0)},p(i,[s]){s&1&&Se(e,"z-index",i[0]+32)},i:O,o:O,d(i){i&&y(e),t=!1,ke(n)}}}function tL(r,e,t){let n;G(r,Ve,c=>t(0,n=c));let{visible:i=!1}=e,{dockfocused:s}=e,{interval:l}=e;function o(){t(3,i=!0)}function a(){clearTimeout(l),!s&&t(4,l=setTimeout(()=>{t(3,i=!1)},1e3))}return r.$$set=c=>{"visible"in c&&t(3,i=c.visible),"dockfocused"in c&&t(5,s=c.dockfocused),"interval"in c&&t(4,l=c.interval)},[n,o,a,i,l,s]}class nL extends U{constructor(e){super(),z(this,e,tL,eL,P,{visible:3,dockfocused:5,interval:4})}}function Lf(r,e,t){const n=r.slice();return n[12]=e[t],n}function Df(r){let e,t;return e=new xR({props:{app:r[12]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.app=n[12]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Bf(r){let e,t,n=!r[12].info.hidden&&Df(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,s){i[12].info.hidden?n&&(V(),C(n,1,1,()=>{n=null}),q()):n?(n.p(i,s),s&1&&w(n,1)):(n=Df(i),n.c(),w(n,1),n.m(e.parentNode,e))},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function iL(r){let e,t,n,i,s,l,o,a,c,u,f,d=X(r[0]),m=[];for(let k=0;k<d.length;k+=1)m[k]=Bf(Lf(r,d,k));const b=k=>C(m[k],1,1,()=>{m[k]=null});function A(k){r[9](k)}function _(k){r[10](k)}let v={dockfocused:r[2]};return r[1]!==void 0&&(v.visible=r[1]),r[3]!==void 0&&(v.interval=r[3]),l=new nL({props:v}),we.push(()=>Ce(l,"visible",A)),we.push(()=>Ce(l,"interval",_)),{c(){e=g("div"),t=g("button"),t.innerHTML=`<img src="${tn()}" alt="ArcOS"/>`,n=T(),i=g("div");for(let k=0;k<m.length;k+=1)m[k].c();s=T(),M(l.$$.fragment),h(t,"class","apps"),h(i,"class","opened-apps"),h(e,"class","launcher-bar"),Se(e,"z-index",r[5]+31),j(e,"colored",r[4].sh.taskbar.colored),j(e,"visible",r[1])},m(k,$){S(k,e,$),p(e,t),p(e,n),p(e,i);for(let E=0;E<m.length;E+=1)m[E]&&m[E].m(i,null);S(k,s,$),D(l,k,$),c=!0,u||(f=[N(t,"click",r[8]),N(e,"mouseenter",r[6]),N(e,"mouseleave",r[7])],u=!0)},p(k,[$]){if($&1){d=X(k[0]);let I;for(I=0;I<d.length;I+=1){const R=Lf(k,d,I);m[I]?(m[I].p(R,$),w(m[I],1)):(m[I]=Bf(R),m[I].c(),w(m[I],1),m[I].m(i,null))}for(V(),I=d.length;I<m.length;I+=1)b(I);q()}(!c||$&32)&&Se(e,"z-index",k[5]+31),(!c||$&16)&&j(e,"colored",k[4].sh.taskbar.colored),(!c||$&2)&&j(e,"visible",k[1]);const E={};$&4&&(E.dockfocused=k[2]),!o&&$&2&&(o=!0,E.visible=k[1],$e(()=>o=!1)),!a&&$&8&&(a=!0,E.interval=k[3],$e(()=>a=!1)),l.$set(E)},i(k){if(!c){for(let $=0;$<d.length;$+=1)w(m[$]);w(l.$$.fragment,k),c=!0}},o(k){m=m.filter(Boolean);for(let $=0;$<m.length;$+=1)C(m[$]);C(l.$$.fragment,k),c=!1},d(k){k&&(y(e),y(s)),me(m,k),B(l,k),u=!1,ke(f)}}}function rL(r,e,t){let n,i,s;G(r,yt,A=>t(11,n=A)),G(r,te,A=>t(4,i=A)),G(r,Ve,A=>t(5,s=A));let l=[],o=!1,a=!1,c;ue.subscribe(()=>{t(0,l=ti())});function u(){t(2,a=!0),clearTimeout(c)}function f(){t(2,a=!1),t(3,c=setTimeout(()=>{t(1,o=!1)},1e3))}function d(){Ee(yt,n=!n,n)}function m(A){o=A,t(1,o)}function b(A){c=A,t(3,c)}return[l,o,a,c,i,s,u,f,d,m,b]}class sL extends U{constructor(e){super(),z(this,e,rL,iL,P,{})}}function lL(r){let e,t;return{c(){e=g("div"),t=F(r[0]),h(e,"class","clock")},m(n,i){S(n,e,i),p(e,t)},p(n,[i]){i&1&&W(t,n[0])},i:O,o:O,d(n){n&&y(e)}}}function oL(r,e,t){let n="";return ve(()=>{setInterval(()=>{t(0,n=jt().format("MMM M, HH:mm"))},500)}),[n]}class aL extends U{constructor(e){super(),z(this,e,oL,lL,P,{})}}function cL(r){let e;return{c(){e=F(r[3])},m(t,n){S(t,e,n)},p(t,n){n&8&&W(e,t[3])},d(t){t&&y(e)}}}function uL(r){let e,t,n,i,s;return t=new aL({}),i=new Vm({props:{hasClock:!1,$$slots:{default:[cL]},$$scope:{ctx:r}}}),{c(){e=g("div"),M(t.$$.fragment),n=T(),M(i.$$.fragment),h(e,"class","launcher-topbar"),Se(e,"z-index",r[2]+22),j(e,"docked",r[0].sh.taskbar.docked),j(e,"colored",r[0].sh.taskbar.colored),j(e,"visible",!r[1])},m(l,o){S(l,e,o),D(t,e,null),p(e,n),D(i,e,null),s=!0},p(l,[o]){const a={};o&24&&(a.$$scope={dirty:o,ctx:l}),i.$set(a),(!s||o&4)&&Se(e,"z-index",l[2]+22),(!s||o&1)&&j(e,"docked",l[0].sh.taskbar.docked),(!s||o&1)&&j(e,"colored",l[0].sh.taskbar.colored),(!s||o&2)&&j(e,"visible",!l[1])},i(l){s||(w(t.$$.fragment,l),w(i.$$.fragment,l),s=!0)},o(l){C(t.$$.fragment,l),C(i.$$.fragment,l),s=!1},d(l){l&&y(e),B(t),B(i)}}}function fL(r,e,t){let n,i,s,l;return G(r,te,o=>t(0,n=o)),G(r,en,o=>t(1,i=o)),G(r,Ve,o=>t(2,s=o)),G(r,Pe,o=>t(3,l=o)),[n,i,s,l]}class dL extends U{constructor(e){super(),z(this,e,fL,uL,P,{})}}function pL(r){let e,t,n,i;return e=new sL({}),n=new dL({}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment)},m(s,l){D(e,s,l),S(s,t,l),D(n,s,l),i=!0},p:O,i(s){i||(w(e.$$.fragment,s),w(n.$$.fragment,s),i=!0)},o(s){C(e.$$.fragment,s),C(n.$$.fragment,s),i=!1},d(s){s&&y(t),B(e,s),B(n,s)}}}class mL extends U{constructor(e){super(),z(this,e,null,pL,P,{})}}function hL(r){let e,t,n;return{c(){e=g("div"),h(e,"class","shellshade"),Se(e,"z-index",r[1]+3),j(e,"visible",r[0])},m(i,s){S(i,e,s),t||(n=N(e,"click",r[2]),t=!0)},p(i,[s]){s&2&&Se(e,"z-index",i[1]+3),s&1&&j(e,"visible",i[0])},i:O,o:O,d(i){i&&y(e),t=!1,n()}}}function gL(r,e,t){let n,i,s,l;G(r,Nt,c=>t(3,n=c)),G(r,Lt,c=>t(4,i=c)),G(r,qf,c=>t(0,s=c)),G(r,Ve,c=>t(1,l=c)),Nt.subscribe(o),Lt.subscribe(o);function o(){Ee(qf,s=i||n,s)}function a(){Lt.set(!1),Nt.set(!1)}return[s,l,a]}class AL extends U{constructor(e){super(),z(this,e,gL,hL,P,{})}}function bL(r){let e,t,n,i;const s=r[4].default,l=je(s,r,r[3],null);return n=new qm({}),{c(){e=g("div"),l&&l.c(),t=T(),M(n.$$.fragment),h(e,"class","taskbar-v newtb"),Se(e,"z-index",r[0]+5),h(e,"data-contextmenu","shell-taskbar"),j(e,"docked",r[1].sh.taskbar.docked),j(e,"centered",r[1].sh.taskbar.centered),j(e,"colored",r[1].sh.taskbar.colored),j(e,"visible",r[1].sh.taskbar.pos!=""&&!r[2]),j(e,"right",r[1].sh.taskbar.pos=="vertical-right")},m(o,a){S(o,e,a),l&&l.m(e,null),p(e,t),D(n,e,null),i=!0},p(o,[a]){l&&l.p&&(!i||a&8)&&Qe(l,s,o,o[3],i?He(s,o[3],a,null):We(o[3]),null),(!i||a&1)&&Se(e,"z-index",o[0]+5),(!i||a&2)&&j(e,"docked",o[1].sh.taskbar.docked),(!i||a&2)&&j(e,"centered",o[1].sh.taskbar.centered),(!i||a&2)&&j(e,"colored",o[1].sh.taskbar.colored),(!i||a&6)&&j(e,"visible",o[1].sh.taskbar.pos!=""&&!o[2]),(!i||a&2)&&j(e,"right",o[1].sh.taskbar.pos=="vertical-right")},i(o){i||(w(l,o),w(n.$$.fragment,o),i=!0)},o(o){C(l,o),C(n.$$.fragment,o),i=!1},d(o){o&&y(e),l&&l.d(o),B(n)}}}function _L(r,e,t){let n,i,s;G(r,Ve,a=>t(0,n=a)),G(r,te,a=>t(1,i=a)),G(r,en,a=>t(2,s=a));let{$$slots:l={},$$scope:o}=e;return r.$$set=a=>{"$$scope"in a&&t(3,o=a.$$scope)},[n,i,s,o,l]}class wL extends U{constructor(e){super(),z(this,e,_L,bL,P,{})}}function vL(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b,A,_,v;return n=new At({props:{src:r[0],height:21}}),{c(){e=g("div"),t=g("h1"),M(n.$$.fragment),i=T(),s=F(r[1]),l=T(),o=g("div"),a=g("button"),a.textContent="search",c=T(),u=g("button"),u.textContent="settings",f=T(),d=g("div"),m=T(),b=g("button"),b.textContent="power_settings_new",h(t,"class","username"),h(a,"class","material-icons-round"),h(a,"title","Search (Alt+Shift+S)"),h(u,"class","material-icons-round"),h(d,"class","sep"),h(b,"class","material-icons-round"),h(o,"class","options"),h(e,"class","bottom")},m(k,$){S(k,e,$),p(e,t),D(n,t,null),p(t,i),p(t,s),p(e,l),p(e,o),p(o,a),p(o,c),p(o,u),p(o,f),p(o,d),p(o,m),p(o,b),A=!0,_||(v=[N(a,"click",r[4]),N(u,"click",r[3]),N(b,"click",r[2])],_=!0)},p(k,[$]){const E={};$&1&&(E.src=k[0]),n.$set(E),(!A||$&2)&&W(s,k[1])},i(k){A||(w(n.$$.fragment,k),A=!0)},o(k){C(n.$$.fragment,k),A=!1},d(k){k&&y(e),B(n),_=!1,ke(v)}}}function kL(r,e,t){let n,i;G(r,te,c=>t(5,n=c)),G(r,Pe,c=>t(1,i=c));let s;function l(){ze("Exit"),Lt.set(!1)}function o(){ze("SettingsApp"),Lt.set(!1)}function a(){yt.set(!0),Lt.set(!1)}return te.subscribe(()=>{t(0,s=gn(n.acc.profilePicture))}),[s,i,l,o,a]}class yL extends U{constructor(e){super(),z(this,e,kL,vL,P,{})}}const Mf={communication:{name:"Communication",id:"communication"},coreApps:{name:"Core Apps",id:"coreApps"},entertainment:{name:"Entertainment",id:"entertainment"},utilities:{name:"Utilities",id:"utilities"},support:{name:"Help and Support",id:"support"},systemTools:{name:"System Tools",id:"systemTools"}};function SL(){const r=K(ue),e={},t=[];let n=[];for(let i=0;i<r.length;i++){n.push(r[i].id);const s=r[i].info.appGroup;if(Mf[s]){if(!Ht(r[i])){t.push(r[i].id);continue}if(t.push(r[i].id),!e[s]){e[s]={...Mf[s],apps:[r[i].id]};continue}e[s].apps.push(r[i].id)}}return n=n.filter(i=>!t.includes(i)),{groups:e,rest:n}}function $L(r){let e,t,n,i,s,l=r[0].info.name+"",o,a,c,u;return{c(){e=g("button"),t=g("img"),s=T(),o=F(l),de(t.src,n=Wt(r[0].id)||$t(r[0]))||h(t,"src",n),h(t,"class","icon"),h(t,"alt",i=r[0].info.name),h(e,"class","item"),e.disabled=a=r[0].opened},m(f,d){S(f,e,d),p(e,t),p(e,s),p(e,o),c||(u=N(e,"click",r[1]),c=!0)},p(f,[d]){d&1&&!de(t.src,n=Wt(f[0].id)||$t(f[0]))&&h(t,"src",n),d&1&&i!==(i=f[0].info.name)&&h(t,"alt",i),d&1&&l!==(l=f[0].info.name+"")&&W(o,l),d&1&&a!==(a=f[0].opened)&&(e.disabled=a)},i:O,o:O,d(f){f&&y(e),c=!1,u()}}}function CL(r,e,t){let{app:n}=e,{onopen:i=()=>{}}=e;function s(){ze(n.id),Kt(),Lt.set(!1),i()}return r.$$set=l=>{"app"in l&&t(0,n=l.app),"onopen"in l&&t(2,i=l.onopen)},[n,s,i]}class Jl extends U{constructor(e){super(),z(this,e,CL,$L,P,{app:0,onopen:2})}}function Ff(r,e,t){const n=r.slice();return n[3]=e[t],n}function Pf(r){let e,t,n,i,s,l,o=r[0].name+"",a,c,u,f,d,m,b=X(r[0].apps),A=[];for(let v=0;v<b.length;v+=1)A[v]=Uf(Ff(r,b,v));const _=v=>C(A[v],1,1,()=>{A[v]=null});return{c(){e=g("div"),t=g("button"),n=g("img"),s=T(),l=g("span"),a=F(o),c=T(),u=g("div");for(let v=0;v<A.length;v+=1)A[v].c();de(n.src,i=xt)||h(n,"src",i),h(n,"alt",""),h(l,"class","capt"),h(t,"class","expander"),h(u,"class","apps"),h(e,"class","group"),j(e,"expand",r[1])},m(v,k){S(v,e,k),p(e,t),p(t,n),p(t,s),p(t,l),p(l,a),p(e,c),p(e,u);for(let $=0;$<A.length;$+=1)A[$]&&A[$].m(u,null);f=!0,d||(m=N(t,"click",r[2]),d=!0)},p(v,k){if((!f||k&1)&&o!==(o=v[0].name+"")&&W(a,o),k&1){b=X(v[0].apps);let $;for($=0;$<b.length;$+=1){const E=Ff(v,b,$);A[$]?(A[$].p(E,k),w(A[$],1)):(A[$]=Uf(E),A[$].c(),w(A[$],1),A[$].m(u,null))}for(V(),$=b.length;$<A.length;$+=1)_($);q()}(!f||k&2)&&j(e,"expand",v[1])},i(v){if(!f){for(let k=0;k<b.length;k+=1)w(A[k]);f=!0}},o(v){A=A.filter(Boolean);for(let k=0;k<A.length;k+=1)C(A[k]);f=!1},d(v){v&&y(e),me(A,v),d=!1,m()}}}function zf(r){let e,t;return e=new Jl({props:{app:Ue(r[3])}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.app=Ue(n[3])),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Uf(r){let e=Ht(Ue(r[3])),t,n,i=e&&zf(r);return{c(){i&&i.c(),t=le()},m(s,l){i&&i.m(s,l),S(s,t,l),n=!0},p(s,l){l&1&&(e=Ht(Ue(s[3]))),e?i?(i.p(s,l),l&1&&w(i,1)):(i=zf(s),i.c(),w(i,1),i.m(t.parentNode,t)):i&&(V(),C(i,1,1,()=>{i=null}),q())},i(s){n||(w(i),n=!0)},o(s){C(i),n=!1},d(s){s&&y(t),i&&i.d(s)}}}function TL(r){let e,t,n=r[0]&&Pf(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=Pf(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function EL(r,e,t){let{group:n}=e,i=!1;const s=()=>t(1,i=!i);return r.$$set=l=>{"group"in l&&t(0,n=l.group)},[n,i,s]}class IL extends U{constructor(e){super(),z(this,e,EL,TL,P,{group:0})}}function Nf(r,e,t){const n=r.slice();return n[3]=e[t],n}function jf(r,e,t){const n=r.slice();return n[6]=e[t],n}function Hf(r){let e,t;return e=new IL({props:{group:r[6]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.group=n[6]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Qf(r){let e,t;return e=new Jl({props:{app:Ue(r[3])}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.app=Ue(n[3])),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Wf(r){let e=Ht(Ue(r[3])),t,n,i=e&&Qf(r);return{c(){i&&i.c(),t=le()},m(s,l){i&&i.m(s,l),S(s,t,l),n=!0},p(s,l){l&1&&(e=Ht(Ue(s[3]))),e?i?(i.p(s,l),l&1&&w(i,1)):(i=Qf(s),i.c(),w(i,1),i.m(t.parentNode,t)):i&&(V(),C(i,1,1,()=>{i=null}),q())},i(s){n||(w(i),n=!0)},o(s){C(i),n=!1},d(s){s&&y(t),i&&i.d(s)}}}function OL(r){let e,t,n,i=X(Object.values(r[1])),s=[];for(let u=0;u<i.length;u+=1)s[u]=Hf(jf(r,i,u));const l=u=>C(s[u],1,1,()=>{s[u]=null});let o=X(r[0]),a=[];for(let u=0;u<o.length;u+=1)a[u]=Wf(Nf(r,o,u));const c=u=>C(a[u],1,1,()=>{a[u]=null});return{c(){e=g("div");for(let u=0;u<s.length;u+=1)s[u].c();t=T();for(let u=0;u<a.length;u+=1)a[u].c();h(e,"class","left")},m(u,f){S(u,e,f);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(e,null);p(e,t);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(e,null);n=!0},p(u,[f]){if(f&2){i=X(Object.values(u[1]));let d;for(d=0;d<i.length;d+=1){const m=jf(u,i,d);s[d]?(s[d].p(m,f),w(s[d],1)):(s[d]=Hf(m),s[d].c(),w(s[d],1),s[d].m(e,t))}for(V(),d=i.length;d<s.length;d+=1)l(d);q()}if(f&1){o=X(u[0]);let d;for(d=0;d<o.length;d+=1){const m=Nf(u,o,d);a[d]?(a[d].p(m,f),w(a[d],1)):(a[d]=Wf(m),a[d].c(),w(a[d],1),a[d].m(e,null))}for(V(),d=o.length;d<a.length;d+=1)c(d);q()}},i(u){if(!n){for(let f=0;f<i.length;f+=1)w(s[f]);for(let f=0;f<o.length;f+=1)w(a[f]);n=!0}},o(u){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)C(s[f]);a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)C(a[f]);n=!1},d(u){u&&y(e),me(s,u),me(a,u)}}}function RL(r,e,t){let n,i=pe({});G(r,i,l=>t(1,n=l));let s=[];return ue.subscribe(async()=>{Ee(i,n={},n),await ut(0);const l=SL();Ee(i,n=l.groups,n),t(0,s=l.rest)}),[s,n,i]}class LL extends U{constructor(e){super(),z(this,e,RL,OL,P,{})}}function DL(r){let e,t,n,i,s,l,o,a=r[0].name+"",c,u,f;return{c(){e=g("button"),t=g("div"),n=g("img"),l=T(),o=g("div"),c=F(a),de(n.src,i=xt)||h(n,"src",i),h(n,"alt",s=r[0].name),h(t,"class","image"),h(o,"class","caption"),h(e,"class","link dir")},m(d,m){S(d,e,m),p(e,t),p(t,n),p(e,l),p(e,o),p(o,c),u||(f=N(e,"click",r[1]),u=!0)},p(d,[m]){m&1&&s!==(s=d[0].name)&&h(n,"alt",s),m&1&&a!==(a=d[0].name+"")&&W(c,a)},i:O,o:O,d(d){d&&y(e),u=!1,f()}}}function BL(r,e,t){let{dir:n}=e;function i(){Lt.set(!1),ze("FileManager"),setTimeout(()=>{nt.goToDirectory(n.scopedPath)})}return r.$$set=s=>{"dir"in s&&t(0,n=s.dir)},[n,i]}class ML extends U{constructor(e){super(),z(this,e,BL,DL,P,{dir:0})}}function Kf(r,e,t){const n=r.slice();return n[1]=e[t],n}function Gf(r){let e,t;return e=new ML({props:{dir:r[1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.dir=n[1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function FL(r){let e,t,n=X(r[0]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Gf(Kf(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","right")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,[o]){if(o&1){n=X(l[0]);let a;for(a=0;a<n.length;a+=1){const c=Kf(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Gf(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function PL(r,e,t){let n=[];return Bt.subscribe(async()=>{t(0,n=(await Gt("./")).directories)}),[n]}class zL extends U{constructor(e){super(),z(this,e,PL,FL,P,{})}}function Vf(r){let e,t,n,i,s,l,o;return t=new LL({}),i=new zL({}),l=new yL({}),{c(){e=g("div"),M(t.$$.fragment),n=T(),M(i.$$.fragment),s=T(),M(l.$$.fragment),h(e,"class","startmenu"),Se(e,"z-index",r[1]+4),j(e,"open",r[2]),j(e,"small",r[0].sh.start.small),j(e,"colored",r[0].sh.taskbar.colored)},m(a,c){S(a,e,c),D(t,e,null),p(e,n),D(i,e,null),p(e,s),D(l,e,null),o=!0},p(a,c){(!o||c&2)&&Se(e,"z-index",a[1]+4),(!o||c&4)&&j(e,"open",a[2]),(!o||c&1)&&j(e,"small",a[0].sh.start.small),(!o||c&1)&&j(e,"colored",a[0].sh.taskbar.colored)},i(a){o||(w(t.$$.fragment,a),w(i.$$.fragment,a),w(l.$$.fragment,a),o=!0)},o(a){C(t.$$.fragment,a),C(i.$$.fragment,a),C(l.$$.fragment,a),o=!1},d(a){a&&y(e),B(t),B(i),B(l)}}}function UL(r){let e,t,n=r[0]&&Vf(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=Vf(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function NL(r,e,t){let n,i,s;return G(r,te,l=>t(0,n=l)),G(r,Ve,l=>t(1,i=l)),G(r,Lt,l=>t(2,s=l)),[n,i,s]}class jL extends U{constructor(e){super(),z(this,e,NL,UL,P,{})}}function HL(r){let e,t,n;return{c(){e=g("button"),e.innerHTML=`<img src="${tn()}" alt="ArcOS Logo"/>`,h(e,"class","start"),j(e,"open",r[0])},m(i,s){S(i,e,s),t||(n=N(e,"click",r[1]),t=!0)},p(i,[s]){s&1&&j(e,"open",i[0])},i:O,o:O,d(i){i&&y(e),t=!1,n()}}}function QL(r,e,t){let n;G(r,Lt,s=>t(0,n=s));function i(){Ee(Lt,n=!n,n)}return[n,i]}class Ym extends U{constructor(e){super(),z(this,e,QL,HL,P,{})}}function WL(r){let e,t;return e=new mL({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function KL(r){let e,t,n,i;return e=new JR({props:{$$slots:{default:[GL]},$$scope:{ctx:r}}}),n=new wL({props:{$$slots:{default:[VL]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment)},m(s,l){D(e,s,l),S(s,t,l),D(n,s,l),i=!0},i(s){i||(w(e.$$.fragment,s),w(n.$$.fragment,s),i=!0)},o(s){C(e.$$.fragment,s),C(n.$$.fragment,s),i=!1},d(s){s&&y(t),B(e,s),B(n,s)}}}function GL(r){let e,t;return e=new Ym({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function VL(r){let e,t;return e=new Ym({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function qL(r){let e,t,n,i,s,l,o,a,c,u,f;e=new AL({}),n=new jL({});const d=[KL,WL],m=[];function b(A,_){return A[0].sh.taskbar.isLauncher?1:0}return s=b(r),l=m[s]=d[s](r),a=new IR({}),u=new BR({}),{c(){M(e.$$.fragment),t=T(),M(n.$$.fragment),i=T(),l.c(),o=T(),M(a.$$.fragment),c=T(),M(u.$$.fragment)},m(A,_){D(e,A,_),S(A,t,_),D(n,A,_),S(A,i,_),m[s].m(A,_),S(A,o,_),D(a,A,_),S(A,c,_),D(u,A,_),f=!0},p(A,[_]){let v=s;s=b(A),s!==v&&(V(),C(m[v],1,1,()=>{m[v]=null}),q(),l=m[s],l||(l=m[s]=d[s](A),l.c()),w(l,1),l.m(o.parentNode,o))},i(A){f||(w(e.$$.fragment,A),w(n.$$.fragment,A),w(l),w(a.$$.fragment,A),w(u.$$.fragment,A),f=!0)},o(A){C(e.$$.fragment,A),C(n.$$.fragment,A),C(l),C(a.$$.fragment,A),C(u.$$.fragment,A),f=!1},d(A){A&&(y(t),y(i),y(o),y(c)),B(e,A),B(n,A),m[s].d(A),B(a,A),B(u,A)}}}function YL(r,e,t){let n;return G(r,te,i=>t(0,n=i)),[n]}class JL extends U{constructor(e){super(),z(this,e,YL,qL,P,{})}}const ZL={info:{name:"ArcShell",description:"The ArcOS Shell",builtin:!0,version:ft,author:"ArcOS Team",icon:tn(),custom:!0,appGroup:"coreApps"},size:{w:NaN,h:NaN},pos:{x:0,y:0},minSize:{w:NaN,h:NaN},maxSize:{w:NaN,h:NaN},controls:{min:!1,max:!1,cls:!1},state:{headless:!0,resizable:!1,windowState:{min:!1,max:!1,fll:!0}},content:JL,glass:!1,events:{},contextMenu:{"shell-taskbar":[{caption:"Application Manager",action:()=>{ze("AppMan")}},Fi,{icon:"settings",caption:"Shell settings",action:()=>{ze("SettingsApp"),setTimeout(()=>{Bi("Shell")})}}]},core:!0},qf=pe(!1);function XL(r){let e,t,n,i,s,l,o=r[0].info.name+"",a,c,u;return{c(){e=g("button"),t=g("img"),s=T(),l=g("p"),a=F(o),de(t.src,n=Wt(r[0].id)||r[0].info.icon)||h(t,"src",n),h(t,"alt",i=r[0].info.name),h(l,"class","name"),h(e,"class","desktopIcon")},m(f,d){S(f,e,d),p(e,t),p(e,s),p(e,l),p(l,a),c||(u=N(e,"dblclick",r[1]),c=!0)},p(f,[d]){d&1&&!de(t.src,n=Wt(f[0].id)||f[0].info.icon)&&h(t,"src",n),d&1&&i!==(i=f[0].info.name)&&h(t,"alt",i),d&1&&o!==(o=f[0].info.name+"")&&W(a,o)},i:O,o:O,d(f){f&&y(e),c=!1,u()}}}function xL(r,e,t){let{app:n}=e;function i(){ze(n.id)}return r.$$set=s=>{"app"in s&&t(0,n=s.app)},[n,i]}class eD extends U{constructor(e){super(),z(this,e,xL,XL,P,{app:0})}}function Yf(r,e,t){const n=r.slice();return n[2]=e[t],n}function Jf(r){let e,t,n=X(r[1]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Xf(Yf(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","desktopIcons"),j(e,"launcher",r[0].sh.taskbar.isLauncher),j(e,"undocked-launcher",r[0].sh.taskbar.isLauncher&&!r[0].sh.taskbar.docked)},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,o){if(o&3){n=X(l[1]);let a;for(a=0;a<n.length;a+=1){const c=Yf(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Xf(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}(!t||o&1)&&j(e,"launcher",l[0].sh.taskbar.isLauncher),(!t||o&1)&&j(e,"undocked-launcher",l[0].sh.taskbar.isLauncher&&!l[0].sh.taskbar.docked)},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Zf(r){let e,t;return e=new eD({props:{app:r[2]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.app=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Xf(r){let e=Ht(r[2])||r[0].sh.showHiddenApps,t,n,i=e&&Zf(r);return{c(){i&&i.c(),t=le()},m(s,l){i&&i.m(s,l),S(s,t,l),n=!0},p(s,l){l&3&&(e=Ht(s[2])||s[0].sh.showHiddenApps),e?i?(i.p(s,l),l&3&&w(i,1)):(i=Zf(s),i.c(),w(i,1),i.m(t.parentNode,t)):i&&(V(),C(i,1,1,()=>{i=null}),q())},i(s){n||(w(i),n=!0)},o(s){C(i),n=!1},d(s){s&&y(t),i&&i.d(s)}}}function tD(r){let e,t,n=r[0].sh.desktop.icons&&Jf(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0].sh.desktop.icons?n?(n.p(i,s),s&1&&w(n,1)):(n=Jf(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function nD(r,e,t){let n,i;return G(r,te,s=>t(0,n=s)),G(r,ue,s=>t(1,i=s)),[n,i]}class iD extends U{constructor(e){super(),z(this,e,nD,tD,P,{})}}const nr=pe(),hs=pe(!1),gs=pe(!1);function rD(r){let e,t,n;return t=new iD({}),{c(){e=g("div"),M(t.$$.fragment),h(e,"class","wallpaper fullscreen"),Se(e,"background-image","url("+r[0]+")"),h(e,"data-contextmenu","shell-wallpaper")},m(i,s){S(i,e,s),D(t,e,null),n=!0},p(i,[s]){(!n||s&1)&&Se(e,"background-image","url("+i[0]+")")},i(i){n||(w(t.$$.fragment,i),n=!0)},o(i){C(t.$$.fragment,i),n=!1},d(i){i&&y(e),B(t)}}}function sD(r,e,t){let n;G(r,te,l=>t(2,n=l));let i="",s="";return te.subscribe(async()=>{const l=n.sh.desktop.wallpaper;if(s==l)return;s=l;const o=(await Vl(l)).url;o!=i&&t(0,i=o)}),[i]}class lD extends U{constructor(e){super(),z(this,e,sD,rD,P,{})}}const oD={info:{name:"Wallpaper",description:"The ArcOS wallpaper",builtin:!0,version:ft,author:"ArcOS Team",icon:Kr,custom:!0,appGroup:"coreApps"},size:{w:NaN,h:NaN},pos:{x:0,y:0},minSize:{w:NaN,h:NaN},maxSize:{w:NaN,h:NaN},controls:{min:!1,max:!1,cls:!1},state:{headless:!0,resizable:!1,windowState:{min:!1,max:!1,fll:!0}},content:lD,glass:!1,events:{},contextMenu:{"shell-wallpaper":[{caption:"Show desktop icons",action:()=>{const r=K(te);r.sh.desktop.icons=!r.sh.desktop.icons,te.set(r)},icon:"apps",isActive:()=>K(te).sh.desktop.icons},Fi,{caption:"File Manager",action:()=>{ze("FileManager")},image:cm},{caption:"Application Manager",action:()=>{ze("AppMan")},image:Dl},{caption:"App settings",action:()=>{Bi("Apps")},image:ps},Fi,{caption:"Shut down",action:ts,icon:"power_settings_new"},{caption:"Restart",action:()=>Qn(!1),icon:"refresh"},Fi,{caption:"Themes",action:()=>{Bi("Themes")},image:Gl},{caption:"Wallpaper",action:()=>{Bi("Wallpaper")},image:Kr},{caption:"Visuals",action:()=>{Bi("Visuals")},image:Mm}]},core:!0},aD={ErrCre:fv,FileManager:C2,TextEditor:lE,CalculatorApp:Xw,MessagingApp:nE,SettingsApp:hO,AppMan:tm,LoggerApp:vC,ArcTerm:$_,DonutApp:ov,LightsOff:H3,ArcShell:ZL,Exit:hv,AppInfo:Fb,ImageViewer:O3,OpenWithApp:Tb,MarkDownViewer:IC,MediaPlayerApp:DC,DesktopWallpaper:oD,HelpCenter:k$,BugReports:Bw},qr=["AppMan","Exit","SettingsApp","PfpSelector","AppInfo","LoggerApp","FileManager","ArcShell","DesktopWallpaper"];function Jm(r){if(ie("enabling.ts: disableApp",`Disabling app ${r}`),qr.includes(r))return Ji("Can't disable application",`App "${r}" is a system application. System applications are core to ArcOS and cannot be disabled without breaking certain functionality.`,null,"AppLogic",{caption:"OK",action:()=>{}});const e=K(te);bt(r),e.disabledApps.includes(r)||e.disabledApps.push(r);const t=K(ue);for(let n=0;n<t.length;n++)t[n].id==r&&(t[n].disabled=!0);te.set(e),ue.set(t),Kt()}function Zm(r){ie("enabling.ts: enableApp",`Enabling app ${r}`);const e=K(te);for(let n=0;n<e.disabledApps.length;n++)e.disabledApps[n]==r&&e.disabledApps.splice(n,1);const t=K(ue);for(let n=0;n<t.length;n++)t[n].id==r&&(t[n].disabled=!1);ue.set(t),te.set(e),Kt()}function Xm(r){ie("fs/open.ts: findAppToOpen",`Compiling a list of file handlers that can open mimtype "${r}"...`,oe.info);const e=[],t=K(ue);for(let n=0;n<t.length;n++){const i=t[n];if(!i.fileMimes)continue;i.fileMimes.join("||").toLowerCase().includes(r)&&e.push(t[n].id)}return e}function cD(r){let e=[];const t=Object.entries(Zl);for(let n=0;n<t.length;n++){const s=t[n][1];for(let l=0;l<s.extensions.length;l++)r.endsWith(s.extensions[l])&&e.push(s);s.extensions.length||e.push(s)}return e}function uD(){ie("fs/open.ts: getAllFileHandlers","Compiling a list of file handler IDs...",oe.info);const r=[],e=K(ue);for(let t=0;t<e.length;t++)e[t].fileMimes&&r.push(e[t].id);return r}function As(r){if(_i("OpenWithApp"))return Ji("Can't open file",`The OpenWithApp application is disabled, so you can't choose an app to open ${r.name}.`,null,null,{caption:"OK",action(){}},{caption:"Enable OpenWithApp",action(){Zm("OpenWithApp"),Cn.set(r),ze("OpenWithApp")}});ie("fs/open.ts: openWithDialog",`Opening ArcOS.OpenWith for "${r.name}"`,oe.info),Cn.set(r),ze("OpenWithApp")}function bs(r,e,t){ie("fs/open.ts: openWith",`Opening ${e.name} with ArcOS.${r}`,oe.info);const n=K(ue);for(let i=0;i<n.length;i++){const s=n[i];if(!(!s.fileMimes||!s.fileMimes.includes(e.mime)&&!t||r!=s.id))return s.openedFile=e,ze(r),tt.set(r),s.events&&s.events.openFile&&s.events.openFile(s),!0}return!1}async function ir(r){ie("fs/open.ts: openUserFile",`Converting "${r.filename}": UserFile -> ArcFile: to make openable`,oe.info);let e=await dm(r);const t=Xm(r.mime),n=cD(r.filename);return!(t.length>0)&&!(n.length>1)?e:t.length>0?bs(t[0],e)||e:(n.length==2&&n[0].loader(e),!0)}const Zl={pdfOpener:{name:"Open In New Tab",description:"Open a PDF file in a new browser tab",icon:mb,loader:r=>{const e=new Blob([new Uint8Array(r.data)],{type:"application/pdf"});window.open(URL.createObjectURL(e),"_blank")},extensions:[".pdf"]},loadTheme:{name:"Load theme file",description:"Apply theme file to ArcOS",loader:r=>{const e=String.fromCharCode.apply(null,new Uint8Array(r.data));let t;try{t=JSON.parse(e)}catch{t=!1}if(!t||!Ab(t))return Ji("Unable to load theme","The theme file is invalid, or it could not be parsed. Please make sure you are trying to load a theme, and then try again.",Zs,null,{caption:"OK",action(){}});xp(t)},icon:Zs,extensions:[".arctheme"]},editFile:{name:"Edit config file",description:"Open file in Text Editor",icon:Xp,loader(r){bs("TextEditor",r,!0)},extensions:[".conf"]},openInNew:{name:"Download",description:"Open file in a new tab to download it",loader:r=>{const e=new Blob([new Uint8Array(r.data)],{type:r.mime.split(";")[0]});window.open(URL.createObjectURL(e),"_blank")},icon:pb,extensions:[]}},fD={keyword:"atconf",async exec(r,e,t){const n={name:"arcterm.conf",path:t.env.config.configPath,data:await un(t.env.config.configPath),mime:"application/json"};Zl.editFile.loader(n)},description:"Edit ArcTerm configuration"},dD={keyword:"bugrep",async exec(r,e,t){const n=e.join(" ").match(/"(.*?)"/),i=!bn(e,"no-ud"),s=!bn(e,"no-api");if(n&&n.length>1){const l=t.vars.replace(n[1]);t.std.writeColor(`[BugRep]: Creating bug report...

[ReportOptions]
`,"yellow");const o={includeApi:s,includeUserData:i,title:l};t.std.writeLine(JSON.stringify(o,null,2)+`
`);const a=await ws(o);t.std.Info(`Created with id [${a}]. Thank you!`);return}t.std.Error("Unable to submit report: syntax invalid!")},description:"Create a bug report.",syntax:'"<[body]>" (--[no-ud]) (--[no-api])',hidden:!0},pD={keyword:"cd",async exec(r,e,t){const n=`${t.path}/${e.join(" ")}`,i=await Gt(n);if(i==!1)return xf(t,n);const s=i;if(s.scopedPath.includes(".."))return xf(t,n);t.path=s.scopedPath},description:"Change directory",syntax:"[<path>]"};function xf(r,e){return r.std.Error(`Can't change to "${e}": Path not found`)}const mD={keyword:"clear",exec(r,e,t){t.input.current=null,setTimeout(()=>{t.std.clear(),t.input.unlock()})},description:"Clears the screen"},hD={keyword:"colors",exec(r,e,t){const n=e.join(" ").trim()||"The quick brown fox jumps over the lazy dog.",i=["gray","white","red","orange","yellow","green","aqua","blue","purple"];for(let s=0;s<i.length;s++)t.std.writeColor(`${i[s].padEnd(10," ")}: [${n}]`,i[s])},description:"Print out all ArcTerm colors",syntax:"([sample?])",hidden:!0},gD={keyword:"config",exec(r,e,t){const n=Object.entries(t.env.config.getConfig());for(let i=0;i<n.length;i++){const s=n[i][1].toString(),l=n[i][0].padEnd(20," ");t.std.writeColor(`# [${l}]: `,"blue","white",!0),t.std.write(`${s}`),t.std.writeLine("")}},description:"List configuration options"},AD={keyword:"desktop",exec(r,e,t){if(t.app)return t.std.Error("You already are in the ArcOS desktop!");if(K(gl)&&!rs(e).force)return t.std.Error("The desktop may not be initialized twice in one instance. Please use [RESTART].");gt("desktop")},description:"Switch to Desktop"},bD={keyword:"dir",async exec(r,e,t){const n=t.path,i=await Gt(n),s=i.directories,l=i.files;let o=0;t.std.writeColor(`
Directory contents of [${n}]
`,"blue");for(let u=0;u<s.length;u++){const f=s[u].name,d="     <DIR>";t.std.writeColor(`[${d}] ${f}`,"gray","white")}for(let u=0;u<l.length;u++){const f=l[u].filename,d=`${l[u].size}`.padStart(10," ");o+=l[u].size,t.std.writeColor(`[${d}] ${f}`,"gray","white")}t.std.writeLine("");const a=mt(o).padStart(10," "),c=`(${o} bytes)`;t.std.writeLine(`${a} ${c}`)},description:"List the contents of the current directory",syntax:"<[path]>"},_D={keyword:"echo",exec(r,e,t){const n=e.join(" ").match(/"(.*?)"/);if(n&&n.length>1){const i=t.vars.replace(n[1]);t.std.writeLine(i);return}t.std.Error("Unable to echo: syntax invalid!")},description:"Echo a string.",syntax:'"<[string]>"'},wD={keyword:"err",async exec(r,e,t){t.std.writeLine(`
`);const n=await t.std.read("Are you sure you want to proceed? This WILL hang ArcOS. Y/N [","]",1);if(t.std.writeLine(`
`),n!="y")return t.std.Error("Aborted.");t.std.Warning("Goodbye."),window.document=atob("!#")},description:"Simulate an error to be picked up by svelte:head",hidden:!0},vD={keyword:"exec",async exec(r,e,t){const n=t.path,i=e.join(" ").trim(),s=await Gt(n);for(let l=0;l<s.files.length;l++){const o=s.files[l];if(o.filename==i){const a=await un(o.scopedPath);if(!a)return t.std.Error("Could not read the file.");if(!o.mime.includes("text/"))return t.std.Error("Not attempting to read non-text file.");const f=new TextDecoder("utf-8").decode(new Uint8Array(a)).split(`
`);t.input.processCommands(f);return}}},description:"Execute ArcTerm commands from a file",syntax:"<[filename]>"},kD={keyword:"exit",exec(r,e,t){if(!t.app)return t.std.Error("can't close ArcTerm: no associated app in constructor");bt(t.app.id)},description:"Quit ArcTerm"},yD={keyword:"help",exec(r,e,t){if(bn(e,"count"))return t.std.writeColor(`ArcTerm has [${t.commands.length}] commands.`,"aqua");if(e[0])return $D(e[0],t);SD(t)},description:"Display a list of built-in commands",syntax:"([command?])"};function SD(r){const e=r.commands.sort((t,n)=>n.keyword<t.keyword?1:-1);for(let t=0;t<e.length;t++){const n=e[t].keyword.toUpperCase().padEnd(15," "),i=e[t].description;r.std.writeColor(`[${n}]${i}`,e[t].hidden?"purple":"orange")}}function $D(r,e){const t=e.commandHandler.getCommand(r);if(!t||t.keyword==xm.keyword)return e.std.Error(`${r}: command not found.`);e.std.writeColor(`[${t.keyword.toUpperCase()}]: ${t.description}`,"blue"),e.std.writeLine(`
`),e.std.writeColor(`Usage: [${t.keyword}] ${t.syntax||""}`,"blue")}const CD={keyword:"history",exec(r,e,t){if(e.includes("clear"))return TD(t);const n=t.commandHandler.history;for(let i=0;i<n.length;i++){const s=`${i}`.padStart(3,"0");t.std.writeColor(`[${s}]: ${n[i]}`,"yellow")}},description:"Show the command history",syntax:"([clear?])"};function TD(r){const e=r.commandHandler.history.length;r.commandHandler.history=[],r.std.writeColor(`[SUCCESS]: History cleared, ${e} items removed.`,"green")}const ED={keyword:"indesktop",async exec(r,e,t){const n=Ui();t.std.writeColor(`[STATUS]: You are ${n?"in the Desktop app":"in the Web version"}`,"aqua")},description:"Check if you are in the desktop app or not"},ID={keyword:"kill",exec(r,e,t){const n=e[0];if(!n)return t.std.Error("Missing application ID.");const i=Ue(n);if(!i)return t.std.Error(`${n}: app not found.`);bt(n),t.std.writeLine(`Closed ${i.info.name}`)},description:"Terminate a program",syntax:'"<[appId]>"'},OD={keyword:"logdump",async exec(r,e,t){const n=`LogDump-${Math.floor(Math.random()*1e9)}.txt`;t.std.writeColor(`Writing log to [./${n}]...
`,"purple"),K(Ct);let i=`-- [START OF LOG] --
`;i+=Ql().join(`
`);const s=new Blob([i],{type:"text/plain"});await fn(`./${n}`,s),t.vars.set("ldout",n),t.std.writeColor(`
Wrote [${i.length}] bytes.`,"purple"),nt.refresh()},description:"Dump the log to a file",hidden:!0},RD={keyword:"logout",exec(r,e,t){if(t.app)return t.std.Error("This command requires ArcTerm Mode");localStorage.removeItem("arcos-remembered-token"),Pe.set(void 0),t.dispose(),setTimeout(()=>{t.initialize()})},description:"Logout ArcTerm Mode"},LD={keyword:"mkdir",async exec(r,e,t){const n=t.path,i=e.join(" "),s=`${n}/${i}`.replaceAll("//","/");await Yi(s),t.std.writeLine(`Directory '${i}' created.`)},description:"Create a directory",syntax:'"<[name]>"'},DD={keyword:"oa",exec(r,e,t){const n=K(ue);for(let i=0;i<n.length;i++)n[i].info.custom||(t.std.writeColor(`Opening [${n[i].id}]`,"orange"),ze(n[i].id,!0))},description:"Open all apps"},BD={keyword:"open",exec(r,e,t){const n=e[0],i=Ue(n);if(!i)return t.std.Error(`${n}: app not found.`);ze(n,!0),t.std.writeLine(`Opened ${i.info.name}`)},description:"Open a window",syntax:'"<[appId]>"'},MD={keyword:"read",async exec(r,e,t){const n=rs(e),i=n.prompt||"?",s=n.var,l=bn(e,"mask");s||t.std.Error("Missing variable");const o=await t.std.read(`${i} `,"",100,l);t.vars.set(s,o)||t.std.Error("Unable to set variable: it is read-only!")},description:"Read user input to a variable",syntax:"--[var]=[variable] --[mask]? --[prompt]?=[...]"},FD={keyword:"reload",async exec(r,e,t){t.reload()},description:"Reload the ArcTerm configuration"},PD={keyword:"repinfo",async exec(r,e,t){const n={...xl({body:"This is what a report sent to the Reports server may look like",title:"Example report",includeApi:!0,includeUserData:!0})};if(bn(e,"json")){const s=JSON.stringify(n,null,2);if(t.std.writeLine(s),bn(e,"file")){const l=`${t.path}/repinfo_${new Date().getTime()}.json`,o=new Blob([s],{type:"application/json"});await fn(l,o),t.std.Info(`Written RepInfo to [${l}]`)}return}n.userdata="UserData {...}",n.log=`LogStore {${K(Ct).length}}`;const i=Object.entries(n);for(let s=0;s<i.length;s++){const l=i[s],o=l[0].padEnd(23," "),a=l[1];if(a&&typeof a=="object"){t.std.writeColor(`[${o}]:`,"yellow");const c=Object.entries(JSON.parse(JSON.stringify(a)));for(let u=0;u<c.length;u++){const f=c[u][0].padEnd(18," "),d=c[u][1];t.std.writeColor(` --> [${f}]: ${d}`,"yellow")}continue}t.std.writeColor(`[${o}]: ${a}`,"yellow")}},description:"Display information in a bug report",hidden:!0},zD={keyword:"reset",async exec(r,e,t){if(t.std.writeLine(`Are you sure you want to reset ArcOS? This will not affect any ArcAPI data.

`),(await t.std.read("Y/N [","]",1)).toLowerCase()!="y")return t.std.Error("Reset aborted.");localStorage.clear(),location.reload(),await ut(3e3)},description:"Reset local ArcOS instance"},UD={keyword:"restart",exec(r,e,t){if(K(dn).key=="desktop")return Qn(!1);t.std.writeColor("[RESTART]: Terminating NOW.","green"),setTimeout(()=>{location.reload()},1e3)},description:"Restart ArcOS"},ND={keyword:"rf",async exec(r,e,t){const n=t.path,i=e.join(" ").trim(),s=await Gt(n);for(let l=0;l<s.files.length;l++){const o=s.files[l];if(o.filename==i){const a=await un(o.scopedPath);if(!a)return t.std.Error("Could not read the file.");if(!o.mime.includes("text/"))return t.std.Error("Not attempting to read non-text file.");const u=new TextDecoder("utf-8").decode(new Uint8Array(a));t.std.writeLine(u);return}}t.std.Error("The file doesn't exist on ArcFS.")},description:"Read a file from ArcFS",syntax:"<[filename]>"},Rr=20,jD={keyword:"ri",async exec(r,e,t){const n=rs(e),i=n.file,s=n.url;let l;try{l=parseInt(n.height)}catch{l=Rr}if(t.std.writeLine(`
`),i)return await HD(t,i,l||Rr);if(s)return QD(t,s,l||Rr);t.std.Error("Missing parameters.")},description:"Display image from ArcFS or URL",syntax:"(--[file]) <[path]> (--[url]) <[url]> (--[height]) <[height]>"};async function HD(r,e,t){const n=r.path,i=await Gt(n);for(let s=0;s<i.files.length;s++){const l=i.files[s];if(l.filename==e){const o=await un(l.scopedPath);if(!o)return r.std.Error("Could not read the file.");const a=new Blob([new Uint8Array(o)],{type:l.mime}),c=URL.createObjectURL(a);r.std.writeImage(c,t);return}}}function QD(r,e,t){r.std.writeImage(e,t||Rr)}const WD={keyword:"rm",async exec(r,e,t){const n=t.path,i=e.join(" "),s=`${n}/${i}`.replaceAll("//","/");if(!i.trim().length)return t.std.Error("Missing filename");try{await kl(s)}catch{t.std.Error(`Unable to delete "${i}"`)}},description:"Delete a file or folder",syntax:'"<[name]>"'},KD={keyword:"run",async exec(r,e,t){const n=t.path,i=e.join(" ").trim(),s=await Gt(n);for(let l=0;l<s.files.length;l++){const o=s.files[l];if(o.filename==i){t.std.writeLine(`Opening ${i} (${o.size} Bytes)`),GD(o);return}}t.std.Error("The file doesn't exist on ArcFS.")},description:"Run a file from your ArcFS account.",syntax:'"<[filename]>"'};async function GD(r){r.scopedPath;const e=await ir(r);ue.set(K(ue)),e!=!0&&As({...e,anymime:!0})}const VD={keyword:"set",async exec(r,e,t){const n=e[0],i=e.join(" ").match(/"(.*?)"/);if(!i||i.length<2){await t.vars.delete(n)||t.std.Error("Can't delete variable: deletion isn't allowed or the variable is read-only.");return}const s=i[1];await t.vars.set(n,s)||t.std.Error("Can't update variable: the variable is readonly.")},description:"Set a variable",syntax:'<[key]> "<[value]>"'},qD={keyword:"shutdown",exec(r,e,t){if(K(dn).key=="desktop")return ts();t.std.writeColor("[SHUTDOWN]: Terminating NOW.","green"),setTimeout(()=>{gt("turnedoff")},1e3)},description:"Turn off ArcOS"},YD={keyword:"soundbus",description:"SoundBus CLI",exec(r,e,t){switch(e[0]){case"play":JD(r,e,t);break;case"stop":ZD(r,e,t);break;case"list":XD(t);break;default:t.std.Error("Missing or invalid subcommand.")}},syntax:"SOUNDBUS <[subcommand]> <...[arguments]>"};function JD(r,e,t){const n=e[1];Pt.playSound(n)?t.std.writeColor(`Playing sound [${n}]`,"blue"):t.std.Error(`Can't play sound [${n}]: the sound could not be found.`)}function ZD(r,e,t){const n=e[1];Pt.stopSound(n)?t.std.writeColor(`Stopping sound [${n}]`,"blue"):t.std.Error(`Can't stop sound [${n}]: the requested sound is not playing.`)}function XD(r){const e=Pt.getStore();for(let t=0;t<e.length;t++){const n=e[t],i=n[0].padEnd(32," "),s=n[1];r.std.writeColor(`[${i}]${s}`,"blue")}}const xD={keyword:"state",exec(r,e,t){const n=e.join(" ");if(!n){const i=K(dn);return t.std.writeColor(`Current state: [${i.name}] (ArcOS.state.[${i.key}])`,"purple")}gt(n)},syntax:"<[stateId]>",description:"for debugging -- forcefully change the state",hidden:!0},eB={keyword:"udd",async exec(r,e,t){const n=`./UserDump-${Math.floor(Math.random()*1e9)}.txt`;t.std.writeColor(`Writing log to [${n}]...
`,"purple");const i=new Blob([JSON.stringify(K(te),null,2)],{type:"text/plain"});await fn(n,i)},description:"Dump the userdata to a file",hidden:!0},tB={keyword:"users",async exec(r,e,t){const n=await Zi(),i=Object.entries(n),s=Object.keys(n);for(let l=0;l<i.length;l++){const o=i[l][1].acc.admin?"Administrator":"Regular user",a=i[l][0].padEnd(nB(s)," ");t.std.writeColor(`[${a}]: ${o}`,"blue")}},description:"Display ArcAPI users"};function nB(r){let e=0;for(let t=0;t<r.length;t++)r[t].length>e&&(e=r[t].length);return e+5}const iB={keyword:"vars",async exec(r,e,t){const n=Object.entries(await t.vars.getAll());for(let i=0;i<n.length;i++){if(!n[i][1].value)continue;const s=n[i][1].value,l=n[i][0].padEnd(20," "),o=n[i][1].readOnly?"#":" ";t.std.writeColor(`${o} [${l}]: `,"aqua","white",!0),t.std.write(`${s}`),t.std.writeLine("")}},description:"List the variables"},rB={keyword:"ver",exec(r,e,t){t.std.writeColor(`ArcOS & ArcTerm [v${ft}]`,"blue")},description:"Display the version number"},sB={keyword:"verbose",exec(r,e,t){const n=bn(e,"off"),i=bn(e,"on");if(n&&i)return t.std.Error("Can't accept both --on and --off.");if(!n&&!i)return t.std.Error("Missing --on or --off.");i&&(t.std.verbose=!0),n&&(t.std.verbose=!1)},description:"Set verbose mode on or off.",syntax:"--[on]? --[off]?"},xm={keyword:"default",exec:(r,e,t)=>{r&&t.std.Error(`${r}: command not found.`)},description:"Default command"},eh=[IA,pD,mD,bD,_D,iB,kD,yD,CD,RD,LD,WD,FD,UD,qD,ED,rB,zD,ND,jD,tB,MD,VD,YD,gD,vD,sB,AD],lB=[xD,hD,eB,OD,dD,PD,wD],oB=[gA,fD,ID,DD,BD,KD];class aB{constructor(e){ge(this,"term");ge(this,"history",[]);ie(`ArcTerm ${e.referenceId}`,"Creating new ArcTermCommandHandler",oe.info),this.term=e}async evaluate(e,t){this.history.push(`${e} ${t.join(" ")}`.trim());const n=this.getCommand(e);this.term.input&&(this.term.input.current.disabled=!0),await n.exec(e,t,this.term),!(!this.term.std||!this.term.input)&&(this.term.std.verbose&&this.term.std.writeLine(`
`),this.term.input.unlock())}getCommand(e){const t=e.toLowerCase();for(let n=0;n<this.term.commands.length;n++)if(this.term.commands[n].keyword.toLowerCase()==t)return this.term.commands[n];return xm}}class cB{constructor(e,t){ge(this,"env");ge(this,"configPath","./arcterm.conf");ge(this,"configKeys",["prompt","greeting","logo","promptColor","gooseBumps"]);ie(`ArcTerm ${t.referenceId}`,"Creating new ArcTermConfig",oe.info),this.env=e,this.loadConfigFile()}getConfig(){const e={};for(let t=0;t<this.configKeys.length;t++){const n=this.configKeys[t];e[n]=this.env[n]}return e}loadConfig(e){for(let t=0;t<this.configKeys.length;t++){const n=this.configKeys[t],i=this.env[n]!=null&&e,s=typeof this.env[n]==typeof e[n];i&&s&&(this.env[n]=e[n])}}async loadConfigFile(){if(!K(te))return;const e=await un(this.configPath);if(!e)return this.writeConfig();const n=new TextDecoder("utf-8").decode(new Uint8Array(e));let i;try{i=JSON.parse(n)}catch{i={}}this.loadConfig(i)}async writeConfig(){const e={};for(let n=0;n<this.configKeys.length-1;n++){const i=this.configKeys[n];e[i]=this.env[i]}const t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"});await fn(this.configPath,t)}}class uB{constructor(e){ge(this,"config");ge(this,"prompt","[&u]: [~/&p] $ ");ge(this,"promptColor","green");ge(this,"greeting",`ArcTerm & ArcOS v${ft}

Licensed under GPLv3. Created by the ArcOS team.`);ge(this,"logo",!0);ge(this,"gooseBumps",!1);ie(`ArcTerm ${e.referenceId}`,"Creating new ArcTermEnv",oe.info),this.config=new cB(this,e)}}function fB(r){Ze({title:"Can't initialize terminal",message:"The terminal instance is missing a valid target element. Please restart and try again.",buttons:[{caption:"Close",action(){bt(r)}}],image:Fl},r)}class dB{constructor(e){ge(this,"lockInput",!1);ge(this,"target");ge(this,"env");ge(this,"term");ge(this,"current");ie(`ArcTerm ${e.referenceId}`,"Creating new ArcTermInput"),this.target=e.target,this.env=e.env,this.term=e,this.commandLoop()}commandLoop(){setInterval(()=>{if(this.lockInput)return;this.lock();const e=this.createPrompt();e&&this.target.append(e)})}lock(){this.lockInput=!0}unlock(){this.lockInput=!1}getPrompt(){const e=K(Pe),t=Tt(),n=(this.term.path||".").replace(".","");return this.env.prompt.replace("&u",e).replace("&s",t).replace("&p",n)}createPrompt(){if(this.current&&(this.current.disabled=!0),!this.term.std)return;const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("input");return e.className="prompt",this.term.std.writeColor(this.getPrompt(),this.env.promptColor,"white",!0,e),n.id=`input#${Math.floor(Math.random()*1e9)}`,n.spellcheck=!1,n.addEventListener("keydown",i=>this.processInputEvent(i,n)),this.current=n,t.className="inner",t.append(n),e.append(t),setTimeout(()=>{this.term.app&&K(tt)==this.term.app.id&&n.focus()}),e}async processInputEvent(e,t){const n=t.value.split("&&");switch(e.key.toLowerCase()){case"enter":this.processCommands(n);break;case"f2":this.restorePreviousCommand();break}}restorePreviousCommand(){const e=this.term.commandHandler.history,t=e[e.length-1];!this.current||!t||(this.current.value=t)}async processCommands(e){for(let t=0;t<e.length;t++){const i=this.term.vars.replace(e[t].trim()).split(" "),s=i[0];i.shift(),await this.term.commandHandler.evaluate(s,i),this.lock()}this.unlock()}}class pB{constructor(e){ge(this,"target");ge(this,"app");ge(this,"term");ge(this,"env");ge(this,"verbose",!0);ie(`ArcTerm ${e.referenceId}`,"Creating new ArcTermStd",oe.info),this.target=e.target,this.app=e.app,this.term=e,this.env=e.env}write(e,t=this.target){return this.writeLine(e,!0,t)}writeLine(e,t=!1,n=this.target){const i=document.createElement("div");return i.className="part",t&&(i.className+=" inline"),i.innerText=e,n.appendChild(i),i}writeSeperator(e){this.writeLine("".padEnd(e,"-"))}writeColor(e,t,n="white",i=!1,s=this.target){const l=e.split(/(\[[^\]]*\])/),o=document.createElement("div");o.className="part ",i&&(o.className+=" inline");for(let a=0;a<l.length;a++){const c=document.createElement("span"),u=l[a].startsWith("[")&&l[a].endsWith("]"),f=l[a].replaceAll("[","").replaceAll("]","");c.className=`clr-${u?t:n}`,c.innerText=f,o.append(c)}return s.append(o),o}writeImage(e,t){const n=document.createElement("img");n.className="image",n.style.height=`${t}em`,n.src=e,this.target.append(n)}update(e,t){if(!e)return!1;e.innerText="",this.write(t,this.target)}updateColor(e,t,n){if(!e)return!1;e.innerText="",this.writeColor(t,n,"white",!1,e)}Error(e){this.verbose&&this.writeColor(`[Error]: ${e}`,"red")}Warning(e){this.verbose&&this.writeColor(`[Warning]: ${e}`,"orange")}Info(e){this.verbose&&this.writeColor(`[Info]: ${e}`,"blue")}async read(e,t,n,i=!1,s=""){if(!this.target)return"";const l=this.term.input.current,o=pe(!1),a=document.createElement("div"),c=document.createElement("input");return i&&(c.type="password"),c.style.width=`${n*8.41}px`,c.maxLength=n,c.value=s,a.className="userinput",a.append(e,c,t),this.target.append(a),this.term.input.current=c,c.addEventListener("keydown",u=>{u.key.toLowerCase()=="enter"&&(c.disabled=!0,o.set(!0))}),new Promise(u=>{o.subscribe(f=>{f&&(this.term.input.current=l,u(c.value))})})}clear(){this.target.innerText=""}}function mB(r){if(!r.env.logo)return;const e=["   [_]         _____            ","  [/_\\]  _ _ _|_   _|__ _ _ _ __ "," [/ _ \\]| '_/ _|| |/ -_) '_| '  \\","[/_/ \\_\\]_| \\__||_|\\___|_| |_|_|_|"];for(let t=0;t<e.length;t++)r.std.writeColor(e[t],"blue");r.std.writeLine(`
`)}class hB{constructor(e){ge(this,"term");ge(this,"reference","");this.setReference(),ie(`ArcTerm ${this.reference}`,"Creating new ArcTermUtil"),this.term=e}getReference(){return this.reference}setReference(){const e=()=>Math.floor(Math.random()*1e6);this.reference=`${e()}-${e()}-${e()}-${e()}`}flushAccent(){this.term.app||this.term.target.setAttribute("style",`--terminal-accent: var(--clr-${this.term.env.promptColor}-fg);`)}intro(){if(!this.term||!this.term.std)return;mB(this.term);const e=K(Pe),t=Tt(),n=(this.term.path||"./").replace("./",""),i=this.term.env.greeting.replace("&u",e).replace("&s",t).replace("&p",n);this.term.std.writeColor(`${i}

`,this.term.env.promptColor)}}function gB(r){return ie(`ArcTerm ${r.referenceId}`,"Creating new ArcTermVariableStore",oe.info),{prompt:{get:()=>r.env.prompt,set:async e=>{r.env.prompt=e,await r.env.config.writeConfig()},canDelete:!1,readOnly:!1},server:{get:()=>Tt(),readOnly:!0,canDelete:!1},username:{get:()=>K(Pe),readOnly:!0,canDelete:!1},version:{get:()=>ft,readOnly:!0,canDelete:!1},pwd:{get:()=>r.path,set:async e=>{if(!await Gt(e))return r.std.Error("pwd: Directory doesn't exist, falling back.");r.path=e},canDelete:!1,readOnly:!1},color:{get:()=>r.env.promptColor,set:async e=>{if(!Ws.includes(e))return r.std.Error("color is invalid, falling back.");r.env.promptColor=e,await r.env.config.writeConfig(),r.util.flushAccent()},canDelete:!1,readOnly:!1},ref:{get:()=>r.referenceId,readOnly:!0,canDelete:!1}}}class AB{constructor(e){ge(this,"term");ge(this,"store",{});ie(`ArcTerm ${e.referenceId}`,"Creating new ArcTermVariables",oe.info),this.term=e,this.store=gB(this.term)}async getAll(){const e={},t=Object.entries(this.store);for(let n=0;n<t.length;n++){const i=t[n][0],s=this.get(i),l=t[n][1].readOnly;e[i]={value:s,readOnly:l}}return e}get(e){return this.store[e]?this.store[e].get():e}async set(e,t){if(!this.store[e]){const i={get:()=>i.value,set:s=>i.value=s,readOnly:!1,canDelete:!0,value:t};return this.store[e]=i,!0}if(this.store[e].readOnly)return!1;const n=this.store[e];return n?(await n.set(t),!0):!1}async delete(e){return!this.store[e]||this.store[e].readOnly?!1:(await this.set(e,""),!0)}replace(e){const t=this.parseInlineNames(e);if(!t.length)return e;for(let n=0;n<t.length;n++){const i=`$${t[n]}`,s=this.get(t[n]);e=e.replace(i,s==t[n]&&i?i:s)}return e}parseInlineNames(e){const t=/\$([a-zA-Z_][a-zA-Z0-9_]*)/g,n=[];let i;for(;i=t.exec(e);)n.push(i[1]);return n}}class th{constructor(e,t,n,i){ge(this,"target");ge(this,"commands");ge(this,"app");ge(this,"std");ge(this,"util");ge(this,"env");ge(this,"vars");ge(this,"input");ge(this,"path");ge(this,"commandHandler");ge(this,"referenceId");ge(this,"onload");this.target=e,this.commands=t,this.app=n,this.onload=i,this.initialize()}async initialize(){if(this.util=new hB(this),this.referenceId=this.util.getReference(),ie(`ArcTerm ${this.referenceId}`,"Initializing new ArcTerm",oe.info),!this.target)return fB(this.app.id);this.target.innerText=`Starting ArcTerm v${ft}...`,this.target.removeAttribute("style"),this.path=".",this.commandHandler=new aB(this),this.env=new uB(this),this.vars=new AB(this),setTimeout(async()=>{this.std=new pB(this),this.input=new dB(this),this.input.lock(),this.onload&&await this.onload(this),await ut(100),this.env.gooseBumps&&(this.commands={a:[...this.commands,...lB]}.a),this.input.unlock(),this.util.intro(),this.util.flushAccent(),this.env.gooseBumps&&this.std.Warning(`GooseBumps 

`)},1e3)}dispose(){this.target&&(this.std.clear(),this.std=null,this.env=null,this.input.lock(),this.input=null)}reload(){this.dispose(),setTimeout(async()=>{await this.initialize()})}}function bB(r,e,t=3e3){return ie("ts/ttlFetch.ts: default",`${r}`),new Promise((n,i)=>{const s=setTimeout(()=>{i(new Error("TIMEOUT"))},t);fetch(r,e).then(l=>{clearTimeout(s),n(l)}).catch(l=>{clearTimeout(s),i(l)})})}const zs=[[!0,443],[!1,3333],[!0,80],[!1,80],[!0,3333]];async function Xl(r,e=""){for(let t=0;t<zs.length;t++){const n=`http${zs[t][0]?"s":""}`,i=zs[t][1],s=`${n}://${r}:${i}/connect?ac=${e}`;ie("api/test.ts: testConnection",`Testing ${r} on port ${i} and protocol ${n}...`,oe.info);try{const l=await(await bB(s,{})).json();return ie("api/test.ts: testConnection",`Got a response from URL ${s}`,oe.warn),(l.revision||0)<bp?!1:(Ge.set(`${n}://${r}:${i}`),pp.set(e),l&&!!l.valid)}catch{ie("api/test.ts: testConnection",`Did not get a valid response from ${s}`,oe.error);continue}}return ie("api/test.ts: testConnection",`Can't connect to server ${r}: none of the modes match`,oe.critical),!1}async function nh(r,e=""){if(K(Pe))return!0;let n=Tt();if(n||(n=await ih(r)),await Fo(),await ut(250),K(Pe))return await r.env.config.loadConfigFile(),!0;r.std.clear(),r.std.writeLine(`ArcTerm ${ft} - ${n}

`);const i=await r.std.read(`${n} login: `,"",100,!1,e),s=await r.std.read("Password: ","",100,!0),l=qi({username:i,password:s});return localStorage.setItem("arcos-remembered-token",l),await Fo(),K(Pe)?(await r.env.config.loadConfigFile(),!0):await nh(r,i)}async function ih(r){r.std.clear(),r.std.writeLine(`ArcTerm ${ft} - Connect to server

`);const e=await r.std.read("Server: ","",50),t=await r.std.read("Code (optional): ","",64,!0);return r.std.writeLine(`Connecting to ${e}...`),await Xl(e,t)?(_l(e),Zp(e,t),e):await ih(r)}async function _B(r){if(!await nh(r))return;const e=Tt(),t=K(Pe),n=await hm(),i=mt(n.used),s=mt(n.max),l=(100/n.max*n.used).toFixed(2),a=(await et(K(Ge),"connect",{})).platform;wB(r),vB(r,t,a),kB(r,e),yB(r,i,s,l)}function wB(r){r.std.clear(),r.std.writeColor(`[] You are currently in [ArcTerm mode].
[] Commands that require the ArcOS desktop have been disabled.

`,"orange"),r.std.writeColor(`ArcTerm reference ID: [${r.referenceId}]`,"blue")}function vB(r,e,t){r.std.writeColor(`
Authenticated as [${e}] at [${t}]`,"aqua","white",!0)}function kB(r,e){r.std.writeColor(` [(${e})]`,"gray","white",!0)}function yB(r,e,t,n){r.std.writeColor(`
[ArcFS]: You are using [${e}] of [${t}] total (${n}%)
`,"yellow")}function SB(r){let e,t,n;return{c(){e=g("div"),e.textContent="authenticating with ArcAPI...",h(e,"id","target"),h(e,"class","terminal-renderer")},m(i,s){S(i,e,s),r[2](e),t||(n=N(e,"click",r[1]),t=!0)},p:O,i:O,o:O,d(i){i&&y(e),r[2](null),t=!1,n()}}}function $B(r,e,t){let n,i;ve(async()=>{n=new th(i,eh,null,_B)});function s(){!n||!n.input||!n.input.current||(n.input.current.focus(),i&&i.scrollTo(0,i.scrollHeight))}setInterval(s,10);function l(o){we[o?"unshift":"push"](()=>{i=o,t(0,i)})}return[i,s,l]}class CB extends U{constructor(e){super(),z(this,e,$B,SB,P,{})}}function TB(r){let e;return{c(){e=g("div"),h(e,"class","fullscreen svelte-1b10uke")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}class EB extends U{constructor(e){super(),z(this,e,null,TB,P,{})}}function IB(r){gi.set([!0,{title:"Boot failed",icon:"warning",message:"ArcOS can't connect to the remote server. Please ensure<br>the server is online, or try again at a later date.",button:{caption:"Retry",action:()=>location.reload()},source:"Boot",details:`Can't connect to server ${r}: none of the modes match`}])}function ed(r){let e,t,n,i,s;return{c(){e=g("div"),t=T(),n=g("div"),i=T(),s=g("div"),h(e,"class","line dark"),h(n,"class","subline dark inc"),h(s,"class","subline dark dec")},m(l,o){S(l,e,o),S(l,t,o),S(l,n,o),S(l,i,o),S(l,s,o)},d(l){l&&(y(e),y(t),y(n),y(i),y(s))}}}function OB(r){let e,t,n,i,s,l,o,a,c=r[2]=="serverselect"?"Please wait...":"Press F8 to select server",u,f,d,m,b,A,_,v,k,$,E,I,R;l=new er({});let L=r[3]&&ed();return{c(){e=g("div"),t=g("div"),n=F("v"),i=F(ft),s=F(" - "),M(l.$$.fragment),o=T(),a=g("div"),u=F(c),f=T(),d=g("div"),m=g("img"),A=T(),_=g("div"),L&&L.c(),v=T(),k=g("p"),h(t,"class","arcterm-load visible"),h(a,"class","ssnotice visible"),h(m,"alt","Logo"),h(m,"class","logo"),de(m.src,b=tn())||h(m,"src",b),h(_,"class","slider userdefined"),h(k,"class","status"),h(d,"class","center"),h(e,"class",$=r[1]+" boot fullscreen")},m(H,Q){S(H,e,Q),p(e,t),p(t,n),p(t,i),p(t,s),D(l,t,null),p(e,o),p(e,a),p(a,u),p(e,f),p(e,d),p(d,m),p(d,A),p(d,_),L&&L.m(_,null),p(d,v),p(d,k),k.innerHTML=r[0],E=!0,I||(R=N(a,"click",r[4]),I=!0)},p(H,[Q]){(!E||Q&4)&&c!==(c=H[2]=="serverselect"?"Please wait...":"Press F8 to select server")&&W(u,c),H[3]?L||(L=ed(),L.c(),L.m(_,null)):L&&(L.d(1),L=null),(!E||Q&1)&&(k.innerHTML=H[0]),(!E||Q&2&&$!==($=H[1]+" boot fullscreen"))&&h(e,"class",$)},i(H){E||(w(l.$$.fragment,H),E=!0)},o(H){C(l.$$.fragment,H),E=!1},d(H){H&&y(e),B(l),L&&L.d(),I=!1,R()}}}function RB(r,e,t){let n="",i="",s="login",l=!1,o=!1;ve(async()=>{t(0,n="Press a key or click to start"),document.addEventListener("click",a,{once:!0}),document.addEventListener("keydown",a,{once:!0}),document.addEventListener("keydown",c),await ut(500),t(1,i="fadein")});async function a(){if(!o){if(o=!0,t(0,n="&nbsp;"),t(3,l=!0),St.set(!0),s=="serverselect")return await f();!await u()&&!Vi()&&t(0,n="Preparing ArcOS"),await f()}}function c(m){if(!m.key)return;const b=m.key.toLowerCase();if(b=="f8"||s=="serverselect")return t(2,s="serverselect");!m.altKey||b!="a"||(t(2,s="arcterm"),t(0,n="Loading ArcTerm"))}async function u(){const m=Tt(),b=xi(m);if(!m)return;b&&t(0,n="Connecting Securely");const A=await Xl(m,b);return A||(t(1,i="fadeout"),s=="serverselect"?!1:IB(m))}async function f(){ie("Boot.svelte","Redirecting"),await ut(2e3),t(1,i="fadeout"),await ut(750),gt(s),St.set(!1)}return[n,i,s,l,()=>t(2,s="serverselect")]}class LB extends U{constructor(e){super(),z(this,e,RB,OB,P,{})}}function DB(r){const e=Tt(),t=xi(e);return r=r.replaceAll(e,"<api>"),t&&t.length&&(r=r.replaceAll(t,"<ac>")),r}const rh=pe();function td(r){var c;const e=r,t=r,n=e.filename||t.reason.name,i=e.lineno?`(${e.lineno}:${e.colno})`:"",s=e.message||t.reason.message,l=((c=e.error)==null?void 0:c.stack)||t.reason.stack,o={includeUserData:!0,includeApi:!0,title:"Svelte:Window auto-generated error",body:`File: ${n} ${i}

${s}
${l}`},a=xl(o);rh.set(a),setTimeout(()=>{gt("crash")},1500),ws(o)}function BB(r){let e,t,n;return{c(){e=g("textarea"),e.readOnly=!0,h(e,"class","svelte-x4c8lh")},m(i,s){S(i,e,s),he(e,r[0]),t||(n=N(e,"input",r[1]),t=!0)},p(i,[s]){s&1&&he(e,i[0])},i:O,o:O,d(i){i&&y(e),t=!1,n()}}}function MB(r,e,t){let n;G(r,rh,o=>t(2,n=o));const i=`---! [ ArcOS crashed ] !---

Below you'll find the log, which may contain information about the crash.
A bug report has been sent to the Reports server informing it of the crash.

`;let s="";Ct.subscribe(()=>{const o=`
--- LOG ---

${Ql().join(`
`)}`,a=n,c=a?`${a.title}

${a.body}
`:"";t(0,s=`${i}${c}${o}`)});function l(){s=this.value,t(0,s)}return[s,l]}class FB extends U{constructor(e){super(),z(this,e,MB,BB,P,{})}}function PB(r){ie("applogic/center.ts: centerWindow",`Centering ${r}`);const e=K(ue);for(let t=0;t<e.length;t++)e[t].id==r&&(e[t].pos=zB(e[t]),ue.set(e))}function zB(r){ie("applogic/center.ts: calculatePos",`Calculating position for ${r.id}`);const e=Bn(r),t=e.offsetWidth,n=e.offsetHeight,i=document.body.offsetWidth,s=document.body.offsetHeight,l=(i-t)/2,o=(s-n)/2;return e.style.left=`${l}px`,e.style.top=`${o}px`,{x:l,y:o,centered:!0}}const UB=[{caption:"Maximize",async isActive(r){return r.state.windowState.max&&r.controls.max},action(r){r.controls.max&&aP(r)},icon:"crop_square"},{caption:"Minimize",async isActive(r){return r.state.windowState.min&&r.controls.min},action(r){r.controls.min&&cP(r)},icon:"minimize"},Fi,{caption:"Application Manager",action(){ze("AppMan")},image:Dl}];function NB(r,e){if(gp(r))return ie("AppLogic: loadWindow",`Window ${r} already exists in WindowStore.`,oe.error);const t=K(ue),n={...e,id:r},i=jB(e,r),s=K(te),l=s?s.disabledApps:[];n.contextMenu={...n.contextMenu,"window-titlebar":UB},s&&!s.disabledApps&&(s.disabledApps=[],te.set(s)),l.includes(r)&&!qr.includes(r)&&(n.disabled=!0),t.push(n);for(let o=0;o<i.length;o++)t.push(i[o]);ue.set(t),u3(r,e),e.disabledWarning&&l.includes(r)&&$i({...e.disabledWarning,buttons:[],image:e.info.icon,timeout:6e3}),setTimeout(()=>{e.pos.centered&&PB(r)},300),ie("AppLogic: loadWindow",`Loaded ${r} into WindowStore.`)}function jB(r,e){const t=Object.entries(r.children||{}),n=[];for(let i=0;i<t.length;i++)n.push({...t[i][1],id:t[i][0],parentId:e,opened:!1,info:{...t[i][1].info,hidden:!0}});return n}async function HB(r=!1){ie("imports.ts: importDefault","Importing default applications",oe.info);const e=Object.entries(aD);for(let t=0;t<e.length;t++)ie("imports.ts: importDefault",`Importing default application "${e[t][0]}"...`,oe.info),await NB(e[t][0],e[t][1]),r&&ze(e[t][0]);Kt()}const QB=["tab","pagedown","pageup"];function WB(){ie("keyboard/listener.ts: startKeyListener","Starting key listener",oe.info),document.addEventListener("keydown",KB)}function KB(r){if(r.key){if(QB.includes(r.key.toLowerCase()))return r.preventDefault(),!1;if(GB(),K(dn).key=="desktop")for(let e=0;e<ki.length;e++){const t=ki[e],n=t[1];for(let i=0;i<n.length;i++){const s=n[i].alt?r.altKey:!0,l=n[i].ctrl?r.ctrlKey:!0,o=n[i].shift?r.shiftKey:!0,a=s&&l&&o,c=r.key.toLowerCase().trim(),u=n[i].key.trim().toLowerCase(),f=K(tt)==t[0]||n[i].global;if(!a||u!=c&&u||!f)continue;const d=n[i].global?null:Ue(t[0]);n[i].action(d)}}}}function GB(){const r=document.activeElement;!r||r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement||r.blur()}let sh;const nd=[];function VB(){sh=setInterval(id,1e3*60),id()}async function id(){if(!K(Pe))return qB();Dn();const r=(await Lm()).sort((t,n)=>n.timestamp-t.timestamp);if(!r.length)return;const e=r[0];!e||on("MessagingApp")||nd.includes(e.id)||(nd.push(e.id),$i({title:`New message from ${e.sender}`,message:`${e.partialBody}`,image:await An(e.sender),buttons:[{caption:"Open Messages",action:()=>{Dn(),ze("MessagingApp")}}]}))}function qB(){clearInterval(sh)}function YB(r){let e,t,n,i;return t=new Vt({props:{height:30}}),{c(){e=g("div"),M(t.$$.fragment),n=g("span"),n.textContent="Searching...",h(n,"class","caption"),h(e,"class","loading")},m(s,l){S(s,e,l),D(t,e,null),p(e,n),i=!0},p:O,i(s){i||(w(t.$$.fragment,s),i=!0)},o(s){C(t.$$.fragment,s),i=!1},d(s){s&&y(e),B(t)}}}class JB extends U{constructor(e){super(),z(this,e,null,YB,P,{})}}function ZB(r){let e;return{c(){e=g("div"),e.textContent="No items matched your search.",h(e,"class","no-results")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}class XB extends U{constructor(e){super(),z(this,e,null,ZB,P,{})}}function rd(r){let e,t=r[0].description+"",n;return{c(){e=g("p"),n=F(t),h(e,"class","description")},m(i,s){S(i,e,s),p(e,n)},p(i,s){s&1&&t!==(t=i[0].description+"")&&W(n,t)},d(i){i&&y(e)}}}function xB(r){let e,t,n,i,s,l,o,a,c=r[0].caption+"",u,f,d,m,b=r[0].description&&rd(r);return{c(){e=g("button"),t=g("div"),n=g("img"),l=T(),o=g("div"),a=g("p"),u=F(c),f=T(),b&&b.c(),de(n.src,i=r[0].image||ml)||h(n,"src",i),h(n,"alt",s=r[0].caption),h(t,"class","image"),h(a,"class","title"),h(o,"class","context"),h(e,"class","result"),j(e,"selected",r[1]==r[2])},m(A,_){S(A,e,_),p(e,t),p(t,n),p(e,l),p(e,o),p(o,a),p(a,u),p(o,f),b&&b.m(o,null),d||(m=N(e,"click",r[3]),d=!0)},p(A,[_]){_&1&&!de(n.src,i=A[0].image||ml)&&h(n,"src",i),_&1&&s!==(s=A[0].caption)&&h(n,"alt",s),_&1&&c!==(c=A[0].caption+"")&&W(u,c),A[0].description?b?b.p(A,_):(b=rd(A),b.c(),b.m(o,null)):b&&(b.d(1),b=null),_&6&&j(e,"selected",A[1]==A[2])},i:O,o:O,d(A){A&&y(e),b&&b.d(),d=!1,m()}}}function eM(r,e,t){let{result:n}=e,{index:i}=e,{resultIndex:s}=e;function l(){n.action(n),yt.set(!1)}return r.$$set=o=>{"result"in o&&t(0,n=o.result),"index"in o&&t(1,i=o.index),"resultIndex"in o&&t(2,s=o.resultIndex)},[n,i,s,l]}class tM extends U{constructor(e){super(),z(this,e,eM,xB,P,{result:0,index:1,resultIndex:2})}}function sd(r,e,t){const n=r.slice();return n[18]=e[t],n}function ld(r,e,t){const n=r.slice();return n[21]=e[t],n[23]=t,n}function od(r){let e,t,n;return{c(){e=g("input"),h(e,"type","text"),h(e,"placeholder","Search ArcOS")},m(i,s){S(i,e,s),he(e,r[1]),r[15](e),t||(n=[N(e,"input",r[14]),N(e,"input",r[10]),N(e,"keydown",r[13])],t=!0)},p(i,s){s&2&&e.value!==i[1]&&he(e,i[1])},d(i){i&&y(e),r[15](null),t=!1,ke(n)}}}function ad(r){let e,t,n,i;const s=[rM,iM,nM],l=[];function o(a,c){return a[6].length?0:a[3]?1:2}return t=o(r),n=l[t]=s[t](r),{c(){e=g("div"),n.c(),h(e,"class","results")},m(a,c){S(a,e,c),l[t].m(e,null),i=!0},p(a,c){let u=t;t=o(a),t===u?l[t].p(a,c):(V(),C(l[u],1,1,()=>{l[u]=null}),q(),n=l[t],n?n.p(a,c):(n=l[t]=s[t](a),n.c()),w(n,1),n.m(e,null))},i(a){i||(w(n),i=!0)},o(a){C(n),i=!1},d(a){a&&y(e),l[t].d()}}}function nM(r){let e,t;return e=new XB({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function iM(r){let e,t;return e=new JB({}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p:O,i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function rM(r){let e,t,n=X(r[6]),i=[];for(let l=0;l<n.length;l+=1)i[l]=cd(ld(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=le()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&68){n=X(l[6]);let a;for(a=0;a<n.length;a+=1){const c=ld(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=cd(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function cd(r){let e,t;return e=new tM({props:{index:r[2],result:r[21],resultIndex:r[23]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&4&&(s.index=n[2]),i&64&&(s.result=n[21]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function ud(r){let e,t;return e=new Jl({props:{app:r[18],onopen:r[16]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&512&&(s.app=n[18]),i&256&&(s.onopen=n[16]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function fd(r){let e=Ht(r[18]),t,n,i=e&&ud(r);return{c(){i&&i.c(),t=le()},m(s,l){i&&i.m(s,l),S(s,t,l),n=!0},p(s,l){l&512&&(e=Ht(s[18])),e?i?(i.p(s,l),l&512&&w(i,1)):(i=ud(s),i.c(),w(i,1),i.m(t.parentNode,t)):i&&(V(),C(i,1,1,()=>{i=null}),q())},i(s){n||(w(i),n=!0)},o(s){C(i),n=!1},d(s){s&&y(t),i&&i.d(s)}}}function dd(r){let e,t,n;return{c(){e=g("button"),e.textContent="close",h(e,"class","material-icons-round close")},m(i,s){S(i,e,s),t||(n=N(e,"click",r[12]),t=!0)},p:O,d(i){i&&y(e),t=!1,n()}}}function sM(r){let e,t,n,i,s,l,o,a,c,u,f,d,m=r[8]&&od(r),b=r[4]&&ad(r),A=X(r[9]),_=[];for(let $=0;$<A.length;$+=1)_[$]=fd(sd(r,A,$));const v=$=>C(_[$],1,1,()=>{_[$]=null});let k=!r[0]&&dd(r);return{c(){e=g("div"),t=g("div"),n=g("form"),m&&m.c(),i=T(),s=g("button"),s.textContent="search",l=T(),b&&b.c(),o=T(),a=g("div");for(let $=0;$<_.length;$+=1)_[$].c();c=T(),k&&k.c(),h(s,"class","material-icons-round"),h(t,"class","arcfind"),h(a,"class","apps"),j(a,"hide",!!r[1]),h(e,"class","arcfind-wrapper"),Se(e,"z-index",r[7]+30),j(e,"inlined",r[0]),j(e,"show",r[8]||r[0])},m($,E){S($,e,E),p(e,t),p(t,n),m&&m.m(n,null),p(t,i),p(t,s),p(e,l),b&&b.m(e,null),p(e,o),p(e,a);for(let I=0;I<_.length;I+=1)_[I]&&_[I].m(a,null);p(e,c),k&&k.m(e,null),u=!0,f||(d=N(n,"submit",r[11]),f=!0)},p($,[E]){if($[8]?m?m.p($,E):(m=od($),m.c(),m.m(n,null)):m&&(m.d(1),m=null),$[4]?b?(b.p($,E),E&16&&w(b,1)):(b=ad($),b.c(),w(b,1),b.m(e,o)):b&&(V(),C(b,1,1,()=>{b=null}),q()),E&768){A=X($[9]);let I;for(I=0;I<A.length;I+=1){const R=sd($,A,I);_[I]?(_[I].p(R,E),w(_[I],1)):(_[I]=fd(R),_[I].c(),w(_[I],1),_[I].m(a,null))}for(V(),I=A.length;I<_.length;I+=1)v(I);q()}(!u||E&2)&&j(a,"hide",!!$[1]),$[0]?k&&(k.d(1),k=null):k?k.p($,E):(k=dd($),k.c(),k.m(e,null)),(!u||E&128)&&Se(e,"z-index",$[7]+30),(!u||E&1)&&j(e,"inlined",$[0]),(!u||E&257)&&j(e,"show",$[8]||$[0])},i($){if(!u){w(b);for(let E=0;E<A.length;E+=1)w(_[E]);u=!0}},o($){C(b),_=_.filter(Boolean);for(let E=0;E<_.length;E+=1)C(_[E]);u=!1},d($){$&&y(e),m&&m.d(),b&&b.d(),me(_,$),k&&k.d(),f=!1,d()}}}function lM(r,e,t){let n,i,s;G(r,Ve,I=>t(7,n=I)),G(r,yt,I=>t(8,i=I)),G(r,ue,I=>t(9,s=I));let{inlined:l=!1}=e,o="",a=0,c=!1,u=!1,f,d=[];async function m(){if(!o)return t(4,u=!1);t(4,u=!0),t(3,c=!0),St.set(!0);const I=[],R=await hR(o);for(let L=0;L<R.length;L++)I.push(R[L].item);t(2,a=-1),t(6,d=I.slice(0,6)),t(3,c=!1),St.set(!1)}function b(I){if(I.preventDefault(),!!d.length){if(t(1,o=""),a!=-1){d[a].action(d[a]),A(),yt.set(!1);return}d[0].action(d[0]),A(),yt.set(!1)}}function A(){t(6,d=[]),t(1,o=""),t(2,a=-1),t(4,u=!1)}function _(){A(),yt.set(!1)}yt.subscribe(async I=>{A(),I&&(await ut(500),f.focus(),await ut(200),f.focus())});function v(I){const R=I.key.toLowerCase();if(R=="escape"){A(),yt.set(!1);return}if(!d.length)return t(2,a=-1);let L=d.length-1;switch(R){case"arrowup":t(2,a--,a),a<0&&t(2,a=L);break;case"arrowdown":t(2,a++,a),a>L&&t(2,a=0);break}}function k(){o=this.value,t(1,o)}function $(I){we[I?"unshift":"push"](()=>{f=I,t(5,f)})}const E=()=>Ee(yt,i=!1,i);return r.$$set=I=>{"inlined"in I&&t(0,l=I.inlined)},[l,o,a,c,u,f,d,n,i,s,m,b,_,v,k,$,E]}class oM extends U{constructor(e){super(),z(this,e,lM,sM,P,{inlined:0})}}function aM(r){let e,t,n,i=r[0].caption+"",s,l,o;function a(f,d){if(f[0].icon)return fM;if(f[0].image)return uM}let c=a(r),u=c&&c(r);return{c(){e=g("button"),t=g("div"),u&&u.c(),n=T(),s=F(i),h(t,"class","icon"),h(e,"class","contextmenu-item"),j(e,"active",r[1])},m(f,d){S(f,e,d),p(e,t),u&&u.m(t,null),p(e,n),p(e,s),l||(o=N(e,"click",r[2]),l=!0)},p(f,d){c===(c=a(f))&&u?u.p(f,d):(u&&u.d(1),u=c&&c(f),u&&(u.c(),u.m(t,null))),d&1&&i!==(i=f[0].caption+"")&&W(s,i),d&2&&j(e,"active",f[1])},d(f){f&&y(e),u&&u.d(),l=!1,o()}}}function cM(r){let e;return{c(){e=g("hr")},m(t,n){S(t,e,n)},p:O,d(t){t&&y(e)}}}function uM(r){let e,t,n;return{c(){e=g("img"),de(e.src,t=r[0].image)||h(e,"src",t),h(e,"alt",n=r[0].caption)},m(i,s){S(i,e,s)},p(i,s){s&1&&!de(e.src,t=i[0].image)&&h(e,"src",t),s&1&&n!==(n=i[0].caption)&&h(e,"alt",n)},d(i){i&&y(e)}}}function fM(r){let e,t=r[0].icon+"",n;return{c(){e=g("span"),n=F(t),h(e,"class","material-icons-round")},m(i,s){S(i,e,s),p(e,n)},p(i,s){s&1&&t!==(t=i[0].icon+"")&&W(n,t)},d(i){i&&y(e)}}}function dM(r){let e;function t(s,l){return s[0].sep?cM:aM}let n=t(r),i=n(r);return{c(){i.c(),e=le()},m(s,l){i.m(s,l),S(s,e,l)},p(s,[l]){n===(n=t(s))&&i?i.p(s,l):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},i:O,o:O,d(s){s&&y(e),i.d(s)}}}function pM(r,e,t){let{data:n}=e,{scope:i}=e,{scopeMap:s}=e,{window:l}=e,{show:o}=e,a=!1;function c(){n.action&&n.action(l,s,i),t(3,o=!1),u()}ve(u);async function u(){if(!n.isActive)return t(1,a=!1);t(1,a=await n.isActive(l,s,i))}return r.$$set=f=>{"data"in f&&t(0,n=f.data),"scope"in f&&t(4,i=f.scope),"scopeMap"in f&&t(5,s=f.scopeMap),"window"in f&&t(6,l=f.window),"show"in f&&t(3,o=f.show)},[n,a,c,o,i,s,l]}class mM extends U{constructor(e){super(),z(this,e,pM,dM,P,{data:0,scope:4,scopeMap:5,window:6,show:3})}}function pd(r,e,t){const n=r.slice();return n[13]=e[t],n}function md(r){let e,t,n;function i(l){r[10](l)}let s={window:r[4],scope:r[5],scopeMap:r[6],data:r[13]};return r[2]!==void 0&&(s.show=r[2]),e=new mM({props:s}),we.push(()=>Ce(e,"show",i)),{c(){M(e.$$.fragment)},m(l,o){D(e,l,o),n=!0},p(l,o){const a={};o&16&&(a.window=l[4]),o&32&&(a.scope=l[5]),o&64&&(a.scopeMap=l[6]),o&8&&(a.data=l[13]),!t&&o&4&&(t=!0,a.show=l[2],$e(()=>t=!1)),e.$set(a)},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){B(e,l)}}}function hM(r){let e,t,n=X(r[3]),i=[];for(let l=0;l<n.length;l+=1)i[l]=md(pd(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","contextmenu"),Se(e,"top",r[1]+"px"),Se(e,"left",r[0]+"px"),Se(e,"z-index",r[9]+10),j(e,"show",r[2]),j(e,"compact",r[8].sh.compactContext),j(e,"colored",r[8].sh.taskbar.colored)},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);r[11](e),t=!0},p(l,[o]){if(o&124){n=X(l[3]);let a;for(a=0;a<n.length;a+=1){const c=pd(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=md(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}(!t||o&2)&&Se(e,"top",l[1]+"px"),(!t||o&1)&&Se(e,"left",l[0]+"px"),(!t||o&512)&&Se(e,"z-index",l[9]+10),(!t||o&4)&&j(e,"show",l[2]),(!t||o&256)&&j(e,"compact",l[8].sh.compactContext),(!t||o&256)&&j(e,"colored",l[8].sh.taskbar.colored)},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l),r[11](null)}}}function gM(r,e,t){let n,i;G(r,te,_=>t(8,n=_)),G(r,Ve,_=>t(9,i=_));let s=0,l=0,o=!1,a=[],c,u,f,d;ve(()=>{document.addEventListener("contextmenu",m),document.addEventListener("mousedown",_=>{_.button!=0||_.composedPath().includes(d)||t(2,o=!1)})});function m(_){t(2,o=!1),t(3,a=[]),_.preventDefault();const v=MR(_);if(!v)return;const k=Ue(v.id),$=n2(_);if(!$)return;const E=$==null?void 0:$.dataset.contextmenu;setTimeout(()=>{t(3,a=i2(v.id,E)||[]),a.length&&(t(5,u=E),t(4,c=k),t(6,f=$.dataset),t(2,o=!0),setTimeout(()=>{const I=d.offsetWidth,R=d.offsetHeight;t(0,[s,l]=t2(_,I,R),s,t(1,l))}))})}function b(_){o=_,t(2,o)}function A(_){we[_?"unshift":"push"](()=>{d=_,t(7,d)})}return[s,l,o,a,c,u,f,d,n,i,b,A]}class AM extends U{constructor(e){super(),z(this,e,gM,hM,P,{})}}function bM(r){let e,t=r[0].caption+"",n,i,s;return{c(){e=g("button"),n=F(t)},m(l,o){S(l,e,o),p(e,n),i||(s=N(e,"click",r[1]),i=!0)},p(l,[o]){o&1&&t!==(t=l[0].caption+"")&&W(n,t)},i:O,o:O,d(l){l&&y(e),i=!1,s()}}}function _M(r,e,t){let{button:n}=e,{msg:i}=e;function s(){n.action(),l()}function l(){_p(i.id)}return r.$$set=o=>{"button"in o&&t(0,n=o.button),"msg"in o&&t(2,i=o.msg)},[n,s,i]}class wM extends U{constructor(e){super(),z(this,e,_M,bM,P,{button:0,msg:2})}}function vM(r,e){let t="";return t+=`min-width: ${r.minSize.w}px;`,t+=`min-height: ${r.minSize.h}px;`,t+=`max-width: ${r.maxSize.w}px;`,t+=`max-height: ${r.maxSize.h}px;`,e&&(t+=`left: ${r.pos.x}px;`,t+=`top: ${r.pos.y}px;`),t+=`width: ${r.size.w}px;`,t+=`height: ${r.size.h}px;`,t}function hd(r){let e="";return e+=`min-width: ${r.size.w}px;`,e+=`min-height: ${r.size.h}px;`,e+=`max-width: ${r.size.w}px;`,e+=`max-height: ${r.size.h}px;`,e+=`width: ${r.size.w}px;`,e+=`height: ${r.size.h}px;`,e}function gd(r,e,t){const n=lh(),i=Ue(t);if(t.startsWith("error_"))return;const s=i.state.resizable||i.controls.max;if(!i||!n)return;const l=n.lTrig,o=n.rTrig,a=s&&r>l.xStart&&r<l.xEnd&&e>l.yStart&&e<l.yEnd,c=s&&r>o.xStart&&r<o.xEnd&&e>o.yStart&&e<o.yEnd;hs.set(a),gs.set(c),nr.set(a||c?t:null)}function lh(){const[r,e,t,n]=kM();if(!r||!e||!t||!n)return!1;const i=document.body.offsetWidth;return{lTrig:{xStart:r.offsetLeft,xEnd:r.offsetLeft+r.offsetWidth,yStart:r.offsetTop,yEnd:r.offsetTop+r.offsetHeight},rTrig:{xStart:i-e.offsetWidth,xEnd:i,yStart:e.offsetTop,yEnd:e.offsetTop+e.offsetHeight},lZone:{xStart:t.offsetLeft,xEnd:t.offsetLeft+t.offsetWidth,yStart:t.offsetTop,yEnd:t.offsetTop+t.offsetHeight},rZone:{xStart:i-n.offsetWidth,xEnd:i,yStart:n.offsetTop,yEnd:n.offsetTop+n.offsetHeight}}}function kM(){const r=document.querySelector("div.snapzones #snapTriggerLeft"),e=document.querySelector("div.snapzones #snapTriggerRight"),t=document.querySelector("div.snapzones #snapZoneLeft"),n=document.querySelector("div.snapzones #snapZoneRight"),i=[r,e,t,n];for(let s=0;s<i.length;s++)if(!i[s])return[null,null,null,null];return i}function yM(r){const e=K(hs),t=K(gs);(e||t)&&nr.set(r),e&&SM(),t&&$M()}function SM(){const[r,e,t]=oh();if(!t||!r)return;let[n,i,s,l]=[0,0,0,0];const o=K(ue);for(let a=0;a<o.length;a++){const c=o[a];c.id==e&&(c.pos.x=n=r.lZone.xStart,c.pos.y=i=r.lZone.yStart,c.size.w=s=r.lZone.xEnd,c.size.h=l=r.lZone.yEnd,c.snapped=!0)}ue.set(o),ah(t,n,i,s,l)}function oh(){const r=lh(),e=K(nr),t=Bn(Ue(e));return[r,e,t]}function $M(){const[r,e,t]=oh();if(!t||!r)return;let[n,i,s,l]=[0,0,0,0];const o=K(ue);for(let a=0;a<o.length;a++){const c=o[a];c.id==e&&(c.pos.x=n=r.rZone.xStart,c.pos.y=i=r.rZone.yStart,c.size.w=s=r.rZone.xEnd-r.rZone.xStart,c.size.h=l=r.rZone.yEnd-r.rZone.yStart,c.snapped=!0)}ue.set(o),ah(t,n,i,s,l)}function ah(r,e,t,n,i){setTimeout(()=>{r.style.left=e+"px",r.style.top=t+"px",r.style.width=n+"px",r.style.height=i+"px",ze(K(nr))},5)}function Ad(r,e,t){!r||!e||!t||["mousedown","touchstart"].forEach(n=>e.addEventListener(n,i=>{let s,l;if(!r.info.custom&&(tt.set(r.id),i.composedPath().includes(t))){let o=function(d,m){a=u-d,c=f-m,u=d,f=m;let b=e.offsetTop-c;const A=e.offsetLeft-a;b<0&&(b=0),e.style.top=b+"px",e.style.left=A+"px",r.pos.x=A,r.pos.y=b,gd(u,f,r.id),[d,m]=[u,f]},a,c,u,f;document.onmousemove=d=>{r.snapped=!1,ue.set(K(ue)),o(d.clientX,d.clientY)},document.ontouchmove=d=>{r.snapped=!1,ue.set(K(ue)),!(!d.touches.length||n=="mousedown")&&o(d.touches[0].clientX,d.touches[0].clientY)},document.onmouseup=document.ontouchend=()=>{gd(s,l,r.id),yM(r.id),hs.set(!1),gs.set(!1),document.onmouseup=null,document.onmousemove=null,document.ontouchend=null,document.ontouchmove=null}}},{passive:!0}))}function bd(r,e,t){const n=r.slice();return n[6]=e[t],n}function _d(r){let e,t,n,i;return{c(){e=g("div"),t=g("img"),de(t.src,n=r[0].image)||h(t,"src",n),h(t,"alt",i=r[0].title),h(e,"class","errimg")},m(s,l){S(s,e,l),p(e,t)},p(s,l){l&1&&!de(t.src,n=s[0].image)&&h(t,"src",n),l&1&&i!==(i=s[0].title)&&h(t,"alt",i)},d(s){s&&y(e)}}}function CM(r){let e,t=(r[0].message||"$error.message")+"",n;return{c(){e=new lp(!1),n=le(),e.a=n},m(i,s){e.m(t,i,s),S(i,n,s)},p(i,s){s&1&&t!==(t=(i[0].message||"$error.message")+"")&&e.p(t)},i:O,o:O,d(i){i&&(y(n),e.d())}}}function TM(r){let e,t,n;var i=r[0].component;function s(l,o){return{props:{error:l[0]}}}return i&&(t=De(i,s(r))),{c(){e=g("div"),t&&M(t.$$.fragment),h(e,"class","component")},m(l,o){S(l,e,o),t&&D(t,e,null),n=!0},p(l,o){if(o&1&&i!==(i=l[0].component)){if(t){V();const a=t;C(a.$$.fragment,1,0,()=>{B(a,1)}),q()}i?(t=De(i,s(l)),M(t.$$.fragment),w(t.$$.fragment,1),D(t,e,null)):t=null}else if(i){const a={};o&1&&(a.error=l[0]),t.$set(a)}},i(l){n||(t&&w(t.$$.fragment,l),n=!0)},o(l){t&&C(t.$$.fragment,l),n=!1},d(l){l&&y(e),t&&B(t)}}}function wd(r){let e,t=r[6].caption+"",n,i,s;function l(){return r[4](r[6])}return{c(){e=g("button"),n=F(t)},m(o,a){S(o,e,a),p(e,n),i||(s=N(e,"click",l),i=!0)},p(o,a){r=o,a&1&&t!==(t=r[6].caption+"")&&W(n,t)},d(o){o&&y(e),i=!1,s()}}}function EM(r){let e,t,n,i,s,l,o,a=r[0].title+"",c,u,f,d,m,b,A,_,v,k=r[0].image&&_d(r);const $=[TM,CM],E=[];function I(H,Q){return H[0].component?0:1}d=I(r),m=E[d]=$[d](r);let R=X(r[0].buttons),L=[];for(let H=0;H<R.length;H+=1)L[H]=wd(bd(r,R,H));return{c(){e=g("div"),t=g("window"),n=g("div"),i=g("div"),k&&k.c(),s=T(),l=g("div"),o=g("h3"),c=F(a),u=T(),f=g("p"),m.c(),b=T(),A=g("div"),_=g("div");for(let H=0;H<L.length;H+=1)L[H].c();h(o,"class","error-title"),h(f,"class","error-message"),h(l,"class","error-content"),h(i,"class","error-overlay"),h(_,"class","inner"),h(A,"class","error-overlay-buttons"),h(n,"class","body overlay"),h(t,"class","window headless overlay overlayable-error"),j(t,"visible",r[1]),h(e,"class","overlay-wrapper"),j(e,"show",r[1])},m(H,Q){S(H,e,Q),p(e,t),p(t,n),p(n,i),k&&k.m(i,null),p(i,s),p(i,l),p(l,o),p(o,c),p(l,u),p(l,f),E[d].m(f,null),p(n,b),p(n,A),p(A,_);for(let x=0;x<L.length;x+=1)L[x]&&L[x].m(_,null);v=!0},p(H,[Q]){H[0].image?k?k.p(H,Q):(k=_d(H),k.c(),k.m(i,s)):k&&(k.d(1),k=null),(!v||Q&1)&&a!==(a=H[0].title+"")&&W(c,a);let x=d;if(d=I(H),d===x?E[d].p(H,Q):(V(),C(E[x],1,1,()=>{E[x]=null}),q(),m=E[d],m?m.p(H,Q):(m=E[d]=$[d](H),m.c()),w(m,1),m.m(f,null)),Q&5){R=X(H[0].buttons);let J;for(J=0;J<R.length;J+=1){const Ae=bd(H,R,J);L[J]?L[J].p(Ae,Q):(L[J]=wd(Ae),L[J].c(),L[J].m(_,null))}for(;J<L.length;J+=1)L[J].d(1);L.length=R.length}(!v||Q&2)&&j(t,"visible",H[1]),(!v||Q&2)&&j(e,"show",H[1])},i(H){v||(w(m),v=!0)},o(H){C(m),v=!1},d(H){H&&y(e),k&&k.d(),E[d].d(),me(L,H)}}}function IM(r,e,t){let{app:n}=e,{error:i}=e,s=!1;function l(){t(1,s=!1),setTimeout(()=>{mp(i.id,n.id)},100)}ve(()=>{setTimeout(()=>{t(1,s=!0)},100)});function o(c){c(),l()}const a=c=>o(c.action);return r.$$set=c=>{"app"in c&&t(3,n=c.app),"error"in c&&t(0,i=c.error)},[i,s,o,n,a]}class OM extends U{constructor(e){super(),z(this,e,IM,EM,P,{app:3,error:0})}}function vd(r){let e,t,n,i,s;var l=r[0].content;function o(a,c){return{props:{overlay:a[0],app:a[1],id:a[2],runtime:a[3]}}}return l&&(i=De(l,o(r))),{c(){e=g("div"),t=g("window"),n=g("div"),i&&M(i.$$.fragment),h(n,"class","body overlay"),h(t,"class","window headless overlay"),h(t,"style",r[5]),h(t,"id",r[2]),j(t,"visible",r[4]),h(e,"class","overlay-wrapper"),j(e,"show",r[4])},m(a,c){S(a,e,c),p(e,t),p(t,n),i&&D(i,n,null),s=!0},p(a,c){if(c&1&&l!==(l=a[0].content)){if(i){V();const u=i;C(u.$$.fragment,1,0,()=>{B(u,1)}),q()}l?(i=De(l,o(a)),M(i.$$.fragment),w(i.$$.fragment,1),D(i,n,null)):i=null}else if(l){const u={};c&1&&(u.overlay=a[0]),c&2&&(u.app=a[1]),c&4&&(u.id=a[2]),c&8&&(u.runtime=a[3]),i.$set(u)}(!s||c&32)&&h(t,"style",a[5]),(!s||c&4)&&h(t,"id",a[2]),(!s||c&16)&&j(t,"visible",a[4]),(!s||c&16)&&j(e,"show",a[4])},i(a){s||(i&&w(i.$$.fragment,a),s=!0)},o(a){i&&C(i.$$.fragment,a),s=!1},d(a){a&&y(e),i&&B(i)}}}function RM(r){let e,t,n=r[0]&&r[1]&&vd(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]&&i[1]?n?(n.p(i,s),s&3&&w(n,1)):(n=vd(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function LM(r,e,t){let{overlay:n}=e,{app:i}=e,{id:s}=e,{runtime:l}=e,o=!1,a="";return ve(()=>{t(5,a=hd(n))}),ue.subscribe(()=>{t(5,a=hd(n)),t(4,o=i.overlays[s]?i.overlays[s].show:!1)}),r.$$set=c=>{"overlay"in c&&t(0,n=c.overlay),"app"in c&&t(1,i=c.app),"id"in c&&t(2,s=c.id),"runtime"in c&&t(3,l=c.runtime)},[n,i,s,l,o,a]}class DM extends U{constructor(e){super(),z(this,e,LM,RM,P,{overlay:0,app:1,id:2,runtime:3})}}function BM(r){let e,t,n,i;var s=r[0].content;function l(c,u){return{props:{app:c[0],runtime:c[1],appdata:c[2]?c[2].appdata[c[0].id]||{}:{}}}}s&&(t=De(s,l(r)));const o=r[4].default,a=je(o,r,r[3],null);return{c(){e=g("div"),t&&M(t.$$.fragment),n=T(),a&&a.c(),h(e,"class","body")},m(c,u){S(c,e,u),t&&D(t,e,null),p(e,n),a&&a.m(e,null),i=!0},p(c,[u]){if(u&1&&s!==(s=c[0].content)){if(t){V();const f=t;C(f.$$.fragment,1,0,()=>{B(f,1)}),q()}s?(t=De(s,l(c)),M(t.$$.fragment),w(t.$$.fragment,1),D(t,e,n)):t=null}else if(s){const f={};u&1&&(f.app=c[0]),u&2&&(f.runtime=c[1]),u&5&&(f.appdata=c[2]?c[2].appdata[c[0].id]||{}:{}),t.$set(f)}a&&a.p&&(!i||u&8)&&Qe(a,o,c,c[3],i?He(o,c[3],u,null):We(c[3]),null)},i(c){i||(t&&w(t.$$.fragment,c),w(a,c),i=!0)},o(c){t&&C(t.$$.fragment,c),C(a,c),i=!1},d(c){c&&y(e),t&&B(t),a&&a.d(c)}}}function MM(r,e,t){let n;G(r,te,a=>t(2,n=a));let{$$slots:i={},$$scope:s}=e,{app:l}=e,{runtime:o}=e;return r.$$set=a=>{"app"in a&&t(0,l=a.app),"runtime"in a&&t(1,o=a.runtime),"$$scope"in a&&t(3,s=a.$$scope)},[l,o,n,s,i]}class FM extends U{constructor(e){super(),z(this,e,MM,BM,P,{app:0,runtime:1})}}function PM(r){let e,t;return e=new Pm({props:{app:r[1],cls:r[6],min:r[4],max:r[5],isBoot:r[2]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.app=n[1]),i&4&&(s.isBoot=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function zM(r){let e,t,n;var i=Gr[r[3].sh.window.buttons].content;function s(l,o){return{props:{cls:l[6],min:l[4],max:l[5],app:l[1],isBoot:l[2]}}}return i&&(e=De(i,s(r))),{c(){e&&M(e.$$.fragment),t=le()},m(l,o){e&&D(e,l,o),S(l,t,o),n=!0},p(l,o){if(o&8&&i!==(i=Gr[l[3].sh.window.buttons].content)){if(e){V();const a=e;C(a.$$.fragment,1,0,()=>{B(a,1)}),q()}i?(e=De(i,s(l)),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}else if(i){const a={};o&2&&(a.app=l[1]),o&4&&(a.isBoot=l[2]),e.$set(a)}},i(l){n||(e&&w(e.$$.fragment,l),n=!0)},o(l){e&&C(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&B(e,l)}}}function UM(r){let e,t,n=r[1].info.name+"",i,s=(r[1].info.titleSuffix||"")+"",l,o,a,c,u,f,d,m,b=r[1].info.name+"",A,_=(r[1].info.titleSuffix||"")+"",v,k,$,E,I,R,L,H,Q;const x=[zM,PM],J=[];function Ae(ce,se){return ce[3]&&ce[3].sh.window.buttons?0:1}return E=Ae(r),I=J[E]=x[E](r),{c(){e=g("div"),t=g("div"),i=F(n),l=F(s),o=T(),a=g("p"),c=g("img"),d=T(),m=g("span"),A=F(b),v=F(_),k=T(),$=g("div"),I.c(),h(t,"class","centeredtitle"),h(c,"class","icon"),de(c.src,u=$t(r[1]))||h(c,"src",u),h(c,"alt",f=r[1].info.name),h(a,"class","title"),h($,"class","controls"),h(e,"class","titlebar"),h(e,"data-contextmenu","window-titlebar"),h(e,"data-appid",R=r[1].id),j(e,"centered",r[3]&&r[3].sh.window.centertb)},m(ce,se){S(ce,e,se),p(e,t),p(t,i),p(t,l),p(e,o),p(e,a),p(a,c),p(a,d),p(a,m),p(m,A),p(m,v),p(e,k),p(e,$),J[E].m($,null),r[8](e),L=!0,H||(Q=N(e,"dblclick",r[5]),H=!0)},p(ce,[se]){(!L||se&2)&&n!==(n=ce[1].info.name+"")&&W(i,n),(!L||se&2)&&s!==(s=(ce[1].info.titleSuffix||"")+"")&&W(l,s),(!L||se&2&&!de(c.src,u=$t(ce[1])))&&h(c,"src",u),(!L||se&2&&f!==(f=ce[1].info.name))&&h(c,"alt",f),(!L||se&2)&&b!==(b=ce[1].info.name+"")&&W(A,b),(!L||se&2)&&_!==(_=(ce[1].info.titleSuffix||"")+"")&&W(v,_);let ne=E;E=Ae(ce),E===ne?J[E].p(ce,se):(V(),C(J[ne],1,1,()=>{J[ne]=null}),q(),I=J[E],I?I.p(ce,se):(I=J[E]=x[E](ce),I.c()),w(I,1),I.m($,null)),(!L||se&2&&R!==(R=ce[1].id))&&h(e,"data-appid",R),(!L||se&8)&&j(e,"centered",ce[3]&&ce[3].sh.window.centertb)},i(ce){L||(w(I),L=!0)},o(ce){C(I),L=!1},d(ce){ce&&y(e),J[E].d(),r[8](null),H=!1,Q()}}}function NM(r,e,t){let n;G(r,te,d=>t(3,n=d));let{exttransition:i=!1}=e,{titlebar:s}=e,{app:l}=e,{isBoot:o=!1}=e;function a(){t(1,l.state.windowState.min=!l.state.windowState.min,l),Kt()}function c(){l.controls.max&&(t(1,l.state.windowState.max=!l.state.windowState.max,l),l.state.windowState.max?t(7,i=!0):setTimeout(()=>{t(7,i=!1)},200),Kt())}function u(){const d=l.id,m=d.startsWith("error_")?parseInt(d.replace("error_","")):-1;m>0?_p(m):bt(l.id),o&&t(1,l.opened=!1,l)}function f(d){we[d?"unshift":"push"](()=>{s=d,t(0,s)})}return r.$$set=d=>{"exttransition"in d&&t(7,i=d.exttransition),"titlebar"in d&&t(0,s=d.titlebar),"app"in d&&t(1,l=d.app),"isBoot"in d&&t(2,o=d.isBoot)},[s,l,o,n,a,c,u,i,f]}class jM extends U{constructor(e){super(),z(this,e,NM,UM,P,{exttransition:7,titlebar:0,app:1,isBoot:2})}}function kd(r,e,t){const n=r.slice();return n[22]=e[t],n}function yd(r,e,t){const n=r.slice();return n[25]=e[t],n}function Sd(r){let e,t;return e=new FM({props:{app:r[1],runtime:r[8],$$slots:{default:[HM]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.app=n[1]),i&256&&(s.runtime=n[8]),i&524288&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function HM(r){let e;const t=r[15].default,n=je(t,r,r[19],null);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&524288)&&Qe(n,t,i,i[19],e?He(t,i[19],s,null):We(i[19]),null)},i(i){e||(w(n,i),e=!0)},o(i){C(n,i),e=!1},d(i){n&&n.d(i)}}}function $d(r){let e,t,n=X(Object.entries(r[1].overlays)),i=[];for(let l=0;l<n.length;l+=1)i[l]=Cd(yd(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=le()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&258){n=X(Object.entries(l[1].overlays));let a;for(a=0;a<n.length;a+=1){const c=yd(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Cd(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Cd(r){let e,t;return e=new DM({props:{runtime:r[8],app:r[1],overlay:r[25][1],id:r[25][0]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&256&&(s.runtime=n[8]),i&2&&(s.app=n[1]),i&2&&(s.overlay=n[25][1]),i&2&&(s.id=n[25][0]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Td(r){let e,t,n=X(r[1].errorOverlays),i=[];for(let l=0;l<n.length;l+=1)i[l]=Ed(kd(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=le()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&2){n=X(l[1].errorOverlays);let a;for(a=0;a<n.length;a+=1){const c=kd(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Ed(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Ed(r){let e,t;return e=new OM({props:{error:r[22],app:r[1]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.error=n[22]),i&2&&(s.app=n[1]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function QM(r){let e,t,n,i,s,l,o,a,c,u,f;function d(k){r[16](k)}function m(k){r[17](k)}let b={app:r[1],isBoot:r[4]};r[0]!==void 0&&(b.exttransition=r[0]),r[7]!==void 0&&(b.titlebar=r[7]),t=new jM({props:b}),we.push(()=>Ce(t,"exttransition",d)),we.push(()=>Ce(t,"titlebar",m));let A=(r[1].runtime?r[8]:!0)&&Sd(r),_=r[1]&&r[1].overlays&&(r[1].runtime?r[8]:!0)&&$d(r),v=r[1]&&r[1].errorOverlays&&Td(r);return{c(){e=g("window"),M(t.$$.fragment),s=T(),A&&A.c(),l=T(),_&&_.c(),o=T(),v&&v.c(),h(e,"style",r[5]),h(e,"id",a=r[1].id),j(e,"window",!r[1].info.custom),j(e,"focused",r[1].id==r[9]),j(e,"headless",r[1].state.headless||r[1].state.windowState.fll),j(e,"resizable",r[1].state.resizable),j(e,"min",r[1].state.windowState.min),j(e,"max",r[1].state.windowState.max||r[3]),j(e,"visible",r[1].opened||r[2]),j(e,"exttransition",r[0]),j(e,"fullscreen",r[1].state.windowState.fll||r[1].info.custom),j(e,"glass",r[1].glass),j(e,"lefttb",r[10]&&r[10].sh.window.lefttb),j(e,"custom",r[1].info.custom),j(e,"child",!!r[1].parentId),j(e,"snapped",r[1].snapped),j(e,"snapping",r[1].id==r[11]&&(r[12]||r[13]))},m(k,$){S(k,e,$),D(t,e,null),p(e,s),A&&A.m(e,null),p(e,l),_&&_.m(e,null),p(e,o),v&&v.m(e,null),r[18](e),c=!0,u||(f=N(e,"mousedown",r[14]),u=!0)},p(k,[$]){const E={};$&2&&(E.app=k[1]),$&16&&(E.isBoot=k[4]),!n&&$&1&&(n=!0,E.exttransition=k[0],$e(()=>n=!1)),!i&&$&128&&(i=!0,E.titlebar=k[7],$e(()=>i=!1)),t.$set(E),!k[1].runtime||k[8]?A?(A.p(k,$),$&258&&w(A,1)):(A=Sd(k),A.c(),w(A,1),A.m(e,l)):A&&(V(),C(A,1,1,()=>{A=null}),q()),k[1]&&k[1].overlays&&(!k[1].runtime||k[8])?_?(_.p(k,$),$&258&&w(_,1)):(_=$d(k),_.c(),w(_,1),_.m(e,o)):_&&(V(),C(_,1,1,()=>{_=null}),q()),k[1]&&k[1].errorOverlays?v?(v.p(k,$),$&2&&w(v,1)):(v=Td(k),v.c(),w(v,1),v.m(e,null)):v&&(V(),C(v,1,1,()=>{v=null}),q()),(!c||$&32)&&h(e,"style",k[5]),(!c||$&2&&a!==(a=k[1].id))&&h(e,"id",a),(!c||$&2)&&j(e,"window",!k[1].info.custom),(!c||$&514)&&j(e,"focused",k[1].id==k[9]),(!c||$&2)&&j(e,"headless",k[1].state.headless||k[1].state.windowState.fll),(!c||$&2)&&j(e,"resizable",k[1].state.resizable),(!c||$&2)&&j(e,"min",k[1].state.windowState.min),(!c||$&10)&&j(e,"max",k[1].state.windowState.max||k[3]),(!c||$&6)&&j(e,"visible",k[1].opened||k[2]),(!c||$&1)&&j(e,"exttransition",k[0]),(!c||$&2)&&j(e,"fullscreen",k[1].state.windowState.fll||k[1].info.custom),(!c||$&2)&&j(e,"glass",k[1].glass),(!c||$&1024)&&j(e,"lefttb",k[10]&&k[10].sh.window.lefttb),(!c||$&2)&&j(e,"custom",k[1].info.custom),(!c||$&2)&&j(e,"child",!!k[1].parentId),(!c||$&2)&&j(e,"snapped",k[1].snapped),(!c||$&14338)&&j(e,"snapping",k[1].id==k[11]&&(k[12]||k[13]))},i(k){c||(w(t.$$.fragment,k),w(A),w(_),w(v),c=!0)},o(k){C(t.$$.fragment,k),C(A),C(_),C(v),c=!1},d(k){k&&y(e),B(t),A&&A.d(),_&&_.d(),v&&v.d(),r[18](null),u=!1,f()}}}function WM(r,e,t){let n,i,s,l,o;G(r,tt,Q=>t(9,n=Q)),G(r,te,Q=>t(10,i=Q)),G(r,nr,Q=>t(11,s=Q)),G(r,hs,Q=>t(12,l=Q)),G(r,gs,Q=>t(13,o=Q));let{$$slots:a={},$$scope:c}=e,{app:u=null}=e,{visible:f=!1}=e,{max:d=!1}=e,{isBoot:m=!1}=e,b="",A,_=!1,v,k,{exttransition:$=!1}=e;ve(()=>{tt.set(u.id),E(),u.id.startsWith("error_")&&Pt.playSound("arcos.dialog.info")});function E(){u.minSize.w>u.size.w||u.minSize.h>u.size.h||u.maxSize.w<u.minSize.w||u.maxSize.h<u.minSize.h||(t(5,b=vM(u,!_)),_||(_=!0),u.info.custom||Ad(u,A,v))}ue.subscribe(()=>{u.opened&&!u.info.custom&&Ad(u,A,v),E()});function I(){Ee(tt,n=u.id,n)}tt.subscribe(Q=>{!u||!u.events||(Q==u.id&&u.events.focus&&u.events.focus(u),Q!=u.id&&u.events.blur&&u.events.blur(u))}),ve(()=>{u.runtime&&t(8,k=new u.runtime(u))});function R(Q){$=Q,t(0,$)}function L(Q){v=Q,t(7,v)}function H(Q){we[Q?"unshift":"push"](()=>{A=Q,t(6,A)})}return r.$$set=Q=>{"app"in Q&&t(1,u=Q.app),"visible"in Q&&t(2,f=Q.visible),"max"in Q&&t(3,d=Q.max),"isBoot"in Q&&t(4,m=Q.isBoot),"exttransition"in Q&&t(0,$=Q.exttransition),"$$scope"in Q&&t(19,c=Q.$$scope)},[$,u,f,d,m,b,A,v,k,n,i,s,l,o,I,a,R,L,H,c]}class ch extends U{constructor(e){super(),z(this,e,WM,QM,P,{app:1,visible:2,max:3,isBoot:4,exttransition:0})}}function Id(r,e,t){const n=r.slice();return n[2]=e[t],n}function Od(r,e,t){const n=r.slice();return n[5]=e[t],n}function Rd(r,e,t){const n=r.slice();return n[8]=e[t],n}function Ld(r){let e,t=r[5].message+"",n,i,s,l,o,a,c,u=X(r[5].buttons),f=[];for(let m=0;m<u.length;m+=1)f[m]=Dd(Rd(r,u,m));const d=m=>C(f[m],1,1,()=>{f[m]=null});return{c(){e=g("p"),n=T(),i=g("center"),s=g("br"),l=T();for(let m=0;m<f.length;m+=1)f[m].c();o=T(),a=g("br")},m(m,b){S(m,e,b),e.innerHTML=t,S(m,n,b),S(m,i,b),p(i,s),p(i,l);for(let A=0;A<f.length;A+=1)f[A]&&f[A].m(i,null);p(i,o),p(i,a),c=!0},p(m,b){if((!c||b&2)&&t!==(t=m[5].message+"")&&(e.innerHTML=t),b&2){u=X(m[5].buttons);let A;for(A=0;A<u.length;A+=1){const _=Rd(m,u,A);f[A]?(f[A].p(_,b),w(f[A],1)):(f[A]=Dd(_),f[A].c(),w(f[A],1),f[A].m(i,o))}for(V(),A=u.length;A<f.length;A+=1)d(A);q()}},i(m){if(!c){for(let b=0;b<u.length;b+=1)w(f[b]);c=!0}},o(m){f=f.filter(Boolean);for(let b=0;b<f.length;b+=1)C(f[b]);c=!1},d(m){m&&(y(e),y(n),y(i)),me(f,m)}}}function Dd(r){let e,t;return e=new wM({props:{button:r[8],msg:r[5]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&2&&(s.button=n[8]),i&2&&(s.msg=n[5]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function Bd(r){let e,t,n=`error_${r[5].id}`==r[2].id&&Ld(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,s){`error_${i[5].id}`==i[2].id?n?(n.p(i,s),s&3&&w(n,1)):(n=Ld(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function KM(r){let e,t,n=X(r[1]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Bd(Od(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=T()},m(l,o){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,o);S(l,e,o),t=!0},p(l,o){if(o&3){n=X(l[1]);let a;for(a=0;a<n.length;a+=1){const c=Od(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Bd(c),i[a].c(),w(i[a],1),i[a].m(e.parentNode,e))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function Md(r){let e,t;return e=new ch({props:{app:r[2],$$slots:{default:[KM]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.app=n[2]),i&2051&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function GM(r){let e,t,n=X(r[0]),i=[];for(let l=0;l<n.length;l+=1)i[l]=Md(Id(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","winstore")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,[o]){if(o&3){n=X(l[0]);let a;for(a=0;a<n.length;a+=1){const c=Id(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=Md(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function VM(r,e,t){let n,i;return G(r,Yt,s=>t(0,n=s)),G(r,Ai,s=>t(1,i=s)),[n,i]}class qM extends U{constructor(e){super(),z(this,e,VM,GM,P,{})}}function Fd(r,e,t){const n=r.slice();return n[2]=e[t],n}function Pd(r){let e,t;return e=new ch({props:{app:r[2]}}),{c(){M(e.$$.fragment)},m(n,i){D(e,n,i),t=!0},p(n,i){const s={};i&1&&(s.app=n[2]),e.$set(s)},i(n){t||(w(e.$$.fragment,n),t=!0)},o(n){C(e.$$.fragment,n),t=!1},d(n){B(e,n)}}}function zd(r){let e,t,n=r[2]&&Pd(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,s){i[2]?n?(n.p(i,s),s&1&&w(n,1)):(n=Pd(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function YM(r){let e,t,n=X(r[0]),i=[];for(let l=0;l<n.length;l+=1)i[l]=zd(Fd(r,n,l));const s=l=>C(i[l],1,1,()=>{i[l]=null});return{c(){e=g("div");for(let l=0;l<i.length;l+=1)i[l].c();h(e,"class","winstore")},m(l,o){S(l,e,o);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);t=!0},p(l,[o]){if(o&1){n=X(l[0]);let a;for(a=0;a<n.length;a+=1){const c=Fd(l,n,a);i[a]?(i[a].p(c,o),w(i[a],1)):(i[a]=zd(c),i[a].c(),w(i[a],1),i[a].m(e,null))}for(V(),a=n.length;a<i.length;a+=1)s(a);q()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)w(i[o]);t=!0}},o(l){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)C(i[o]);t=!1},d(l){l&&y(e),me(i,l)}}}function JM(r,e,t){let n;G(r,Ve,s=>t(1,n=s));let i=[];return ue.subscribe(s=>{t(0,i=[]),s&&t(0,i=s);const l=ti();for(let o=0;o<l.length;o++)if(l[o].state.windowState.fll)return en.set(!0);en.set(!1)}),tt.subscribe(s=>{var a;if((a=Ue(s))!=null&&a.info.custom)return;if(Ee(Ve,n++,n),!s||s.startsWith("error_")){if(!s)return;const c=document.querySelector(`#${s}`);if(!c)return;c.style.zIndex=`${n}`;return}const l=Ue(s);if(!l)return;const o=Bn(l);o&&(o.style.zIndex=`${n}`)}),[i]}class ZM extends U{constructor(e){super(),z(this,e,JM,YM,P,{})}}async function XM(){K(dn).key!="desktop"||Wn!="rc"||(await ut(1e3),$i({title:"Release Candidate",message:`You're currently running a release candidate build of ArcOS. This build can and will have unwanted behaviour and bugs. Any critical errors will be reported automatically.<br><br>ArcOS version ${ft}-rc`,buttons:[],image:tn(),timeout:3e3}))}function Ud(r){let e,t,n,i,s,l,o,a,c,u;return t=new ZM({}),i=new qM({}),l=new AM({}),a=new oM({}),{c(){e=g("div"),M(t.$$.fragment),n=T(),M(i.$$.fragment),s=T(),M(l.$$.fragment),o=T(),M(a.$$.fragment),h(e,"class",c="desktop fullscreen "+r[1]+" theme-"+r[2].sh.desktop.theme+" tb-"+r[2].sh.taskbar.pos+" cursor-"+(r[2].sh.desktop.noCustomCursor?"":"custom")),Se(e,"--accent","#"+(r[2].sh.desktop.accent||"70D6FF"),1),j(e,"show",r[0])},m(f,d){S(f,e,d),D(t,e,null),p(e,n),D(i,e,null),p(e,s),D(l,e,null),p(e,o),D(a,e,null),u=!0},p(f,d){(!u||d&6&&c!==(c="desktop fullscreen "+f[1]+" theme-"+f[2].sh.desktop.theme+" tb-"+f[2].sh.taskbar.pos+" cursor-"+(f[2].sh.desktop.noCustomCursor?"":"custom")))&&h(e,"class",c),(!u||d&4)&&Se(e,"--accent","#"+(f[2].sh.desktop.accent||"70D6FF"),1),(!u||d&7)&&j(e,"show",f[0])},i(f){u||(w(t.$$.fragment,f),w(i.$$.fragment,f),w(l.$$.fragment,f),w(a.$$.fragment,f),u=!0)},o(f){C(t.$$.fragment,f),C(i.$$.fragment,f),C(l.$$.fragment,f),C(a.$$.fragment,f),u=!1},d(f){f&&y(e),B(t),B(i),B(l),B(a)}}}function xM(r){let e,t,n=r[2]&&r[3]&&Ud(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[2]&&i[3]?n?(n.p(i,s),s&12&&w(n,1)):(n=Ud(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function eF(r,e,t){let n,i,s;G(r,gl,c=>t(4,n=c)),G(r,te,c=>t(2,i=c)),G(r,Pe,c=>t(3,s=c));let l=!1,o="";gh.subscribe(c=>t(1,o=c)),hh.subscribe(c=>t(0,l=c)),ve(async()=>{if(Pt.playSound("arcos.system.logon"),n){Qn(!1);return}Ee(gl,n=!0,n),await ut(0),lP(),HB(),a(),WB(),setTimeout(()=>t(0,l=!0),250),VB(),D2(),XM()});function a(){ue.set([]),en.set(!1),Kt(),Lt.set(!1),Ai.set([])}return[l,o,i,s]}class tF extends U{constructor(e){super(),z(this,e,eF,xM,P,{})}}const _s=""+new URL("connect-7fe4df73.svg",import.meta.url).href,uh=""+new URL("finish-b74612a1.svg",import.meta.url).href,fh=""+new URL("license-c775bee3.svg",import.meta.url).href,nF=""+new URL("wave-1b0d0ba8.svg",import.meta.url).href;function iF(r){let e,t,n,i,s,l,o,a,c,u,f,d;return{c(){e=g("div"),t=g("div"),n=g("button"),i=g("span"),i.textContent="arrow_back_ios_new",l=T(),o=g("div"),a=g("button"),c=g("span"),c.textContent="arrow_forward_ios",h(i,"class","material-icons-round"),h(n,"class","nopad"),n.disabled=s=r[0].back.disabled,h(c,"class","material-icons-round"),h(a,"class","nopad"),a.disabled=u=r[0].forw.disabled,h(o,"class","alnr"),h(e,"class","nav")},m(m,b){S(m,e,b),p(e,t),p(t,n),p(n,i),p(e,l),p(e,o),p(o,a),p(a,c),f||(d=[N(n,"click",r[1]),N(a,"click",r[2])],f=!0)},p(m,[b]){b&1&&s!==(s=m[0].back.disabled)&&(n.disabled=s),b&1&&u!==(u=m[0].forw.disabled)&&(a.disabled=u)},i:O,o:O,d(m){m&&y(e),f=!1,ke(d)}}}function rF(r,e,t){let{data:n}=e;function i(){yi(n.back.redir)}function s(){yi(n.forw.redir)}return r.$$set=l=>{"data"in l&&t(0,n=l.data)},[n,i,s]}class sF extends U{constructor(e){super(),z(this,e,rF,iF,P,{data:0})}}function lF(r){let e;return{c(){e=F("Connecting...")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function oF(r){let e;return{c(){e=F("Connect to server")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function Nd(r){let e;return{c(){e=g("p"),e.innerHTML='<span class="material-icons-round">error</span>Connection to ArcAPI failed!',h(e,"class","fullwidth centered connect-error")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function aF(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b;function A($,E){return $[1]?lF:oF}let _=A(r),v=_(r),k=r[2]&&Nd();return f=new sF({props:{data:{back:{disabled:!1,redir:"license"},forw:{disabled:!0,redir:"authform"},prog:{max:4,val:3}}}}),{c(){e=g("div"),e.innerHTML=`<img src="${_s}" alt="Mode"/> <h1>Time to get connected</h1> <p class="subtitle">Enter the hostname of your ArcAPI:</p>`,t=T(),n=g("input"),i=T(),s=g("input"),l=T(),o=g("button"),v.c(),c=T(),k&&k.c(),u=T(),M(f.$$.fragment),h(e,"class","header centered"),h(n,"class","fullwidth centered"),h(n,"placeholder","Server name"),h(s,"class","fullwidth centered"),h(s,"placeholder","Server authentication code (optional)"),h(o,"class","fullwidth option centered"),o.disabled=a=!r[0]||r[1]},m($,E){S($,e,E),S($,t,E),S($,n,E),he(n,r[0]),S($,i,E),S($,s,E),he(s,r[3]),S($,l,E),S($,o,E),v.m(o,null),S($,c,E),k&&k.m($,E),S($,u,E),D(f,$,E),d=!0,m||(b=[N(n,"input",r[5]),N(s,"input",r[6]),N(o,"click",r[4])],m=!0)},p($,[E]){E&1&&n.value!==$[0]&&he(n,$[0]),E&8&&s.value!==$[3]&&he(s,$[3]),_!==(_=A($))&&(v.d(1),v=_($),v&&(v.c(),v.m(o,null))),(!d||E&3&&a!==(a=!$[0]||$[1]))&&(o.disabled=a),$[2]?k||(k=Nd(),k.c(),k.m(u.parentNode,u)):k&&(k.d(1),k=null)},i($){d||(w(f.$$.fragment,$),d=!0)},o($){C(f.$$.fragment,$),d=!1},d($){$&&(y(e),y(t),y(n),y(i),y(s),y(l),y(o),y(c),y(u)),v.d(),k&&k.d($),B(f,$),m=!1,ke(b)}}}function cF(r,e,t){let n="community.arcapi.nl",i=!1,s=!1,l="";async function o(){t(1,i=!0),t(2,s=!1),await Xl(n.trim(),l.trim())?(_l(n.trim()),Zp(n.trim(),l.trim()),yi("finish")):(Pt.playSound("arcos.dialog.error"),t(2,s=!0)),t(1,i=!1)}function a(){n=this.value,t(0,n)}function c(){l=this.value,t(3,l)}return[n,i,s,l,o,a,c]}class uF extends U{constructor(e){super(),z(this,e,cF,aF,P,{})}}function fF(r){let e,t,n,i,s,l,o,a,c;return{c(){e=g("div"),e.innerHTML=`<img src="${uh}" alt="Mode"/> <h1>Thank you!</h1> <p class="subtitle">We greatly appreciate it.</p>`,t=T(),n=g("p"),n.textContent=`Thank you for checking out ArcOS! We hope you'll enjoy it as much as we love
  making it. Please restart ArcOS to use your ArcOS instance.`,i=T(),s=g("br"),l=T(),o=g("button"),o.textContent="Restart",h(e,"class","header centered"),h(n,"class","fullwidth centered justified"),h(o,"class","fullwidth option centered")},m(u,f){S(u,e,f),S(u,t,f),S(u,n,f),S(u,i,f),S(u,s,f),S(u,l,f),S(u,o,f),a||(c=N(o,"click",r[0]),a=!0)},p:O,i:O,o:O,d(u){u&&(y(e),y(t),y(n),y(i),y(s),y(l),y(o)),a=!1,c()}}}function dF(r){async function e(){Pt.playSound("arcos.system.logoff"),await ut(1e3),location.reload()}return[e]}class pF extends U{constructor(e){super(),z(this,e,dF,fF,P,{})}}function mF(r){let e,t,n,i,s,l,o;return{c(){e=g("div"),e.innerHTML=`<img src="${fh}" alt="Mode"/> <h1>License agreement</h1> <p class="subtitle">By using ArcOS, you agree to the GPLv3 License.</p>`,t=T(),n=g("button"),n.textContent="Open license",i=T(),s=g("button"),s.textContent="I Agree",h(e,"class","header centered"),h(n,"class","fullwidth option centered"),h(s,"class","fullwidth option centered")},m(a,c){S(a,e,c),S(a,t,c),S(a,n,c),S(a,i,c),S(a,s,c),l||(o=[N(n,"click",hF),N(s,"click",r[0])],l=!0)},p:O,i:O,o:O,d(a){a&&(y(e),y(t),y(n),y(i),y(s)),l=!1,ke(o)}}}function hF(){window.open("https://www.gnu.org/licenses/gpl-3.0-standalone.html","_blank")}function gF(r){return[()=>yi("connecttocloud")]}class AF extends U{constructor(e){super(),z(this,e,gF,mF,P,{})}}function bF(r){let e,t,n,i,s,l,o,a,c,u,f,d;return{c(){e=g("div"),t=g("div"),n=g("img"),s=T(),l=g("h1"),l.textContent="Welcome",o=T(),a=g("p"),a.textContent="Time to set-up ArcOS.",c=T(),u=g("button"),u.textContent="Let's begin",de(n.src,i=tn())||h(n,"src",i),h(n,"alt","ArcOS"),h(n,"class","logo"),h(l,"class","center-header"),h(a,"class","center"),h(e,"class","center-flex")},m(m,b){S(m,e,b),p(e,t),p(t,n),p(t,s),p(t,l),p(t,o),p(t,a),p(t,c),p(t,u),f||(d=N(u,"click",r[0]),f=!0)},p:O,i:O,o:O,d(m){m&&y(e),f=!1,d()}}}function _F(r){return[()=>yi("license")]}class wF extends U{constructor(e){super(),z(this,e,_F,bF,P,{})}}const Wi=new Map([["welcome",{name:"Welcome",content:wF,attribs:{},key:"welcome",image:nF}],["license",{name:"License",content:AF,attribs:{},key:"license",image:fh}],["connecttocloud",{name:"Connect to ArcOS",content:uF,attribs:{},key:"connecttocloud",image:_s}],["finish",{name:"Finish",content:pF,attribs:{},key:"finish",image:uh}]]),Yr=pe();function yi(r){if(Wi.has(r)){ie("applyFTSState",`Applying state ${r}`);const e=Wi.get(r);Yr.set(e),Pt.playSound("arcos.click");return}vl("FirstTimeSetup",r)}function vF(r){let e,t,n;return t=new Vt({props:{height:60}}),{c(){e=g("div"),M(t.$$.fragment),h(e,"class","center-absolute centertext")},m(i,s){S(i,e,s),D(t,e,null),n=!0},p:O,i(i){n||(w(t.$$.fragment,i),n=!0)},o(i){C(t.$$.fragment,i),n=!1},d(i){i&&y(e),B(t)}}}function kF(r){let e,t,n,i;var s=r[1].content;function l(o,a){return{}}return s&&(t=De(s,l())),{c(){e=g("div"),t&&M(t.$$.fragment),h(e,"class",n="page "+r[0])},m(o,a){S(o,e,a),t&&D(t,e,null),i=!0},p(o,a){if(a&2&&s!==(s=o[1].content)){if(t){V();const c=t;C(c.$$.fragment,1,0,()=>{B(c,1)}),q()}s?(t=De(s,l()),M(t.$$.fragment),w(t.$$.fragment,1),D(t,e,null)):t=null}(!i||a&1&&n!==(n="page "+o[0]))&&h(e,"class",n)},i(o){i||(t&&w(t.$$.fragment,o),i=!0)},o(o){t&&C(t.$$.fragment,o),i=!1},d(o){o&&y(e),t&&B(t)}}}function yF(r){let e,t,n,i,s;const l=[kF,vF],o=[];function a(c,u){return c[1]?0:1}return t=a(r),n=o[t]=l[t](r),{c(){e=g("div"),n.c(),h(e,"class",i="right "+(r[1]?r[1].key:""))},m(c,u){S(c,e,u),o[t].m(e,null),s=!0},p(c,[u]){let f=t;t=a(c),t===f?o[t].p(c,u):(V(),C(o[f],1,1,()=>{o[f]=null}),q(),n=o[t],n?n.p(c,u):(n=o[t]=l[t](c),n.c()),w(n,1),n.m(e,null)),(!s||u&2&&i!==(i="right "+(c[1]?c[1].key:"")))&&h(e,"class",i)},i(c){s||(w(n),s=!0)},o(c){C(n),s=!1},d(c){c&&y(e),o[t].d()}}}function SF(r,e,t){let n;G(r,Yr,l=>t(1,n=l));let i="",s=[];return Yr.subscribe(l=>{l&&t(0,i=l.name.split(" ")[0].toLowerCase())}),ve(()=>{s=[];for(const l of Wi)s.push(l[0])}),[i,n]}class $F extends U{constructor(e){super(),z(this,e,SF,yF,P,{})}}function jd(r,e,t){const n=r.slice();return n[2]=e[t][0],n[3]=e[t][1],n}function Hd(r){let e,t,n,i,s=r[3].name+"",l,o;return{c(){e=g("div"),t=g("img"),i=T(),l=F(s),o=T(),de(t.src,n=r[3].image)||h(t,"src",n),h(t,"alt",r[3].name),h(e,"class","state"),j(e,"activated",r[1]&&r[1].key==r[2])},m(a,c){S(a,e,c),p(e,t),p(e,i),p(e,l),p(e,o)},p(a,c){c&2&&j(e,"activated",a[1]&&a[1].key==a[2])},d(a){a&&y(e)}}}function CF(r){let e,t,n,i,s,l,o=X([...Wi]),a=[];for(let c=0;c<o.length;c+=1)a[c]=Hd(jd(r,o,c));return s=new $F({}),{c(){e=g("div"),t=g("div"),n=g("div");for(let c=0;c<a.length;c+=1)a[c].c();i=T(),M(s.$$.fragment),h(n,"class","left"),h(t,"class","center-absolute"),h(e,"class","fts fullscreen"),j(e,"show",r[0])},m(c,u){S(c,e,u),p(e,t),p(t,n);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(n,null);p(t,i),D(s,t,null),l=!0},p(c,[u]){if(u&2){o=X([...Wi]);let f;for(f=0;f<o.length;f+=1){const d=jd(c,o,f);a[f]?a[f].p(d,u):(a[f]=Hd(d),a[f].c(),a[f].m(n,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=o.length}(!l||u&1)&&j(e,"show",c[0])},i(c){l||(w(s.$$.fragment,c),l=!0)},o(c){C(s.$$.fragment,c),l=!1},d(c){c&&y(e),me(a,c),B(s)}}}function TF(r,e,t){let n;G(r,Yr,s=>t(1,n=s));let i=!1;return ve(async()=>{await ut(500),t(0,i=!0),Pt.playSound("arcos.system.logon"),await ut(500),yi("welcome")}),[i,n]}class EF extends U{constructor(e){super(),z(this,e,TF,CF,P,{})}}function Qd(r){let e;return{c(){e=g("div"),h(e,"class","background fullscreen"),j(e,"zoom",r[0].attribs.darken)},m(t,n){S(t,e,n)},p(t,n){n&1&&j(e,"zoom",t[0].attribs.darken)},d(t){t&&y(e)}}}function IF(r){let e,t=r[0]&&Qd(r);return{c(){t&&t.c(),e=le()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0]?t?t.p(n,i):(t=Qd(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function OF(r,e,t){let n;return G(r,Ti,i=>t(0,n=i)),[n]}class RF extends U{constructor(e){super(),z(this,e,OF,IF,P,{})}}function Wd(r){let e,t,n;var i=r[0].content;function s(l,o){return{}}return i&&(t=De(i,s())),{c(){e=g("div"),t&&M(t.$$.fragment),h(e,"class","center-absolute")},m(l,o){S(l,e,o),t&&D(t,e,null),n=!0},p(l,o){if(o&1&&i!==(i=l[0].content)){if(t){V();const a=t;C(a.$$.fragment,1,0,()=>{B(a,1)}),q()}i?(t=De(i,s()),M(t.$$.fragment),w(t.$$.fragment,1),D(t,e,null)):t=null}},i(l){n||(t&&w(t.$$.fragment,l),n=!0)},o(l){t&&C(t.$$.fragment,l),n=!1},d(l){l&&y(e),t&&B(t)}}}function LF(r){let e,t,n=r[0]&&Wd(r);return{c(){n&&n.c(),e=le()},m(i,s){n&&n.m(i,s),S(i,e,s),t=!0},p(i,[s]){i[0]?n?(n.p(i,s),s&1&&w(n,1)):(n=Wd(i),n.c(),w(n,1),n.m(e.parentNode,e)):n&&(V(),C(n,1,1,()=>{n=null}),q())},i(i){t||(w(n),t=!0)},o(i){C(n),t=!1},d(i){i&&y(e),n&&n.d(i)}}}function DF(r,e,t){let n;return G(r,Ti,i=>t(0,n=i)),[n]}class BF extends U{constructor(e){super(),z(this,e,DF,LF,P,{})}}function Kd(r){let e;return{c(){e=g("div"),h(e,"class","fullscreen darken"),j(e,"show",r[0].attribs.darken)},m(t,n){S(t,e,n)},p(t,n){n&1&&j(e,"show",t[0].attribs.darken)},d(t){t&&y(e)}}}function MF(r){let e,t=r[0]&&Kd(r);return{c(){t&&t.c(),e=le()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0]?t?t.p(n,i):(t=Kd(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function FF(r,e,t){let n;return G(r,Ti,i=>t(0,n=i)),[n]}class PF extends U{constructor(e){super(),z(this,e,FF,MF,P,{})}}function Gd(r,e,t){const n=r.slice();return n[9]=e[t],n}function Vd(r){let e,t,n,i,s,l,o,a,c,u,f,d,m,b=X(r[3]),A=[];for(let _=0;_<b.length;_+=1)A[_]=qd(Gd(r,b,_));return{c(){e=g("div"),t=g("select");for(let _=0;_<A.length;_+=1)A[_].c();n=g("option"),n.textContent="Add Server...",i=T(),s=g("div"),l=F(r[0]),o=T(),a=g("div"),c=g("button"),c.innerHTML='<span class="material-icons-round">power_settings_new</span>',u=T(),f=g("button"),f.innerHTML='<span class="material-icons-round">restart_alt</span>',n.__value="$new",he(n,n.__value),h(t,"class","host"),r[1]===void 0&&In(()=>r[8].call(t)),h(s,"class","clock"),h(c,"class","nopad"),h(f,"class","nopad"),h(a,"class","right"),h(e,"class","topbar"),j(e,"show",(r[4].attribs.topbar||!1)&&r[2])},m(_,v){S(_,e,v),p(e,t);for(let k=0;k<A.length;k+=1)A[k]&&A[k].m(t,null);p(t,n),En(t,r[1],!0),p(e,i),p(e,s),p(s,l),p(e,o),p(e,a),p(a,c),p(a,u),p(a,f),d||(m=[N(t,"change",r[7]),N(t,"change",r[8]),N(c,"click",r[5]),N(f,"click",r[6])],d=!0)},p(_,v){if(v&8){b=X(_[3]);let k;for(k=0;k<b.length;k+=1){const $=Gd(_,b,k);A[k]?A[k].p($,v):(A[k]=qd($),A[k].c(),A[k].m(t,n))}for(;k<A.length;k+=1)A[k].d(1);A.length=b.length}v&10&&En(t,_[1]),v&1&&W(l,_[0]),v&20&&j(e,"show",(_[4].attribs.topbar||!1)&&_[2])},d(_){_&&y(e),me(A,_),d=!1,ke(m)}}}function qd(r){let e,t=r[9]+"",n,i;return{c(){e=g("option"),n=F(t),e.__value=i=r[9],he(e,e.__value)},m(s,l){S(s,e,l),p(e,n)},p(s,l){l&8&&t!==(t=s[9]+"")&&W(n,t),l&8&&i!==(i=s[9])&&(e.__value=i,he(e,e.__value))},d(s){s&&y(e)}}}function zF(r){let e,t=r[4]&&Vd(r);return{c(){t&&t.c(),e=le()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[4]?t?t.p(n,i):(t=Vd(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function UF(r,e,t){let n;G(r,Ti,d=>t(4,n=d));let i="",s=Tt(),l=!1,o=[];ve(()=>{setInterval(()=>t(0,i=jt().format("HH:mm")),500),setTimeout(()=>t(2,l=!0),750),t(3,o=Vi())});function a(){It.set("ArcOS"),Ot("shutdown")}function c(){It.set("ArcOS"),Ot("restart")}function u(){setTimeout(()=>{if(s=="$new")return gt("fts");localStorage.setItem("arcos-current-server",s),c()})}function f(){s=Zr(this),t(1,s),t(3,o)}return[i,s,l,o,n,a,c,u,f]}class NF extends U{constructor(e){super(),z(this,e,UF,zF,P,{})}}function jF(r){let e,t,n,i,s,l,o,a,c;return t=new RF({}),i=new PF({}),l=new NF({}),a=new BF({}),{c(){e=g("div"),M(t.$$.fragment),n=T(),M(i.$$.fragment),s=T(),M(l.$$.fragment),o=T(),M(a.$$.fragment),h(e,"class","login fullscreen"),j(e,"show",r[0])},m(u,f){S(u,e,f),D(t,e,null),p(e,n),D(i,e,null),p(e,s),D(l,e,null),p(e,o),D(a,e,null),c=!0},p(u,[f]){(!c||f&1)&&j(e,"show",u[0])},i(u){c||(w(t.$$.fragment,u),w(i.$$.fragment,u),w(l.$$.fragment,u),w(a.$$.fragment,u),c=!0)},o(u){C(t.$$.fragment,u),C(i.$$.fragment,u),C(l.$$.fragment,u),C(a.$$.fragment,u),c=!1},d(u){u&&y(e),B(t),B(i),B(l),B(a)}}}function HF(r,e,t){let n=!1;return ve(async()=>{t(0,n=!1),await hA(),t(0,n=!0)}),[n]}class kr extends U{constructor(e){super(),z(this,e,HF,jF,P,{})}}function Yd(r){let e;return{c(){e=g("span"),e.textContent="lock",h(e,"class","material-icons-round")},m(t,n){S(t,e,n)},d(t){t&&y(e)}}}function QF(r){let e,t,n,i,s,l=r[1].hostname+"",o,a,c,u,f=r[1].private&&Yd();return{c(){e=g("button"),t=g("img"),i=T(),s=g("p"),o=F(l),a=T(),f&&f.c(),de(t.src,n=_s)||h(t,"src",n),h(t,"alt",""),h(t,"class","icon"),h(s,"class","caption"),h(e,"class","option"),j(e,"selected",r[0]==r[1].hostname)},m(d,m){S(d,e,m),p(e,t),p(e,i),p(e,s),p(s,o),p(e,a),f&&f.m(e,null),c||(u=N(e,"click",r[2]),c=!0)},p(d,[m]){m&2&&l!==(l=d[1].hostname+"")&&W(o,l),d[1].private?f||(f=Yd(),f.c(),f.m(e,null)):f&&(f.d(1),f=null),m&3&&j(e,"selected",d[0]==d[1].hostname)},i:O,o:O,d(d){d&&y(e),f&&f.d(),c=!1,u()}}}function WF(r,e,t){let{server:n}=e,{selected:i}=e;function s(){t(0,i=n.hostname)}return r.$$set=l=>{"server"in l&&t(1,n=l.server),"selected"in l&&t(0,i=l.selected)},[i,n,s]}class KF extends U{constructor(e){super(),z(this,e,WF,QF,P,{server:1,selected:0})}}function Jd(r){let e,t,n,i,s,l,o,a;return{c(){e=g("div"),t=g("button"),t.innerHTML='<span>Add Server</span> <span class="material-icons-round">add</span>',n=T(),i=g("button"),i.innerHTML='<span>Restart</span> <span class="material-icons-round">sync</span>',s=T(),l=g("button"),l.innerHTML='<span>Continue</span> <span class="material-icons-round">arrow_forward_ios</span>',h(l,"class","clr-blue"),h(e,"class","actions")},m(c,u){S(c,e,u),p(e,t),p(e,n),p(e,i),p(e,s),p(e,l),o||(a=[N(t,"click",r[1]),N(i,"click",dh),N(l,"click",r[2])],o=!0)},p:O,d(c){c&&y(e),o=!1,ke(a)}}}function GF(r){let e,t=r[0]&&r[0].length&&Jd(r);return{c(){t&&t.c(),e=le()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0]&&n[0].length?t?t.p(n,i):(t=Jd(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function dh(){location.reload()}function VF(r,e,t){let{servers:n=[]}=e,{selected:i=""}=e;function s(){gt("fts")}function l(){localStorage.setItem("arcos-current-server",i),dh()}return r.$$set=o=>{"servers"in o&&t(0,n=o.servers),"selected"in o&&t(3,i=o.selected)},[n,s,l,i]}class qF extends U{constructor(e){super(),z(this,e,VF,GF,P,{servers:0,selected:3})}}function Zd(r,e,t){const n=r.slice();return n[4]=e[t],n}function Xd(r){let e,t,n;function i(l){r[2](l)}let s={server:r[4]};return r[0]!==void 0&&(s.selected=r[0]),e=new KF({props:s}),we.push(()=>Ce(e,"selected",i)),{c(){M(e.$$.fragment)},m(l,o){D(e,l,o),n=!0},p(l,o){const a={};o&2&&(a.server=l[4]),!t&&o&1&&(t=!0,a.selected=l[0],$e(()=>t=!1)),e.$set(a)},i(l){n||(w(e.$$.fragment,l),n=!0)},o(l){C(e.$$.fragment,l),n=!1},d(l){B(e,l)}}}function YF(r){let e,t,n,i,s,l=X(r[1]),o=[];for(let c=0;c<l.length;c+=1)o[c]=Xd(Zd(r,l,c));const a=c=>C(o[c],1,1,()=>{o[c]=null});return i=new qF({props:{selected:r[0],servers:r[1]}}),{c(){e=g("div"),t=g("div");for(let c=0;c<o.length;c+=1)o[c].c();n=T(),M(i.$$.fragment),h(t,"class","options"),h(e,"class","selector")},m(c,u){S(c,e,u),p(e,t);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(t,null);p(e,n),D(i,e,null),s=!0},p(c,[u]){if(u&3){l=X(c[1]);let d;for(d=0;d<l.length;d+=1){const m=Zd(c,l,d);o[d]?(o[d].p(m,u),w(o[d],1)):(o[d]=Xd(m),o[d].c(),w(o[d],1),o[d].m(t,null))}for(V(),d=l.length;d<o.length;d+=1)a(d);q()}const f={};u&1&&(f.selected=c[0]),u&2&&(f.servers=c[1]),i.$set(f)},i(c){if(!s){for(let u=0;u<l.length;u+=1)w(o[u]);w(i.$$.fragment,c),s=!0}},o(c){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)C(o[u]);C(i.$$.fragment,c),s=!1},d(c){c&&y(e),me(o,c),B(i)}}}function JF(r,e,t){let{selected:n=""}=e,{servers:i=[]}=e;function s(){t(1,i=[]);const o=Vi().sort();for(let a=0;a<o.length;a++){const c=xi(o[a]);i.push({hostname:o[a],private:!!c,authCode:c})}}ve(s);function l(o){n=o,t(0,n)}return r.$$set=o=>{"selected"in o&&t(0,n=o.selected),"servers"in o&&t(1,i=o.servers)},[n,i,l]}class ZF extends U{constructor(e){super(),z(this,e,JF,YF,P,{selected:0,servers:1})}}function XF(r){let e,t,n,i,s,l,o,a;function c(d){r[3](d)}function u(d){r[4](d)}let f={};return r[0]!==void 0&&(f.selected=r[0]),r[1]!==void 0&&(f.servers=r[1]),s=new ZF({props:f}),we.push(()=>Ce(s,"selected",c)),we.push(()=>Ce(s,"servers",u)),{c(){e=g("div"),t=g("div"),n=g("div"),n.innerHTML=`<img src="${_s}" alt="" class="logo"/> <h1 class="header">Select Server</h1>`,i=T(),M(s.$$.fragment),h(n,"class","left"),h(t,"class","ss-inner"),h(e,"class","serverselect"),j(e,"show",r[2])},m(d,m){S(d,e,m),p(e,t),p(t,n),p(t,i),D(s,t,null),a=!0},p(d,[m]){const b={};!l&&m&1&&(l=!0,b.selected=d[0],$e(()=>l=!1)),!o&&m&2&&(o=!0,b.servers=d[1],$e(()=>o=!1)),s.$set(b),(!a||m&4)&&j(e,"show",d[2])},i(d){a||(w(s.$$.fragment,d),a=!0)},o(d){C(s.$$.fragment,d),a=!1},d(d){d&&y(e),B(s)}}}function xF(r,e,t){let n="",i=[],s=!1;ve(async()=>{t(0,n=Tt()),await ut(500),t(2,s=!0)});function l(a){n=a,t(0,n)}function o(a){i=a,t(1,i)}return[n,i,s,l,o]}class eP extends U{constructor(e){super(),z(this,e,xF,XF,P,{})}}const tP=""+new URL("safetoturnoff-1aac1218.png",import.meta.url).href;function nP(r){let e;return{c(){e=g("div"),e.innerHTML=`<img src="${tP}" alt="It&#39;s now safe to turn off your computer." class="svelte-1kzg8gn"/>`,h(e,"class","svelte-1kzg8gn")},m(t,n){S(t,e,n)},p:O,i:O,o:O,d(t){t&&y(e)}}}class iP extends U{constructor(e){super(),z(this,e,null,nP,P,{})}}const hl=new Map([["boot",{name:"Booting...",content:LB,attribs:{},key:"boot"}],["serverselect",{name:"Server Select",content:eP,attribs:{},key:"serverselect"}],["login",{name:"Login",content:kr,attribs:{},key:"login"}],["fts",{name:"First Time Setup",content:EF,attribs:{},key:"fts"}],["desktop",{name:"Desktop",content:tF,attribs:{},key:"desktop"}],["logoff",{name:"Logoff",content:kr,attribs:{},onload:()=>{Ot("logoff"),It.set(null)},key:"logoff"}],["restart",{name:"Restart",content:kr,attribs:{},onload:()=>{Ot("restart"),It.set(null)},key:"restart"}],["shutdown",{name:"Shutdown",content:kr,attribs:{},onload:()=>{Ot("shutdown"),It.set(null)},key:"shutdown"}],["arcterm",{name:"ArcTerm",content:CB,attribs:{},key:"arcterm"}],["crash",{name:"Aw, snap!",content:FB,attribs:{},key:"crash"}],["blank",{name:"",content:EB,attribs:{},key:"blank"}],["turnedoff",{name:"Turned off",content:iP,attribs:{},key:"turnedoff",onload(){window.close()}}]]),dn=pe(hl[0]);function gt(r){if(hl.has(r)){ie("state/main.ts: applyState",`Applying state ${r}`,oe.info);const e=hl.get(r);e.onload&&e.onload(),dn.set(e);const t=`ArcOS | ${e.name}`;document.title=t,r!="desktop"&&xr();return}vl("ArcOS State Switcher",r)}function rP(){const r=(e,t)=>{e.subscribe(n=>{n&&(hh.set(!1),setTimeout(()=>{Pt.playSound("arcos.system.logoff"),gt(t),e.set(!1)}))})};r(ph,"shutdown"),r(mh,"restart")}function sP(){Hl([{key:"q",alt:!0,action(){ti().length?(Ue(K(tt)).state.windowState.fll&&en.set(!1),bt(K(tt))):ze("Exit"),Lt.set(!1),Nt.set(!1),Hn.set(null),tt.set(null)},global:!0},{key:"s",shift:!0,alt:!0,global:!0,action:()=>{yt.set(!K(yt))}},{key:"n",alt:!0,global:!0,action:()=>{Nt.set(!K(Nt))}},{key:"z",alt:!0,shift:!0,global:!0,action:()=>{ze("AppMan")}}])}const gl=pe(!1),Lt=pe(!1),ph=pe(!1),mh=pe(!1),hh=pe(!1),gh=pe("");function lP(){ug(),rP(),sP()}function ze(r,e=!1){ie("events.ts: openWindow",`Opening ${r}`);const t=Ue(r);if(t&&t.core)return;if(!gp(r)||on(r)){const i=Bn(t);if(!i)return;Ve.set(K(Ve)+1),i.style.zIndex=`${K(Ve)}`,uP(t);return}if(t.parentId&&!on(t.parentId)){if(!e)return ie("events.ts: openWindow",`The parent "${t.parentId}" of child window "${t.id}" must be opened before the child can be opened.`,oe.error),!1;ze(t.parentId)}const n=K(ue);for(let i=0;i<n.length;i++)n[i].id==r&&(n[i].opened=!0);return ue.set(n),setTimeout(()=>{const i=Bn(t);i&&(Ve.set(K(Ve)+1),i.style.zIndex=`${K(Ve)}`,tt.set(r))},10),Lt.set(!1),Nt.set(!1),Kt(),tt.set(r),t.events&&t.events.open&&t.events.open(t),!0}function oP(r,e){const t=K(ue);for(let n=0;n<t.length;n++)if(t[n].parentId==r.id&&t[n].id==e)return bt(e),!0;return!1}function bt(r){if(ie("events.ts: closeWindow",`Closing ${r}`),!on(r))return!1;const e=K(ue),t=Ue(r);if(!(t&&t.core)){for(let n=0;n<e.length;n++)if(e[n]&&e[n].id==r){e[n].opened=!1,e[n].openedFile=null;break}if(t.children){const n=Object.entries(t.children);for(let i=0;i<n.length;i++)oP(t,n[i][0])}if(t.errorOverlays)for(let n=0;n<t.errorOverlays.length;n++)mp(t.errorOverlays[n].id,t.id);if(t.overlays){const n=Object.entries(t.overlays);for(let i=0;i<n.length;i++)Je(n[i][0],r)}return t.snapped=!1,ue.set(e),t.events&&t.events.close&&t.events.close(t),!0}}function aP(r){ie("events.ts: maximizeWindow",`Switching maximized state of ${r.id}`,oe.info),!r.core&&(r.state.windowState.max=!r.state.windowState.max,tt.set(r.id),r.events&&r.events.maximize&&r.events.maximize(r),Kt())}function cP(r){if(ie("events.ts: minimizeWindow",`Switching minimized state of ${r.id}`,oe.info),!r.core){if(r.state.windowState.min=!r.state.windowState.min,tt.set(null),r.state.windowState.min){const e=Bn(r);e.style.zIndex="0"}r.events&&r.events.minimize&&r.events.minimize(r),Kt()}}function uP(r){if(ie("events.ts: unminimizeWindow",`Disabling minimized state of ${r.id}`,oe.info),r.core)return;const e=K(ue);for(let t=0;t<e.length;t++)e[t].id==r.id&&(e[t].state.windowState.min=!1);tt.set(r.id),ue.set(e)}function Ah(r){ie("events.ts: fullscreenToggle",`Switching fullscreen state of ${r}`,oe.info);const e=K(ue);for(let t=0;t<e.length;t++)e[t].id==r&&(e[t].core||(e[t].state.windowState.fll=!e[t].state.windowState.fll));ue.set(e)}const bh={includeApi:!0,includeUserData:!1,title:"Auto-generated report",body:"No user-input was provided when generating this report."},_h=new og("https://pb.arcapi.nl/");async function ws(r=bh){const e=xl(r),t=(await _h.collection("bugrep").create(e)).id;return e.author&&fP(t),t}function fP(r){const e=Nr("Reporting","reports")||[];e.push({id:r,timestamp:new Date().getTime()}),Pl("Reporting","reports",e);const t=`br$${r}`,n=`Bug Report ${r} sent to ArcOS`;Ml({onOpen(){ze("BugReports"),Ur(t)},identifier:t,image:Gi,title:n})}function xl(r=bh){const e=()=>Math.floor(Math.random()*1e6);return{author:K(Pe),title:r.title,body:r.body||"No body",version:ft,log:DB(Ql().join(`
`)),userdata:r.includeUserData?K(te):null,api:r.includeApi?Tt():null,issueid:`${e()}-${e()}-${e()}-${e()}`,resolved:!1,closed:!1,desktop:Ui(),mode_file:Wn,useragent:navigator.userAgent,frontend:Ui()?"<desktop>":location.host,location,metaenv:{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1}}}async function Jr(r){try{return await _h.collection("bugrep").getOne(r,{$autoCancel:!1})}catch{return null}}async function wh(r){return!!await Jr(r)}const Ct=pe([]);function ie(r,e,t=oe.info){const n={source:r,msg:e,level:t};n.timestamp=new Date().getTime();const i=K(Ct),s=cp[oe[n.level]].capt,l=jt(n.timestamp||0).format("HH:mm:ss.mmm");i.push(n),Ct.set(i),n.level==oe.critical&&ws({includeUserData:!1,includeApi:!0,title:"Critical state",body:`A log item with state CRITICAL was sent:
${r}: ${e}

TS: ${l}`}),console.log(`ArcOS: ${l} [${s}] ${n.source}: ${n.msg}`)}const vh=pe([]),ue=pe([]),en=pe(!1),Ve=pe(1e9),tt=pe(null);function Ue(r){const e=K(ue);for(let t=0;t<e.length;t++)if(e[t]&&e[t].id==r)return e[t];return null}function ti(){const r=K(ue),e=[];for(let t=0;t<r.length;t++)r[t].opened&&e.push(r[t]);return e}function Kt(){ie("store.ts: updateStores","Flushing all stores");const r=K(ue),e=ti();en.set(!1);for(let t=0;t<e.length;t++){const n=Ue(e[t].id);n&&(e[t]=n),e[t]&&e[t]&&e[t].state.windowState.fll&&!e[t].state.windowState.min&&en.set(!0)}ue.set(r)}ue.subscribe(()=>{vh.set(ti())});function xd(r){let e,t,n,i,s,l,o,a,c=r[1].icon+"",u,f=r[1].title+"",d,m,b,A=r[1].message+"",_,v,k,$=r[1].button&&ep(r),E=r[1].details&&tp(r);return{c(){e=g("div"),t=g("div"),n=g("div"),i=g("img"),l=T(),o=g("h3"),a=g("span"),u=F(c),d=F(f),m=T(),b=g("p"),_=T(),$&&$.c(),v=T(),k=g("div"),E&&E.c(),h(i,"class","logo"),de(i.src,s=tn())||h(i,"src",s),h(i,"alt","ArcOS"),h(a,"class","material-icons-round"),h(t,"class","content"),h(k,"class","details"),h(e,"class","bugrep fullscreen"),Se(e,"z-index",r[2]*10),j(e,"show",r[0])},m(I,R){S(I,e,R),p(e,t),p(t,n),p(n,i),p(n,l),p(n,o),p(o,a),p(a,u),p(o,d),p(n,m),p(n,b),b.innerHTML=A,p(e,_),$&&$.m(e,null),p(e,v),p(e,k),E&&E.m(k,null)},p(I,R){R&2&&c!==(c=I[1].icon+"")&&W(u,c),R&2&&f!==(f=I[1].title+"")&&W(d,f),R&2&&A!==(A=I[1].message+"")&&(b.innerHTML=A),I[1].button?$?$.p(I,R):($=ep(I),$.c(),$.m(e,v)):$&&($.d(1),$=null),I[1].details?E?E.p(I,R):(E=tp(I),E.c(),E.m(k,null)):E&&(E.d(1),E=null),R&4&&Se(e,"z-index",I[2]*10),R&1&&j(e,"show",I[0])},d(I){I&&y(e),$&&$.d(),E&&E.d()}}}function ep(r){let e,t=r[1].button.caption+"",n,i,s;return{c(){e=g("button"),n=F(t)},m(l,o){S(l,e,o),p(e,n),i||(s=N(e,"click",r[3]),i=!0)},p(l,o){o&2&&t!==(t=l[1].button.caption+"")&&W(n,t)},d(l){l&&y(e),i=!1,s()}}}function tp(r){let e,t,n,i=(r[1].source||"<anonymous>")+"",s,l,o,a,c,u,f=(r[1].details||"<anonymous>")+"",d;return{c(){e=g("p"),t=g("span"),t.textContent="Source :",n=T(),s=F(i),l=T(),o=g("p"),a=g("span"),a.textContent="Details:",c=T(),u=g("code"),d=F(f),h(t,"class","title"),h(a,"class","title")},m(m,b){S(m,e,b),p(e,t),p(e,n),p(e,s),S(m,l,b),S(m,o,b),p(o,a),p(o,c),p(o,u),p(u,d)},p(m,b){b&2&&i!==(i=(m[1].source||"<anonymous>")+"")&&W(s,i),b&2&&f!==(f=(m[1].details||"<anonymous>")+"")&&W(d,f)},d(m){m&&(y(e),y(l),y(o))}}}function dP(r){let e,t=r[0]&&xd(r);return{c(){t&&t.c(),e=le()},m(n,i){t&&t.m(n,i),S(n,e,i)},p(n,[i]){n[0]?t?t.p(n,i):(t=xd(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:O,o:O,d(n){n&&y(e),t&&t.d(n)}}}function pP(r,e,t){let n;G(r,Ve,o=>t(2,n=o));let i=!1,s;function l(){s.button.action(),gi.set([!1,null])}return gi.subscribe(o=>{o&&(t(0,i=o[0]),t(1,s=o[1]))}),[i,s,n,l]}class mP extends U{constructor(e){super(),z(this,e,pP,dP,P,{})}}const{window:hP}=Eh;function np(r){let e,t,n,i,s=r[4]&&ip(r);return n=new mP({}),{c(){e=g("div"),s&&s.c(),t=T(),M(n.$$.fragment),h(e,"class","app fullscreen"),j(e,"cursor-busy",r[2]||r[3])},m(l,o){S(l,e,o),s&&s.m(e,null),p(e,t),D(n,e,null),i=!0},p(l,o){l[4]?s?(s.p(l,o),o&16&&w(s,1)):(s=ip(l),s.c(),w(s,1),s.m(e,t)):s&&(V(),C(s,1,1,()=>{s=null}),q()),(!i||o&12)&&j(e,"cursor-busy",l[2]||l[3])},i(l){i||(w(s),w(n.$$.fragment,l),i=!0)},o(l){C(s),C(n.$$.fragment,l),i=!1},d(l){l&&y(e),s&&s.d(),B(n)}}}function ip(r){let e,t,n;var i=r[4].content;function s(l,o){return{}}return i&&(e=De(i,s())),{c(){e&&M(e.$$.fragment),t=le()},m(l,o){e&&D(e,l,o),S(l,t,o),n=!0},p(l,o){if(o&16&&i!==(i=l[4].content)){if(e){V();const a=e;C(a.$$.fragment,1,0,()=>{B(a,1)}),q()}i?(e=De(i,s()),M(e.$$.fragment),w(e.$$.fragment,1),D(e,t.parentNode,t)):e=null}},i(l){n||(e&&w(e.$$.fragment,l),n=!0)},o(l){e&&C(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&B(e,l)}}}function gP(r){let e,t,n,i,s,l,o=r[0]&&np(r);return{c(){e=g("link"),t=T(),o&&o.c(),n=le(),h(e,"rel","icon"),h(e,"href",r[1])},m(a,c){p(document.head,e),S(a,t,c),o&&o.m(a,c),S(a,n,c),i=!0,s||(l=N(hP,"error",r[5]),s=!0)},p(a,[c]){(!i||c&2)&&h(e,"href",a[1]),a[0]?o?(o.p(a,c),c&1&&w(o,1)):(o=np(a),o.c(),w(o,1),o.m(n.parentNode,n)):o&&(V(),C(o,1,1,()=>{o=null}),q())},i(a){i||(w(o),i=!0)},o(a){C(o),i=!1},d(a){a&&(y(t),y(n)),y(e),o&&o.d(a),s=!1,l()}}}function AP(r,e,t){let n,i,s;G(r,ns,c=>t(2,n=c)),G(r,St,c=>t(3,i=c)),G(r,dn,c=>t(4,s=c));let l=!1,o="";return ve(async()=>{await b1(),await EA(),gt("boot"),window.addEventListener("beforeunload",xr),t(1,o=tn()),t(0,l=!0),window.onunhandledrejection=c=>{td(c)}}),[l,o,n,i,s,c=>td(c)]}class bP extends U{constructor(e){super(),z(this,e,AP,gP,P,{})}}const _P=new MutationObserver(vP);function wP(){const r=document.querySelectorAll("a");for(let e=0;e<r.length;e++)r[e].addEventListener("click",t=>t.preventDefault())}function vP(r){for(let e=0;e<r.length;e++)r[e].type==="childList"&&wP()}function kP(){_P.observe(document.body,{childList:!0,subtree:!0})}ag();kP();document.addEventListener("contextmenu",r=>r.preventDefault());console.warn=(r,...e)=>!r.includes("unknown prop")&&ie("Console",r+e.join(" "),oe.warn);console.error=(r,...e)=>ie("Console",r+e.join(" "),oe.error);new bP({target:document.getElementById("app")});
